/******/ (function(modules) { // webpackBootstrap
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotDownloadUpdateChunk(chunkId) {
/******/ 		var chunk = require("./" + "" + chunkId + "." + hotCurrentHash + ".hot-update.js");
/******/ 		hotAddUpdateChunk(chunk.id, chunk.modules);
/******/ 	}
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotDownloadManifest() {
/******/ 		try {
/******/ 			var update = require("./" + "" + hotCurrentHash + ".hot-update.json");
/******/ 		} catch (e) {
/******/ 			return Promise.resolve();
/******/ 		}
/******/ 		return Promise.resolve(update);
/******/ 	}
/******/
/******/ 	//eslint-disable-next-line no-unused-vars
/******/ 	function hotDisposeChunk(chunkId) {
/******/ 		delete installedChunks[chunkId];
/******/ 	}
/******/
/******/ 	var hotApplyOnUpdate = true;
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	var hotCurrentHash = "a41385d1e8562dc9d819";
/******/ 	var hotRequestTimeout = 10000;
/******/ 	var hotCurrentModuleData = {};
/******/ 	var hotCurrentChildModule;
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	var hotCurrentParents = [];
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	var hotCurrentParentsTemp = [];
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotCreateRequire(moduleId) {
/******/ 		var me = installedModules[moduleId];
/******/ 		if (!me) return __webpack_require__;
/******/ 		var fn = function(request) {
/******/ 			if (me.hot.active) {
/******/ 				if (installedModules[request]) {
/******/ 					if (installedModules[request].parents.indexOf(moduleId) === -1) {
/******/ 						installedModules[request].parents.push(moduleId);
/******/ 					}
/******/ 				} else {
/******/ 					hotCurrentParents = [moduleId];
/******/ 					hotCurrentChildModule = request;
/******/ 				}
/******/ 				if (me.children.indexOf(request) === -1) {
/******/ 					me.children.push(request);
/******/ 				}
/******/ 			} else {
/******/ 				console.warn(
/******/ 					"[HMR] unexpected require(" +
/******/ 						request +
/******/ 						") from disposed module " +
/******/ 						moduleId
/******/ 				);
/******/ 				hotCurrentParents = [];
/******/ 			}
/******/ 			return __webpack_require__(request);
/******/ 		};
/******/ 		var ObjectFactory = function ObjectFactory(name) {
/******/ 			return {
/******/ 				configurable: true,
/******/ 				enumerable: true,
/******/ 				get: function() {
/******/ 					return __webpack_require__[name];
/******/ 				},
/******/ 				set: function(value) {
/******/ 					__webpack_require__[name] = value;
/******/ 				}
/******/ 			};
/******/ 		};
/******/ 		for (var name in __webpack_require__) {
/******/ 			if (
/******/ 				Object.prototype.hasOwnProperty.call(__webpack_require__, name) &&
/******/ 				name !== "e" &&
/******/ 				name !== "t"
/******/ 			) {
/******/ 				Object.defineProperty(fn, name, ObjectFactory(name));
/******/ 			}
/******/ 		}
/******/ 		fn.e = function(chunkId) {
/******/ 			if (hotStatus === "ready") hotSetStatus("prepare");
/******/ 			hotChunksLoading++;
/******/ 			return __webpack_require__.e(chunkId).then(finishChunkLoading, function(err) {
/******/ 				finishChunkLoading();
/******/ 				throw err;
/******/ 			});
/******/
/******/ 			function finishChunkLoading() {
/******/ 				hotChunksLoading--;
/******/ 				if (hotStatus === "prepare") {
/******/ 					if (!hotWaitingFilesMap[chunkId]) {
/******/ 						hotEnsureUpdateChunk(chunkId);
/******/ 					}
/******/ 					if (hotChunksLoading === 0 && hotWaitingFiles === 0) {
/******/ 						hotUpdateDownloaded();
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 		fn.t = function(value, mode) {
/******/ 			if (mode & 1) value = fn(value);
/******/ 			return __webpack_require__.t(value, mode & ~1);
/******/ 		};
/******/ 		return fn;
/******/ 	}
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotCreateModule(moduleId) {
/******/ 		var hot = {
/******/ 			// private stuff
/******/ 			_acceptedDependencies: {},
/******/ 			_declinedDependencies: {},
/******/ 			_selfAccepted: false,
/******/ 			_selfDeclined: false,
/******/ 			_disposeHandlers: [],
/******/ 			_main: hotCurrentChildModule !== moduleId,
/******/
/******/ 			// Module API
/******/ 			active: true,
/******/ 			accept: function(dep, callback) {
/******/ 				if (dep === undefined) hot._selfAccepted = true;
/******/ 				else if (typeof dep === "function") hot._selfAccepted = dep;
/******/ 				else if (typeof dep === "object")
/******/ 					for (var i = 0; i < dep.length; i++)
/******/ 						hot._acceptedDependencies[dep[i]] = callback || function() {};
/******/ 				else hot._acceptedDependencies[dep] = callback || function() {};
/******/ 			},
/******/ 			decline: function(dep) {
/******/ 				if (dep === undefined) hot._selfDeclined = true;
/******/ 				else if (typeof dep === "object")
/******/ 					for (var i = 0; i < dep.length; i++)
/******/ 						hot._declinedDependencies[dep[i]] = true;
/******/ 				else hot._declinedDependencies[dep] = true;
/******/ 			},
/******/ 			dispose: function(callback) {
/******/ 				hot._disposeHandlers.push(callback);
/******/ 			},
/******/ 			addDisposeHandler: function(callback) {
/******/ 				hot._disposeHandlers.push(callback);
/******/ 			},
/******/ 			removeDisposeHandler: function(callback) {
/******/ 				var idx = hot._disposeHandlers.indexOf(callback);
/******/ 				if (idx >= 0) hot._disposeHandlers.splice(idx, 1);
/******/ 			},
/******/
/******/ 			// Management API
/******/ 			check: hotCheck,
/******/ 			apply: hotApply,
/******/ 			status: function(l) {
/******/ 				if (!l) return hotStatus;
/******/ 				hotStatusHandlers.push(l);
/******/ 			},
/******/ 			addStatusHandler: function(l) {
/******/ 				hotStatusHandlers.push(l);
/******/ 			},
/******/ 			removeStatusHandler: function(l) {
/******/ 				var idx = hotStatusHandlers.indexOf(l);
/******/ 				if (idx >= 0) hotStatusHandlers.splice(idx, 1);
/******/ 			},
/******/
/******/ 			//inherit from previous dispose call
/******/ 			data: hotCurrentModuleData[moduleId]
/******/ 		};
/******/ 		hotCurrentChildModule = undefined;
/******/ 		return hot;
/******/ 	}
/******/
/******/ 	var hotStatusHandlers = [];
/******/ 	var hotStatus = "idle";
/******/
/******/ 	function hotSetStatus(newStatus) {
/******/ 		hotStatus = newStatus;
/******/ 		for (var i = 0; i < hotStatusHandlers.length; i++)
/******/ 			hotStatusHandlers[i].call(null, newStatus);
/******/ 	}
/******/
/******/ 	// while downloading
/******/ 	var hotWaitingFiles = 0;
/******/ 	var hotChunksLoading = 0;
/******/ 	var hotWaitingFilesMap = {};
/******/ 	var hotRequestedFilesMap = {};
/******/ 	var hotAvailableFilesMap = {};
/******/ 	var hotDeferred;
/******/
/******/ 	// The update info
/******/ 	var hotUpdate, hotUpdateNewHash;
/******/
/******/ 	function toModuleId(id) {
/******/ 		var isNumber = +id + "" === id;
/******/ 		return isNumber ? +id : id;
/******/ 	}
/******/
/******/ 	function hotCheck(apply) {
/******/ 		if (hotStatus !== "idle") {
/******/ 			throw new Error("check() is only allowed in idle status");
/******/ 		}
/******/ 		hotApplyOnUpdate = apply;
/******/ 		hotSetStatus("check");
/******/ 		return hotDownloadManifest(hotRequestTimeout).then(function(update) {
/******/ 			if (!update) {
/******/ 				hotSetStatus("idle");
/******/ 				return null;
/******/ 			}
/******/ 			hotRequestedFilesMap = {};
/******/ 			hotWaitingFilesMap = {};
/******/ 			hotAvailableFilesMap = update.c;
/******/ 			hotUpdateNewHash = update.h;
/******/
/******/ 			hotSetStatus("prepare");
/******/ 			var promise = new Promise(function(resolve, reject) {
/******/ 				hotDeferred = {
/******/ 					resolve: resolve,
/******/ 					reject: reject
/******/ 				};
/******/ 			});
/******/ 			hotUpdate = {};
/******/ 			var chunkId = "main";
/******/ 			// eslint-disable-next-line no-lone-blocks
/******/ 			{
/******/ 				hotEnsureUpdateChunk(chunkId);
/******/ 			}
/******/ 			if (
/******/ 				hotStatus === "prepare" &&
/******/ 				hotChunksLoading === 0 &&
/******/ 				hotWaitingFiles === 0
/******/ 			) {
/******/ 				hotUpdateDownloaded();
/******/ 			}
/******/ 			return promise;
/******/ 		});
/******/ 	}
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotAddUpdateChunk(chunkId, moreModules) {
/******/ 		if (!hotAvailableFilesMap[chunkId] || !hotRequestedFilesMap[chunkId])
/******/ 			return;
/******/ 		hotRequestedFilesMap[chunkId] = false;
/******/ 		for (var moduleId in moreModules) {
/******/ 			if (Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
/******/ 				hotUpdate[moduleId] = moreModules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if (--hotWaitingFiles === 0 && hotChunksLoading === 0) {
/******/ 			hotUpdateDownloaded();
/******/ 		}
/******/ 	}
/******/
/******/ 	function hotEnsureUpdateChunk(chunkId) {
/******/ 		if (!hotAvailableFilesMap[chunkId]) {
/******/ 			hotWaitingFilesMap[chunkId] = true;
/******/ 		} else {
/******/ 			hotRequestedFilesMap[chunkId] = true;
/******/ 			hotWaitingFiles++;
/******/ 			hotDownloadUpdateChunk(chunkId);
/******/ 		}
/******/ 	}
/******/
/******/ 	function hotUpdateDownloaded() {
/******/ 		hotSetStatus("ready");
/******/ 		var deferred = hotDeferred;
/******/ 		hotDeferred = null;
/******/ 		if (!deferred) return;
/******/ 		if (hotApplyOnUpdate) {
/******/ 			// Wrap deferred object in Promise to mark it as a well-handled Promise to
/******/ 			// avoid triggering uncaught exception warning in Chrome.
/******/ 			// See https://bugs.chromium.org/p/chromium/issues/detail?id=465666
/******/ 			Promise.resolve()
/******/ 				.then(function() {
/******/ 					return hotApply(hotApplyOnUpdate);
/******/ 				})
/******/ 				.then(
/******/ 					function(result) {
/******/ 						deferred.resolve(result);
/******/ 					},
/******/ 					function(err) {
/******/ 						deferred.reject(err);
/******/ 					}
/******/ 				);
/******/ 		} else {
/******/ 			var outdatedModules = [];
/******/ 			for (var id in hotUpdate) {
/******/ 				if (Object.prototype.hasOwnProperty.call(hotUpdate, id)) {
/******/ 					outdatedModules.push(toModuleId(id));
/******/ 				}
/******/ 			}
/******/ 			deferred.resolve(outdatedModules);
/******/ 		}
/******/ 	}
/******/
/******/ 	function hotApply(options) {
/******/ 		if (hotStatus !== "ready")
/******/ 			throw new Error("apply() is only allowed in ready status");
/******/ 		options = options || {};
/******/
/******/ 		var cb;
/******/ 		var i;
/******/ 		var j;
/******/ 		var module;
/******/ 		var moduleId;
/******/
/******/ 		function getAffectedStuff(updateModuleId) {
/******/ 			var outdatedModules = [updateModuleId];
/******/ 			var outdatedDependencies = {};
/******/
/******/ 			var queue = outdatedModules.map(function(id) {
/******/ 				return {
/******/ 					chain: [id],
/******/ 					id: id
/******/ 				};
/******/ 			});
/******/ 			while (queue.length > 0) {
/******/ 				var queueItem = queue.pop();
/******/ 				var moduleId = queueItem.id;
/******/ 				var chain = queueItem.chain;
/******/ 				module = installedModules[moduleId];
/******/ 				if (!module || module.hot._selfAccepted) continue;
/******/ 				if (module.hot._selfDeclined) {
/******/ 					return {
/******/ 						type: "self-declined",
/******/ 						chain: chain,
/******/ 						moduleId: moduleId
/******/ 					};
/******/ 				}
/******/ 				if (module.hot._main) {
/******/ 					return {
/******/ 						type: "unaccepted",
/******/ 						chain: chain,
/******/ 						moduleId: moduleId
/******/ 					};
/******/ 				}
/******/ 				for (var i = 0; i < module.parents.length; i++) {
/******/ 					var parentId = module.parents[i];
/******/ 					var parent = installedModules[parentId];
/******/ 					if (!parent) continue;
/******/ 					if (parent.hot._declinedDependencies[moduleId]) {
/******/ 						return {
/******/ 							type: "declined",
/******/ 							chain: chain.concat([parentId]),
/******/ 							moduleId: moduleId,
/******/ 							parentId: parentId
/******/ 						};
/******/ 					}
/******/ 					if (outdatedModules.indexOf(parentId) !== -1) continue;
/******/ 					if (parent.hot._acceptedDependencies[moduleId]) {
/******/ 						if (!outdatedDependencies[parentId])
/******/ 							outdatedDependencies[parentId] = [];
/******/ 						addAllToSet(outdatedDependencies[parentId], [moduleId]);
/******/ 						continue;
/******/ 					}
/******/ 					delete outdatedDependencies[parentId];
/******/ 					outdatedModules.push(parentId);
/******/ 					queue.push({
/******/ 						chain: chain.concat([parentId]),
/******/ 						id: parentId
/******/ 					});
/******/ 				}
/******/ 			}
/******/
/******/ 			return {
/******/ 				type: "accepted",
/******/ 				moduleId: updateModuleId,
/******/ 				outdatedModules: outdatedModules,
/******/ 				outdatedDependencies: outdatedDependencies
/******/ 			};
/******/ 		}
/******/
/******/ 		function addAllToSet(a, b) {
/******/ 			for (var i = 0; i < b.length; i++) {
/******/ 				var item = b[i];
/******/ 				if (a.indexOf(item) === -1) a.push(item);
/******/ 			}
/******/ 		}
/******/
/******/ 		// at begin all updates modules are outdated
/******/ 		// the "outdated" status can propagate to parents if they don't accept the children
/******/ 		var outdatedDependencies = {};
/******/ 		var outdatedModules = [];
/******/ 		var appliedUpdate = {};
/******/
/******/ 		var warnUnexpectedRequire = function warnUnexpectedRequire() {
/******/ 			console.warn(
/******/ 				"[HMR] unexpected require(" + result.moduleId + ") to disposed module"
/******/ 			);
/******/ 		};
/******/
/******/ 		for (var id in hotUpdate) {
/******/ 			if (Object.prototype.hasOwnProperty.call(hotUpdate, id)) {
/******/ 				moduleId = toModuleId(id);
/******/ 				/** @type {TODO} */
/******/ 				var result;
/******/ 				if (hotUpdate[id]) {
/******/ 					result = getAffectedStuff(moduleId);
/******/ 				} else {
/******/ 					result = {
/******/ 						type: "disposed",
/******/ 						moduleId: id
/******/ 					};
/******/ 				}
/******/ 				/** @type {Error|false} */
/******/ 				var abortError = false;
/******/ 				var doApply = false;
/******/ 				var doDispose = false;
/******/ 				var chainInfo = "";
/******/ 				if (result.chain) {
/******/ 					chainInfo = "\nUpdate propagation: " + result.chain.join(" -> ");
/******/ 				}
/******/ 				switch (result.type) {
/******/ 					case "self-declined":
/******/ 						if (options.onDeclined) options.onDeclined(result);
/******/ 						if (!options.ignoreDeclined)
/******/ 							abortError = new Error(
/******/ 								"Aborted because of self decline: " +
/******/ 									result.moduleId +
/******/ 									chainInfo
/******/ 							);
/******/ 						break;
/******/ 					case "declined":
/******/ 						if (options.onDeclined) options.onDeclined(result);
/******/ 						if (!options.ignoreDeclined)
/******/ 							abortError = new Error(
/******/ 								"Aborted because of declined dependency: " +
/******/ 									result.moduleId +
/******/ 									" in " +
/******/ 									result.parentId +
/******/ 									chainInfo
/******/ 							);
/******/ 						break;
/******/ 					case "unaccepted":
/******/ 						if (options.onUnaccepted) options.onUnaccepted(result);
/******/ 						if (!options.ignoreUnaccepted)
/******/ 							abortError = new Error(
/******/ 								"Aborted because " + moduleId + " is not accepted" + chainInfo
/******/ 							);
/******/ 						break;
/******/ 					case "accepted":
/******/ 						if (options.onAccepted) options.onAccepted(result);
/******/ 						doApply = true;
/******/ 						break;
/******/ 					case "disposed":
/******/ 						if (options.onDisposed) options.onDisposed(result);
/******/ 						doDispose = true;
/******/ 						break;
/******/ 					default:
/******/ 						throw new Error("Unexception type " + result.type);
/******/ 				}
/******/ 				if (abortError) {
/******/ 					hotSetStatus("abort");
/******/ 					return Promise.reject(abortError);
/******/ 				}
/******/ 				if (doApply) {
/******/ 					appliedUpdate[moduleId] = hotUpdate[moduleId];
/******/ 					addAllToSet(outdatedModules, result.outdatedModules);
/******/ 					for (moduleId in result.outdatedDependencies) {
/******/ 						if (
/******/ 							Object.prototype.hasOwnProperty.call(
/******/ 								result.outdatedDependencies,
/******/ 								moduleId
/******/ 							)
/******/ 						) {
/******/ 							if (!outdatedDependencies[moduleId])
/******/ 								outdatedDependencies[moduleId] = [];
/******/ 							addAllToSet(
/******/ 								outdatedDependencies[moduleId],
/******/ 								result.outdatedDependencies[moduleId]
/******/ 							);
/******/ 						}
/******/ 					}
/******/ 				}
/******/ 				if (doDispose) {
/******/ 					addAllToSet(outdatedModules, [result.moduleId]);
/******/ 					appliedUpdate[moduleId] = warnUnexpectedRequire;
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// Store self accepted outdated modules to require them later by the module system
/******/ 		var outdatedSelfAcceptedModules = [];
/******/ 		for (i = 0; i < outdatedModules.length; i++) {
/******/ 			moduleId = outdatedModules[i];
/******/ 			if (
/******/ 				installedModules[moduleId] &&
/******/ 				installedModules[moduleId].hot._selfAccepted &&
/******/ 				// removed self-accepted modules should not be required
/******/ 				appliedUpdate[moduleId] !== warnUnexpectedRequire
/******/ 			) {
/******/ 				outdatedSelfAcceptedModules.push({
/******/ 					module: moduleId,
/******/ 					errorHandler: installedModules[moduleId].hot._selfAccepted
/******/ 				});
/******/ 			}
/******/ 		}
/******/
/******/ 		// Now in "dispose" phase
/******/ 		hotSetStatus("dispose");
/******/ 		Object.keys(hotAvailableFilesMap).forEach(function(chunkId) {
/******/ 			if (hotAvailableFilesMap[chunkId] === false) {
/******/ 				hotDisposeChunk(chunkId);
/******/ 			}
/******/ 		});
/******/
/******/ 		var idx;
/******/ 		var queue = outdatedModules.slice();
/******/ 		while (queue.length > 0) {
/******/ 			moduleId = queue.pop();
/******/ 			module = installedModules[moduleId];
/******/ 			if (!module) continue;
/******/
/******/ 			var data = {};
/******/
/******/ 			// Call dispose handlers
/******/ 			var disposeHandlers = module.hot._disposeHandlers;
/******/ 			for (j = 0; j < disposeHandlers.length; j++) {
/******/ 				cb = disposeHandlers[j];
/******/ 				cb(data);
/******/ 			}
/******/ 			hotCurrentModuleData[moduleId] = data;
/******/
/******/ 			// disable module (this disables requires from this module)
/******/ 			module.hot.active = false;
/******/
/******/ 			// remove module from cache
/******/ 			delete installedModules[moduleId];
/******/
/******/ 			// when disposing there is no need to call dispose handler
/******/ 			delete outdatedDependencies[moduleId];
/******/
/******/ 			// remove "parents" references from all children
/******/ 			for (j = 0; j < module.children.length; j++) {
/******/ 				var child = installedModules[module.children[j]];
/******/ 				if (!child) continue;
/******/ 				idx = child.parents.indexOf(moduleId);
/******/ 				if (idx >= 0) {
/******/ 					child.parents.splice(idx, 1);
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// remove outdated dependency from module children
/******/ 		var dependency;
/******/ 		var moduleOutdatedDependencies;
/******/ 		for (moduleId in outdatedDependencies) {
/******/ 			if (
/******/ 				Object.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)
/******/ 			) {
/******/ 				module = installedModules[moduleId];
/******/ 				if (module) {
/******/ 					moduleOutdatedDependencies = outdatedDependencies[moduleId];
/******/ 					for (j = 0; j < moduleOutdatedDependencies.length; j++) {
/******/ 						dependency = moduleOutdatedDependencies[j];
/******/ 						idx = module.children.indexOf(dependency);
/******/ 						if (idx >= 0) module.children.splice(idx, 1);
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// Now in "apply" phase
/******/ 		hotSetStatus("apply");
/******/
/******/ 		hotCurrentHash = hotUpdateNewHash;
/******/
/******/ 		// insert new code
/******/ 		for (moduleId in appliedUpdate) {
/******/ 			if (Object.prototype.hasOwnProperty.call(appliedUpdate, moduleId)) {
/******/ 				modules[moduleId] = appliedUpdate[moduleId];
/******/ 			}
/******/ 		}
/******/
/******/ 		// call accept handlers
/******/ 		var error = null;
/******/ 		for (moduleId in outdatedDependencies) {
/******/ 			if (
/******/ 				Object.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)
/******/ 			) {
/******/ 				module = installedModules[moduleId];
/******/ 				if (module) {
/******/ 					moduleOutdatedDependencies = outdatedDependencies[moduleId];
/******/ 					var callbacks = [];
/******/ 					for (i = 0; i < moduleOutdatedDependencies.length; i++) {
/******/ 						dependency = moduleOutdatedDependencies[i];
/******/ 						cb = module.hot._acceptedDependencies[dependency];
/******/ 						if (cb) {
/******/ 							if (callbacks.indexOf(cb) !== -1) continue;
/******/ 							callbacks.push(cb);
/******/ 						}
/******/ 					}
/******/ 					for (i = 0; i < callbacks.length; i++) {
/******/ 						cb = callbacks[i];
/******/ 						try {
/******/ 							cb(moduleOutdatedDependencies);
/******/ 						} catch (err) {
/******/ 							if (options.onErrored) {
/******/ 								options.onErrored({
/******/ 									type: "accept-errored",
/******/ 									moduleId: moduleId,
/******/ 									dependencyId: moduleOutdatedDependencies[i],
/******/ 									error: err
/******/ 								});
/******/ 							}
/******/ 							if (!options.ignoreErrored) {
/******/ 								if (!error) error = err;
/******/ 							}
/******/ 						}
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// Load self accepted modules
/******/ 		for (i = 0; i < outdatedSelfAcceptedModules.length; i++) {
/******/ 			var item = outdatedSelfAcceptedModules[i];
/******/ 			moduleId = item.module;
/******/ 			hotCurrentParents = [moduleId];
/******/ 			try {
/******/ 				__webpack_require__(moduleId);
/******/ 			} catch (err) {
/******/ 				if (typeof item.errorHandler === "function") {
/******/ 					try {
/******/ 						item.errorHandler(err);
/******/ 					} catch (err2) {
/******/ 						if (options.onErrored) {
/******/ 							options.onErrored({
/******/ 								type: "self-accept-error-handler-errored",
/******/ 								moduleId: moduleId,
/******/ 								error: err2,
/******/ 								originalError: err
/******/ 							});
/******/ 						}
/******/ 						if (!options.ignoreErrored) {
/******/ 							if (!error) error = err2;
/******/ 						}
/******/ 						if (!error) error = err;
/******/ 					}
/******/ 				} else {
/******/ 					if (options.onErrored) {
/******/ 						options.onErrored({
/******/ 							type: "self-accept-errored",
/******/ 							moduleId: moduleId,
/******/ 							error: err
/******/ 						});
/******/ 					}
/******/ 					if (!options.ignoreErrored) {
/******/ 						if (!error) error = err;
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// handle errors in accept handlers and self accepted module load
/******/ 		if (error) {
/******/ 			hotSetStatus("fail");
/******/ 			return Promise.reject(error);
/******/ 		}
/******/
/******/ 		hotSetStatus("idle");
/******/ 		return new Promise(function(resolve) {
/******/ 			resolve(outdatedModules);
/******/ 		});
/******/ 	}
/******/
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {},
/******/ 			hot: hotCreateModule(moduleId),
/******/ 			parents: (hotCurrentParentsTemp = hotCurrentParents, hotCurrentParents = [], hotCurrentParentsTemp),
/******/ 			children: []
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, hotCreateRequire(moduleId));
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// __webpack_hash__
/******/ 	__webpack_require__.h = function() { return hotCurrentHash; };
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return hotCreateRequire(0)(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/@ever-platform/common/src/@pyro/db/db-object.ts":
/*!**********************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/@pyro/db/db-object.ts ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const schema_1 = __webpack_require__(/*! ./schema */ "./node_modules/@ever-platform/common/src/@pyro/db/schema.ts");
const mongoose_1 = tslib_1.__importDefault(__webpack_require__(/*! mongoose */ "mongoose"));
const utils_1 = __webpack_require__(/*! ../../utils */ "./node_modules/@ever-platform/common/src/utils.ts");
const lodash_1 = tslib_1.__importDefault(__webpack_require__(/*! lodash */ "lodash"));
const typeorm_1 = __webpack_require__(/*! typeorm */ "typeorm");
class DBObject {
    constructor(obj) {
        lodash_1.default.assign(this, obj);
        if (mongoose_1.default != null &&
            mongoose_1.default.Types != null &&
            mongoose_1.default.Types.ObjectId != null) {
            if (obj && obj['_id']) {
                this['_id'] = mongoose_1.default.Types.ObjectId.createFromHexString(obj['_id'].toString());
            }
        }
    }
    get createdAt() {
        return this._createdAt != null ? utils_1.toDate(this._createdAt) : null;
    }
    get updatedAt() {
        return this._updatedAt != null ? utils_1.toDate(this._updatedAt) : null;
    }
    get id() {
        return this._id.toString();
    }
    isEqual(p) {
        for (const prop in schema_1.getPreSchema(this.constructor)) {
            if (this[prop] !== p[prop]) {
                return false;
            }
        }
        return true;
    }
}
DBObject.modelName = '';
tslib_1.__decorate([
    typeorm_1.PrimaryColumn(),
    tslib_1.__metadata("design:type", Object)
], DBObject.prototype, "_id", void 0);
tslib_1.__decorate([
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Object)
], DBObject.prototype, "_createdAt", void 0);
tslib_1.__decorate([
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Object)
], DBObject.prototype, "_updatedAt", void 0);
exports.DBObject = DBObject;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/@pyro/db/index.ts":
/*!******************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/@pyro/db/index.ts ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var db_object_1 = __webpack_require__(/*! ./db-object */ "./node_modules/@ever-platform/common/src/@pyro/db/db-object.ts");
exports.DBObject = db_object_1.DBObject;
var model_1 = __webpack_require__(/*! ./model */ "./node_modules/@ever-platform/common/src/@pyro/db/model.ts");
exports.ModelName = model_1.ModelName;
var schema_1 = __webpack_require__(/*! ./schema */ "./node_modules/@ever-platform/common/src/@pyro/db/schema.ts");
exports.Schema = schema_1.Schema;
exports.getSchema = schema_1.getSchema;
exports.getPreSchema = schema_1.getPreSchema;
exports.Index = schema_1.Index;
var types_1 = __webpack_require__(/*! ./types */ "./node_modules/@ever-platform/common/src/@pyro/db/types.ts");
exports.Types = types_1.Types;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/@pyro/db/model.ts":
/*!******************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/@pyro/db/model.ts ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function ModelName(name) {
    return (target) => {
        target.modelName = name;
    };
}
exports.ModelName = ModelName;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/@pyro/db/schema.ts":
/*!*******************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/@pyro/db/schema.ts ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const db_object_1 = __webpack_require__(/*! ./db-object */ "./node_modules/@ever-platform/common/src/@pyro/db/db-object.ts");
__webpack_require__(/*! reflect-metadata */ "reflect-metadata");
const _ = tslib_1.__importStar(__webpack_require__(/*! lodash */ "lodash"));
const mongoose_1 = __webpack_require__(/*! mongoose */ "mongoose");
const mongooseSchemasKey = 'mongooseSchemas';
const mongooseIndexesKey = 'mongooseIndexes';
function Schema(schema) {
    return (target, propertyKey) => {
        let mongooseSchemas = Reflect.getMetadata(mongooseSchemasKey, target.constructor);
        if (typeof mongooseSchemas === 'undefined' || mongooseSchemas == null) {
            mongooseSchemas = {};
        }
        mongooseSchemas[propertyKey] = schema;
        Reflect.defineMetadata(mongooseSchemasKey, mongooseSchemas, target.constructor);
    };
}
exports.Schema = Schema;
function Index(value) {
    return (target, propertyKey) => {
        let indexesObj = Reflect.getMetadata(mongooseIndexesKey, target.constructor);
        if (typeof indexesObj === 'undefined' || indexesObj == null) {
            indexesObj = {};
        }
        indexesObj[propertyKey] = value;
        Reflect.defineMetadata(mongooseIndexesKey, indexesObj, target.constructor);
    };
}
exports.Index = Index;
function getPreSchema(DBObj) {
    const mongooseSchemas = Reflect.getMetadata(mongooseSchemasKey, DBObj);
    if (mongooseSchemas != null) {
        return mongooseSchemas;
    }
    else {
        return {};
    }
}
exports.getPreSchema = getPreSchema;
function getSchema(DBObj) {
    const preSchema = getPreSchema(DBObj);
    const schema = new mongoose_1.Schema(preSchema, {
        timestamps: {
            createdAt: '_createdAt',
            updatedAt: '_updatedAt',
        },
    });
    const mongooseIndexes = Reflect.getMetadata(mongooseIndexesKey, DBObj);
    if (mongooseIndexes != null) {
        schema.index(mongooseIndexes);
    }
    _.each(preSchema, (SubType, property) => {
        if (SubType.prototype instanceof db_object_1.DBObject) {
            _.each(getSchema(SubType).indexes(), (index) => {
                _.each(index, (indexValue, indexProperty) => {
                    schema.index({
                        [property + '.' + indexProperty]: indexValue,
                    });
                });
            });
        }
    });
    return schema;
}
exports.getSchema = getSchema;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/@pyro/db/types.ts":
/*!******************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/@pyro/db/types.ts ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const schema_1 = __webpack_require__(/*! ./schema */ "./node_modules/@ever-platform/common/src/@pyro/db/schema.ts");
exports.Types = {
    String: (s) => {
        if (s == null) {
            return schema_1.Schema({ type: String, required: true });
        }
        else {
            return schema_1.Schema({ type: String, default: s });
        }
    },
    Number: (n) => {
        if (n == null) {
            return schema_1.Schema({ type: Number, required: true });
        }
        else {
            return schema_1.Schema({ type: Number, default: n });
        }
    },
    Boolean: (b) => {
        if (b == null) {
            return schema_1.Schema({ type: Boolean, required: true });
        }
        else {
            return schema_1.Schema({ type: Boolean, default: b });
        }
    },
    Date: (d) => {
        if (d == null) {
            return schema_1.Schema({ type: Date, required: true });
        }
        else {
            return schema_1.Schema({ type: Date, default: d });
        }
    },
    Ref(Type, options = {}) {
        return (target, propertyKey) => {
            const multi = Array.isArray(Type);
            const op = Object.assign({}, options);
            op.type = String;
            op.ref = (multi ? Type[0] : Type).modelName;
            schema_1.Schema(multi ? [op] : op)(target, propertyKey);
        };
    },
};


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/data/abbreviation-to-country.ts":
/*!********************************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/data/abbreviation-to-country.ts ***!
  \********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.countries = {
    AD: 'Andorra',
    AE: 'United Arab Emirates',
    AF: 'Afghanistan',
    AG: 'Antigua and Barbuda',
    AI: 'Anguilla',
    AL: 'Albania',
    AM: 'Armenia',
    AO: 'Angola',
    AQ: 'Antarctica',
    AR: 'Argentina',
    AS: 'American Samoa',
    AT: 'Austria',
    AU: 'Australia',
    AW: 'Aruba',
    AX: 'Åland',
    AZ: 'Azerbaijan',
    BA: 'Bosnia and Herzegovina',
    BB: 'Barbados',
    BD: 'Bangladesh',
    BE: 'Belgium',
    BF: 'Burkina Faso',
    BG: 'Bulgaria',
    BH: 'Bahrain',
    BI: 'Burundi',
    BJ: 'Benin',
    BL: 'Saint Barthélemy',
    BM: 'Bermuda',
    BN: 'Brunei',
    BO: 'Bolivia',
    BQ: 'Bonaire',
    BR: 'Brazil',
    BS: 'Bahamas',
    BT: 'Bhutan',
    BV: 'Bouvet Island',
    BW: 'Botswana',
    BY: 'Belarus',
    BZ: 'Belize',
    CA: 'Canada',
    CC: 'Cocos [Keeling] Islands',
    CD: 'Democratic Republic of the Congo',
    CF: 'Central African Republic',
    CG: 'Republic of the Congo',
    CH: 'Switzerland',
    CI: 'Ivory Coast',
    CK: 'Cook Islands',
    CL: 'Chile',
    CM: 'Cameroon',
    CN: 'China',
    CO: 'Colombia',
    CR: 'Costa Rica',
    CU: 'Cuba',
    CV: 'Cape Verde',
    CW: 'Curacao',
    CX: 'Christmas Island',
    CY: 'Cyprus',
    CZ: 'Czech Republic',
    DE: 'Germany',
    DJ: 'Djibouti',
    DK: 'Denmark',
    DM: 'Dominica',
    DO: 'Dominican Republic',
    DZ: 'Algeria',
    EC: 'Ecuador',
    EE: 'Estonia',
    EG: 'Egypt',
    EH: 'Western Sahara',
    ER: 'Eritrea',
    ES: 'Spain',
    ET: 'Ethiopia',
    FI: 'Finland',
    FJ: 'Fiji',
    FK: 'Falkland Islands',
    FM: 'Micronesia',
    FO: 'Faroe Islands',
    FR: 'France',
    GA: 'Gabon',
    GB: 'United Kingdom',
    GD: 'Grenada',
    GE: 'Georgia',
    GF: 'French Guiana',
    GG: 'Guernsey',
    GH: 'Ghana',
    GI: 'Gibraltar',
    GL: 'Greenland',
    GM: 'Gambia',
    GN: 'Guinea',
    GP: 'Guadeloupe',
    GQ: 'Equatorial Guinea',
    GR: 'Greece',
    GS: 'South Georgia and the South Sandwich Islands',
    GT: 'Guatemala',
    GU: 'Guam',
    GW: 'Guinea-Bissau',
    GY: 'Guyana',
    HK: 'Hong Kong',
    HM: 'Heard Island and McDonald Islands',
    HN: 'Honduras',
    HR: 'Croatia',
    HT: 'Haiti',
    HU: 'Hungary',
    ID: 'Indonesia',
    IE: 'Ireland',
    IL: 'Israel',
    IM: 'Isle of Man',
    IN: 'India',
    IO: 'British Indian Ocean Territory',
    IQ: 'Iraq',
    IR: 'Iran',
    IS: 'Iceland',
    IT: 'Italy',
    JE: 'Jersey',
    JM: 'Jamaica',
    JO: 'Jordan',
    JP: 'Japan',
    KE: 'Kenya',
    KG: 'Kyrgyzstan',
    KH: 'Cambodia',
    KI: 'Kiribati',
    KM: 'Comoros',
    KN: 'Saint Kitts and Nevis',
    KP: 'North Korea',
    KR: 'South Korea',
    KW: 'Kuwait',
    KY: 'Cayman Islands',
    KZ: 'Kazakhstan',
    LA: 'Laos',
    LB: 'Lebanon',
    LC: 'Saint Lucia',
    LI: 'Liechtenstein',
    LK: 'Sri Lanka',
    LR: 'Liberia',
    LS: 'Lesotho',
    LT: 'Lithuania',
    LU: 'Luxembourg',
    LV: 'Latvia',
    LY: 'Libya',
    MA: 'Morocco',
    MC: 'Monaco',
    MD: 'Moldova',
    ME: 'Montenegro',
    MF: 'Saint Martin',
    MG: 'Madagascar',
    MH: 'Marshall Islands',
    MK: 'Macedonia',
    ML: 'Mali',
    MM: 'Myanmar [Burma]',
    MN: 'Mongolia',
    MO: 'Macao',
    MP: 'Northern Mariana Islands',
    MQ: 'Martinique',
    MR: 'Mauritania',
    MS: 'Montserrat',
    MT: 'Malta',
    MU: 'Mauritius',
    MV: 'Maldives',
    MW: 'Malawi',
    MX: 'Mexico',
    MY: 'Malaysia',
    MZ: 'Mozambique',
    NA: 'Namibia',
    NC: 'New Caledonia',
    NE: 'Niger',
    NF: 'Norfolk Island',
    NG: 'Nigeria',
    NI: 'Nicaragua',
    NL: 'Netherlands',
    NO: 'Norway',
    NP: 'Nepal',
    NR: 'Nauru',
    NU: 'Niue',
    NZ: 'New Zealand',
    OM: 'Oman',
    PA: 'Panama',
    PE: 'Peru',
    PF: 'French Polynesia',
    PG: 'Papua New Guinea',
    PH: 'Philippines',
    PK: 'Pakistan',
    PL: 'Poland',
    PM: 'Saint Pierre and Miquelon',
    PN: 'Pitcairn Islands',
    PR: 'Puerto Rico',
    PS: 'Palestine',
    PT: 'Portugal',
    PW: 'Palau',
    PY: 'Paraguay',
    QA: 'Qatar',
    RE: 'Réunion',
    RO: 'Romania',
    RS: 'Serbia',
    RU: 'Russia',
    RW: 'Rwanda',
    SA: 'Saudi Arabia',
    SB: 'Solomon Islands',
    SC: 'Seychelles',
    SD: 'Sudan',
    SE: 'Sweden',
    SG: 'Singapore',
    SH: 'Saint Helena',
    SI: 'Slovenia',
    SJ: 'Svalbard and Jan Mayen',
    SK: 'Slovakia',
    SL: 'Sierra Leone',
    SM: 'San Marino',
    SN: 'Senegal',
    SO: 'Somalia',
    SR: 'Suriname',
    SS: 'South Sudan',
    ST: 'São Tomé and Príncipe',
    SV: 'El Salvador',
    SX: 'Sint Maarten',
    SY: 'Syria',
    SZ: 'Swaziland',
    TC: 'Turks and Caicos Islands',
    TD: 'Chad',
    TF: 'French Southern Territories',
    TG: 'Togo',
    TH: 'Thailand',
    TJ: 'Tajikistan',
    TK: 'Tokelau',
    TL: 'East Timor',
    TM: 'Turkmenistan',
    TN: 'Tunisia',
    TO: 'Tonga',
    TR: 'Turkey',
    TT: 'Trinidad and Tobago',
    TV: 'Tuvalu',
    TW: 'Taiwan',
    TZ: 'Tanzania',
    UA: 'Ukraine',
    UG: 'Uganda',
    UM: 'U.S. Minor Outlying Islands',
    US: 'United States',
    UY: 'Uruguay',
    UZ: 'Uzbekistan',
    VA: 'Vatican City',
    VC: 'Saint Vincent and the Grenadines',
    VE: 'Venezuela',
    VG: 'British Virgin Islands',
    VI: 'U.S. Virgin Islands',
    VN: 'Vietnam',
    VU: 'Vanuatu',
    WF: 'Wallis and Futuna',
    WS: 'Samoa',
    XK: 'Kosovo',
    YE: 'Yemen',
    YT: 'Mayotte',
    ZA: 'South Africa',
    ZM: 'Zambia',
    ZW: 'Zimbabwe',
};


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/entities/Admin.ts":
/*!******************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/entities/Admin.ts ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const db_1 = __webpack_require__(/*! ../@pyro/db */ "./node_modules/@ever-platform/common/src/@pyro/db/index.ts");
const db_2 = __webpack_require__(/*! @pyro/db */ "./node_modules/@ever-platform/common/src/@pyro/db/index.ts");
const typeorm_1 = __webpack_require__(/*! typeorm */ "typeorm");
let Admin = class Admin extends db_1.DBObject {
};
tslib_1.__decorate([
    db_2.Schema({ type: String, unique: true }),
    db_2.Types.String(),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Admin.prototype, "email", void 0);
tslib_1.__decorate([
    db_2.Types.String(),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Admin.prototype, "name", void 0);
tslib_1.__decorate([
    db_2.Schema({ type: String, select: false }),
    db_2.Types.String(),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Admin.prototype, "hash", void 0);
tslib_1.__decorate([
    db_2.Types.String(),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Admin.prototype, "pictureUrl", void 0);
tslib_1.__decorate([
    db_2.Types.Boolean(false),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], Admin.prototype, "isDeleted", void 0);
tslib_1.__decorate([
    db_2.Schema({
        type: String,
        required: false,
        validate: new RegExp(`^[a-z ,.'-]+$`, 'i'),
    }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Admin.prototype, "firstName", void 0);
tslib_1.__decorate([
    db_2.Schema({
        type: String,
        required: false,
        validate: new RegExp(`^[a-z ,.'-]+$`, 'i'),
    }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Admin.prototype, "lastName", void 0);
Admin = tslib_1.__decorate([
    db_1.ModelName('Admin'),
    typeorm_1.Entity({ name: 'admins' })
], Admin);
exports.default = Admin;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/entities/Carrier.ts":
/*!********************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/entities/Carrier.ts ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const CarrierStatus_1 = tslib_1.__importDefault(__webpack_require__(/*! ../enums/CarrierStatus */ "./node_modules/@ever-platform/common/src/enums/CarrierStatus.ts"));
const GeoLocation_1 = tslib_1.__importDefault(__webpack_require__(/*! ./GeoLocation */ "./node_modules/@ever-platform/common/src/entities/GeoLocation.ts"));
const db_1 = __webpack_require__(/*! ../@pyro/db */ "./node_modules/@ever-platform/common/src/@pyro/db/index.ts");
const typeorm_1 = __webpack_require__(/*! typeorm */ "typeorm");
let Carrier = class Carrier extends db_1.DBObject {
    constructor(carrier) {
        super(carrier);
        if (carrier && carrier.geoLocation) {
            this.geoLocation = new GeoLocation_1.default(carrier.geoLocation);
        }
    }
    get fullName() {
        return `${this.firstName} ${this.lastName}`;
    }
};
tslib_1.__decorate([
    db_1.Schema({
        type: String,
        required: true,
        validate: new RegExp(`^[a-z ,.'-]+$`, 'i'),
    }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Carrier.prototype, "firstName", void 0);
tslib_1.__decorate([
    db_1.Schema({
        type: String,
        required: true,
        validate: new RegExp(`^[a-z ,.'-]+$`, 'i'),
    }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Carrier.prototype, "lastName", void 0);
tslib_1.__decorate([
    db_1.Types.Number(0),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], Carrier.prototype, "numberOfDeliveries", void 0);
tslib_1.__decorate([
    db_1.Schema(db_1.getSchema(GeoLocation_1.default)),
    tslib_1.__metadata("design:type", GeoLocation_1.default)
], Carrier.prototype, "geoLocation", void 0);
tslib_1.__decorate([
    db_1.Schema(String),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Carrier.prototype, "apartment", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(true),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], Carrier.prototype, "isActive", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(false),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], Carrier.prototype, "isDeleted", void 0);
tslib_1.__decorate([
    db_1.Types.Number(CarrierStatus_1.default.Offline),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], Carrier.prototype, "status", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: String, unique: true, required: true }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Carrier.prototype, "username", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: Boolean, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], Carrier.prototype, "shared", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: String, required: false, select: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Carrier.prototype, "hash", void 0);
tslib_1.__decorate([
    db_1.Types.String(),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Carrier.prototype, "phone", void 0);
tslib_1.__decorate([
    db_1.Schema({
        type: String,
        required: true,
        validate: new RegExp(`(http(s?):)s?:?(\/\/[^"']*\.(?:png|jpg|jpeg|gif|png|svg))`),
    }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Carrier.prototype, "logo", void 0);
tslib_1.__decorate([
    db_1.Schema({
        type: String,
        required: false,
        sparse: true,
        unique: true,
    }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Carrier.prototype, "email", void 0);
tslib_1.__decorate([
    db_1.Schema([String]),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Array)
], Carrier.prototype, "skippedOrderIds", void 0);
tslib_1.__decorate([
    db_1.Types.Number(0),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], Carrier.prototype, "deliveriesCountToday", void 0);
tslib_1.__decorate([
    db_1.Types.Number(0),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], Carrier.prototype, "totalDistanceToday", void 0);
tslib_1.__decorate([
    db_1.Schema([String]),
    tslib_1.__metadata("design:type", Array)
], Carrier.prototype, "devicesIds", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(false),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], Carrier.prototype, "isSharedCarrier", void 0);
Carrier = tslib_1.__decorate([
    db_1.ModelName('Carrier'),
    typeorm_1.Entity({ name: 'carriers' }),
    tslib_1.__metadata("design:paramtypes", [Object])
], Carrier);
exports.default = Carrier;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/entities/Currency.ts":
/*!*********************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/entities/Currency.ts ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const db_1 = __webpack_require__(/*! @pyro/db */ "./node_modules/@ever-platform/common/src/@pyro/db/index.ts");
const typeorm_1 = __webpack_require__(/*! typeorm */ "typeorm");
let Currency = class Currency extends db_1.DBObject {
};
tslib_1.__decorate([
    db_1.Schema({ type: String, unique: true }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Currency.prototype, "currencyCode", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(false),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], Currency.prototype, "isDeleted", void 0);
Currency = tslib_1.__decorate([
    db_1.ModelName('Currency'),
    typeorm_1.Entity({ name: 'currencies' })
], Currency);
exports.default = Currency;
exports.countriesDefaultCurrencies = {
    IL: 'ILS',
    RU: 'RUB',
    US: 'USD',
    BG: 'BGN',
};


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/entities/Device.ts":
/*!*******************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/entities/Device.ts ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const db_1 = __webpack_require__(/*! ../@pyro/db */ "./node_modules/@ever-platform/common/src/@pyro/db/index.ts");
const typeorm_1 = __webpack_require__(/*! typeorm */ "typeorm");
let Device = class Device extends db_1.DBObject {
};
tslib_1.__decorate([
    db_1.Schema({ type: String, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Device.prototype, "channelId", void 0);
tslib_1.__decorate([
    db_1.Types.String(),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Device.prototype, "type", void 0);
tslib_1.__decorate([
    db_1.Types.String('en-US'),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Device.prototype, "language", void 0);
tslib_1.__decorate([
    db_1.Types.String(),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Device.prototype, "uuid", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(false),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], Device.prototype, "isDeleted", void 0);
Device = tslib_1.__decorate([
    db_1.ModelName('Device'),
    typeorm_1.Entity({ name: 'devices' })
], Device);
exports.default = Device;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/entities/GeoLocation.ts":
/*!************************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/entities/GeoLocation.ts ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const db_1 = __webpack_require__(/*! ../@pyro/db */ "./node_modules/@ever-platform/common/src/@pyro/db/index.ts");
const lodash_1 = tslib_1.__importDefault(__webpack_require__(/*! lodash */ "lodash"));
const abbreviation_to_country_1 = __webpack_require__(/*! ../data/abbreviation-to-country */ "./node_modules/@ever-platform/common/src/data/abbreviation-to-country.ts");
const typeorm_1 = __webpack_require__(/*! typeorm */ "typeorm");
exports.locationPreSchema = {
    type: { type: String },
    coordinates: [Number],
};
let GeoLocation = class GeoLocation extends db_1.DBObject {
    get countryName() {
        return getCountryName(this.countryId);
    }
    get isLocValid() {
        return (this.loc.type === 'Point' &&
            typeof lodash_1.default.isArray(this.loc.coordinates) &&
            this.loc.coordinates.length === 2 &&
            lodash_1.default.every(this.loc.coordinates, (c) => lodash_1.default.isFinite(c)));
    }
    get isValid() {
        const notEmptyString = (s) => lodash_1.default.isString(s) && !lodash_1.default.isEmpty(s);
        return lodash_1.default.every([this.city, this.streetAddress, this.house], notEmptyString);
    }
    get coordinates() {
        return {
            lng: this.loc.coordinates[0],
            lat: this.loc.coordinates[1],
        };
    }
    set coordinates(coords) {
        this.loc.coordinates = [coords.lng, coords.lat];
    }
};
tslib_1.__decorate([
    db_1.Schema({ type: Number, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], GeoLocation.prototype, "countryId", void 0);
tslib_1.__decorate([
    db_1.Schema({ required: false, type: String }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], GeoLocation.prototype, "postcode", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: String, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], GeoLocation.prototype, "apartment", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: String, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], GeoLocation.prototype, "city", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: String, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], GeoLocation.prototype, "streetAddress", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: String, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], GeoLocation.prototype, "house", void 0);
tslib_1.__decorate([
    db_1.Index('2dsphere'),
    db_1.Schema(exports.locationPreSchema),
    tslib_1.__metadata("design:type", Object)
], GeoLocation.prototype, "loc", void 0);
GeoLocation = tslib_1.__decorate([
    db_1.ModelName('GeoLocation')
], GeoLocation);
exports.default = GeoLocation;
var Country;
(function (Country) {
    Country[Country["AD"] = 0] = "AD";
    Country[Country["AE"] = 1] = "AE";
    Country[Country["AF"] = 2] = "AF";
    Country[Country["AG"] = 3] = "AG";
    Country[Country["AI"] = 4] = "AI";
    Country[Country["AL"] = 5] = "AL";
    Country[Country["AM"] = 6] = "AM";
    Country[Country["AO"] = 7] = "AO";
    Country[Country["AQ"] = 8] = "AQ";
    Country[Country["AR"] = 9] = "AR";
    Country[Country["AS"] = 10] = "AS";
    Country[Country["AT"] = 11] = "AT";
    Country[Country["AU"] = 12] = "AU";
    Country[Country["AW"] = 13] = "AW";
    Country[Country["AX"] = 14] = "AX";
    Country[Country["AZ"] = 15] = "AZ";
    Country[Country["BA"] = 16] = "BA";
    Country[Country["BB"] = 17] = "BB";
    Country[Country["BD"] = 18] = "BD";
    Country[Country["BE"] = 19] = "BE";
    Country[Country["BF"] = 20] = "BF";
    Country[Country["BG"] = 21] = "BG";
    Country[Country["BH"] = 22] = "BH";
    Country[Country["BI"] = 23] = "BI";
    Country[Country["BJ"] = 24] = "BJ";
    Country[Country["BL"] = 25] = "BL";
    Country[Country["BM"] = 26] = "BM";
    Country[Country["BN"] = 27] = "BN";
    Country[Country["BO"] = 28] = "BO";
    Country[Country["BQ"] = 29] = "BQ";
    Country[Country["BR"] = 30] = "BR";
    Country[Country["BS"] = 31] = "BS";
    Country[Country["BT"] = 32] = "BT";
    Country[Country["BV"] = 33] = "BV";
    Country[Country["BW"] = 34] = "BW";
    Country[Country["BY"] = 35] = "BY";
    Country[Country["BZ"] = 36] = "BZ";
    Country[Country["CA"] = 37] = "CA";
    Country[Country["CC"] = 38] = "CC";
    Country[Country["CD"] = 39] = "CD";
    Country[Country["CF"] = 40] = "CF";
    Country[Country["CG"] = 41] = "CG";
    Country[Country["CH"] = 42] = "CH";
    Country[Country["CI"] = 43] = "CI";
    Country[Country["CK"] = 44] = "CK";
    Country[Country["CL"] = 45] = "CL";
    Country[Country["CM"] = 46] = "CM";
    Country[Country["CN"] = 47] = "CN";
    Country[Country["CO"] = 48] = "CO";
    Country[Country["CR"] = 49] = "CR";
    Country[Country["CU"] = 50] = "CU";
    Country[Country["CV"] = 51] = "CV";
    Country[Country["CW"] = 52] = "CW";
    Country[Country["CX"] = 53] = "CX";
    Country[Country["CY"] = 54] = "CY";
    Country[Country["CZ"] = 55] = "CZ";
    Country[Country["DE"] = 56] = "DE";
    Country[Country["DJ"] = 57] = "DJ";
    Country[Country["DK"] = 58] = "DK";
    Country[Country["DM"] = 59] = "DM";
    Country[Country["DO"] = 60] = "DO";
    Country[Country["DZ"] = 61] = "DZ";
    Country[Country["EC"] = 62] = "EC";
    Country[Country["EE"] = 63] = "EE";
    Country[Country["EG"] = 64] = "EG";
    Country[Country["EH"] = 65] = "EH";
    Country[Country["ER"] = 66] = "ER";
    Country[Country["ES"] = 67] = "ES";
    Country[Country["ET"] = 68] = "ET";
    Country[Country["FI"] = 69] = "FI";
    Country[Country["FJ"] = 70] = "FJ";
    Country[Country["FK"] = 71] = "FK";
    Country[Country["FM"] = 72] = "FM";
    Country[Country["FO"] = 73] = "FO";
    Country[Country["FR"] = 74] = "FR";
    Country[Country["GA"] = 75] = "GA";
    Country[Country["GB"] = 76] = "GB";
    Country[Country["GD"] = 77] = "GD";
    Country[Country["GE"] = 78] = "GE";
    Country[Country["GF"] = 79] = "GF";
    Country[Country["GG"] = 80] = "GG";
    Country[Country["GH"] = 81] = "GH";
    Country[Country["GI"] = 82] = "GI";
    Country[Country["GL"] = 83] = "GL";
    Country[Country["GM"] = 84] = "GM";
    Country[Country["GN"] = 85] = "GN";
    Country[Country["GP"] = 86] = "GP";
    Country[Country["GQ"] = 87] = "GQ";
    Country[Country["GR"] = 88] = "GR";
    Country[Country["GS"] = 89] = "GS";
    Country[Country["GT"] = 90] = "GT";
    Country[Country["GU"] = 91] = "GU";
    Country[Country["GW"] = 92] = "GW";
    Country[Country["GY"] = 93] = "GY";
    Country[Country["HK"] = 94] = "HK";
    Country[Country["HM"] = 95] = "HM";
    Country[Country["HN"] = 96] = "HN";
    Country[Country["HR"] = 97] = "HR";
    Country[Country["HT"] = 98] = "HT";
    Country[Country["HU"] = 99] = "HU";
    Country[Country["ID"] = 100] = "ID";
    Country[Country["IE"] = 101] = "IE";
    Country[Country["IL"] = 102] = "IL";
    Country[Country["IM"] = 103] = "IM";
    Country[Country["IN"] = 104] = "IN";
    Country[Country["IO"] = 105] = "IO";
    Country[Country["IQ"] = 106] = "IQ";
    Country[Country["IR"] = 107] = "IR";
    Country[Country["IS"] = 108] = "IS";
    Country[Country["IT"] = 109] = "IT";
    Country[Country["JE"] = 110] = "JE";
    Country[Country["JM"] = 111] = "JM";
    Country[Country["JO"] = 112] = "JO";
    Country[Country["JP"] = 113] = "JP";
    Country[Country["KE"] = 114] = "KE";
    Country[Country["KG"] = 115] = "KG";
    Country[Country["KH"] = 116] = "KH";
    Country[Country["KI"] = 117] = "KI";
    Country[Country["KM"] = 118] = "KM";
    Country[Country["KN"] = 119] = "KN";
    Country[Country["KP"] = 120] = "KP";
    Country[Country["KR"] = 121] = "KR";
    Country[Country["KW"] = 122] = "KW";
    Country[Country["KY"] = 123] = "KY";
    Country[Country["KZ"] = 124] = "KZ";
    Country[Country["LA"] = 125] = "LA";
    Country[Country["LB"] = 126] = "LB";
    Country[Country["LC"] = 127] = "LC";
    Country[Country["LI"] = 128] = "LI";
    Country[Country["LK"] = 129] = "LK";
    Country[Country["LR"] = 130] = "LR";
    Country[Country["LS"] = 131] = "LS";
    Country[Country["LT"] = 132] = "LT";
    Country[Country["LU"] = 133] = "LU";
    Country[Country["LV"] = 134] = "LV";
    Country[Country["LY"] = 135] = "LY";
    Country[Country["MA"] = 136] = "MA";
    Country[Country["MC"] = 137] = "MC";
    Country[Country["MD"] = 138] = "MD";
    Country[Country["ME"] = 139] = "ME";
    Country[Country["MF"] = 140] = "MF";
    Country[Country["MG"] = 141] = "MG";
    Country[Country["MH"] = 142] = "MH";
    Country[Country["MK"] = 143] = "MK";
    Country[Country["ML"] = 144] = "ML";
    Country[Country["MM"] = 145] = "MM";
    Country[Country["MN"] = 146] = "MN";
    Country[Country["MO"] = 147] = "MO";
    Country[Country["MP"] = 148] = "MP";
    Country[Country["MQ"] = 149] = "MQ";
    Country[Country["MR"] = 150] = "MR";
    Country[Country["MS"] = 151] = "MS";
    Country[Country["MT"] = 152] = "MT";
    Country[Country["MU"] = 153] = "MU";
    Country[Country["MV"] = 154] = "MV";
    Country[Country["MW"] = 155] = "MW";
    Country[Country["MX"] = 156] = "MX";
    Country[Country["MY"] = 157] = "MY";
    Country[Country["MZ"] = 158] = "MZ";
    Country[Country["NA"] = 159] = "NA";
    Country[Country["NC"] = 160] = "NC";
    Country[Country["NE"] = 161] = "NE";
    Country[Country["NF"] = 162] = "NF";
    Country[Country["NG"] = 163] = "NG";
    Country[Country["NI"] = 164] = "NI";
    Country[Country["NL"] = 165] = "NL";
    Country[Country["NO"] = 166] = "NO";
    Country[Country["NP"] = 167] = "NP";
    Country[Country["NR"] = 168] = "NR";
    Country[Country["NU"] = 169] = "NU";
    Country[Country["NZ"] = 170] = "NZ";
    Country[Country["OM"] = 171] = "OM";
    Country[Country["PA"] = 172] = "PA";
    Country[Country["PE"] = 173] = "PE";
    Country[Country["PF"] = 174] = "PF";
    Country[Country["PG"] = 175] = "PG";
    Country[Country["PH"] = 176] = "PH";
    Country[Country["PK"] = 177] = "PK";
    Country[Country["PL"] = 178] = "PL";
    Country[Country["PM"] = 179] = "PM";
    Country[Country["PN"] = 180] = "PN";
    Country[Country["PR"] = 181] = "PR";
    Country[Country["PS"] = 182] = "PS";
    Country[Country["PT"] = 183] = "PT";
    Country[Country["PW"] = 184] = "PW";
    Country[Country["PY"] = 185] = "PY";
    Country[Country["QA"] = 186] = "QA";
    Country[Country["RE"] = 187] = "RE";
    Country[Country["RO"] = 188] = "RO";
    Country[Country["RS"] = 189] = "RS";
    Country[Country["RU"] = 190] = "RU";
    Country[Country["RW"] = 191] = "RW";
    Country[Country["SA"] = 192] = "SA";
    Country[Country["SB"] = 193] = "SB";
    Country[Country["SC"] = 194] = "SC";
    Country[Country["SD"] = 195] = "SD";
    Country[Country["SE"] = 196] = "SE";
    Country[Country["SG"] = 197] = "SG";
    Country[Country["SH"] = 198] = "SH";
    Country[Country["SI"] = 199] = "SI";
    Country[Country["SJ"] = 200] = "SJ";
    Country[Country["SK"] = 201] = "SK";
    Country[Country["SL"] = 202] = "SL";
    Country[Country["SM"] = 203] = "SM";
    Country[Country["SN"] = 204] = "SN";
    Country[Country["SO"] = 205] = "SO";
    Country[Country["SR"] = 206] = "SR";
    Country[Country["SS"] = 207] = "SS";
    Country[Country["ST"] = 208] = "ST";
    Country[Country["SV"] = 209] = "SV";
    Country[Country["SX"] = 210] = "SX";
    Country[Country["SY"] = 211] = "SY";
    Country[Country["SZ"] = 212] = "SZ";
    Country[Country["TC"] = 213] = "TC";
    Country[Country["TD"] = 214] = "TD";
    Country[Country["TF"] = 215] = "TF";
    Country[Country["TG"] = 216] = "TG";
    Country[Country["TH"] = 217] = "TH";
    Country[Country["TJ"] = 218] = "TJ";
    Country[Country["TK"] = 219] = "TK";
    Country[Country["TL"] = 220] = "TL";
    Country[Country["TM"] = 221] = "TM";
    Country[Country["TN"] = 222] = "TN";
    Country[Country["TO"] = 223] = "TO";
    Country[Country["TR"] = 224] = "TR";
    Country[Country["TT"] = 225] = "TT";
    Country[Country["TV"] = 226] = "TV";
    Country[Country["TW"] = 227] = "TW";
    Country[Country["TZ"] = 228] = "TZ";
    Country[Country["UA"] = 229] = "UA";
    Country[Country["UG"] = 230] = "UG";
    Country[Country["UM"] = 231] = "UM";
    Country[Country["US"] = 232] = "US";
    Country[Country["UY"] = 233] = "UY";
    Country[Country["UZ"] = 234] = "UZ";
    Country[Country["VA"] = 235] = "VA";
    Country[Country["VC"] = 236] = "VC";
    Country[Country["VE"] = 237] = "VE";
    Country[Country["VG"] = 238] = "VG";
    Country[Country["VI"] = 239] = "VI";
    Country[Country["VN"] = 240] = "VN";
    Country[Country["VU"] = 241] = "VU";
    Country[Country["WF"] = 242] = "WF";
    Country[Country["WS"] = 243] = "WS";
    Country[Country["XK"] = 244] = "XK";
    Country[Country["YE"] = 245] = "YE";
    Country[Country["YT"] = 246] = "YT";
    Country[Country["ZA"] = 247] = "ZA";
    Country[Country["ZM"] = 248] = "ZM";
    Country[Country["ZW"] = 249] = "ZW";
})(Country = exports.Country || (exports.Country = {}));
function getCountryName(country) {
    return abbreviation_to_country_1.countries[Country[country]] || null;
}
exports.getCountryName = getCountryName;
exports.countriesIdsToNamesArray = Object.keys(abbreviation_to_country_1.countries).map((abbr) => {
    return { id: Country[abbr], name: getCountryName(+Country[abbr]) };
});


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/entities/Invite.ts":
/*!*******************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/entities/Invite.ts ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const GeoLocation_1 = tslib_1.__importDefault(__webpack_require__(/*! ./GeoLocation */ "./node_modules/@ever-platform/common/src/entities/GeoLocation.ts"));
const db_1 = __webpack_require__(/*! ../@pyro/db */ "./node_modules/@ever-platform/common/src/@pyro/db/index.ts");
const typeorm_1 = __webpack_require__(/*! typeorm */ "typeorm");
let Invite = class Invite extends db_1.DBObject {
    constructor(invite) {
        super(invite);
        if (invite && invite.geoLocation) {
            this.geoLocation = new GeoLocation_1.default(invite.geoLocation);
        }
    }
    toInviteRequestFindObject() {
        return {
            geoLocation: this.geoLocation,
            apartment: this.apartment,
        };
    }
};
tslib_1.__decorate([
    db_1.Types.String(),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Invite.prototype, "code", void 0);
tslib_1.__decorate([
    db_1.Types.String(),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Invite.prototype, "apartment", void 0);
tslib_1.__decorate([
    db_1.Schema(db_1.getSchema(GeoLocation_1.default)),
    tslib_1.__metadata("design:type", GeoLocation_1.default)
], Invite.prototype, "geoLocation", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(false),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], Invite.prototype, "isDeleted", void 0);
Invite = tslib_1.__decorate([
    db_1.ModelName('Invite'),
    typeorm_1.Entity({ name: 'invites' }),
    tslib_1.__metadata("design:paramtypes", [Object])
], Invite);
exports.default = Invite;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/entities/InviteRequest.ts":
/*!**************************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/entities/InviteRequest.ts ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const db_1 = __webpack_require__(/*! ../@pyro/db */ "./node_modules/@ever-platform/common/src/@pyro/db/index.ts");
const GeoLocation_1 = tslib_1.__importDefault(__webpack_require__(/*! ./GeoLocation */ "./node_modules/@ever-platform/common/src/entities/GeoLocation.ts"));
const typeorm_1 = __webpack_require__(/*! typeorm */ "typeorm");
let InviteRequest = class InviteRequest extends db_1.DBObject {
    constructor(inviteRequest) {
        super(inviteRequest);
        if (inviteRequest && inviteRequest.geoLocation) {
            this.geoLocation = new GeoLocation_1.default(inviteRequest.geoLocation);
        }
    }
    toAddressString() {
        if (!this.geoLocation) {
            return null;
        }
        let address = `${this.geoLocation.streetAddress} ${this.geoLocation.house}`;
        if (this.apartment) {
            address += `/${this.apartment}`;
        }
        address += `, ${this.geoLocation.city}`;
        return address;
    }
    toEnterByLocationToken() {
        if (this.geoLocation.house != null &&
            this.geoLocation.streetAddress != null &&
            this.geoLocation.city != null &&
            this.geoLocation.countryId != null) {
            return {
                apartment: this.apartment,
                house: this.geoLocation.house,
                streetAddress: this.geoLocation.streetAddress,
                city: this.geoLocation.city,
                postcode: this.geoLocation.postcode,
                countryId: this.geoLocation.countryId,
            };
        }
        else {
            throw new Error('GeoLocation is not full!');
        }
    }
};
tslib_1.__decorate([
    db_1.Schema(db_1.getSchema(GeoLocation_1.default)),
    tslib_1.__metadata("design:type", GeoLocation_1.default)
], InviteRequest.prototype, "geoLocation", void 0);
tslib_1.__decorate([
    db_1.Schema({ required: false, type: String }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], InviteRequest.prototype, "deviceId", void 0);
tslib_1.__decorate([
    db_1.Types.String(),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], InviteRequest.prototype, "apartment", void 0);
tslib_1.__decorate([
    db_1.Schema({ required: false, type: Boolean, default: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], InviteRequest.prototype, "isManual", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(false),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], InviteRequest.prototype, "isDeleted", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(false),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], InviteRequest.prototype, "isInvited", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: Date, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Date)
], InviteRequest.prototype, "invitedDate", void 0);
InviteRequest = tslib_1.__decorate([
    db_1.ModelName('InviteRequest'),
    typeorm_1.Entity({ name: 'inviterequests' }),
    tslib_1.__metadata("design:paramtypes", [Object])
], InviteRequest);
exports.default = InviteRequest;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/entities/Order.ts":
/*!******************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/entities/Order.ts ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const UserOrder_1 = tslib_1.__importDefault(__webpack_require__(/*! ./UserOrder */ "./node_modules/@ever-platform/common/src/entities/UserOrder.ts"));
const Warehouse_1 = tslib_1.__importDefault(__webpack_require__(/*! ./Warehouse */ "./node_modules/@ever-platform/common/src/entities/Warehouse.ts"));
const OrderProduct_1 = tslib_1.__importDefault(__webpack_require__(/*! ./OrderProduct */ "./node_modules/@ever-platform/common/src/entities/OrderProduct.ts"));
const Carrier_1 = tslib_1.__importDefault(__webpack_require__(/*! ./Carrier */ "./node_modules/@ever-platform/common/src/entities/Carrier.ts"));
const db_1 = __webpack_require__(/*! ../@pyro/db */ "./node_modules/@ever-platform/common/src/@pyro/db/index.ts");
const lodash_1 = tslib_1.__importDefault(__webpack_require__(/*! lodash */ "lodash"));
const OrderWarehouseStatus_1 = tslib_1.__importStar(__webpack_require__(/*! ../enums/OrderWarehouseStatus */ "./node_modules/@ever-platform/common/src/enums/OrderWarehouseStatus.ts"));
const OrderCarrierStatus_1 = tslib_1.__importStar(__webpack_require__(/*! ../enums/OrderCarrierStatus */ "./node_modules/@ever-platform/common/src/enums/OrderCarrierStatus.ts"));
const OrderStatus_1 = tslib_1.__importDefault(__webpack_require__(/*! ../enums/OrderStatus */ "./node_modules/@ever-platform/common/src/enums/OrderStatus.ts"));
const typeorm_1 = __webpack_require__(/*! typeorm */ "typeorm");
const DeliveryType_1 = tslib_1.__importDefault(__webpack_require__(/*! ../enums/DeliveryType */ "./node_modules/@ever-platform/common/src/enums/DeliveryType.ts"));
let Order = class Order extends db_1.DBObject {
    constructor(order) {
        super(order);
        if (order) {
            if (order.user) {
                this.user = new UserOrder_1.default(order.user);
            }
            if (order.warehouse &&
                order.warehouse != null &&
                typeof order.warehouse !== 'string') {
                this.warehouse = new Warehouse_1.default(order.warehouse);
            }
            if (order.carrier &&
                order.carrier != null &&
                typeof order.carrier !== 'string') {
                this.carrier = new Carrier_1.default(order.carrier);
            }
            if (order.products && order.products != null) {
                this.products = lodash_1.default.map(order.products, (orderProduct) => {
                    return new OrderProduct_1.default(orderProduct);
                });
            }
        }
    }
    get warehouseId() {
        if (typeof this.warehouse === 'string') {
            return this.warehouse;
        }
        else {
            return this.warehouse.id;
        }
    }
    get isCompleted() {
        return ((this.isPaid && this.status === OrderStatus_1.default.Delivered) ||
            this.isCancelled);
    }
    get carrierId() {
        if (this.carrier == null) {
            return null;
        }
        else if (typeof this.carrier === 'string') {
            return this.carrier;
        }
        else {
            return this.carrier.id;
        }
    }
    get warehouseStatusText() {
        return OrderWarehouseStatus_1.warehouseStatusToString(this.warehouseStatus);
    }
    get carrierStatusText() {
        return OrderCarrierStatus_1.carrierStatusToString(this.carrierStatus);
    }
    get totalPrice() {
        return lodash_1.default.sum(lodash_1.default.map(this.products, (product) => product.count * product.price));
    }
    getStatusText(language) {
        switch (language) {
            case 'en-US':
                return this._getStatusTextEnglish();
            case 'he-IL':
                return this._getStatusTextHebrew();
            case 'ru-RU':
                return this._getStatusTextRussian();
            case 'bg-BG':
                return this._getStatusTextBulgarian();
            case 'es-ES':
                return this._getStatusTextSpanish();
            case 'it-IT':
                return this._getStatusTextItalian();
            case 'fr-FR':
                return this._getStatusTextFrench();
            default:
                return 'BAD_STATUS';
        }
    }
    get status() {
        if (this.carrier == null ||
            this.carrierStatus <= OrderCarrierStatus_1.default.CarrierPickedUpOrder) {
            if (this.warehouseStatus >= 200) {
                return OrderStatus_1.default.WarehouseIssue;
            }
            else if (this.isCancelled) {
                return OrderStatus_1.default.CanceledWhileWarehousePreparation;
            }
            else {
                return OrderStatus_1.default.WarehousePreparation;
            }
        }
        else {
            if (this.carrierStatus >= 200) {
                return OrderStatus_1.default.CarrierIssue;
            }
            else if (this.isCancelled) {
                return OrderStatus_1.default.CanceledWhileInDelivery;
            }
            else if (this.isPaid &&
                this.carrierStatus === OrderCarrierStatus_1.default.DeliveryCompleted) {
                return OrderStatus_1.default.Delivered;
            }
            else {
                return OrderStatus_1.default.InDelivery;
            }
        }
    }
    _getStatusTextEnglish() {
        switch (this.status) {
            case OrderStatus_1.default.WarehousePreparation:
                return 'Preparation';
            case OrderStatus_1.default.InDelivery:
                return 'In Delivery';
            case OrderStatus_1.default.Delivered:
                return 'Delivered';
            case OrderStatus_1.default.CanceledWhileWarehousePreparation:
            case OrderStatus_1.default.CanceledWhileInDelivery:
                return 'Cancelled';
            case OrderStatus_1.default.WarehouseIssue:
                return 'Preparation Issue';
            case OrderStatus_1.default.CarrierIssue:
                return 'Delivery Issue';
            default:
                return 'BAD_STATUS';
        }
    }
    _getStatusTextBulgarian() {
        switch (this.status) {
            case OrderStatus_1.default.WarehousePreparation:
                return 'Подготовка';
            case OrderStatus_1.default.InDelivery:
                return 'Доставя се';
            case OrderStatus_1.default.Delivered:
                return 'Доставено';
            case OrderStatus_1.default.CanceledWhileWarehousePreparation:
            case OrderStatus_1.default.CanceledWhileInDelivery:
                return 'Отказана';
            case OrderStatus_1.default.WarehouseIssue:
                return 'Проблем при подготовката';
            case OrderStatus_1.default.CarrierIssue:
                return 'Проблем при доставката';
            default:
                return 'Проблем с поръчката';
        }
    }
    _getStatusTextHebrew() {
        switch (this.status) {
            case OrderStatus_1.default.WarehousePreparation:
                return 'בהכנה';
            case OrderStatus_1.default.InDelivery:
                return 'במשלוח';
            case OrderStatus_1.default.Delivered:
                return 'הסתיים בצלחה';
            case OrderStatus_1.default.CanceledWhileWarehousePreparation:
            case OrderStatus_1.default.CanceledWhileInDelivery:
                return 'התבטל';
            case OrderStatus_1.default.WarehouseIssue:
                return 'בעייה בהכנה';
            case OrderStatus_1.default.CarrierIssue:
                return 'בעייה במשלוח';
            default:
                return 'BAD_STATUS';
        }
    }
    _getStatusTextRussian() {
        switch (this.status) {
            case OrderStatus_1.default.WarehousePreparation:
                return 'В подготовке';
            case OrderStatus_1.default.InDelivery:
                return 'В доставки';
            case OrderStatus_1.default.Delivered:
                return 'Доставлено';
            case OrderStatus_1.default.CanceledWhileWarehousePreparation:
            case OrderStatus_1.default.CanceledWhileInDelivery:
                return 'Отменено';
            case OrderStatus_1.default.WarehouseIssue:
                return 'Проблема с подготовкой';
            case OrderStatus_1.default.CarrierIssue:
                return 'Проблема с доставкой';
            default:
                return 'BAD_STATUS';
        }
    }
    _getStatusTextSpanish() {
        switch (this.status) {
            case OrderStatus_1.default.WarehousePreparation:
                return 'Preparación';
            case OrderStatus_1.default.InDelivery:
                return 'En la entrega';
            case OrderStatus_1.default.Delivered:
                return 'Entregado';
            case OrderStatus_1.default.CanceledWhileWarehousePreparation:
            case OrderStatus_1.default.CanceledWhileInDelivery:
                return 'Cancelado';
            case OrderStatus_1.default.WarehouseIssue:
                return 'Problema de preparación';
            case OrderStatus_1.default.CarrierIssue:
                return 'Problema de envio';
            default:
                return 'BAD_STATUS';
        }
    }
    _getStatusTextItalian() {
        switch (this.status) {
            case OrderStatus_1.default.WarehousePreparation:
                return 'Preparazione';
            case OrderStatus_1.default.InDelivery:
                return 'In consegna';
            case OrderStatus_1.default.Delivered:
                return 'consegnato';
            case OrderStatus_1.default.CanceledWhileWarehousePreparation:
            case OrderStatus_1.default.CanceledWhileInDelivery:
                return 'Annullato';
            case OrderStatus_1.default.WarehouseIssue:
                return 'Problema di preparazione';
            case OrderStatus_1.default.CarrierIssue:
                return 'Problema di consegna';
            default:
                return 'BAD_STATUS';
        }
    }
    _getStatusTextFrench() {
        switch (this.status) {
            case OrderStatus_1.default.WarehousePreparation:
                return 'Préparation';
            case OrderStatus_1.default.InDelivery:
                return 'En livraison';
            case OrderStatus_1.default.Delivered:
                return 'Livré';
            case OrderStatus_1.default.CanceledWhileWarehousePreparation:
            case OrderStatus_1.default.CanceledWhileInDelivery:
                return 'Annulé';
            case OrderStatus_1.default.WarehouseIssue:
                return 'Problème de préparation';
            case OrderStatus_1.default.CarrierIssue:
                return 'Problème de livraison';
            default:
                return 'BAD_STATUS';
        }
    }
};
tslib_1.__decorate([
    db_1.Index(1),
    db_1.Schema(db_1.getSchema(UserOrder_1.default)),
    tslib_1.__metadata("design:type", UserOrder_1.default)
], Order.prototype, "user", void 0);
tslib_1.__decorate([
    db_1.Index(1),
    db_1.Types.Ref(Warehouse_1.default),
    tslib_1.__metadata("design:type", Object)
], Order.prototype, "warehouse", void 0);
tslib_1.__decorate([
    db_1.Schema([db_1.getSchema(OrderProduct_1.default)]),
    tslib_1.__metadata("design:type", Array)
], Order.prototype, "products", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(false),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], Order.prototype, "isConfirmed", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(false),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], Order.prototype, "isCancelled", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(false),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], Order.prototype, "isPaid", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: Date, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Date)
], Order.prototype, "deliveryTime", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: Date, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Date)
], Order.prototype, "finishedProcessingTime", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: Date, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Date)
], Order.prototype, "startDeliveryTime", void 0);
tslib_1.__decorate([
    db_1.Types.Number(0),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], Order.prototype, "deliveryTimeEstimate", void 0);
tslib_1.__decorate([
    db_1.Types.Number(OrderWarehouseStatus_1.default.NoStatus),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], Order.prototype, "warehouseStatus", void 0);
tslib_1.__decorate([
    db_1.Types.Number(OrderCarrierStatus_1.default.NoCarrier),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], Order.prototype, "carrierStatus", void 0);
tslib_1.__decorate([
    db_1.Types.Ref(Carrier_1.default, { required: false }),
    tslib_1.__metadata("design:type", Object)
], Order.prototype, "carrier", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(false),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], Order.prototype, "isDeleted", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: String, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Order.prototype, "stripeChargeId", void 0);
tslib_1.__decorate([
    db_1.Types.Number(),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], Order.prototype, "orderNumber", void 0);
tslib_1.__decorate([
    db_1.Types.Number(DeliveryType_1.default.Delivery),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], Order.prototype, "orderType", void 0);
Order = tslib_1.__decorate([
    db_1.ModelName('Order'),
    typeorm_1.Entity({ name: 'orders' }),
    tslib_1.__metadata("design:paramtypes", [Object])
], Order);
exports.default = Order;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/entities/OrderProduct.ts":
/*!*************************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/entities/OrderProduct.ts ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const Product_1 = tslib_1.__importDefault(__webpack_require__(/*! ./Product */ "./node_modules/@ever-platform/common/src/entities/Product.ts"));
const db_1 = __webpack_require__(/*! ../@pyro/db */ "./node_modules/@ever-platform/common/src/@pyro/db/index.ts");
const typeorm_1 = __webpack_require__(/*! typeorm */ "typeorm");
let OrderProduct = class OrderProduct extends db_1.DBObject {
    constructor(orderProduct) {
        super(orderProduct);
        if (orderProduct && orderProduct.product) {
            this.product = new Product_1.default(orderProduct.product);
        }
    }
};
tslib_1.__decorate([
    db_1.Types.Number(),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], OrderProduct.prototype, "price", void 0);
tslib_1.__decorate([
    db_1.Types.Number(),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], OrderProduct.prototype, "initialPrice", void 0);
tslib_1.__decorate([
    db_1.Types.Number(0),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], OrderProduct.prototype, "count", void 0);
tslib_1.__decorate([
    db_1.Schema(db_1.getSchema(Product_1.default)),
    tslib_1.__metadata("design:type", Product_1.default)
], OrderProduct.prototype, "product", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(true),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], OrderProduct.prototype, "isManufacturing", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(true),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], OrderProduct.prototype, "isCarrierRequired", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(true),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], OrderProduct.prototype, "isDeliveryRequired", void 0);
tslib_1.__decorate([
    db_1.Schema({ required: false, type: Boolean }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], OrderProduct.prototype, "isTakeaway", void 0);
tslib_1.__decorate([
    db_1.Schema({ required: false, type: Number }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], OrderProduct.prototype, "deliveryTimeMin", void 0);
tslib_1.__decorate([
    db_1.Schema({ required: false, type: Number }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], OrderProduct.prototype, "deliveryTimeMax", void 0);
OrderProduct = tslib_1.__decorate([
    db_1.ModelName('OrderProduct'),
    tslib_1.__metadata("design:paramtypes", [Object])
], OrderProduct);
exports.default = OrderProduct;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/entities/PaymentGateway.ts":
/*!***************************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/entities/PaymentGateway.ts ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const db_1 = __webpack_require__(/*! @pyro/db */ "./node_modules/@ever-platform/common/src/@pyro/db/index.ts");
const PaymentGateways_1 = tslib_1.__importDefault(__webpack_require__(/*! ../enums/PaymentGateways */ "./node_modules/@ever-platform/common/src/enums/PaymentGateways.ts"));
const typeorm_1 = __webpack_require__(/*! typeorm */ "typeorm");
let PaymentGateway = class PaymentGateway extends db_1.DBObject {
};
tslib_1.__decorate([
    db_1.Types.Number(),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], PaymentGateway.prototype, "paymentGateway", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: Object }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Object)
], PaymentGateway.prototype, "configureObject", void 0);
PaymentGateway = tslib_1.__decorate([
    db_1.ModelName('PaymentGateway')
], PaymentGateway);
exports.default = PaymentGateway;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/entities/Product.ts":
/*!********************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/entities/Product.ts ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const db_1 = __webpack_require__(/*! ../@pyro/db */ "./node_modules/@ever-platform/common/src/@pyro/db/index.ts");
const ProductsCategory_1 = tslib_1.__importDefault(__webpack_require__(/*! ./ProductsCategory */ "./node_modules/@ever-platform/common/src/entities/ProductsCategory.ts"));
const typeorm_1 = __webpack_require__(/*! typeorm */ "typeorm");
let Product = class Product extends db_1.DBObject {
};
tslib_1.__decorate([
    db_1.Schema({ type: Array }),
    tslib_1.__metadata("design:type", Array)
], Product.prototype, "title", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: Array }),
    tslib_1.__metadata("design:type", Array)
], Product.prototype, "description", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: Array }),
    tslib_1.__metadata("design:type", Array)
], Product.prototype, "descriptionHTML", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: Array }),
    tslib_1.__metadata("design:type", Array)
], Product.prototype, "details", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: Array }),
    tslib_1.__metadata("design:type", Array)
], Product.prototype, "detailsHTML", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: Array }),
    tslib_1.__metadata("design:type", Array)
], Product.prototype, "images", void 0);
tslib_1.__decorate([
    db_1.Types.Ref([ProductsCategory_1.default]),
    tslib_1.__metadata("design:type", Array)
], Product.prototype, "categories", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(false),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], Product.prototype, "isDeleted", void 0);
Product = tslib_1.__decorate([
    db_1.ModelName('Product'),
    typeorm_1.Entity({ name: 'products' })
], Product);
exports.default = Product;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/entities/ProductInfo.ts":
/*!************************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/entities/ProductInfo.ts ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const lodash_1 = tslib_1.__importDefault(__webpack_require__(/*! lodash */ "lodash"));
const WarehouseProduct_1 = tslib_1.__importDefault(__webpack_require__(/*! ./WarehouseProduct */ "./node_modules/@ever-platform/common/src/entities/WarehouseProduct.ts"));
class ProductInfo {
    constructor(productInfo) {
        if (productInfo) {
            lodash_1.default.assign(this, productInfo);
            if (productInfo.warehouseProduct) {
                this.warehouseProduct = new WarehouseProduct_1.default(productInfo.warehouseProduct);
            }
        }
    }
    get product() {
        return this.warehouseProduct.product;
    }
    getOrderProductCreateObject(count) {
        return {
            initialPrice: this.warehouseProduct.initialPrice,
            price: this.warehouseProduct.price,
            deliveryTimeMin: this.warehouseProduct.deliveryTimeMin,
            deliveryTimeMax: this.warehouseProduct.deliveryTimeMax,
            count,
            product: this.warehouseProduct.product,
        };
    }
}
exports.default = ProductInfo;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/entities/ProductsCategory.ts":
/*!*****************************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/entities/ProductsCategory.ts ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const db_1 = __webpack_require__(/*! ../@pyro/db */ "./node_modules/@ever-platform/common/src/@pyro/db/index.ts");
const typeorm_1 = __webpack_require__(/*! typeorm */ "typeorm");
let ProductsCategory = class ProductsCategory extends db_1.DBObject {
};
tslib_1.__decorate([
    db_1.Schema({ type: Array }),
    tslib_1.__metadata("design:type", Array)
], ProductsCategory.prototype, "name", void 0);
tslib_1.__decorate([
    db_1.Schema({
        type: String,
        required: false,
    }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], ProductsCategory.prototype, "image", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(false),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], ProductsCategory.prototype, "isDeleted", void 0);
ProductsCategory = tslib_1.__decorate([
    db_1.ModelName('ProductCategory'),
    typeorm_1.Entity({ name: 'productcategories' })
], ProductsCategory);
exports.default = ProductsCategory;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/entities/User.ts":
/*!*****************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/entities/User.ts ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const GeoLocation_1 = tslib_1.__importDefault(__webpack_require__(/*! ./GeoLocation */ "./node_modules/@ever-platform/common/src/entities/GeoLocation.ts"));
const db_1 = __webpack_require__(/*! ../@pyro/db */ "./node_modules/@ever-platform/common/src/@pyro/db/index.ts");
const typeorm_1 = __webpack_require__(/*! typeorm */ "typeorm");
let User = class User extends db_1.DBObject {
    constructor(user) {
        super(user);
        if (user && user.geoLocation) {
            this.geoLocation = new GeoLocation_1.default(user.geoLocation);
        }
    }
    get fullAddress() {
        return (`${this.geoLocation.city}, ${this.geoLocation.streetAddress} ` +
            `${this.apartment}/${this.geoLocation.house}`);
    }
};
tslib_1.__decorate([
    db_1.Schema({ type: String, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], User.prototype, "firstName", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: String, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], User.prototype, "lastName", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: String, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], User.prototype, "image", void 0);
tslib_1.__decorate([
    db_1.Schema({
        type: String,
        required: false,
        sparse: true,
        unique: true,
    }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], User.prototype, "email", void 0);
tslib_1.__decorate([
    db_1.Schema({
        type: String,
        required: false,
        select: false,
    }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], User.prototype, "hash", void 0);
tslib_1.__decorate([
    db_1.Schema(db_1.getSchema(GeoLocation_1.default)),
    tslib_1.__metadata("design:type", GeoLocation_1.default)
], User.prototype, "geoLocation", void 0);
tslib_1.__decorate([
    db_1.Schema(String),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], User.prototype, "apartment", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: String, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], User.prototype, "stripeCustomerId", void 0);
tslib_1.__decorate([
    db_1.Schema([String]),
    tslib_1.__metadata("design:type", Array)
], User.prototype, "devicesIds", void 0);
tslib_1.__decorate([
    db_1.Schema([String]),
    tslib_1.__metadata("design:type", Array)
], User.prototype, "socialIds", void 0);
tslib_1.__decorate([
    db_1.Schema(String),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], User.prototype, "phone", void 0);
tslib_1.__decorate([
    db_1.Schema(Boolean),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], User.prototype, "isRegistrationCompleted", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(false),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], User.prototype, "isBanned", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(false),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], User.prototype, "isDeleted", void 0);
User = tslib_1.__decorate([
    db_1.ModelName('User'),
    typeorm_1.Entity({ name: 'users' }),
    tslib_1.__metadata("design:paramtypes", [Object])
], User);
exports.default = User;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/entities/UserOrder.ts":
/*!**********************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/entities/UserOrder.ts ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const GeoLocation_1 = tslib_1.__importDefault(__webpack_require__(/*! ./GeoLocation */ "./node_modules/@ever-platform/common/src/entities/GeoLocation.ts"));
const db_1 = __webpack_require__(/*! ../@pyro/db */ "./node_modules/@ever-platform/common/src/@pyro/db/index.ts");
const typeorm_1 = __webpack_require__(/*! typeorm */ "typeorm");
let UserOrder = class UserOrder extends db_1.DBObject {
    constructor(userOrder) {
        super(userOrder);
        if (userOrder && userOrder.geoLocation) {
            this.geoLocation = new GeoLocation_1.default(userOrder.geoLocation);
        }
    }
    get fullAddress() {
        return (`${this.geoLocation.city}, ${this.geoLocation.streetAddress} ` +
            `${this.apartment}/${this.geoLocation.house}`);
    }
};
tslib_1.__decorate([
    db_1.Schema({ type: String, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], UserOrder.prototype, "firstName", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: String, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], UserOrder.prototype, "lastName", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: String, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], UserOrder.prototype, "image", void 0);
tslib_1.__decorate([
    db_1.Schema({
        type: String,
        required: false,
        sparse: true,
    }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], UserOrder.prototype, "email", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: String, required: false, select: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], UserOrder.prototype, "hash", void 0);
tslib_1.__decorate([
    db_1.Schema(db_1.getSchema(GeoLocation_1.default)),
    tslib_1.__metadata("design:type", GeoLocation_1.default)
], UserOrder.prototype, "geoLocation", void 0);
tslib_1.__decorate([
    db_1.Schema(String),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], UserOrder.prototype, "apartment", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: String, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], UserOrder.prototype, "stripeCustomerId", void 0);
tslib_1.__decorate([
    db_1.Schema([String]),
    tslib_1.__metadata("design:type", Array)
], UserOrder.prototype, "devicesIds", void 0);
tslib_1.__decorate([
    db_1.Schema([String]),
    tslib_1.__metadata("design:type", Array)
], UserOrder.prototype, "socialIds", void 0);
tslib_1.__decorate([
    db_1.Schema(String),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], UserOrder.prototype, "phone", void 0);
tslib_1.__decorate([
    db_1.Schema(Boolean),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], UserOrder.prototype, "isRegistrationCompleted", void 0);
UserOrder = tslib_1.__decorate([
    db_1.ModelName('UserOrder'),
    tslib_1.__metadata("design:paramtypes", [Object])
], UserOrder);
exports.default = UserOrder;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/entities/Warehouse.ts":
/*!**********************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/entities/Warehouse.ts ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const lodash_1 = tslib_1.__importDefault(__webpack_require__(/*! lodash */ "lodash"));
const db_1 = __webpack_require__(/*! ../@pyro/db */ "./node_modules/@ever-platform/common/src/@pyro/db/index.ts");
const GeoLocation_1 = tslib_1.__importDefault(__webpack_require__(/*! ./GeoLocation */ "./node_modules/@ever-platform/common/src/entities/GeoLocation.ts"));
const WarehouseProduct_1 = tslib_1.__importDefault(__webpack_require__(/*! ./WarehouseProduct */ "./node_modules/@ever-platform/common/src/entities/WarehouseProduct.ts"));
const typeorm_1 = __webpack_require__(/*! typeorm */ "typeorm");
const OrderBarcodeTypes_1 = tslib_1.__importDefault(__webpack_require__(/*! ../enums/OrderBarcodeTypes */ "./node_modules/@ever-platform/common/src/enums/OrderBarcodeTypes.ts"));
const PaymentGateway_1 = tslib_1.__importDefault(__webpack_require__(/*! ./PaymentGateway */ "./node_modules/@ever-platform/common/src/entities/PaymentGateway.ts"));
let Warehouse = class Warehouse extends db_1.DBObject {
    constructor(warehouse) {
        super(warehouse);
        if (warehouse) {
            if (warehouse.geoLocation) {
                this.geoLocation = new GeoLocation_1.default(warehouse.geoLocation);
            }
            if (warehouse.products) {
                this.products = lodash_1.default.map(warehouse.products, (warehouseProduct) => {
                    return new WarehouseProduct_1.default(warehouseProduct);
                });
            }
            if (!warehouse.barcodeData) {
                this.barcodeData = warehouse._id.toString();
            }
        }
    }
};
tslib_1.__decorate([
    db_1.Types.Boolean(false),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], Warehouse.prototype, "isActive", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(true),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], Warehouse.prototype, "isPaymentEnabled", void 0);
tslib_1.__decorate([
    db_1.Schema(db_1.getSchema(GeoLocation_1.default)),
    tslib_1.__metadata("design:type", GeoLocation_1.default)
], Warehouse.prototype, "geoLocation", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: Object }),
    tslib_1.__metadata("design:type", Object)
], Warehouse.prototype, "deliveryAreas", void 0);
tslib_1.__decorate([
    db_1.Schema([db_1.getSchema(WarehouseProduct_1.default)]),
    tslib_1.__metadata("design:type", Array)
], Warehouse.prototype, "products", void 0);
tslib_1.__decorate([
    db_1.Types.String(),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Warehouse.prototype, "name", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: String, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Warehouse.prototype, "logo", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: String, unique: true }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Warehouse.prototype, "username", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: String, required: false, select: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Warehouse.prototype, "hash", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: String, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Warehouse.prototype, "contactEmail", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: String, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Warehouse.prototype, "contactPhone", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: String, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Warehouse.prototype, "ordersPhone", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: String, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Warehouse.prototype, "ordersEmail", void 0);
tslib_1.__decorate([
    db_1.Schema([Number]),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Array)
], Warehouse.prototype, "forwardOrdersUsing", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(true),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], Warehouse.prototype, "isManufacturing", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(true),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], Warehouse.prototype, "isCarrierRequired", void 0);
tslib_1.__decorate([
    db_1.Schema([String]),
    tslib_1.__metadata("design:type", Array)
], Warehouse.prototype, "devicesIds", void 0);
tslib_1.__decorate([
    db_1.Schema([String]),
    tslib_1.__metadata("design:type", Array)
], Warehouse.prototype, "usedCarriersIds", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(false),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], Warehouse.prototype, "hasRestrictedCarriers", void 0);
tslib_1.__decorate([
    db_1.Schema([String]),
    tslib_1.__metadata("design:type", Array)
], Warehouse.prototype, "carriersIds", void 0);
tslib_1.__decorate([
    db_1.Types.Boolean(false),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], Warehouse.prototype, "isDeleted", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: Boolean, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], Warehouse.prototype, "productsDelivery", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: Boolean, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], Warehouse.prototype, "productsTakeaway", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: Number, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], Warehouse.prototype, "orderBarcodeType", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: String, unique: true, sparse: true }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", String)
], Warehouse.prototype, "barcodeData", void 0);
tslib_1.__decorate([
    db_1.Schema([db_1.getSchema(PaymentGateway_1.default)]),
    tslib_1.__metadata("design:type", Array)
], Warehouse.prototype, "paymentGateways", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: Boolean, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], Warehouse.prototype, "useOnlyRestrictedCarriersForDelivery", void 0);
tslib_1.__decorate([
    db_1.Schema({ type: Boolean, required: false }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], Warehouse.prototype, "preferRestrictedCarriersForDelivery", void 0);
Warehouse = tslib_1.__decorate([
    db_1.ModelName('Warehouse'),
    typeorm_1.Entity({ name: 'warehouses' }),
    tslib_1.__metadata("design:paramtypes", [Object])
], Warehouse);
exports.default = Warehouse;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/entities/WarehouseProduct.ts":
/*!*****************************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/entities/WarehouseProduct.ts ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const Product_1 = tslib_1.__importDefault(__webpack_require__(/*! ./Product */ "./node_modules/@ever-platform/common/src/entities/Product.ts"));
const db_1 = __webpack_require__(/*! ../@pyro/db */ "./node_modules/@ever-platform/common/src/@pyro/db/index.ts");
const typeorm_1 = __webpack_require__(/*! typeorm */ "typeorm");
let WarehouseProduct = class WarehouseProduct extends db_1.DBObject {
    constructor(warehouseProduct) {
        super(warehouseProduct);
        if (typeof warehouseProduct.product !== 'string') {
            this.product = new Product_1.default(warehouseProduct.product);
        }
    }
    get productId() {
        if (typeof this.product === 'string') {
            return this.product;
        }
        else {
            return this.product.id;
        }
    }
};
tslib_1.__decorate([
    db_1.Types.Number(),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], WarehouseProduct.prototype, "price", void 0);
tslib_1.__decorate([
    db_1.Types.Number(),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], WarehouseProduct.prototype, "initialPrice", void 0);
tslib_1.__decorate([
    db_1.Types.Number(0),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], WarehouseProduct.prototype, "count", void 0);
tslib_1.__decorate([
    db_1.Types.Number(0),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], WarehouseProduct.prototype, "soldCount", void 0);
tslib_1.__decorate([
    db_1.Types.Ref(Product_1.default),
    tslib_1.__metadata("design:type", Object)
], WarehouseProduct.prototype, "product", void 0);
tslib_1.__decorate([
    typeorm_1.Column(),
    db_1.Types.Boolean(true),
    tslib_1.__metadata("design:type", Boolean)
], WarehouseProduct.prototype, "isManufacturing", void 0);
tslib_1.__decorate([
    typeorm_1.Column(),
    db_1.Types.Boolean(true),
    tslib_1.__metadata("design:type", Boolean)
], WarehouseProduct.prototype, "isCarrierRequired", void 0);
tslib_1.__decorate([
    typeorm_1.Column(),
    db_1.Types.Boolean(true),
    tslib_1.__metadata("design:type", Boolean)
], WarehouseProduct.prototype, "isDeliveryRequired", void 0);
tslib_1.__decorate([
    db_1.Schema({ required: false, type: Boolean }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Boolean)
], WarehouseProduct.prototype, "isTakeaway", void 0);
tslib_1.__decorate([
    db_1.Schema({ required: false, type: Number }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], WarehouseProduct.prototype, "deliveryTimeMin", void 0);
tslib_1.__decorate([
    db_1.Schema({ required: false, type: Number }),
    typeorm_1.Column(),
    tslib_1.__metadata("design:type", Number)
], WarehouseProduct.prototype, "deliveryTimeMax", void 0);
WarehouseProduct = tslib_1.__decorate([
    db_1.ModelName('WarehouseProduct'),
    tslib_1.__metadata("design:paramtypes", [Object])
], WarehouseProduct);
exports.default = WarehouseProduct;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/enums/CarrierStatus.ts":
/*!***********************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/enums/CarrierStatus.ts ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var CarrierStatus;
(function (CarrierStatus) {
    CarrierStatus[CarrierStatus["Online"] = 0] = "Online";
    CarrierStatus[CarrierStatus["Offline"] = 1] = "Offline";
    CarrierStatus[CarrierStatus["Blocked"] = 2] = "Blocked";
})(CarrierStatus || (CarrierStatus = {}));
exports.default = CarrierStatus;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/enums/DeliveryType.ts":
/*!**********************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/enums/DeliveryType.ts ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var DeliveryType;
(function (DeliveryType) {
    DeliveryType[DeliveryType["Delivery"] = 0] = "Delivery";
    DeliveryType[DeliveryType["Takeaway"] = 1] = "Takeaway";
})(DeliveryType || (DeliveryType = {}));
exports.default = DeliveryType;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/enums/OrderBarcodeTypes.ts":
/*!***************************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/enums/OrderBarcodeTypes.ts ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var OrderBarcodeTypes;
(function (OrderBarcodeTypes) {
    OrderBarcodeTypes[OrderBarcodeTypes["QR"] = 0] = "QR";
    OrderBarcodeTypes[OrderBarcodeTypes["CODE128"] = 1] = "CODE128";
    OrderBarcodeTypes[OrderBarcodeTypes["CODE39"] = 2] = "CODE39";
    OrderBarcodeTypes[OrderBarcodeTypes["pharmacode"] = 3] = "pharmacode";
    OrderBarcodeTypes[OrderBarcodeTypes["MSI"] = 4] = "MSI";
})(OrderBarcodeTypes || (OrderBarcodeTypes = {}));
function orderBarcodeTypesToString(status) {
    switch (status) {
        case OrderBarcodeTypes.QR:
            return 'QR code';
        case OrderBarcodeTypes.CODE128:
            return 'CODE128';
        case OrderBarcodeTypes.CODE39:
            return 'CODE39';
        case OrderBarcodeTypes.pharmacode:
            return 'pharmacode';
        case OrderBarcodeTypes.MSI:
            return 'MSI';
        default:
            return 'BAD_STATUS';
    }
}
exports.orderBarcodeTypesToString = orderBarcodeTypesToString;
exports.default = OrderBarcodeTypes;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/enums/OrderCarrierStatus.ts":
/*!****************************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/enums/OrderCarrierStatus.ts ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var OrderCarrierStatus;
(function (OrderCarrierStatus) {
    OrderCarrierStatus[OrderCarrierStatus["NoCarrier"] = 0] = "NoCarrier";
    OrderCarrierStatus[OrderCarrierStatus["CarrierSelectedOrder"] = 1] = "CarrierSelectedOrder";
    OrderCarrierStatus[OrderCarrierStatus["CarrierPickedUpOrder"] = 2] = "CarrierPickedUpOrder";
    OrderCarrierStatus[OrderCarrierStatus["CarrierStartDelivery"] = 3] = "CarrierStartDelivery";
    OrderCarrierStatus[OrderCarrierStatus["CarrierArrivedToCustomer"] = 4] = "CarrierArrivedToCustomer";
    OrderCarrierStatus[OrderCarrierStatus["DeliveryCompleted"] = 5] = "DeliveryCompleted";
    OrderCarrierStatus[OrderCarrierStatus["IssuesDuringDelivery"] = 204] = "IssuesDuringDelivery";
    OrderCarrierStatus[OrderCarrierStatus["ClientRefuseTakingOrder"] = 205] = "ClientRefuseTakingOrder";
})(OrderCarrierStatus || (OrderCarrierStatus = {}));
function carrierStatusToString(status) {
    switch (status) {
        case OrderCarrierStatus.NoCarrier:
            return 'No Carrier';
        case OrderCarrierStatus.CarrierSelectedOrder:
            return 'Order Selected For Delivery';
        case OrderCarrierStatus.CarrierPickedUpOrder:
            return 'Order Picked Up';
        case OrderCarrierStatus.CarrierStartDelivery:
            return 'Order In Delivery';
        case OrderCarrierStatus.CarrierArrivedToCustomer:
            return 'Arrived To Client';
        case OrderCarrierStatus.DeliveryCompleted:
            return 'Delivered';
        case OrderCarrierStatus.IssuesDuringDelivery:
            return 'Delivery Issues';
        case OrderCarrierStatus.ClientRefuseTakingOrder:
            return 'Client Refuse to Take Order';
        default:
            return 'BAD_STATUS';
    }
}
exports.carrierStatusToString = carrierStatusToString;
exports.default = OrderCarrierStatus;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/enums/OrderStatus.ts":
/*!*********************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/enums/OrderStatus.ts ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var OrderStatus;
(function (OrderStatus) {
    OrderStatus[OrderStatus["WarehousePreparation"] = 0] = "WarehousePreparation";
    OrderStatus[OrderStatus["InDelivery"] = 1] = "InDelivery";
    OrderStatus[OrderStatus["Delivered"] = 2] = "Delivered";
    OrderStatus[OrderStatus["CanceledWhileWarehousePreparation"] = 200] = "CanceledWhileWarehousePreparation";
    OrderStatus[OrderStatus["CanceledWhileInDelivery"] = 201] = "CanceledWhileInDelivery";
    OrderStatus[OrderStatus["WarehouseIssue"] = 202] = "WarehouseIssue";
    OrderStatus[OrderStatus["CarrierIssue"] = 203] = "CarrierIssue";
})(OrderStatus || (OrderStatus = {}));
exports.default = OrderStatus;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/enums/OrderWarehouseStatus.ts":
/*!******************************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/enums/OrderWarehouseStatus.ts ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var OrderWarehouseStatus;
(function (OrderWarehouseStatus) {
    OrderWarehouseStatus[OrderWarehouseStatus["NoStatus"] = 0] = "NoStatus";
    OrderWarehouseStatus[OrderWarehouseStatus["ReadyForProcessing"] = 1] = "ReadyForProcessing";
    OrderWarehouseStatus[OrderWarehouseStatus["WarehouseStartedProcessing"] = 2] = "WarehouseStartedProcessing";
    OrderWarehouseStatus[OrderWarehouseStatus["AllocationStarted"] = 3] = "AllocationStarted";
    OrderWarehouseStatus[OrderWarehouseStatus["AllocationFinished"] = 4] = "AllocationFinished";
    OrderWarehouseStatus[OrderWarehouseStatus["PackagingStarted"] = 5] = "PackagingStarted";
    OrderWarehouseStatus[OrderWarehouseStatus["PackagingFinished"] = 6] = "PackagingFinished";
    OrderWarehouseStatus[OrderWarehouseStatus["GivenToCarrier"] = 7] = "GivenToCarrier";
    OrderWarehouseStatus[OrderWarehouseStatus["GivenToCustomer"] = 8] = "GivenToCustomer";
    OrderWarehouseStatus[OrderWarehouseStatus["AllocationFailed"] = 200] = "AllocationFailed";
    OrderWarehouseStatus[OrderWarehouseStatus["PackagingFailed"] = 201] = "PackagingFailed";
})(OrderWarehouseStatus || (OrderWarehouseStatus = {}));
function warehouseStatusToString(status) {
    switch (status) {
        case OrderWarehouseStatus.NoStatus:
            return 'Created';
        case OrderWarehouseStatus.ReadyForProcessing:
            return 'Confirmed';
        case OrderWarehouseStatus.WarehouseStartedProcessing:
            return 'Processing';
        case OrderWarehouseStatus.AllocationStarted:
            return 'Allocation Started';
        case OrderWarehouseStatus.AllocationFinished:
            return 'Allocation Finished';
        case OrderWarehouseStatus.PackagingStarted:
            return 'Packaging Started';
        case OrderWarehouseStatus.PackagingFinished:
            return 'Packaged';
        case OrderWarehouseStatus.GivenToCarrier:
            return 'Given to Carrier';
        case OrderWarehouseStatus.GivenToCustomer:
            return 'Given to Customer';
        case OrderWarehouseStatus.AllocationFailed:
            return 'Allocation Failed';
        case OrderWarehouseStatus.PackagingFailed:
            return 'Packaging Failed';
        default:
            return 'BAD_STATUS';
    }
}
exports.warehouseStatusToString = warehouseStatusToString;
exports.default = OrderWarehouseStatus;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/enums/PaymentGateways.ts":
/*!*************************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/enums/PaymentGateways.ts ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var PaymentGateways;
(function (PaymentGateways) {
    PaymentGateways[PaymentGateways["Stripe"] = 0] = "Stripe";
    PaymentGateways[PaymentGateways["PayPal"] = 1] = "PayPal";
})(PaymentGateways || (PaymentGateways = {}));
function paymentGatewaysToString(paymentGateway) {
    switch (paymentGateway) {
        case PaymentGateways.Stripe:
            return 'Stripe';
        case PaymentGateways.PayPal:
            return 'PayPal';
        default:
            return 'BAD_PAYMENT_GATEWAY';
    }
}
exports.paymentGatewaysToString = paymentGatewaysToString;
function paymentGatewaysLogo(paymentGateway) {
    switch (paymentGateway) {
        case PaymentGateways.Stripe:
            return 'https://stripe.com/img/v3/home/twitter.png';
        case PaymentGateways.PayPal:
            return 'https://avatars1.githubusercontent.com/u/476675?s=200&v=4';
        default:
            return 'BAD_PAYMENT_GATEWAY';
    }
}
exports.paymentGatewaysLogo = paymentGatewaysLogo;
exports.default = PaymentGateways;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/errors/NotInvitedError.ts":
/*!**************************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/errors/NotInvitedError.ts ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
class NotInvitedError {
    constructor() {
        this.code = 'not-invited';
        this.message = 'Not invited!';
    }
}
exports.NotInvitedError = NotInvitedError;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/errors/WrongPasswordError.ts":
/*!*****************************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/errors/WrongPasswordError.ts ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
class WrongPasswordError {
    constructor() {
        this.code = 'wrong-password';
        this.message = 'Wrong password!';
    }
}
exports.WrongPasswordError = WrongPasswordError;


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/notifications.ts":
/*!*****************************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/notifications.ts ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.launched = 'launched_notification';


/***/ }),

/***/ "./node_modules/@ever-platform/common/src/utils.ts":
/*!*********************************************************!*\
  !*** ./node_modules/@ever-platform/common/src/utils.ts ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const lodash_1 = __webpack_require__(/*! lodash */ "lodash");
var Utils;
(function (Utils) {
    function calcCrow(lat1, lon1, lat2, lon2) {
        const R = 6371;
        const dLat = Utils._toRad(lat2 - lat1);
        const dLon = Utils._toRad(lon2 - lon1);
        lat1 = Utils._toRad(lat1);
        lat2 = Utils._toRad(lat2);
        const a = Math.pow(Math.sin(dLat / 2), 2) +
            Math.pow(Math.sin(dLon / 2), 2) * Math.cos(lat1) * Math.cos(lat2);
        const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
        const d = R * c;
        return d;
    }
    Utils.calcCrow = calcCrow;
    function getDistance(geoLocation1, geoLocation2) {
        return getLocDistance(geoLocation1.loc, geoLocation2.loc);
    }
    Utils.getDistance = getDistance;
    function getLocDistance(loc1, loc2) {
        return calcCrow(loc1.coordinates[0], loc1.coordinates[1], loc2.coordinates[0], loc2.coordinates[1]);
    }
    Utils.getLocDistance = getLocDistance;
    function _toRad(v) {
        return (v * Math.PI) / 180;
    }
    Utils._toRad = _toRad;
    function getRandomInt(min, max) {
        return Math.floor(Math.random() * (max - min)) + min;
    }
    Utils.getRandomInt = getRandomInt;
    function toDate(date) {
        if (date instanceof Date) {
            return date;
        }
        else {
            return new Date(date);
        }
    }
    Utils.toDate = toDate;
    function generatedLogoColor() {
        return lodash_1.sample(['#269aff', '#ffaf26', '#8b72ff', '#0ecc9D']).replace('#', '');
    }
    Utils.generatedLogoColor = generatedLogoColor;
})(Utils || (Utils = {}));
exports.getDistance = Utils.getDistance;
exports.toDate = Utils.toDate;
exports.getDummyImage = (width, height, letter) => {
    return `https://dummyimage.com/${width}x${height}/${Utils.generatedLogoColor()}/ffffff.jpg&text=${letter}`;
};
exports.getPlaceholditImgix = (width, height, fontSize, name) => {
    return `https://placeholdit.imgix.net/~text?txtsize=${fontSize}&txt=${name}&w=${width}&h=${height}`;
};
exports.getFakeImg = (width, height, fontSize, name) => {
    return `https://fakeimg.pl/${width}x${height}/FFD890%2C128/000/?text=${name}&font_size=${fontSize}`;
};
exports.generateObjectIdString = (m = Math, d = Date, h = 16, s = (x) => m.floor(x).toString(h)) => {
    return (s(d.now() / 1000) + ' '.repeat(h).replace(/./g, () => s(m.random() * h)));
};
function getIdFromTheDate(order) {
    if (!order['createdAt'] || !order.orderNumber) {
        throw `Can't use getIdFromTheDate function. Property ${!order['createdAt'] ? 'createdAt' : 'orderNumber'} is missing!`;
    }
    const [day, month, year] = new Date(order['createdAt'])
        .toLocaleDateString()
        .split('/');
    let d = ('0' + day).slice(-2);
    d = d.substr(-2);
    let m = ('0' + month).slice(-2);
    m = m.substr(-2);
    return `${d}${m}${year}-${order.orderNumber}`;
}
exports.getIdFromTheDate = getIdFromTheDate;
exports.default = Utils;


/***/ }),

/***/ "./src/@pyro/db-server/db-service.ts":
/*!*******************************************!*\
  !*** ./src/@pyro/db-server/db-service.ts ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const mongoose_1 = tslib_1.__importDefault(__webpack_require__(/*! mongoose */ "mongoose"));
const lodash_1 = tslib_1.__importDefault(__webpack_require__(/*! lodash */ "lodash"));
const rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const existence_1 = __webpack_require__(/*! ./existence */ "./src/@pyro/db-server/existence.ts");
const from_1 = __webpack_require__(/*! rxjs/observable/from */ "rxjs/observable/from");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const of_1 = __webpack_require__(/*! rxjs/observable/of */ "rxjs/observable/of");
const uuid_1 = __webpack_require__(/*! uuid */ "uuid");
const entity_service_1 = __webpack_require__(/*! @pyro/db-server/entity-service */ "./src/@pyro/db-server/entity-service.ts");
let DBService = class DBService extends entity_service_1.EntityService {
    constructor() {
        super();
        this.existence = new rxjs_1.Subject();
    }
    get(id) {
        const callId = uuid_1.v1();
        this.log.info({ objectId: id, callId }, '.get(id) called');
        return from_1.from(this.getCurrent(id)).pipe(operators_1.concat(this.existence.pipe(operators_1.filter((existenceEvent) => id === existenceEvent.id), operators_1.map((existenceEvent) => existenceEvent.value), operators_1.share())), operators_1.tap({
            next: (obj) => {
                this.log.info({
                    objectId: id,
                    object: obj,
                    callId,
                }, '.get(id) emitted next value');
            },
            error: (err) => {
                this.log.error({
                    objectId: id,
                    err,
                    callId,
                }, '.get(id), emitted error!');
            },
        }));
    }
    getCurrent(id) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const callId = uuid_1.v1();
            this.log.info({ objectId: id, callId }, '.getCurrent(id) called');
            const obj = yield this.Model.findById(id).lean().exec();
            return this.parse(obj);
        });
    }
    getMultiple(ids) {
        const callId = uuid_1.v1();
        this.log.info({ objectIds: ids, callId }, '.getMultiple(ids) called');
        return of_1.of(null).pipe(operators_1.concat(this.existence.pipe(operators_1.filter((event) => lodash_1.default.includes(ids, event.id)), operators_1.share())), operators_1.exhaustMap(() => this.getCurrentMultiple(ids)), operators_1.tap({
            next: (objects) => {
                this.log.info({ objectIds: ids, objects, callId }, '.getMultiple(ids) emitted next value');
            },
            error: (err) => {
                this.log.error({ objectIds: ids, err, callId }, '.getMultiple(ids), emitted error!');
            },
        }));
    }
    getCurrentMultiple(ids) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const callId = uuid_1.v1();
            this.log.info({ objectIds: ids, callId }, '.getCurrentMultiple(ids) called');
            const objs = yield this.Model.find({
                _id: {
                    $in: lodash_1.default.map(ids, (id) => this.getObjectId(id)),
                },
            })
                .lean()
                .exec();
            return lodash_1.default.map(objs, (obj) => this.parse(obj));
        });
    }
    create(createObject) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const callId = uuid_1.v1();
            this.log.info({ callId, createObject }, '.create(createObject) called');
            let object;
            try {
                const document = yield this.Model.create(createObject);
                object = this.parse(document.toObject());
            }
            catch (error) {
                this.log.error({ callId, createObject, error }, '.create(createObject) thrown error!');
                throw error;
            }
            this.existence.next({
                id: object.id,
                value: object,
                lastValue: null,
                type: existence_1.ExistenceEventType.Created,
            });
            this.log.info({ callId, createObject, object }, '.create(createObject) created object');
            return object;
        });
    }
    removeAll() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const callId = uuid_1.v1();
            this.log.info({ callId }, '.removeAll() called!');
            try {
                yield this.Model.remove({}).exec();
            }
            catch (err) {
                this.log.error({ callId, err }, '.removeAll() thrown error!');
                throw err;
            }
            this.log.info({ callId }, '.removeAll() removed all!');
        });
    }
    remove(objectId) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const callId = uuid_1.v1();
            this.log.info({ callId, objectId }, '.remove(objectId) called');
            let lastValue;
            try {
                const lastValueRaw = (yield this.Model.findByIdAndRemove(objectId)
                    .lean()
                    .exec());
                lastValue = this.parse(lastValueRaw);
            }
            catch (err) {
                this.log.error({ callId, objectId, err }, '.remove(objectId) thrown error!');
                throw err;
            }
            if (lastValue == null) {
                throw new Error(".remove(objectId) error - Object don't exist");
            }
            else {
                this.existence.next({
                    id: objectId,
                    value: null,
                    lastValue,
                    type: existence_1.ExistenceEventType.Removed,
                });
                this.log.info({ callId, objectId, lastValue }, '.remove(objectId) removed object');
            }
        });
    }
    removeMultiple(conditions) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const callId = uuid_1.v1();
            this.log.info({ callId, conditions }, '.removeMultiple(conditions) called');
            let lastValues;
            try {
                lastValues = yield this.find(conditions);
                yield this.Model.deleteMany({
                    _id: { $in: lastValues.map((o) => this.getObjectId(o.id)) },
                }).exec();
            }
            catch (err) {
                this.log.error({ callId, conditions, err }, '.removeMultiple(conditions) thrown error!');
                throw err;
            }
            lodash_1.default.each(lastValues, (lastValue) => {
                this.existence.next({
                    id: lastValue.id,
                    lastValue,
                    value: null,
                    type: existence_1.ExistenceEventType.Removed,
                });
            });
            this.log.info({
                callId,
                conditions,
                lastValues,
            }, '.removeMultiple(conditions) removed objects');
        });
    }
    removeMultipleByIds(ids) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            this.Model.update({
                _id: { $in: ids.map((id) => this.getObjectId(id)) },
            }, { isDeleted: true }, { multi: true }).exec();
        });
    }
    find(conditions) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const callId = uuid_1.v1();
            this.log.info({ callId, conditions }, '.find(conditions) called');
            let results;
            try {
                const documents = (yield this.Model.find(conditions == null ? {} : conditions)
                    .lean()
                    .exec());
                results = lodash_1.default.map(documents, (obj) => this.parse(obj));
            }
            catch (err) {
                this.log.error({ callId, conditions, err }, '.find(conditions) thrown error!');
                throw err;
            }
            this.log.info({ callId, conditions, results }, '.find(conditions) found results');
            return results;
        });
    }
    findOne(conditions) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const callId = uuid_1.v1();
            this.log.info({ callId, conditions }, '.findOne(conditions) called');
            let result;
            try {
                const obj = (yield this.Model.findOne(conditions)
                    .lean()
                    .exec());
                result = this.parse(obj);
            }
            catch (err) {
                this.log.error({ callId, conditions, err }, '.findOne(conditions) thrown error!');
                throw err;
            }
            this.log.info({ callId, conditions, result }, '.findOne(conditions) found result');
            return result;
        });
    }
    update(objectId, updateObj) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const callId = uuid_1.v1();
            this.log.info({ callId, objectId, updateObj }, '.update(objectId, updateObj) called');
            let beforeUpdateObject;
            let updatedObject;
            try {
                beforeUpdateObject = yield this.getCurrent(objectId);
                if (beforeUpdateObject != null) {
                    const obj = (yield this.Model.findByIdAndUpdate(objectId, updateObj, { new: true })
                        .lean()
                        .exec());
                    updatedObject = this.parse(obj);
                }
                else {
                    throw new Error(`There is no such object with the id ${beforeUpdateObject}`);
                }
            }
            catch (err) {
                this.log.error({ callId, objectId, updateObj, err }, '.update(objectId, updateObj) thrown error!');
                throw err;
            }
            this.existence.next({
                id: objectId,
                value: updatedObject,
                lastValue: beforeUpdateObject,
                type: existence_1.ExistenceEventType.Updated,
            });
            this.log.info({
                callId,
                objectId,
                updateObj,
                updatedValue: updatedObject,
                lastValue: beforeUpdateObject,
            }, '.update(objectId, updateObj) updated object');
            return updatedObject;
        });
    }
    updateMultiple(findObj, updateObj) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const callId = uuid_1.v1();
            this.log.info({ callId, findObj, updateObj }, '.updateMultiple(findObj, updateObj) called');
            let lastValues;
            let updatedObjects;
            try {
                lastValues = yield this.find(findObj);
                yield this.Model.updateMany(findObj, updateObj, {
                    new: true,
                }).exec();
                updatedObjects = yield this.getCurrentMultiple(lodash_1.default.map(lastValues, (value) => value.id));
            }
            catch (err) {
                this.log.error({ callId, findObj, updateObj, err }, '.updateMultiple(findObj, updateObj) thrown error!');
                throw err;
            }
            lodash_1.default.each(lastValues, (lastValue) => {
                const newValue = lodash_1.default.find(updatedObjects, (obj) => obj.id === lastValue.id);
                this.existence.next({
                    id: lastValue.id,
                    lastValue,
                    value: newValue,
                    type: existence_1.ExistenceEventType.Updated,
                });
            });
            this.log.info({
                callId,
                findObj,
                updateObj,
                lastValues,
                updatedObjects,
            }, '.updateMultiple(objectId, updateObj) updated objects');
            return updatedObjects;
        });
    }
    updateMultipleByIds(ids, updateObj) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const callId = uuid_1.v1();
            this.log.info({ callId, ids, updateObj }, '.updateMultipleByIds(ids, updateObj) called');
            let updatedObjects;
            try {
                updatedObjects = yield this.updateMultiple({
                    _id: {
                        $in: lodash_1.default.map(ids, (id) => new mongoose_1.default.Types.ObjectId(id)),
                    },
                }, updateObj);
            }
            catch (err) {
                this.log.error({ callId, ids, updateObj, err }, '.updateMultipleByIds(ids, updateObj) thrown error!');
                throw err;
            }
            this.log.info({
                callId,
                ids,
                updateObj,
                updatedObjects,
            }, '.updateMultipleByIds(ids, updateObj) updated objects');
            return updatedObjects;
        });
    }
    count(findObj) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const callId = uuid_1.v1();
            this.log.info({ callId, findObj }, '.countDocuments(findObj) called');
            let count;
            try {
                count = (yield this.Model.countDocuments(findObj).exec());
            }
            catch (err) {
                this.log.error({ callId, findObj, err }, '.countDocuments(findObj) thrown error!');
                throw err;
            }
            this.log.info({ callId, findObj, count }, '.countDocuments(findObj) counted objects');
            return count;
        });
    }
    findAll(selectFields = {}) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this.Model.find({}).select(selectFields).lean().exec();
        });
    }
};
DBService = tslib_1.__decorate([
    inversify_1.injectable(),
    tslib_1.__metadata("design:paramtypes", [])
], DBService);
exports.DBService = DBService;


/***/ }),

/***/ "./src/@pyro/db-server/entity-service.ts":
/*!***********************************************!*\
  !*** ./src/@pyro/db-server/entity-service.ts ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const model_1 = __webpack_require__(/*! @pyro/db-server/model */ "./src/@pyro/db-server/model.ts");
const mongoose_1 = tslib_1.__importDefault(__webpack_require__(/*! mongoose */ "mongoose"));
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
let EntityService = class EntityService {
    get Model() {
        return model_1.getModel(this.DBObject);
    }
    getObjectId(id) {
        return new mongoose_1.default.Types.ObjectId(id);
    }
    parse(obj) {
        if (obj == null) {
            return null;
        }
        else {
            return new this.DBObject(obj);
        }
    }
};
EntityService = tslib_1.__decorate([
    inversify_1.injectable()
], EntityService);
exports.EntityService = EntityService;


/***/ }),

/***/ "./src/@pyro/db-server/existence.ts":
/*!******************************************!*\
  !*** ./src/@pyro/db-server/existence.ts ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const ExistenceEventTypeCreated = 'created';
const ExistenceEventTypeUpdated = 'updated';
const ExistenceEventTypeRemoved = 'removed';
var ExistenceEventType;
(function (ExistenceEventType) {
    ExistenceEventType.Created = ExistenceEventTypeCreated;
    ExistenceEventType.Updated = ExistenceEventTypeUpdated;
    ExistenceEventType.Removed = ExistenceEventTypeRemoved;
})(ExistenceEventType = exports.ExistenceEventType || (exports.ExistenceEventType = {}));


/***/ }),

/***/ "./src/@pyro/db-server/index.ts":
/*!**************************************!*\
  !*** ./src/@pyro/db-server/index.ts ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var model_1 = __webpack_require__(/*! ./model */ "./src/@pyro/db-server/model.ts");
exports.getModel = model_1.getModel;
var existence_1 = __webpack_require__(/*! ./existence */ "./src/@pyro/db-server/existence.ts");
exports.ExistenceEventType = existence_1.ExistenceEventType;
var db_service_1 = __webpack_require__(/*! ./db-service */ "./src/@pyro/db-server/db-service.ts");
exports.DBService = db_service_1.DBService;


/***/ }),

/***/ "./src/@pyro/db-server/model.ts":
/*!**************************************!*\
  !*** ./src/@pyro/db-server/model.ts ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const db_1 = __webpack_require__(/*! @pyro/db */ "./node_modules/@ever-platform/common/src/@pyro/db/index.ts");
const mongoose_1 = tslib_1.__importDefault(__webpack_require__(/*! mongoose */ "mongoose"));
exports.modelMetadata = 'db:model';
function getModel(DBObject) {
    let Model = Reflect.getMetadata(exports.modelMetadata, DBObject);
    if (Model == null) {
        Model = mongoose_1.default.model(DBObject.modelName, db_1.getSchema(DBObject));
        Reflect.defineMetadata(exports.modelMetadata, Model, DBObject);
    }
    return Model;
}
exports.getModel = getModel;


/***/ }),

/***/ "./src/@pyro/io/connection-handler.ts":
/*!********************************************!*\
  !*** ./src/@pyro/io/connection-handler.ts ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const router_1 = __webpack_require__(/*! ./router/router */ "./src/@pyro/io/router/router.ts");
const async_1 = __webpack_require__(/*! ./listener/handler/async */ "./src/@pyro/io/listener/handler/async.ts");
const observable_1 = __webpack_require__(/*! ./listener/handler/observable */ "./src/@pyro/io/listener/handler/observable.ts");
const listener_1 = __webpack_require__(/*! ./listener/listener */ "./src/@pyro/io/listener/listener.ts");
const types_1 = __webpack_require__(/*! ./listener/types */ "./src/@pyro/io/listener/types.ts");
class ConnectionHandler {
    constructor(socket, router, log) {
        this.socket = socket;
        this.router = router;
        this.log = log;
        this.listeners = router_1.getListeners(this.router);
        this.routerName = router_1.getRouterName(this.router);
    }
    handle() {
        this.log.info({
            socketId: this.socket.id,
            listeners: this.listeners.map((listener) => listener.name),
            routerName: this.routerName,
        }, `Socket connected! Starting listeners listening!`);
        try {
            this.listeners.forEach((listener) => {
                const handler = this.listenerHandlerFactory(listener);
                handler.handle();
            });
        }
        catch (err) {
            this.log.fatal("Couldn't start listeners listening!", { err });
        }
        this.socket.on('disconnect', () => {
            this.onDisconnection();
        });
    }
    listenerHandlerFactory(listener) {
        switch (listener_1.getListenerType(listener)) {
            case types_1.ListenerType.Async:
                return new async_1.AsyncListenerHandler(this.router, listener, this.socket, this.log);
            case types_1.ListenerType.Observable:
                return new observable_1.ObservableListenerHandler(this.router, listener, this.socket, this.log);
            default:
                throw new Error(`Bad listener type! ${listener_1.getListenerType(listener)}`);
        }
    }
    onDisconnection() {
        this.log.info({
            socketId: this.socket.id,
            listeners: this.listeners.map((listener) => listener.name),
            routerName: this.routerName,
        }, `Socket disconnected!`);
    }
}
exports.ConnectionHandler = ConnectionHandler;


/***/ }),

/***/ "./src/@pyro/io/index.ts":
/*!*******************************!*\
  !*** ./src/@pyro/io/index.ts ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var routers_manager_1 = __webpack_require__(/*! ./routers-manager */ "./src/@pyro/io/routers-manager.ts");
exports.RoutersManager = routers_manager_1.RoutersManager;
var async_1 = __webpack_require__(/*! ./listener/async */ "./src/@pyro/io/listener/async.ts");
exports.asyncListener = async_1.asyncListener;
var observable_1 = __webpack_require__(/*! ./listener/observable */ "./src/@pyro/io/listener/observable.ts");
exports.observableListener = observable_1.observableListener;
var serialization_1 = __webpack_require__(/*! ./listener/serialization */ "./src/@pyro/io/listener/serialization.ts");
exports.serialization = serialization_1.serialization;
var router_1 = __webpack_require__(/*! ./router/router */ "./src/@pyro/io/router/router.ts");
exports.routerName = router_1.routerName;
exports.RouterSymbol = router_1.RouterSymbol;


/***/ }),

/***/ "./src/@pyro/io/listener/async.ts":
/*!****************************************!*\
  !*** ./src/@pyro/io/listener/async.ts ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const types_1 = __webpack_require__(/*! ./types */ "./src/@pyro/io/listener/types.ts");
const listener_1 = __webpack_require__(/*! ./listener */ "./src/@pyro/io/listener/listener.ts");
exports.asyncListener = listener_1.listenerOf(types_1.ListenerType.Async);


/***/ }),

/***/ "./src/@pyro/io/listener/handler/async.ts":
/*!************************************************!*\
  !*** ./src/@pyro/io/listener/handler/async.ts ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const uuid_1 = __webpack_require__(/*! uuid */ "uuid");
const lodash_1 = tslib_1.__importDefault(__webpack_require__(/*! lodash */ "lodash"));
const base_1 = __webpack_require__(/*! ./base */ "./src/@pyro/io/listener/handler/base.ts");
class AsyncListenerHandler extends base_1.BaseListenerHandler {
    constructor(router, listener, socket, log) {
        super(router, listener, socket, log);
        this.router = router;
        this.listener = listener;
        this.socket = socket;
        this.log = log;
    }
    handleRequest(_args) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const callId = uuid_1.v1();
            const callback = lodash_1.default.last(_args);
            const args = this.serializer(lodash_1.default.initial(_args));
            this.logCall(callId, args);
            try {
                const data = yield this.listener.apply(this.router, args);
                this.log.info(Object.assign(Object.assign({}, this.baseLogDetails), { callId, result: data }), `Listener completed`);
                callback(null, data);
            }
            catch (err) {
                this.log.error(Object.assign(Object.assign({}, this.baseLogDetails), { callId,
                    err }), `Listener thrown error!`);
                callback(this.serializeError(err), null);
            }
        });
    }
}
exports.AsyncListenerHandler = AsyncListenerHandler;


/***/ }),

/***/ "./src/@pyro/io/listener/handler/base.ts":
/*!***********************************************!*\
  !*** ./src/@pyro/io/listener/handler/base.ts ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const router_1 = __webpack_require__(/*! ../../router/router */ "./src/@pyro/io/router/router.ts");
const listener_1 = __webpack_require__(/*! ../listener */ "./src/@pyro/io/listener/listener.ts");
const serialization_1 = __webpack_require__(/*! ../serialization */ "./src/@pyro/io/listener/serialization.ts");
const lodash_1 = tslib_1.__importDefault(__webpack_require__(/*! lodash */ "lodash"));
const get_parameter_names_1 = tslib_1.__importDefault(__webpack_require__(/*! @captemulation/get-parameter-names */ "@captemulation/get-parameter-names"));
class BaseListenerHandler {
    constructor(_router, _listener, _socket, _log) {
        this._router = _router;
        this._listener = _listener;
        this._socket = _socket;
        this._log = _log;
        this.routerName = router_1.getRouterName(this._router);
        this.listenerType = listener_1.getListenerType(this._listener);
        this.listenerArgumentsNames = get_parameter_names_1.default(this._listener);
        this.baseLogDetails = {
            socketId: this._socket.id,
            listenerName: this._listener.name,
            listenerType: this.listenerType,
            routerName: this.routerName,
        };
        this.serializer = serialization_1.getListenerSerializer(_listener);
    }
    handle() {
        this._socket.on(this._listener.name, (...args) => {
            this.handleRequest(args);
        });
    }
    logCall(callId, args) {
        this._log.info(Object.assign(Object.assign({}, this.baseLogDetails), { callId, args: lodash_1.default.zipObject(this.listenerArgumentsNames, args) }), `Listener called`);
    }
    serializeError(_error) {
        if (_error instanceof Error) {
            const error = _error;
            return {
                __isError__: true,
                name: error.name,
                message: error.message,
            };
        }
        else {
            return _error;
        }
    }
}
exports.BaseListenerHandler = BaseListenerHandler;


/***/ }),

/***/ "./src/@pyro/io/listener/handler/observable.ts":
/*!*****************************************************!*\
  !*** ./src/@pyro/io/listener/handler/observable.ts ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const lodash_1 = tslib_1.__importDefault(__webpack_require__(/*! lodash */ "lodash"));
const base_1 = __webpack_require__(/*! ./base */ "./src/@pyro/io/listener/handler/base.ts");
class ObservableListenerHandler extends base_1.BaseListenerHandler {
    constructor(router, listener, socket, log) {
        super(router, listener, socket, log);
        this.router = router;
        this.listener = listener;
        this.socket = socket;
        this.log = log;
    }
    handleRequest(_args) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const callId = lodash_1.default.last(_args);
            const args = this.serializer(lodash_1.default.initial(_args));
            this.logCall(callId, args);
            const observable = Reflect.apply(this.listener, this.router, args);
            this.socket.on(`${callId}_subscribe`, (subscriptionId) => {
                const subscription = observable.subscribe({
                    next: (value) => {
                        this.log.info(Object.assign(Object.assign({}, this.baseLogDetails), { callId,
                            value }), `Listener emitted next value`);
                        this.socket.emit(`${subscriptionId}_next`, value);
                    },
                    error: (err) => {
                        this.log.error(Object.assign(Object.assign({}, this.baseLogDetails), { callId,
                            err }), `Listener thrown error!`);
                        this.socket.emit(`${subscriptionId}_error`, this.serializeError(err));
                    },
                    complete: () => {
                        this.log.info(Object.assign(Object.assign({}, this.baseLogDetails), { callId }), `Listener completed`);
                        this.socket.emit(`_${subscriptionId}_complete`);
                    },
                });
                this.socket.on(`${subscriptionId}_unsubscribe`, () => subscription.unsubscribe());
                this.socket.on('disconnect', () => subscription.unsubscribe());
            });
        });
    }
}
exports.ObservableListenerHandler = ObservableListenerHandler;


/***/ }),

/***/ "./src/@pyro/io/listener/listener.ts":
/*!*******************************************!*\
  !*** ./src/@pyro/io/listener/listener.ts ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const metadata_1 = __webpack_require__(/*! ../router/metadata */ "./src/@pyro/io/router/metadata.ts");
const metadata_2 = __webpack_require__(/*! ./metadata */ "./src/@pyro/io/listener/metadata.ts");
exports.listenerOf = (listenerType) => () => (router, propertyKey, descriptor) => {
    const method = router[propertyKey];
    if (!Reflect.hasMetadata(metadata_1.routerMetadata.listeners, router.constructor)) {
        Reflect.defineMetadata(metadata_1.routerMetadata.listeners, [], router.constructor);
    }
    const listeners = Reflect.getMetadata(metadata_1.routerMetadata.listeners, router.constructor);
    listeners.push(method);
    Reflect.defineMetadata(metadata_2.listenerMetadata.type, listenerType, method);
};
exports.getListenerType = (listener) => {
    return Reflect.getMetadata(metadata_2.listenerMetadata.type, listener);
};


/***/ }),

/***/ "./src/@pyro/io/listener/metadata.ts":
/*!*******************************************!*\
  !*** ./src/@pyro/io/listener/metadata.ts ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.listenerMetadata = {
    type: 'router:listener:type',
    serializers: 'router:listener:serializers',
};


/***/ }),

/***/ "./src/@pyro/io/listener/observable.ts":
/*!*********************************************!*\
  !*** ./src/@pyro/io/listener/observable.ts ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const types_1 = __webpack_require__(/*! ./types */ "./src/@pyro/io/listener/types.ts");
const listener_1 = __webpack_require__(/*! ./listener */ "./src/@pyro/io/listener/listener.ts");
exports.observableListener = listener_1.listenerOf(types_1.ListenerType.Observable);


/***/ }),

/***/ "./src/@pyro/io/listener/serialization.ts":
/*!************************************************!*\
  !*** ./src/@pyro/io/listener/serialization.ts ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const metadata_1 = __webpack_require__(/*! ./metadata */ "./src/@pyro/io/listener/metadata.ts");
exports.serialization = (serializeFunction) => (router, propertyKey, parameterIndex) => {
    const listener = router[propertyKey];
    if (!Reflect.hasMetadata(metadata_1.listenerMetadata.serializers, listener)) {
        Reflect.defineMetadata(metadata_1.listenerMetadata.serializers, [], listener);
    }
    Reflect.getMetadata(metadata_1.listenerMetadata.serializers, listener)[parameterIndex] = serializeFunction;
};
exports.getListenerSerializer = (listener) => {
    const serializers = Reflect.getMetadata(metadata_1.listenerMetadata.serializers, listener);
    if (serializers == null) {
        return (args) => args;
    }
    return (args) => {
        return args.map((arg, i) => serializers[i] != null ? serializers[i](arg) : arg);
    };
};


/***/ }),

/***/ "./src/@pyro/io/listener/types.ts":
/*!****************************************!*\
  !*** ./src/@pyro/io/listener/types.ts ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var ListenerType;
(function (ListenerType) {
    ListenerType["Async"] = "async";
    ListenerType["Observable"] = "observable";
})(ListenerType = exports.ListenerType || (exports.ListenerType = {}));


/***/ }),

/***/ "./src/@pyro/io/router/handler.ts":
/*!****************************************!*\
  !*** ./src/@pyro/io/router/handler.ts ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const router_1 = __webpack_require__(/*! ./router */ "./src/@pyro/io/router/router.ts");
const connection_handler_1 = __webpack_require__(/*! ../connection-handler */ "./src/@pyro/io/connection-handler.ts");
class RouterHandler {
    constructor(io, router, log) {
        this.io = io;
        this.router = router;
        this.log = log;
        this.routerName = router_1.getRouterName(router);
        this.listeners = router_1.getListeners(router);
    }
    listen() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            this.log.info(`Starting router listening`, {
                routerName: this.routerName,
                listeners: this.listeners
                    ? this.listeners.map((listener) => listener.name)
                    : null,
            });
            const routerNamespace = this.io.of(`/${this.routerName}`);
            routerNamespace.setMaxListeners(0);
            routerNamespace.on('connection', (socket) => {
                const connectionHandler = new connection_handler_1.ConnectionHandler(socket, this.router, this.log);
                connectionHandler.handle();
            });
        });
    }
}
exports.RouterHandler = RouterHandler;


/***/ }),

/***/ "./src/@pyro/io/router/metadata.ts":
/*!*****************************************!*\
  !*** ./src/@pyro/io/router/metadata.ts ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var routerMetadata;
(function (routerMetadata) {
    routerMetadata.name = 'router:name';
    routerMetadata.listeners = 'router:listeners';
})(routerMetadata = exports.routerMetadata || (exports.routerMetadata = {}));


/***/ }),

/***/ "./src/@pyro/io/router/router.ts":
/*!***************************************!*\
  !*** ./src/@pyro/io/router/router.ts ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const metadata_1 = __webpack_require__(/*! ./metadata */ "./src/@pyro/io/router/metadata.ts");
exports.RouterSymbol = Symbol('Router');
exports.routerName = (name) => Reflect.metadata(metadata_1.routerMetadata.name, name);
exports.getRouterName = (router) => {
    return Reflect.getMetadata(metadata_1.routerMetadata.name, router.constructor);
};
exports.getListeners = (router) => {
    return Reflect.getMetadata(metadata_1.routerMetadata.listeners, router.constructor);
};


/***/ }),

/***/ "./src/@pyro/io/routers-manager.ts":
/*!*****************************************!*\
  !*** ./src/@pyro/io/routers-manager.ts ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const Log_1 = __webpack_require__(/*! ../../helpers/Log */ "./src/helpers/Log.ts");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const router_1 = __webpack_require__(/*! ./router/router */ "./src/@pyro/io/router/router.ts");
const handler_1 = __webpack_require__(/*! ./router/handler */ "./src/@pyro/io/router/handler.ts");
let RoutersManager = class RoutersManager {
    constructor(routers) {
        this.routers = routers;
        this.log = Log_1.createEverLogger({ name: 'io' });
    }
    startListening(io) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            this.io = io;
            this.routers.forEach((router) => tslib_1.__awaiter(this, void 0, void 0, function* () {
                yield this.startRouterListening(router);
            }));
        });
    }
    startRouterListening(router) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            try {
                const routerHandler = new handler_1.RouterHandler(this.io, router, this.log);
                yield routerHandler.listen();
            }
            catch (err) {
                this.log.fatal("Couldn't start router listening!", { err });
            }
        });
    }
};
RoutersManager = tslib_1.__decorate([
    inversify_1.injectable(),
    tslib_1.__param(0, inversify_1.multiInject(router_1.RouterSymbol)),
    tslib_1.__metadata("design:paramtypes", [Array])
], RoutersManager);
exports.RoutersManager = RoutersManager;


/***/ }),

/***/ "./src/app.module.ts":
/*!***************************!*\
  !*** ./src/app.module.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const mongoose_1 = tslib_1.__importDefault(__webpack_require__(/*! mongoose */ "mongoose"));
const graphql_1 = __webpack_require__(/*! @nestjs/graphql */ "@nestjs/graphql");
const subscriptions_module_1 = __webpack_require__(/*! ./graphql/subscriptions/subscriptions.module */ "./src/graphql/subscriptions/subscriptions.module.ts");
const subscriptions_service_1 = __webpack_require__(/*! ./graphql/subscriptions/subscriptions.service */ "./src/graphql/subscriptions/subscriptions.service.ts");
const invites_module_1 = __webpack_require__(/*! ./graphql/invites/invites.module */ "./src/graphql/invites/invites.module.ts");
const devices_module_1 = __webpack_require__(/*! ./graphql/devices/devices.module */ "./src/graphql/devices/devices.module.ts");
const config_module_1 = __webpack_require__(/*! ./config/config.module */ "./src/config/config.module.ts");
const product_module_1 = __webpack_require__(/*! ./controllers/product/product.module */ "./src/controllers/product/product.module.ts");
const users_module_1 = __webpack_require__(/*! ./graphql/users/users.module */ "./src/graphql/users/users.module.ts");
const warehouses_module_1 = __webpack_require__(/*! ./graphql/warehouses/warehouses.module */ "./src/graphql/warehouses/warehouses.module.ts");
const orders_module_1 = __webpack_require__(/*! ./graphql/orders/orders.module */ "./src/graphql/orders/orders.module.ts");
const carriers_module_1 = __webpack_require__(/*! ./graphql/carriers/carriers.module */ "./src/graphql/carriers/carriers.module.ts");
const products_module_1 = __webpack_require__(/*! ./graphql/products/products.module */ "./src/graphql/products/products.module.ts");
const env_1 = __webpack_require__(/*! ./env */ "./src/env.ts");
const Log_1 = __webpack_require__(/*! ./helpers/Log */ "./src/helpers/Log.ts");
const cqrs_1 = __webpack_require__(/*! @nestjs/cqrs */ "@nestjs/cqrs");
const test_controller_1 = __webpack_require__(/*! ./controllers/test.controller */ "./src/controllers/test.controller.ts");
const core_1 = __webpack_require__(/*! @nestjs/core */ "@nestjs/core");
const geo_locations_module_1 = __webpack_require__(/*! ./graphql/geo-locations/geo-locations.module */ "./src/graphql/geo-locations/geo-locations.module.ts");
const scalars_1 = __webpack_require__(/*! ./graphql/scalars */ "./src/graphql/scalars/index.ts");
const warehouses_products_modules_1 = __webpack_require__(/*! ./graphql/warehouses-products/warehouses-products.modules */ "./src/graphql/warehouses-products/warehouses-products.modules.ts");
const warehouses_carriers_module_1 = __webpack_require__(/*! ./graphql/warehouses-carriers/warehouses-carriers.module */ "./src/graphql/warehouses-carriers/warehouses-carriers.module.ts");
const warehouses_orders_module_1 = __webpack_require__(/*! ./graphql/warehouses-orders/warehouses-orders.module */ "./src/graphql/warehouses-orders/warehouses-orders.module.ts");
const invites_requests_module_1 = __webpack_require__(/*! ./graphql/invites-requests/invites-requests.module */ "./src/graphql/invites-requests/invites-requests.module.ts");
const auth_module_1 = __webpack_require__(/*! ./auth/auth.module */ "./src/auth/auth.module.ts");
const admins_module_1 = __webpack_require__(/*! ./graphql/admin/admins.module */ "./src/graphql/admin/admins.module.ts");
const data_module_1 = __webpack_require__(/*! ./graphql/data/data.module */ "./src/graphql/data/data.module.ts");
const carriers_orders_module_1 = __webpack_require__(/*! ./graphql/carriers-orders/carriers-orders.module */ "./src/graphql/carriers-orders/carriers-orders.module.ts");
const geo_location_orders_module_1 = __webpack_require__(/*! ./graphql/geo-locations/orders/geo-location-orders.module */ "./src/graphql/geo-locations/orders/geo-location-orders.module.ts");
const geo_location_merchants_module_1 = __webpack_require__(/*! ./graphql/geo-locations/merchants/geo-location-merchants.module */ "./src/graphql/geo-locations/merchants/geo-location-merchants.module.ts");
const apollo_server_express_1 = __webpack_require__(/*! apollo-server-express */ "apollo-server-express");
const merge_graphql_schemas_1 = __webpack_require__(/*! merge-graphql-schemas */ "merge-graphql-schemas");
const users_1 = __webpack_require__(/*! ./services/users */ "./src/services/users/index.ts");
const typeorm_1 = __webpack_require__(/*! @nestjs/typeorm */ "@nestjs/typeorm");
const services_module_1 = __webpack_require__(/*! ./services/services.module */ "./src/services/services.module.ts");
const services_app_1 = __webpack_require__(/*! ./services/services.app */ "./src/services/services.app.ts");
const currency_module_1 = __webpack_require__(/*! ./graphql/currency/currency.module */ "./src/graphql/currency/currency.module.ts");
const port = env_1.env.GQLPORT;
const log = Log_1.createEverLogger({
    name: 'ApplicationModule from NestJS',
});
exports.CommandHandlers = [users_1.GetAboutUsHandler];
exports.EventHandlers = [];
const entities = services_app_1.ServicesApp.getEntities();
let ApplicationModule = class ApplicationModule {
    constructor(subscriptionsService, moduleRef, command$, event$) {
        this.subscriptionsService = subscriptionsService;
        this.moduleRef = moduleRef;
        this.command$ = command$;
        this.event$ = event$;
    }
    onModuleInit() {
        this.event$.register(exports.EventHandlers);
        this.command$.register(exports.CommandHandlers);
    }
    configure(consumer) {
        const { ObjectId } = mongoose_1.default.Types;
        ObjectId.prototype.valueOf = function () {
            return this.toString();
        };
        log.info(`GraphQL playground available at http://localhost/graphql`);
    }
    createServer(schema) {
        return new apollo_server_express_1.ApolloServer({
            schema,
            context: ({ req, res }) => ({
                req,
            }),
            playground: {
                endpoint: `http://localhost/graphql`,
                subscriptionEndpoint: `ws://localhost/subscriptions`,
                settings: {
                    'editor.theme': 'dark',
                },
            },
        });
    }
    createSchema() {
        const graphqlPath = './**/*.graphql';
        console.log(`Searching for *.graphql files`);
        const typesArray = merge_graphql_schemas_1.fileLoader(graphqlPath);
        const typeDefs = merge_graphql_schemas_1.mergeTypes(typesArray, { all: true });
        const schema = apollo_server_express_1.makeExecutableSchema({
            typeDefs,
            resolvers: Object.assign({}, scalars_1.SCALARS),
        });
        return schema;
    }
};
ApplicationModule = tslib_1.__decorate([
    common_1.Module({
        controllers: [test_controller_1.TestController],
        providers: [...exports.CommandHandlers, ...exports.EventHandlers],
        imports: [
            data_module_1.DataModule,
            services_module_1.ServicesModule,
            cqrs_1.CqrsModule,
            auth_module_1.AuthModule,
            admins_module_1.AdminsModule,
            config_module_1.ConfigModule,
            typeorm_1.TypeOrmModule.forRoot({
                type: 'mongodb',
                host: 'localhost',
                database: 'test',
                entities,
                synchronize: true,
                useNewUrlParser: true,
                autoReconnect: true,
                logging: true,
            }),
            typeorm_1.TypeOrmModule.forFeature(entities),
            subscriptions_module_1.SubscriptionsModule.forRoot(env_1.env.GQLPORT_SUBSCRIPTIONS),
            graphql_1.GraphQLModule.forRoot({
                typePaths: ['./**/*.graphql'],
                installSubscriptionHandlers: true,
                debug: true,
                playground: true,
                context: ({ req, res }) => ({
                    req,
                }),
            }),
            invites_module_1.InvitesModule,
            devices_module_1.DevicesModule,
            product_module_1.ProductModule,
            warehouses_module_1.WarehousesModule,
            geo_locations_module_1.GeoLocationsModule,
            users_module_1.UsersModule,
            orders_module_1.OrdersModule,
            carriers_module_1.CarriersModule,
            carriers_orders_module_1.CarriersOrdersModule,
            products_module_1.ProductsModule,
            warehouses_products_modules_1.WarehousesProductsModule,
            warehouses_orders_module_1.WarehousesOrdersModule,
            warehouses_carriers_module_1.WarehousesCarriersModule,
            invites_requests_module_1.InvitesRequestsModule,
            geo_location_orders_module_1.GeoLocationOrdersModule,
            geo_location_merchants_module_1.GeoLocationMerchantsModule,
            currency_module_1.CurrencyModule,
        ],
    }),
    tslib_1.__metadata("design:paramtypes", [subscriptions_service_1.SubscriptionsService,
        core_1.ModuleRef,
        cqrs_1.CommandBus,
        cqrs_1.EventBus])
], ApplicationModule);
exports.ApplicationModule = ApplicationModule;


/***/ }),

/***/ "./src/auth/auth.module.ts":
/*!*********************************!*\
  !*** ./src/auth/auth.module.ts ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const jwt_strategy_1 = __webpack_require__(/*! ./jwt.strategy */ "./src/auth/jwt.strategy.ts");
let AuthModule = class AuthModule {
};
AuthModule = tslib_1.__decorate([
    common_1.Module({
        imports: [],
        providers: [jwt_strategy_1.JwtStrategy],
        exports: [],
    })
], AuthModule);
exports.AuthModule = AuthModule;


/***/ }),

/***/ "./src/auth/jwt.strategy.ts":
/*!**********************************!*\
  !*** ./src/auth/jwt.strategy.ts ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const passport_jwt_1 = __webpack_require__(/*! passport-jwt */ "passport-jwt");
const passport_1 = __webpack_require__(/*! @nestjs/passport */ "@nestjs/passport");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const auth_1 = __webpack_require__(/*! ../services/auth */ "./src/services/auth/index.ts");
let JwtStrategy = class JwtStrategy extends passport_1.PassportStrategy(passport_jwt_1.Strategy) {
    constructor(authService) {
        super(auth_1.createJwtData);
        this.authService = authService;
    }
    validate(payload, done) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const user = yield this.authService.validateUser(payload);
            if (!user) {
                return done(new common_1.UnauthorizedException(), false);
            }
            done(null, user);
        });
    }
};
JwtStrategy = tslib_1.__decorate([
    common_1.Injectable(),
    tslib_1.__metadata("design:paramtypes", [auth_1.AuthenticationService])
], JwtStrategy);
exports.JwtStrategy = JwtStrategy;


/***/ }),

/***/ "./src/config/config.module.ts":
/*!*************************************!*\
  !*** ./src/config/config.module.ts ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const config_service_1 = __webpack_require__(/*! ./config.service */ "./src/config/config.service.ts");
let ConfigModule = class ConfigModule {
};
ConfigModule = tslib_1.__decorate([
    common_1.Module({
        providers: [
            {
                provide: config_service_1.ConfigService,
                useValue: new config_service_1.ConfigService(),
            },
        ],
        exports: [config_service_1.ConfigService],
    })
], ConfigModule);
exports.ConfigModule = ConfigModule;


/***/ }),

/***/ "./src/config/config.service.ts":
/*!**************************************!*\
  !*** ./src/config/config.service.ts ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const env_1 = __webpack_require__(/*! ../env */ "./src/env.ts");
let ConfigService = class ConfigService {
    get(key) {
        return env_1.env[key];
    }
    get Env() {
        return env_1.env;
    }
};
ConfigService = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('configService')
], ConfigService);
exports.ConfigService = ConfigService;


/***/ }),

/***/ "./src/controllers/product/ProductsDto.ts":
/*!************************************************!*\
  !*** ./src/controllers/product/ProductsDto.ts ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const swagger_1 = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
class UpdateProductDto {
}
tslib_1.__decorate([
    swagger_1.ApiModelProperty(),
    tslib_1.__metadata("design:type", String)
], UpdateProductDto.prototype, "name", void 0);
tslib_1.__decorate([
    swagger_1.ApiModelProperty(),
    tslib_1.__metadata("design:type", Number)
], UpdateProductDto.prototype, "price", void 0);
exports.UpdateProductDto = UpdateProductDto;
class CreateProductDto {
}
tslib_1.__decorate([
    swagger_1.ApiModelProperty(),
    tslib_1.__metadata("design:type", Array)
], CreateProductDto.prototype, "title", void 0);
tslib_1.__decorate([
    swagger_1.ApiModelProperty(),
    tslib_1.__metadata("design:type", Array)
], CreateProductDto.prototype, "description", void 0);
tslib_1.__decorate([
    swagger_1.ApiModelProperty(),
    tslib_1.__metadata("design:type", Array)
], CreateProductDto.prototype, "images", void 0);
exports.CreateProductDto = CreateProductDto;


/***/ }),

/***/ "./src/controllers/product/product.controller.ts":
/*!*******************************************************!*\
  !*** ./src/controllers/product/product.controller.ts ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const swagger_1 = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
const ProductsDto_1 = __webpack_require__(/*! ./ProductsDto */ "./src/controllers/product/ProductsDto.ts");
const passport_1 = __webpack_require__(/*! @nestjs/passport */ "@nestjs/passport");
const products_1 = __webpack_require__(/*! ../../services/products */ "./src/services/products/index.ts");
let ProductController = class ProductController {
    constructor(productsService) {
        this.productsService = productsService;
    }
    findAll(request) {
        return this.productsService.find({});
    }
    findOne(id) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const prod = yield this.productsService.getCurrent(id);
            return prod;
        });
    }
    create(createInfo) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this.productsService.create(createInfo);
        });
    }
    update(id, updateInfo) {
        return `Here updates a #${id} product`;
    }
    remove(id) {
        return `Here removes a #${id} product`;
    }
};
tslib_1.__decorate([
    common_1.Get(),
    common_1.Header('Cache-Control', 'none'),
    common_1.UseGuards(passport_1.AuthGuard('jwt')),
    swagger_1.ApiBearerAuth(),
    tslib_1.__param(0, common_1.Req()),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", void 0)
], ProductController.prototype, "findAll", null);
tslib_1.__decorate([
    common_1.Get(':id'),
    tslib_1.__param(0, common_1.Param('id')),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String]),
    tslib_1.__metadata("design:returntype", Promise)
], ProductController.prototype, "findOne", null);
tslib_1.__decorate([
    common_1.Post(':id'),
    tslib_1.__param(0, common_1.Body()),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [ProductsDto_1.CreateProductDto]),
    tslib_1.__metadata("design:returntype", Promise)
], ProductController.prototype, "create", null);
tslib_1.__decorate([
    common_1.Put(':id'),
    tslib_1.__param(0, common_1.Param('id')), tslib_1.__param(1, common_1.Body()),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, ProductsDto_1.UpdateProductDto]),
    tslib_1.__metadata("design:returntype", void 0)
], ProductController.prototype, "update", null);
tslib_1.__decorate([
    common_1.Delete('id'),
    tslib_1.__param(0, common_1.Param('id')),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String]),
    tslib_1.__metadata("design:returntype", void 0)
], ProductController.prototype, "remove", null);
ProductController = tslib_1.__decorate([
    swagger_1.ApiUseTags('product'),
    common_1.Controller('product'),
    tslib_1.__metadata("design:paramtypes", [products_1.ProductsService])
], ProductController);
exports.ProductController = ProductController;


/***/ }),

/***/ "./src/controllers/product/product.module.ts":
/*!***************************************************!*\
  !*** ./src/controllers/product/product.module.ts ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const product_controller_1 = __webpack_require__(/*! ./product.controller */ "./src/controllers/product/product.controller.ts");
let ProductModule = class ProductModule {
};
ProductModule = tslib_1.__decorate([
    common_1.Module({
        controllers: [product_controller_1.ProductController],
    })
], ProductModule);
exports.ProductModule = ProductModule;


/***/ }),

/***/ "./src/controllers/test.controller.ts":
/*!********************************************!*\
  !*** ./src/controllers/test.controller.ts ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const users_1 = __webpack_require__(/*! ../services/users */ "./src/services/users/index.ts");
const swagger_1 = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
let TestController = class TestController {
    constructor(_userCommandService) {
        this._userCommandService = _userCommandService;
    }
    index() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const userId = '1';
            const deviceId = '2';
            yield this._userCommandService.exec(userId, deviceId);
        });
    }
};
tslib_1.__decorate([
    common_1.Get('index'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", Promise)
], TestController.prototype, "index", null);
TestController = tslib_1.__decorate([
    swagger_1.ApiUseTags('test'),
    common_1.Controller('test'),
    tslib_1.__metadata("design:paramtypes", [users_1.UserCommandService])
], TestController);
exports.TestController = TestController;


/***/ }),

/***/ "./src/env.ts":
/*!********************!*\
  !*** ./src/env.ts ***!
  \********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(__dirname) {
Object.defineProperty(exports, "__esModule", { value: true });
const envalid_1 = __webpack_require__(/*! envalid */ "envalid");
exports.env = envalid_1.cleanEnv(process.env, {
    NODE_ENV: envalid_1.str({
        choices: ['production', 'development', 'test'],
        default: 'development',
    }),
    WEB_CONCURRENCY: envalid_1.num({ default: 1 }),
    WEB_MEMORY: envalid_1.num({ default: 2048 }),
    HTTPSPORT: envalid_1.port({ default: 5501 }),
    HTTPPORT: envalid_1.port({ default: 5500 }),
    GQLPORT: envalid_1.port({ default: 5555 }),
    GQLPORT_SUBSCRIPTIONS: envalid_1.port({ default: 5050 }),
    HTTPS_CERT_PATH: envalid_1.str({ default: 'certificates/https/cert.pem' }),
    HTTPS_KEY_PATH: envalid_1.str({ default: 'certificates/https/key.pem' }),
    LOGS_PATH: envalid_1.str({ default: './tmp/logs' }),
    DB_URI: envalid_1.str({ default: 'mongodb://localhost/ever_development' }),
    TESTING_DB_URI: envalid_1.str({ default: 'mongodb://localhost/ever_testing' }),
    STRIPE_SECRET_KEY: envalid_1.str({ default: '' }),
    URBAN_AIRSHIP_KEY: envalid_1.str({ default: '' }),
    URBAN_AIRSHIP_SECRET: envalid_1.str({ default: '' }),
    AWS_ACCESS_KEY_ID: envalid_1.str({ default: '' }),
    AWS_SECRET_ACCESS_KEY: envalid_1.str({ default: '' }),
    KEYMETRICS_MACHINE_NAME: envalid_1.str({ default: '' }),
    KEYMETRICS_SECRET_KEY: envalid_1.str({ default: '' }),
    KEYMETRICS_PUBLIC_KEY: envalid_1.str({ default: '' }),
    GOOGLE_APP_ID: envalid_1.str({ default: '' }),
    GOOGLE_APP_SECRET: envalid_1.str({ default: '' }),
    FACEBOOK_APP_ID: envalid_1.str({ default: '' }),
    FACEBOOK_APP_SECRET: envalid_1.str({ default: '' }),
    JWT_SECRET: envalid_1.str({ default: 'default' }),
    ADMIN_PASSWORD_BCRYPT_SALT_ROUNDS: envalid_1.num({
        desc: 'Used for passwords encryption, recommended value: 12',
        docs: 'https://security.stackexchange.com/questions/17207/recommended-of-rounds-for-bcrypt',
        default: 12,
    }),
    WAREHOUSE_PASSWORD_BCRYPT_SALT_ROUNDS: envalid_1.num({
        desc: 'Used for passwords encryption, recommended value: 12',
        docs: 'https://security.stackexchange.com/questions/17207/recommended-of-rounds-for-bcrypt',
        default: 12,
    }),
    CARRIER_PASSWORD_BCRYPT_SALT_ROUNDS: envalid_1.num({
        desc: 'Used for passwords encryption, recommended value: 12',
        docs: 'https://security.stackexchange.com/questions/17207/recommended-of-rounds-for-bcrypt',
        default: 12,
    }),
    USER_PASSWORD_BCRYPT_SALT_ROUNDS: envalid_1.num({
        desc: 'Used for passwords encryption, recommended value: 10',
        docs: 'https://security.stackexchange.com/questions/17207/recommended-of-rounds-for-bcrypt',
        default: 10,
    }),
    SETTING_INVITES_ENABLED: envalid_1.bool({ default: false }),
    SETTINGS_REGISTRATIONS_REQUIRED_ON_START: envalid_1.bool({ default: false }),
    FAKE_INVITE_CODE: envalid_1.num({ default: 0 }),
    ARCGIS_CLIENT_ID: envalid_1.str({ default: '' }),
    ARCGIS_CLIENT_SECRET: envalid_1.str({ default: '' }),
    IP_STACK_API_KEY: envalid_1.str({ default: '' }),
    LOG_LEVEL: envalid_1.str({
        choices: ['trace', 'debug', 'info', 'warn', 'error', 'fatal'],
        default: 'error',
    }),
    ENGINE_API_KEY: envalid_1.str({
        desc: 'Apollo Engine Key (optional, see https://www.apollographql.com/docs/platform/schema-registry)',
        default: '',
    }),
    MAX_SOCKETS: envalid_1.num({ default: Infinity }),
}, { strict: true, dotEnvPath: __dirname + '/../.env' });

/* WEBPACK VAR INJECTION */}.call(this, "/"))

/***/ }),

/***/ "./src/graphql/admin/admin.resolver.ts":
/*!*********************************************!*\
  !*** ./src/graphql/admin/admin.resolver.ts ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const graphql_1 = __webpack_require__(/*! @nestjs/graphql */ "@nestjs/graphql");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const admins_1 = __webpack_require__(/*! ../../services/admins */ "./src/services/admins/index.ts");
const passport_jwt_1 = __webpack_require__(/*! passport-jwt */ "passport-jwt");
let AdminResolver = class AdminResolver {
    constructor(_adminsService) {
        this._adminsService = _adminsService;
    }
    getAdmin(_, { id }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._adminsService.get(id).pipe(operators_1.first()).toPromise();
        });
    }
    getByEmail(_, { email }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._adminsService.getByEmail(email);
        });
    }
    registerAdmin(_, { registerInput }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._adminsService.register(registerInput);
        });
    }
    updateAdmin(_, { id, updateInput }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this._adminsService.throwIfNotExists(id);
            return this._adminsService.update(id, updateInput);
        });
    }
    adminLogin(_, { email, password }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._adminsService.login(email, password);
        });
    }
    adminAuthenticated(_, __, context) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._adminsService.isAuthenticated(passport_jwt_1.ExtractJwt.fromAuthHeaderAsBearerToken()(context.req));
        });
    }
    updateAdminPassword(_, { id, password, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._adminsService.updatePassword(id, password);
        });
    }
};
tslib_1.__decorate([
    graphql_1.Query('admin'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], AdminResolver.prototype, "getAdmin", null);
tslib_1.__decorate([
    graphql_1.Query('adminByEmail'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], AdminResolver.prototype, "getByEmail", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], AdminResolver.prototype, "registerAdmin", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], AdminResolver.prototype, "updateAdmin", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], AdminResolver.prototype, "adminLogin", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], AdminResolver.prototype, "adminAuthenticated", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], AdminResolver.prototype, "updateAdminPassword", null);
AdminResolver = tslib_1.__decorate([
    graphql_1.Resolver('Admin'),
    tslib_1.__metadata("design:paramtypes", [admins_1.AdminsService])
], AdminResolver);
exports.AdminResolver = AdminResolver;


/***/ }),

/***/ "./src/graphql/admin/admins.module.ts":
/*!********************************************!*\
  !*** ./src/graphql/admin/admins.module.ts ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const admin_resolver_1 = __webpack_require__(/*! ./admin.resolver */ "./src/graphql/admin/admin.resolver.ts");
let AdminsModule = class AdminsModule {
};
AdminsModule = tslib_1.__decorate([
    common_1.Module({
        providers: [admin_resolver_1.AdminResolver],
    })
], AdminsModule);
exports.AdminsModule = AdminsModule;


/***/ }),

/***/ "./src/graphql/carriers-orders/carriers-orders.module.ts":
/*!***************************************************************!*\
  !*** ./src/graphql/carriers-orders/carriers-orders.module.ts ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const carriers_orders_resolver_1 = __webpack_require__(/*! ./carriers-orders.resolver */ "./src/graphql/carriers-orders/carriers-orders.resolver.ts");
let CarriersOrdersModule = class CarriersOrdersModule {
};
CarriersOrdersModule = tslib_1.__decorate([
    common_1.Module({
        providers: [carriers_orders_resolver_1.CarriersOrdersResolver],
    })
], CarriersOrdersModule);
exports.CarriersOrdersModule = CarriersOrdersModule;


/***/ }),

/***/ "./src/graphql/carriers-orders/carriers-orders.resolver.ts":
/*!*****************************************************************!*\
  !*** ./src/graphql/carriers-orders/carriers-orders.resolver.ts ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const graphql_1 = __webpack_require__(/*! @nestjs/graphql */ "@nestjs/graphql");
const carriers_1 = __webpack_require__(/*! ../../services/carriers */ "./src/services/carriers/index.ts");
const Order_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Order */ "./node_modules/@ever-platform/common/src/entities/Order.ts"));
let CarriersOrdersResolver = class CarriersOrdersResolver {
    constructor(_carriersOrdersService) {
        this._carriersOrdersService = _carriersOrdersService;
    }
    getCarrierOrders(_, { carrierId, options, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._carriersOrdersService.getCarrierOrders(carrierId, options);
        });
    }
    getCarrierCurrentOrder(_, { carrierId }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const dbOrder = yield this._carriersOrdersService.getCarrierCurrentOrder(carrierId);
            return dbOrder !== null ? new Order_1.default(dbOrder) : null;
        });
    }
    getCarrierOrdersHistory(_, { carrierId, options, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._carriersOrdersService.getCarrierOrdersHistory(carrierId, options);
        });
    }
    getCountOfCarrierOrdersHistory(_, { carrierId }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._carriersOrdersService.getCountOfCarrierOrdersHistory(carrierId);
        });
    }
};
tslib_1.__decorate([
    graphql_1.Query('getCarrierOrders'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], CarriersOrdersResolver.prototype, "getCarrierOrders", null);
tslib_1.__decorate([
    graphql_1.Query('getCarrierCurrentOrder'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], CarriersOrdersResolver.prototype, "getCarrierCurrentOrder", null);
tslib_1.__decorate([
    graphql_1.Query('getCarrierOrdersHistory'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], CarriersOrdersResolver.prototype, "getCarrierOrdersHistory", null);
tslib_1.__decorate([
    graphql_1.Query('getCountOfCarrierOrdersHistory'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], CarriersOrdersResolver.prototype, "getCountOfCarrierOrdersHistory", null);
CarriersOrdersResolver = tslib_1.__decorate([
    graphql_1.Resolver('CarriersOrders'),
    tslib_1.__metadata("design:paramtypes", [carriers_1.CarriersOrdersService])
], CarriersOrdersResolver);
exports.CarriersOrdersResolver = CarriersOrdersResolver;


/***/ }),

/***/ "./src/graphql/carriers/carrier.resolver.ts":
/*!**************************************************!*\
  !*** ./src/graphql/carriers/carrier.resolver.ts ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const graphql_1 = __webpack_require__(/*! @nestjs/graphql */ "@nestjs/graphql");
const carriers_1 = __webpack_require__(/*! ../../services/carriers */ "./src/services/carriers/index.ts");
const Carrier_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Carrier */ "./node_modules/@ever-platform/common/src/entities/Carrier.ts"));
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const devices_1 = __webpack_require__(/*! ../../services/devices */ "./src/services/devices/index.ts");
const CarrierStatus_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/enums/CarrierStatus */ "./node_modules/@ever-platform/common/src/enums/CarrierStatus.ts"));
let CarrierResolver = class CarrierResolver {
    constructor(_carriersService, _devicesService) {
        this._carriersService = _carriersService;
        this._devicesService = _devicesService;
    }
    getActiveCarriers() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._carriersService.getAllActive().pipe(operators_1.first()).toPromise();
        });
    }
    getCarriers(_, { carriersFindInput, pagingOptions = {} }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            if (!pagingOptions || (pagingOptions && !pagingOptions['sort'])) {
                pagingOptions['sort'] = { field: '_createdAt', sortBy: 'desc' };
            }
            const carriers = yield this._carriersService.getCarriers(carriersFindInput, pagingOptions);
            return carriers.map((c) => new Carrier_1.default(c));
        });
    }
    getCarrierByUsername(_, { username }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._carriersService.findOne({
                username,
                isDeleted: { $eq: false },
            });
        });
    }
    getCarrier(_, { id }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._carriersService.get(id).pipe(operators_1.first()).toPromise();
        });
    }
    getCountOfCarriers(_, { carriersFindInput }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._carriersService.Model.find(Object.assign(Object.assign({}, carriersFindInput), { isDeleted: { $eq: false } }))
                .countDocuments()
                .exec();
        });
    }
    updateCarrierEmail(_, { carrierId, email }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._carriersService.updateEmail(carrierId, email);
        });
    }
    registerCarrier(_, { registerInput }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._carriersService.register(registerInput);
        });
    }
    updateCarrierStatus(_, { id, status }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            this._carriersService.updateStatus(id, CarrierStatus_1.default[status]);
        });
    }
    updateCarrier(_, { id, updateInput }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this._carriersService.throwIfNotExists(id);
            return this._carriersService.update(id, updateInput);
        });
    }
    removeCarrier(_, { id }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this._carriersService.throwIfNotExists(id);
            return this._carriersService.remove(id);
        });
    }
    removeCarriersByIds(_, { ids }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const carriers = yield this._carriersService.find({
                _id: { $in: ids },
                isDeleted: { $eq: false },
            });
            const carriersIds = carriers.map((d) => d.id);
            return this._carriersService.removeMultipleByIds(carriersIds);
        });
    }
    getDevices(_carrier) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const carrier = new Carrier_1.default(_carrier);
            return this._devicesService
                .getMultiple(carrier.devicesIds)
                .pipe(operators_1.map((devices) => devices.filter((d) => !d.isDeleted)), operators_1.first())
                .toPromise();
        });
    }
    carrierLogin(_, { username, password }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._carriersService.login(username, password);
        });
    }
    updateCarrierPassword(_, { id, password, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._carriersService.updatePassword(id, password);
        });
    }
};
tslib_1.__decorate([
    graphql_1.Query('getActiveCarriers'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", Promise)
], CarrierResolver.prototype, "getActiveCarriers", null);
tslib_1.__decorate([
    graphql_1.Query('getCarriers'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], CarrierResolver.prototype, "getCarriers", null);
tslib_1.__decorate([
    graphql_1.Query('getCarrierByUsername'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], CarrierResolver.prototype, "getCarrierByUsername", null);
tslib_1.__decorate([
    graphql_1.Query('getCarrier'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], CarrierResolver.prototype, "getCarrier", null);
tslib_1.__decorate([
    graphql_1.Query('getCountOfCarriers'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], CarrierResolver.prototype, "getCountOfCarriers", null);
tslib_1.__decorate([
    graphql_1.Mutation('updateCarrierEmail'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], CarrierResolver.prototype, "updateCarrierEmail", null);
tslib_1.__decorate([
    graphql_1.Mutation('registerCarrier'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], CarrierResolver.prototype, "registerCarrier", null);
tslib_1.__decorate([
    graphql_1.Mutation('updateCarrierStatus'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], CarrierResolver.prototype, "updateCarrierStatus", null);
tslib_1.__decorate([
    graphql_1.Mutation('updateCarrier'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], CarrierResolver.prototype, "updateCarrier", null);
tslib_1.__decorate([
    graphql_1.Mutation('removeCarrier'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], CarrierResolver.prototype, "removeCarrier", null);
tslib_1.__decorate([
    graphql_1.Mutation('removeCarriersByIds'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], CarrierResolver.prototype, "removeCarriersByIds", null);
tslib_1.__decorate([
    graphql_1.ResolveProperty('devices'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], CarrierResolver.prototype, "getDevices", null);
tslib_1.__decorate([
    graphql_1.Mutation('carrierLogin'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], CarrierResolver.prototype, "carrierLogin", null);
tslib_1.__decorate([
    graphql_1.Mutation('updateCarrierPassword'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], CarrierResolver.prototype, "updateCarrierPassword", null);
CarrierResolver = tslib_1.__decorate([
    graphql_1.Resolver('Carrier'),
    tslib_1.__metadata("design:paramtypes", [carriers_1.CarriersService,
        devices_1.DevicesService])
], CarrierResolver);
exports.CarrierResolver = CarrierResolver;


/***/ }),

/***/ "./src/graphql/carriers/carriers.module.ts":
/*!*************************************************!*\
  !*** ./src/graphql/carriers/carriers.module.ts ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const carrier_resolver_1 = __webpack_require__(/*! ./carrier.resolver */ "./src/graphql/carriers/carrier.resolver.ts");
let CarriersModule = class CarriersModule {
};
CarriersModule = tslib_1.__decorate([
    common_1.Module({
        providers: [carrier_resolver_1.CarrierResolver],
    })
], CarriersModule);
exports.CarriersModule = CarriersModule;


/***/ }),

/***/ "./src/graphql/currency/currency.module.ts":
/*!*************************************************!*\
  !*** ./src/graphql/currency/currency.module.ts ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const currency_resolver_1 = __webpack_require__(/*! ./currency.resolver */ "./src/graphql/currency/currency.resolver.ts");
let CurrencyModule = class CurrencyModule {
};
CurrencyModule = tslib_1.__decorate([
    common_1.Module({
        providers: [currency_resolver_1.CurrencyResolver],
    })
], CurrencyModule);
exports.CurrencyModule = CurrencyModule;


/***/ }),

/***/ "./src/graphql/currency/currency.resolver.ts":
/*!***************************************************!*\
  !*** ./src/graphql/currency/currency.resolver.ts ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const graphql_1 = __webpack_require__(/*! @nestjs/graphql */ "@nestjs/graphql");
const CurrencyService_1 = __webpack_require__(/*! ../../services/currency/CurrencyService */ "./src/services/currency/CurrencyService.ts");
let CurrencyResolver = class CurrencyResolver {
    constructor(_currenciesService) {
        this._currenciesService = _currenciesService;
    }
    getCurrencies(_) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._currenciesService.getAllCurrencies();
        });
    }
    createCurrency(_, { createInput }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._currenciesService.createCurrency(createInput);
        });
    }
};
tslib_1.__decorate([
    graphql_1.Query('currencies'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], CurrencyResolver.prototype, "getCurrencies", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], CurrencyResolver.prototype, "createCurrency", null);
CurrencyResolver = tslib_1.__decorate([
    graphql_1.Resolver('Currency'),
    tslib_1.__metadata("design:paramtypes", [CurrencyService_1.CurrenciesService])
], CurrencyResolver);
exports.CurrencyResolver = CurrencyResolver;


/***/ }),

/***/ "./src/graphql/data/data.module.ts":
/*!*****************************************!*\
  !*** ./src/graphql/data/data.module.ts ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const data_resolver_1 = __webpack_require__(/*! ./data.resolver */ "./src/graphql/data/data.resolver.ts");
let DataModule = class DataModule {
};
DataModule = tslib_1.__decorate([
    common_1.Module({
        providers: [data_resolver_1.DataResolver],
    })
], DataModule);
exports.DataModule = DataModule;


/***/ }),

/***/ "./src/graphql/data/data.resolver.ts":
/*!*******************************************!*\
  !*** ./src/graphql/data/data.resolver.ts ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const graphql_1 = __webpack_require__(/*! @nestjs/graphql */ "@nestjs/graphql");
const InvitesService_1 = __webpack_require__(/*! ../../services/invites/InvitesService */ "./src/services/invites/InvitesService.ts");
const admins_1 = __webpack_require__(/*! ../../services/admins */ "./src/services/admins/index.ts");
const carriers_1 = __webpack_require__(/*! ../../services/carriers */ "./src/services/carriers/index.ts");
const invites_1 = __webpack_require__(/*! ../../services/invites */ "./src/services/invites/index.ts");
const orders_1 = __webpack_require__(/*! ../../services/orders */ "./src/services/orders/index.ts");
const users_1 = __webpack_require__(/*! ../../services/users */ "./src/services/users/index.ts");
const warehouses_1 = __webpack_require__(/*! ../../services/warehouses */ "./src/services/warehouses/index.ts");
const devices_1 = __webpack_require__(/*! ../../services/devices */ "./src/services/devices/index.ts");
const products_1 = __webpack_require__(/*! ../../services/products */ "./src/services/products/index.ts");
let DataResolver = class DataResolver {
    constructor(_adminsService, _carriersService, _inviteRequestsService, _invitesService, _ordersService, _usersService, _storesService, _devicesService, _productsService, _productsCategoriesService) {
        this._adminsService = _adminsService;
        this._carriersService = _carriersService;
        this._inviteRequestsService = _inviteRequestsService;
        this._invitesService = _invitesService;
        this._ordersService = _ordersService;
        this._usersService = _usersService;
        this._storesService = _storesService;
        this._devicesService = _devicesService;
        this._productsService = _productsService;
        this._productsCategoriesService = _productsCategoriesService;
    }
    clearAll() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            [
                this._adminsService,
                this._carriersService,
                this._devicesService,
                this._invitesService,
                this._inviteRequestsService,
                this._ordersService,
                this._productsService,
                this._productsCategoriesService,
                this._usersService,
                this._storesService,
            ].forEach((service) => {
                service.Model.updateMany({}, { isDeleted: true }, (err, raw) => {
                    if (err !== null) {
                        const collectionName = service.constructor.name.replace('Service', '');
                        throw new Error(`Cannot update '${collectionName}' collection`);
                    }
                });
            });
            return true;
        });
    }
};
tslib_1.__decorate([
    graphql_1.Query('clearAll'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", Promise)
], DataResolver.prototype, "clearAll", null);
DataResolver = tslib_1.__decorate([
    graphql_1.Resolver('Data'),
    tslib_1.__metadata("design:paramtypes", [admins_1.AdminsService,
        carriers_1.CarriersService,
        invites_1.InvitesRequestsService,
        InvitesService_1.InvitesService,
        orders_1.OrdersService,
        users_1.UsersService,
        warehouses_1.WarehousesService,
        devices_1.DevicesService,
        products_1.ProductsService,
        products_1.ProductsCategoriesService])
], DataResolver);
exports.DataResolver = DataResolver;


/***/ }),

/***/ "./src/graphql/devices/device.resolver.ts":
/*!************************************************!*\
  !*** ./src/graphql/devices/device.resolver.ts ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const graphql_1 = __webpack_require__(/*! @nestjs/graphql */ "@nestjs/graphql");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const passport_1 = __webpack_require__(/*! @nestjs/passport */ "@nestjs/passport");
const graphql_subscriptions_1 = __webpack_require__(/*! graphql-subscriptions */ "graphql-subscriptions");
const devices_1 = __webpack_require__(/*! ../../services/devices */ "./src/services/devices/index.ts");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const pubSub = new graphql_subscriptions_1.PubSub();
let DeviceResolver = class DeviceResolver {
    constructor(_devicesService) {
        this._devicesService = _devicesService;
    }
    getDevice(_, { id }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._devicesService.get(id).pipe(operators_1.first()).toPromise();
        });
    }
    getDevices(_, { findInput }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._devicesService.find(Object.assign(Object.assign({}, findInput), { isDeleted: { $eq: false } }));
        });
    }
    updateDeviceLanguage(_, { deviceId, language, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._devicesService.updateLanguage(deviceId, language);
        });
    }
    createDevice(_, { createInfo }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._devicesService.create(createInfo);
        });
    }
    updateDevice(_, { id, updateInput }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this._devicesService.throwIfNotExists(id);
            try {
                const device = yield this._devicesService.update(id, updateInput);
                pubSub.publish('deviceCreated', { deviceCreated: device });
                return device;
            }
            catch (error) {
                console.log(error);
                return null;
            }
        });
    }
    removeDevice(_, { id }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this._devicesService.throwIfNotExists(id);
            return this._devicesService.remove(id);
        });
    }
    removeDeviceByIds(_, { ids }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const devices = yield this._devicesService.find({
                _id: { $in: ids },
                isDeleted: { $eq: false },
            });
            const devicesIds = devices.map((d) => d.id);
            return this._devicesService.removeMultipleByIds(devicesIds);
        });
    }
    deviceCreated() {
        return {
            subscribe: () => pubSub.asyncIterator('deviceCreated'),
        };
    }
};
tslib_1.__decorate([
    graphql_1.Query('device'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], DeviceResolver.prototype, "getDevice", null);
tslib_1.__decorate([
    graphql_1.Query('devices'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], DeviceResolver.prototype, "getDevices", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], DeviceResolver.prototype, "updateDeviceLanguage", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    common_1.UseGuards(passport_1.AuthGuard('jwt')),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], DeviceResolver.prototype, "createDevice", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], DeviceResolver.prototype, "updateDevice", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], DeviceResolver.prototype, "removeDevice", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], DeviceResolver.prototype, "removeDeviceByIds", null);
tslib_1.__decorate([
    graphql_1.Subscription(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", void 0)
], DeviceResolver.prototype, "deviceCreated", null);
DeviceResolver = tslib_1.__decorate([
    graphql_1.Resolver('Device'),
    tslib_1.__metadata("design:paramtypes", [devices_1.DevicesService])
], DeviceResolver);
exports.DeviceResolver = DeviceResolver;


/***/ }),

/***/ "./src/graphql/devices/devices.module.ts":
/*!***********************************************!*\
  !*** ./src/graphql/devices/devices.module.ts ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const device_resolver_1 = __webpack_require__(/*! ./device.resolver */ "./src/graphql/devices/device.resolver.ts");
let DevicesModule = class DevicesModule {
};
DevicesModule = tslib_1.__decorate([
    common_1.Module({
        providers: [device_resolver_1.DeviceResolver],
    })
], DevicesModule);
exports.DevicesModule = DevicesModule;


/***/ }),

/***/ "./src/graphql/geo-locations/geo-location.resolver.ts":
/*!************************************************************!*\
  !*** ./src/graphql/geo-locations/geo-location.resolver.ts ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const graphql_1 = __webpack_require__(/*! @nestjs/graphql */ "@nestjs/graphql");
const geo_locations_1 = __webpack_require__(/*! ../../services/geo-locations */ "./src/services/geo-locations/index.ts");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
let GeoLocationResolver = class GeoLocationResolver {
    constructor(geoLocationsProductsService) {
        this.geoLocationsProductsService = geoLocationsProductsService;
    }
    getGeoLocationProducts(_, { geoLocation }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this.geoLocationsProductsService
                .get(geoLocation)
                .pipe(operators_1.first())
                .toPromise();
        });
    }
    geoLocationProductsByPaging(_, { geoLocation, options, pagingOptions = {}, searchText, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this.geoLocationsProductsService.geoLocationProductsByPaging(geoLocation, pagingOptions, options, searchText);
        });
    }
    getCountOfGeoLocationProducts(_, { geoLocation, options, searchText, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this.geoLocationsProductsService.getCountOfGeoLocationProducts(geoLocation, options, searchText);
        });
    }
};
tslib_1.__decorate([
    graphql_1.Query('geoLocationProducts'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], GeoLocationResolver.prototype, "getGeoLocationProducts", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], GeoLocationResolver.prototype, "geoLocationProductsByPaging", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], GeoLocationResolver.prototype, "getCountOfGeoLocationProducts", null);
GeoLocationResolver = tslib_1.__decorate([
    graphql_1.Resolver('GeoLocation'),
    tslib_1.__metadata("design:paramtypes", [geo_locations_1.GeoLocationsProductsService])
], GeoLocationResolver);
exports.GeoLocationResolver = GeoLocationResolver;


/***/ }),

/***/ "./src/graphql/geo-locations/geo-locations.module.ts":
/*!***********************************************************!*\
  !*** ./src/graphql/geo-locations/geo-locations.module.ts ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const geo_location_resolver_1 = __webpack_require__(/*! ./geo-location.resolver */ "./src/graphql/geo-locations/geo-location.resolver.ts");
let GeoLocationsModule = class GeoLocationsModule {
};
GeoLocationsModule = tslib_1.__decorate([
    common_1.Module({
        providers: [geo_location_resolver_1.GeoLocationResolver],
    })
], GeoLocationsModule);
exports.GeoLocationsModule = GeoLocationsModule;


/***/ }),

/***/ "./src/graphql/geo-locations/merchants/geo-location-merchants.module.ts":
/*!******************************************************************************!*\
  !*** ./src/graphql/geo-locations/merchants/geo-location-merchants.module.ts ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const geo_location_merchants_resolver_1 = __webpack_require__(/*! ./geo-location-merchants.resolver */ "./src/graphql/geo-locations/merchants/geo-location-merchants.resolver.ts");
let GeoLocationMerchantsModule = class GeoLocationMerchantsModule {
};
GeoLocationMerchantsModule = tslib_1.__decorate([
    common_1.Module({
        providers: [geo_location_merchants_resolver_1.GeoLocationMerchantsResolver],
    })
], GeoLocationMerchantsModule);
exports.GeoLocationMerchantsModule = GeoLocationMerchantsModule;


/***/ }),

/***/ "./src/graphql/geo-locations/merchants/geo-location-merchants.resolver.ts":
/*!********************************************************************************!*\
  !*** ./src/graphql/geo-locations/merchants/geo-location-merchants.resolver.ts ***!
  \********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const graphql_1 = __webpack_require__(/*! @nestjs/graphql */ "@nestjs/graphql");
const geo_locations_1 = __webpack_require__(/*! ../../../services/geo-locations */ "./src/services/geo-locations/index.ts");
const Warehouse_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Warehouse */ "./node_modules/@ever-platform/common/src/entities/Warehouse.ts"));
const utils_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/utils */ "./node_modules/@ever-platform/common/src/utils.ts"));
const GeoLocation_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/GeoLocation */ "./node_modules/@ever-platform/common/src/entities/GeoLocation.ts"));
const IN_STORE_DISTANCE = 50;
let GeoLocationMerchantsResolver = class GeoLocationMerchantsResolver {
    constructor(geoLocationsWarehousesService) {
        this.geoLocationsWarehousesService = geoLocationsWarehousesService;
    }
    getCoseMerchants(_, { geoLocation }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            let merchants = yield this.geoLocationsWarehousesService.getMerchants(geoLocation, IN_STORE_DISTANCE, { fullProducts: false, activeOnly: true });
            merchants = merchants.sort((m1, m2) => utils_1.default.getDistance(new GeoLocation_1.default(m1.geoLocation), new GeoLocation_1.default(geoLocation)) -
                utils_1.default.getDistance(new GeoLocation_1.default(m2.geoLocation), new GeoLocation_1.default(geoLocation)));
            return merchants.map((m) => new Warehouse_1.default(m));
        });
    }
};
tslib_1.__decorate([
    graphql_1.Query('getCoseMerchants'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], GeoLocationMerchantsResolver.prototype, "getCoseMerchants", null);
GeoLocationMerchantsResolver = tslib_1.__decorate([
    graphql_1.Resolver('GeoLocationMerchants'),
    tslib_1.__metadata("design:paramtypes", [geo_locations_1.GeoLocationsWarehousesService])
], GeoLocationMerchantsResolver);
exports.GeoLocationMerchantsResolver = GeoLocationMerchantsResolver;


/***/ }),

/***/ "./src/graphql/geo-locations/orders/geo-location-orders.module.ts":
/*!************************************************************************!*\
  !*** ./src/graphql/geo-locations/orders/geo-location-orders.module.ts ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const geo_location_orders_resolver_1 = __webpack_require__(/*! ./geo-location-orders.resolver */ "./src/graphql/geo-locations/orders/geo-location-orders.resolver.ts");
let GeoLocationOrdersModule = class GeoLocationOrdersModule {
};
GeoLocationOrdersModule = tslib_1.__decorate([
    common_1.Module({
        providers: [geo_location_orders_resolver_1.GeoLocationOrdersResolver],
    })
], GeoLocationOrdersModule);
exports.GeoLocationOrdersModule = GeoLocationOrdersModule;


/***/ }),

/***/ "./src/graphql/geo-locations/orders/geo-location-orders.resolver.ts":
/*!**************************************************************************!*\
  !*** ./src/graphql/geo-locations/orders/geo-location-orders.resolver.ts ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const graphql_1 = __webpack_require__(/*! @nestjs/graphql */ "@nestjs/graphql");
const GeoLocationsOrdersService_1 = __webpack_require__(/*! ../../../services/geo-locations/GeoLocationsOrdersService */ "./src/services/geo-locations/GeoLocationsOrdersService.ts");
const Order_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Order */ "./node_modules/@ever-platform/common/src/entities/Order.ts"));
let GeoLocationOrdersResolver = class GeoLocationOrdersResolver {
    constructor(geoLocationsOrdersService) {
        this.geoLocationsOrdersService = geoLocationsOrdersService;
    }
    getOrderForWork(_, { geoLocation, skippedOrderIds, options, searchObj, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const orders = yield this.geoLocationsOrdersService.getOrdersForWork(geoLocation, skippedOrderIds, options, searchObj);
            return orders[0];
        });
    }
    getOrdersForWork(_, { geoLocation, skippedOrderIds, options, searchObj, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const orders = yield this.geoLocationsOrdersService.getOrdersForWork(geoLocation, skippedOrderIds, options, searchObj);
            return orders.map((o) => new Order_1.default(o));
        });
    }
    getCountOfOrdersForWork(_, { geoLocation, skippedOrderIds, searchObj, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this.geoLocationsOrdersService.getCountOfOrdersForWork(geoLocation, skippedOrderIds, searchObj);
        });
    }
};
tslib_1.__decorate([
    graphql_1.Query('getOrderForWork'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], GeoLocationOrdersResolver.prototype, "getOrderForWork", null);
tslib_1.__decorate([
    graphql_1.Query('getOrdersForWork'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], GeoLocationOrdersResolver.prototype, "getOrdersForWork", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], GeoLocationOrdersResolver.prototype, "getCountOfOrdersForWork", null);
GeoLocationOrdersResolver = tslib_1.__decorate([
    graphql_1.Resolver('GeoLocationOrders'),
    tslib_1.__metadata("design:paramtypes", [GeoLocationsOrdersService_1.GeoLocationsOrdersService])
], GeoLocationOrdersResolver);
exports.GeoLocationOrdersResolver = GeoLocationOrdersResolver;


/***/ }),

/***/ "./src/graphql/invites-requests/invites-requests.module.ts":
/*!*****************************************************************!*\
  !*** ./src/graphql/invites-requests/invites-requests.module.ts ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const invites_requests_resolver_1 = __webpack_require__(/*! ./invites-requests.resolver */ "./src/graphql/invites-requests/invites-requests.resolver.ts");
let InvitesRequestsModule = class InvitesRequestsModule {
};
InvitesRequestsModule = tslib_1.__decorate([
    common_1.Module({
        providers: [invites_requests_resolver_1.InviteRequestResolver],
    })
], InvitesRequestsModule);
exports.InvitesRequestsModule = InvitesRequestsModule;


/***/ }),

/***/ "./src/graphql/invites-requests/invites-requests.resolver.ts":
/*!*******************************************************************!*\
  !*** ./src/graphql/invites-requests/invites-requests.resolver.ts ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const graphql_1 = __webpack_require__(/*! @nestjs/graphql */ "@nestjs/graphql");
const invites_1 = __webpack_require__(/*! ../../services/invites */ "./src/services/invites/index.ts");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const InviteRequest_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/InviteRequest */ "./node_modules/@ever-platform/common/src/entities/InviteRequest.ts"));
let InviteRequestResolver = class InviteRequestResolver {
    constructor(_invitesRequestsService) {
        this._invitesRequestsService = _invitesRequestsService;
    }
    generate1000InviteRequests(_, { defaultLng, defaultLat }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this._invitesRequestsService.generate1000InviteRequests(defaultLng, defaultLat);
        });
    }
    getInviteRequest(_, { id }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._invitesRequestsService.get(id).pipe(operators_1.first()).toPromise();
        });
    }
    notifyAboutLaunch(_, { invite, devicesIds, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._invitesRequestsService.notifyAboutLaunch(invite, devicesIds);
        });
    }
    getInvitesRequests(_, { findInput, invited, pagingOptions = {} }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            if (!pagingOptions || (pagingOptions && !pagingOptions['sort'])) {
                pagingOptions['sort'] = { field: '_createdAt', sortBy: 'asc' };
            }
            const invitesRequests = yield this._invitesRequestsService.getInvitesRequests(findInput, invited, pagingOptions);
            return invitesRequests.map((i) => new InviteRequest_1.default(i));
        });
    }
    getCountOfInvitesRequests(_, { invited }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const findObj = { isDeleted: { $eq: false } };
            if (!invited) {
                findObj['isInvited'] = { $eq: false };
            }
            return this._invitesRequestsService.Model.find(findObj)
                .countDocuments()
                .exec();
        });
    }
    createInviteRequest(_, { createInput }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._invitesRequestsService.create(createInput);
        });
    }
    updateInviteRequest(_, { id, updateInput }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this._invitesRequestsService.throwIfNotExists(id);
            return this._invitesRequestsService.update(id, updateInput);
        });
    }
    removeInviteRequest(_, { id }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this._invitesRequestsService.throwIfNotExists(id);
            return this._invitesRequestsService.remove(id);
        });
    }
    removeInvitesRequestsByIds(_, { ids }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const inviteRequests = yield this._invitesRequestsService.find({
                _id: { $in: ids },
                isDeleted: { $eq: false },
            });
            const inviteRequestsIds = inviteRequests.map((d) => d.id);
            return this._invitesRequestsService.removeMultipleByIds(inviteRequestsIds);
        });
    }
};
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], InviteRequestResolver.prototype, "generate1000InviteRequests", null);
tslib_1.__decorate([
    graphql_1.Query('inviteRequest'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], InviteRequestResolver.prototype, "getInviteRequest", null);
tslib_1.__decorate([
    graphql_1.Query('notifyAboutLaunch'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], InviteRequestResolver.prototype, "notifyAboutLaunch", null);
tslib_1.__decorate([
    graphql_1.Query('invitesRequests'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], InviteRequestResolver.prototype, "getInvitesRequests", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], InviteRequestResolver.prototype, "getCountOfInvitesRequests", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], InviteRequestResolver.prototype, "createInviteRequest", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], InviteRequestResolver.prototype, "updateInviteRequest", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], InviteRequestResolver.prototype, "removeInviteRequest", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], InviteRequestResolver.prototype, "removeInvitesRequestsByIds", null);
InviteRequestResolver = tslib_1.__decorate([
    graphql_1.Resolver('Invite-request'),
    tslib_1.__metadata("design:paramtypes", [invites_1.InvitesRequestsService])
], InviteRequestResolver);
exports.InviteRequestResolver = InviteRequestResolver;


/***/ }),

/***/ "./src/graphql/invites/invite.resolver.ts":
/*!************************************************!*\
  !*** ./src/graphql/invites/invite.resolver.ts ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const graphql_1 = __webpack_require__(/*! @nestjs/graphql */ "@nestjs/graphql");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const InvitesService_1 = __webpack_require__(/*! ../../services/invites/InvitesService */ "./src/services/invites/InvitesService.ts");
const invites_1 = __webpack_require__(/*! ../../services/invites */ "./src/services/invites/index.ts");
const Invite_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Invite */ "./node_modules/@ever-platform/common/src/entities/Invite.ts"));
let InviteResolver = class InviteResolver {
    constructor(_invitesService, _inviteRequestsService) {
        this._invitesService = _invitesService;
        this._inviteRequestsService = _inviteRequestsService;
    }
    generate1000InvitesConnectedToInviteRequests(_, { defaultLng, defaultLat }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const { invitesRequestsToCreate, invitesToCreate, } = this._invitesService.generate1000InvitesConnectedToInviteRequests(defaultLng, defaultLat);
            yield this._invitesService.Model.insertMany(invitesToCreate);
            yield this._inviteRequestsService.Model.insertMany(invitesRequestsToCreate);
        });
    }
    getInvite(_, { id }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._invitesService.get(id).pipe(operators_1.first()).toPromise();
        });
    }
    getInviteByCode(_, { info }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._invitesService.getByCode(info).pipe(operators_1.first()).toPromise();
        });
    }
    getInviteByLocation(_, { info }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._invitesService
                .getByLocation(info)
                .pipe(operators_1.first())
                .toPromise();
        });
    }
    getInvites(_, { findInput, pagingOptions = {} }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            if (!pagingOptions || (pagingOptions && !pagingOptions['sort'])) {
                pagingOptions['sort'] = { field: '_createdAt', sortBy: 'desc' };
            }
            const invites = yield this._invitesService.getInvites(findInput, pagingOptions);
            return invites.map((i) => new Invite_1.default(i));
        });
    }
    getCountOfInvites() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._invitesService.Model.find({ isDeleted: { $eq: false } })
                .countDocuments()
                .exec();
        });
    }
    createInvite(_, { createInput }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._invitesService.create(createInput);
        });
    }
    updateInvite(_, { id, updateInput }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this._invitesService.throwIfNotExists(id);
            return this._invitesService.update(id, updateInput);
        });
    }
    removeInvite(_, { id }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this._invitesService.throwIfNotExists(id);
            return this._invitesService.remove(id);
        });
    }
    removeInvitesByIds(_, { ids }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const invites = yield this._invitesService.find({
                _id: { $in: ids },
                isDeleted: { $eq: false },
            });
            const invitesIds = invites.map((d) => d.id);
            return this._invitesService.removeMultipleByIds(invitesIds);
        });
    }
};
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], InviteResolver.prototype, "generate1000InvitesConnectedToInviteRequests", null);
tslib_1.__decorate([
    graphql_1.Query('invite'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], InviteResolver.prototype, "getInvite", null);
tslib_1.__decorate([
    graphql_1.Query('getInviteByCode'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], InviteResolver.prototype, "getInviteByCode", null);
tslib_1.__decorate([
    graphql_1.Query('getInviteByLocation'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], InviteResolver.prototype, "getInviteByLocation", null);
tslib_1.__decorate([
    graphql_1.Query('invites'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], InviteResolver.prototype, "getInvites", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", Promise)
], InviteResolver.prototype, "getCountOfInvites", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], InviteResolver.prototype, "createInvite", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], InviteResolver.prototype, "updateInvite", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], InviteResolver.prototype, "removeInvite", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], InviteResolver.prototype, "removeInvitesByIds", null);
InviteResolver = tslib_1.__decorate([
    graphql_1.Resolver('Invite'),
    tslib_1.__metadata("design:paramtypes", [InvitesService_1.InvitesService,
        invites_1.InvitesRequestsService])
], InviteResolver);
exports.InviteResolver = InviteResolver;


/***/ }),

/***/ "./src/graphql/invites/invites.module.ts":
/*!***********************************************!*\
  !*** ./src/graphql/invites/invites.module.ts ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const invite_resolver_1 = __webpack_require__(/*! ./invite.resolver */ "./src/graphql/invites/invite.resolver.ts");
let InvitesModule = class InvitesModule {
};
InvitesModule = tslib_1.__decorate([
    common_1.Module({
        providers: [invite_resolver_1.InviteResolver],
    })
], InvitesModule);
exports.InvitesModule = InvitesModule;


/***/ }),

/***/ "./src/graphql/orders/order.resolver.ts":
/*!**********************************************!*\
  !*** ./src/graphql/orders/order.resolver.ts ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const graphql_1 = __webpack_require__(/*! @nestjs/graphql */ "@nestjs/graphql");
const CarriersService_1 = tslib_1.__importDefault(__webpack_require__(/*! ../../services/carriers/CarriersService */ "./src/services/carriers/CarriersService.ts"));
const Order_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Order */ "./node_modules/@ever-platform/common/src/entities/Order.ts"));
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const OrderCarrierStatus_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/enums/OrderCarrierStatus */ "./node_modules/@ever-platform/common/src/enums/OrderCarrierStatus.ts"));
const OrderWarehouseStatus_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/enums/OrderWarehouseStatus */ "./node_modules/@ever-platform/common/src/enums/OrderWarehouseStatus.ts"));
const warehouses_1 = __webpack_require__(/*! ../../services/warehouses */ "./src/services/warehouses/index.ts");
const orders_1 = __webpack_require__(/*! ../../services/orders */ "./src/services/orders/index.ts");
const users_1 = __webpack_require__(/*! ../../services/users */ "./src/services/users/index.ts");
const products_1 = __webpack_require__(/*! ../../services/products */ "./src/services/products/index.ts");
const lodash_1 = tslib_1.__importDefault(__webpack_require__(/*! lodash */ "lodash"));
const bson_1 = __webpack_require__(/*! bson */ "bson");
const FakeOrdersService_1 = __webpack_require__(/*! ../../services/fake-data/FakeOrdersService */ "./src/services/fake-data/FakeOrdersService.ts");
let OrderResolver = class OrderResolver {
    constructor(_ordersService, _carriersService, _warehousesService, _usersService, _productsService, _fakeOrdersService) {
        this._ordersService = _ordersService;
        this._carriersService = _carriersService;
        this._warehousesService = _warehousesService;
        this._usersService = _usersService;
        this._productsService = _productsService;
        this._fakeOrdersService = _fakeOrdersService;
        this._getRandomProduct = (orderCount, products) => {
            return products[orderCount % products.length];
        };
        this._getRandomCustomer = (orderCount, customers) => {
            if (orderCount < customers.length) {
                return customers[orderCount];
            }
            else {
                return customers[orderCount % customers.length];
            }
        };
        this._getRandomCarrierId = (orderCount, carriers) => {
            return carriers[orderCount % carriers.length].id;
        };
        this._prepareOrderFieldsValues = (orderCount) => {
            const hasCarrier = Math.random() > 0.07;
            const orderIsPaid = Math.random() > 0.15;
            const numberOfProductsToOrder = orderCount % 4 || 1;
            return { numberOfProductsToOrder, hasCarrier, orderIsPaid };
        };
        this._getRandomOrderDate = (orderCount) => {
            const orderDate = new Date();
            orderDate.setFullYear(orderDate.getFullYear() - Math.round(Math.random() * 5));
            const dateNow = new Date();
            const isCurrentYear = orderDate.getFullYear() === dateNow.getFullYear();
            const months = isCurrentYear ? Number(dateNow.getMonth()) : 11;
            orderDate.setMonth(months > 0 ? orderCount % months : 0);
            const isCurrentMonth = orderDate.getMonth() === dateNow.getMonth() && isCurrentYear;
            const days = isCurrentMonth ? Number(dateNow.getDate()) : 31;
            orderDate.setDate(orderCount % days);
            const isCurrentDay = orderDate.getDate() === dateNow.getDate() &&
                isCurrentYear &&
                isCurrentMonth;
            const hours = isCurrentDay ? Number(dateNow.getHours()) : 24;
            orderDate.setHours(orderCount % hours);
            return orderDate;
        };
        this._setupOrderProducts = (products) => {
            let productCount = 1;
            const orderProducts = [];
            for (const p of products) {
                const productPrice = Math.round(Math.random() * 15);
                orderProducts.push({
                    count: 2,
                    isManufacturing: true,
                    isCarrierRequired: true,
                    isDeliveryRequired: true,
                    price: productPrice,
                    initialPrice: productPrice,
                    product: p,
                });
                if (productCount >= 3) {
                    break;
                }
                productCount += 1;
            }
            return orderProducts;
        };
        this._setupAvailableOrdersToCreate = (stores, products, users) => {
            const orders = [];
            for (let orderNumber = 1; orderNumber <= 30; orderNumber += 1) {
                const orderStore = stores[lodash_1.default.random(stores.length - 1)];
                const orderProducts = this._setupOrderProducts(products);
                const createdAt = this.getCloseDate(new Date());
                orders.push({
                    user: users[lodash_1.default.random(users.length - 1)],
                    warehouse: orderStore._id.toString(),
                    products: orderProducts,
                    isConfirmed: true,
                    isCancelled: false,
                    isPaid: false,
                    warehouseStatus: OrderWarehouseStatus_1.default.PackagingFinished,
                    carrierStatus: OrderCarrierStatus_1.default.NoCarrier,
                    orderNumber,
                    _createdAt: createdAt,
                });
            }
            return orders;
        };
        this._setupHistoryOrdersToCreate = (stores, products, users, carrierId, orderNumber) => {
            const orders = [];
            const availableStatuses = [
                OrderCarrierStatus_1.default.DeliveryCompleted,
                OrderCarrierStatus_1.default.IssuesDuringDelivery,
                OrderCarrierStatus_1.default.ClientRefuseTakingOrder,
            ];
            for (let i = 1; i <= 12; i += 1) {
                const orderStore = stores[lodash_1.default.random(stores.length - 1)];
                const orderProducts = this._setupOrderProducts(products);
                const carrierStatus = availableStatuses[lodash_1.default.random(availableStatuses.length - 1)];
                const createdAt = this.getCloseDate(new Date());
                const startDeliveryTime = this.getFinishedTime(createdAt);
                orders.push({
                    user: users[lodash_1.default.random(users.length - 1)],
                    warehouse: orderStore._id.toString(),
                    products: orderProducts,
                    isConfirmed: true,
                    isCancelled: false,
                    carrier: carrierId,
                    startDeliveryTime,
                    deliveryTime: carrierStatus === OrderCarrierStatus_1.default.DeliveryCompleted
                        ? this.getFinishedTime(startDeliveryTime)
                        : null,
                    finishedProcessingTime: carrierStatus !== OrderCarrierStatus_1.default.DeliveryCompleted
                        ? this.getFinishedTime(startDeliveryTime)
                        : null,
                    isPaid: true,
                    warehouseStatus: OrderWarehouseStatus_1.default.GivenToCarrier,
                    carrierStatus,
                    orderNumber,
                    _createdAt: createdAt,
                });
            }
            return orders;
        };
    }
    generateActiveAndAvailableOrdersPerCarrier() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const commonOptionsFlag = { isDeleted: { $eq: false } };
            const users = yield this._usersService.Model.find(commonOptionsFlag)
                .select({ __v: 0 })
                .lean()
                .exec();
            const stores = yield this._warehousesService.Model.find(commonOptionsFlag)
                .select({ _id: 1 })
                .lean()
                .exec();
            const products = yield this._productsService.Model.find(commonOptionsFlag)
                .select({ __v: 0 })
                .lean()
                .exec();
            const ordersRaw = this._setupAvailableOrdersToCreate(stores, products, users);
            yield this._ordersService.Model.insertMany(ordersRaw);
        });
    }
    generatePastOrdersPerCarrier() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const commonOptionsFlag = { isDeleted: { $eq: false } };
            const users = yield this._usersService.Model.find(commonOptionsFlag)
                .select({ __v: 0 })
                .lean()
                .exec();
            const stores = yield this._warehousesService.Model.find(commonOptionsFlag)
                .select({ _id: 1 })
                .lean()
                .exec();
            const carrierIds = yield this._carriersService.Model.find(commonOptionsFlag)
                .select({ _id: 1 })
                .lean()
                .exec();
            const products = yield this._productsService.Model.find(commonOptionsFlag)
                .select({ __v: 0 })
                .lean()
                .exec();
            const totalOrdersToCreate = [];
            carrierIds.forEach((objectId, index) => {
                const carrierId = objectId._id.toString();
                const orderNumber = index;
                const ordersRaw = this._setupHistoryOrdersToCreate(stores, products, users, carrierId, orderNumber);
                totalOrdersToCreate.push(ordersRaw);
            });
            yield this._ordersService.Model.insertMany(lodash_1.default.flatten(totalOrdersToCreate));
        });
    }
    addTakenOrders(_context, { carrierIds }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const commonOptionsFlag = { isDeleted: { $eq: false } };
            const stores = yield this._warehousesService.find(commonOptionsFlag);
            const customers = yield this._usersService.find(commonOptionsFlag);
            const products = yield this._productsService.find(commonOptionsFlag);
            const ordersToCreate = [];
            carrierIds.forEach((id) => {
                for (let orderNumber = 1; orderNumber <= 20; orderNumber += 1) {
                    const orderProducts = [];
                    const productCount = Math.round(Math.random() * 4) || 1;
                    for (let i = 0; i < productCount; i += 1) {
                        const orderPrice = (orderNumber + i) % 110 || 1;
                        orderProducts.push({
                            count: (orderNumber + i) % 12 || 1,
                            isManufacturing: true,
                            isCarrierRequired: true,
                            isDeliveryRequired: true,
                            price: orderPrice,
                            initialPrice: orderPrice,
                            product: this._getRandomProduct(orderNumber + i, products),
                        });
                    }
                    const orderIsPaid = Math.random() > 0.5;
                    const createdAt = this._getRandomOrderDate(orderNumber);
                    const startDeliveryTime = this.getFinishedTime(createdAt);
                    ordersToCreate.push({
                        isCancelled: !orderIsPaid,
                        isPaid: orderIsPaid,
                        deliveryTimeEstimate: 0,
                        startDeliveryTime,
                        deliveryTime: orderIsPaid
                            ? this.getFinishedTime(startDeliveryTime)
                            : null,
                        finishedProcessingTime: !orderIsPaid
                            ? this.getFinishedTime(startDeliveryTime)
                            : null,
                        warehouseStatus: OrderWarehouseStatus_1.default.PackagingFinished,
                        carrierStatus: OrderCarrierStatus_1.default.DeliveryCompleted,
                        orderNumber,
                        user: this._getRandomCustomer(orderNumber, customers),
                        warehouse: stores[orderNumber % stores.length].id,
                        products: orderProducts,
                        _createdAt: createdAt,
                        carrier: id,
                    });
                }
            });
            yield this._ordersService.Model.insertMany(ordersToCreate);
        });
    }
    addOrdersToTake() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const commonOptionsFlag = { isDeleted: { $eq: false } };
            const stores = yield this._warehousesService.find(commonOptionsFlag);
            const customers = yield this._usersService.find(commonOptionsFlag);
            const products = yield this._productsService.find(commonOptionsFlag);
            const ordersToCreate = [];
            for (let i = 0; i < 3; i += 1) {
                for (let orderNumber = 1; orderNumber <= 10; orderNumber += 1) {
                    const orderProducts = [];
                    const productCount = Math.round(Math.random() * 4) || 1;
                    for (let j = 0; j < productCount; j += 1) {
                        const orderPrice = (orderNumber + j) % 110 || 1;
                        orderProducts.push({
                            count: (orderNumber + j) % 6 || 1,
                            isManufacturing: true,
                            isCarrierRequired: true,
                            isDeliveryRequired: true,
                            price: orderPrice,
                            initialPrice: orderPrice,
                            product: this._getRandomProduct(orderNumber + j, products),
                        });
                    }
                    const createdAt = this.getCloseDate(new Date());
                    ordersToCreate.push({
                        isConfirmed: false,
                        isCancelled: false,
                        isPaid: false,
                        deliveryTimeEstimate: 0,
                        warehouseStatus: OrderWarehouseStatus_1.default.PackagingFinished,
                        carrierStatus: OrderCarrierStatus_1.default.NoCarrier,
                        orderNumber,
                        user: this._getRandomCustomer(orderNumber, customers),
                        warehouse: stores[orderNumber % stores.length].id,
                        products: orderProducts,
                        _createdAt: createdAt,
                    });
                }
            }
            yield this._ordersService.Model.insertMany(ordersToCreate);
        });
    }
    generateRandomOrdersCurrentStore(_context, { storeId, storeCreatedAt, ordersLimit, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const commonOptionsFlag = { isDeleted: { $eq: false } };
            const customers = yield this._usersService.find(commonOptionsFlag);
            const carriers = yield this._carriersService.find(commonOptionsFlag);
            const products = yield this._productsService.find(commonOptionsFlag);
            let response = { error: false, message: null };
            try {
                const currentStoreOrders = [];
                const storeCreatedDate = new Date(storeCreatedAt);
                for (let orderNumber = 1; orderNumber <= ordersLimit; orderNumber += 1) {
                    const carrierId = this._getRandomCarrierId(orderNumber, carriers);
                    const orderRaw = this._fakeOrdersService.getOrderRaw(orderNumber, storeId, storeCreatedDate, carrierId, customers, products);
                    currentStoreOrders.push(orderRaw);
                }
                yield this._ordersService.Model.insertMany(currentStoreOrders);
            }
            catch (err) {
                response = { error: true, message: err.message };
            }
            return response;
        });
    }
    generateOrdersByCustomerId(_context, { numberOfOrders, customerId, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const commonOptionsFlag = { isDeleted: { $eq: false } };
            const stores = (yield this._warehousesService.find(commonOptionsFlag)).filter((__, index) => index <= 20);
            const carriers = yield this._carriersService.find(commonOptionsFlag);
            const products = yield this._productsService.find(commonOptionsFlag);
            const user = yield this._usersService
                .get(customerId)
                .pipe(operators_1.first())
                .toPromise();
            if (products.length > 0) {
                const rawOrders = [];
                for (let orderNumber = 1; orderNumber <= numberOfOrders; orderNumber += 1) {
                    const { numberOfProductsToOrder, hasCarrier, orderIsPaid, } = this._prepareOrderFieldsValues(orderNumber);
                    const orderProducts = [];
                    for (let i = 0; i < numberOfProductsToOrder; i += 1) {
                        const orderPrice = (orderNumber + i) % 110 || 1;
                        orderProducts.push({
                            count: (orderNumber + i) % 6 || 1,
                            isManufacturing: true,
                            isCarrierRequired: hasCarrier,
                            isDeliveryRequired: hasCarrier,
                            price: orderPrice,
                            initialPrice: orderPrice,
                            product: this._getRandomProduct(orderNumber + i, products),
                        });
                    }
                    const orderDate = this._getRandomOrderDate(orderNumber);
                    const orderDeliveryTime = new Date(orderDate);
                    orderDeliveryTime.setMinutes(orderDeliveryTime.getMinutes() +
                        Math.round(Math.random() * 90));
                    const startDeliveryTime = this.getFinishedTime(orderDate);
                    rawOrders.push(Object.assign({ isCancelled: !orderIsPaid, isPaid: orderIsPaid, deliveryTimeEstimate: 0, startDeliveryTime, deliveryTime: orderIsPaid
                            ? this.getFinishedTime(startDeliveryTime)
                            : null, finishedProcessingTime: !orderIsPaid
                            ? this.getFinishedTime(startDeliveryTime)
                            : null, warehouseStatus: OrderWarehouseStatus_1.default.PackagingFinished, carrierStatus: OrderCarrierStatus_1.default.DeliveryCompleted, orderNumber,
                        user, warehouse: stores[orderNumber % stores.length].id, products: orderProducts, _createdAt: orderDate }, (hasCarrier && {
                        carrier: this._getRandomCarrierId(orderNumber, carriers),
                    })));
                }
                yield this._ordersService.Model.insertMany(rawOrders);
            }
        });
    }
    getOrdersChartTotalOrders() {
        return this._ordersService.getOrdersChartTotalOrders();
    }
    getCompletedOrdersInfo(_context, { storeId }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const orders = yield this._ordersService.getDashboardCompletedOrders(storeId);
            return {
                totalOrders: orders.length,
                totalRevenue: orders
                    .map((order) => order.totalPrice)
                    .reduce((prevPrice, nextPrice) => prevPrice + nextPrice, 0),
            };
        });
    }
    getDashboardCompletedOrders() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._ordersService.getDashboardCompletedOrders();
        });
    }
    getDashboardCompletedOrdersToday() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._ordersService.getDashboardCompletedOrdersToday();
        });
    }
    getOrder(_context, { id }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._ordersService.get(id).pipe(operators_1.first()).toPromise();
        });
    }
    getOrders(_context, { findInput }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._ordersService.find(Object.assign(Object.assign({}, findInput), { isDeleted: { $eq: false } }));
        });
    }
    getOrderedUsersInfo(_context, { storeId }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._ordersService.getOrderedUsersInfo(storeId);
        });
    }
    getUsersOrdersCountInfo(_context, { usersIds }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const ordersInfo = yield this._ordersService.Model.aggregate([
                {
                    $match: {
                        $and: [
                            { 'user._id': { $ne: null } },
                            usersIds
                                ? {
                                    'user._id': {
                                        $in: usersIds.map((i) => new bson_1.ObjectId(i)),
                                    },
                                }
                                : {},
                        ],
                    },
                },
                {
                    $group: {
                        _id: '$user._id',
                        ordersCount: { $sum: 1 },
                    },
                },
            ]);
            return ordersInfo.map((o) => ({
                id: o._id,
                ordersCount: o.ordersCount,
            }));
        });
    }
    getMerchantsOrdersCountInfo(_context, { merchantsIds }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const ordersInfo = yield this._ordersService.Model.aggregate([
                {
                    $match: {
                        $and: [
                            { warehouse: { $ne: null } },
                            merchantsIds
                                ? { warehouse: { $in: merchantsIds } }
                                : {},
                        ],
                    },
                },
                {
                    $group: {
                        _id: '$warehouse',
                        ordersCount: { $sum: 1 },
                    },
                },
            ]);
            return ordersInfo.map((o) => ({
                id: o._id,
                ordersCount: o.ordersCount,
            }));
        });
    }
    updateOrderCarrierStatus(_context, { orderId, status, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._ordersService.updateCarrierStatus(orderId, OrderCarrierStatus_1.default[status]);
        });
    }
    updateOrderWarehouseStatus(_context, { orderId, status, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._ordersService.updateWarehouseStatus(orderId, OrderWarehouseStatus_1.default[status]);
        });
    }
    payOrderWithStripe(_context, { orderId, cardId, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._ordersService.payWithStripe(orderId, cardId);
        });
    }
    getCarrier(_order) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const order = new Order_1.default(_order);
            return order.carrierId == null
                ? null
                : this._carriersService
                    .get(order.carrierId)
                    .pipe(operators_1.first())
                    .toPromise();
        });
    }
    getWarehouse(_order) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const order = new Order_1.default(_order);
            return this._warehousesService
                .get(order.warehouseId)
                .pipe(operators_1.first())
                .toPromise();
        });
    }
    getFinishedTime(date) {
        const randomMinutes = lodash_1.default.random(1, 30);
        const randomSec = lodash_1.default.random(1, 60);
        const oldDate = new Date(date);
        oldDate.setSeconds(randomSec);
        return new Date(oldDate.setMinutes(date.getMinutes() + randomMinutes));
    }
    getCloseDate(date) {
        const randomMinutes = lodash_1.default.random(1, 10);
        const randomSec = lodash_1.default.random(1, 60);
        const oldDate = new Date(date);
        oldDate.setSeconds(randomSec);
        return new Date(oldDate.setMinutes(date.getMinutes() - randomMinutes));
    }
};
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", Promise)
], OrderResolver.prototype, "generateActiveAndAvailableOrdersPerCarrier", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", Promise)
], OrderResolver.prototype, "generatePastOrdersPerCarrier", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], OrderResolver.prototype, "addTakenOrders", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", Promise)
], OrderResolver.prototype, "addOrdersToTake", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], OrderResolver.prototype, "generateRandomOrdersCurrentStore", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], OrderResolver.prototype, "generateOrdersByCustomerId", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", void 0)
], OrderResolver.prototype, "getOrdersChartTotalOrders", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], OrderResolver.prototype, "getCompletedOrdersInfo", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", Promise)
], OrderResolver.prototype, "getDashboardCompletedOrders", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", Promise)
], OrderResolver.prototype, "getDashboardCompletedOrdersToday", null);
tslib_1.__decorate([
    graphql_1.Query('getOrder'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], OrderResolver.prototype, "getOrder", null);
tslib_1.__decorate([
    graphql_1.Query('orders'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], OrderResolver.prototype, "getOrders", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], OrderResolver.prototype, "getOrderedUsersInfo", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], OrderResolver.prototype, "getUsersOrdersCountInfo", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], OrderResolver.prototype, "getMerchantsOrdersCountInfo", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], OrderResolver.prototype, "updateOrderCarrierStatus", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], OrderResolver.prototype, "updateOrderWarehouseStatus", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], OrderResolver.prototype, "payOrderWithStripe", null);
tslib_1.__decorate([
    graphql_1.ResolveProperty('carrier'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], OrderResolver.prototype, "getCarrier", null);
tslib_1.__decorate([
    graphql_1.ResolveProperty('warehouse'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], OrderResolver.prototype, "getWarehouse", null);
OrderResolver = tslib_1.__decorate([
    graphql_1.Resolver('Order'),
    tslib_1.__metadata("design:paramtypes", [orders_1.OrdersService,
        CarriersService_1.default,
        warehouses_1.WarehousesService,
        users_1.UsersService,
        products_1.ProductsService,
        FakeOrdersService_1.FakeOrdersService])
], OrderResolver);
exports.OrderResolver = OrderResolver;


/***/ }),

/***/ "./src/graphql/orders/orders.module.ts":
/*!*********************************************!*\
  !*** ./src/graphql/orders/orders.module.ts ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const order_resolver_1 = __webpack_require__(/*! ./order.resolver */ "./src/graphql/orders/order.resolver.ts");
let OrdersModule = class OrdersModule {
};
OrdersModule = tslib_1.__decorate([
    common_1.Module({
        providers: [order_resolver_1.OrderResolver],
    })
], OrdersModule);
exports.OrdersModule = OrdersModule;


/***/ }),

/***/ "./src/graphql/products/categories/products-categories.module.ts":
/*!***********************************************************************!*\
  !*** ./src/graphql/products/categories/products-categories.module.ts ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const products_category_resolver_1 = __webpack_require__(/*! ./products-category.resolver */ "./src/graphql/products/categories/products-category.resolver.ts");
let ProductsCategoriesModule = class ProductsCategoriesModule {
};
ProductsCategoriesModule = tslib_1.__decorate([
    common_1.Module({
        providers: [products_category_resolver_1.ProductsCategoryResolver],
    })
], ProductsCategoriesModule);
exports.ProductsCategoriesModule = ProductsCategoriesModule;


/***/ }),

/***/ "./src/graphql/products/categories/products-category.resolver.ts":
/*!***********************************************************************!*\
  !*** ./src/graphql/products/categories/products-category.resolver.ts ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const graphql_1 = __webpack_require__(/*! @nestjs/graphql */ "@nestjs/graphql");
const products_1 = __webpack_require__(/*! ../../../services/products */ "./src/services/products/index.ts");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
let ProductsCategoryResolver = class ProductsCategoryResolver {
    constructor(_productsCategoriesService) {
        this._productsCategoriesService = _productsCategoriesService;
    }
    getProductsCategory(_, { id }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._productsCategoriesService
                .get(id)
                .pipe(operators_1.first())
                .toPromise();
        });
    }
    getProductsCategories(_, { findInput }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._productsCategoriesService.find(Object.assign(Object.assign({}, findInput), { isDeleted: { $eq: false } }));
        });
    }
    createProductsCategory(_, { createInput }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._productsCategoriesService.create(createInput);
        });
    }
    updateProductsCategory(_, { id, updateInput, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this._productsCategoriesService.throwIfNotExists(id);
            return this._productsCategoriesService.update(id, updateInput);
        });
    }
    removeProductsCategoriesByIds(_, { ids }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const categories = yield this._productsCategoriesService.find({
                _id: { $in: ids },
                isDeleted: { $eq: false },
            });
            const categoriesIds = categories.map((c) => c.id);
            return this._productsCategoriesService.removeMultipleByIds(categoriesIds);
        });
    }
};
tslib_1.__decorate([
    graphql_1.Query('productsCategory'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], ProductsCategoryResolver.prototype, "getProductsCategory", null);
tslib_1.__decorate([
    graphql_1.Query('productsCategories'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], ProductsCategoryResolver.prototype, "getProductsCategories", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], ProductsCategoryResolver.prototype, "createProductsCategory", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], ProductsCategoryResolver.prototype, "updateProductsCategory", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], ProductsCategoryResolver.prototype, "removeProductsCategoriesByIds", null);
ProductsCategoryResolver = tslib_1.__decorate([
    graphql_1.Resolver('ProductsCategory'),
    tslib_1.__metadata("design:paramtypes", [products_1.ProductsCategoriesService])
], ProductsCategoryResolver);
exports.ProductsCategoryResolver = ProductsCategoryResolver;


/***/ }),

/***/ "./src/graphql/products/product.resolver.ts":
/*!**************************************************!*\
  !*** ./src/graphql/products/product.resolver.ts ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const graphql_1 = __webpack_require__(/*! @nestjs/graphql */ "@nestjs/graphql");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const products_1 = __webpack_require__(/*! ../../services/products */ "./src/services/products/index.ts");
const warehouses_1 = __webpack_require__(/*! ../../services/warehouses */ "./src/services/warehouses/index.ts");
const Product_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Product */ "./node_modules/@ever-platform/common/src/entities/Product.ts"));
let ProductResolver = class ProductResolver {
    constructor(_productsService, _warehousesService, _warehousesProductsService) {
        this._productsService = _productsService;
        this._warehousesService = _warehousesService;
        this._warehousesProductsService = _warehousesProductsService;
    }
    getProduct(_, { id }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._productsService.get(id).pipe(operators_1.first()).toPromise();
        });
    }
    getProducts(_, { findInput, pagingOptions = {}, existedProductsIds = [] }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            if (!pagingOptions || (pagingOptions && !pagingOptions['sort'])) {
                pagingOptions['sort'] = { field: '_createdAt', sortBy: 'desc' };
            }
            const products = yield this._productsService.getProducts(findInput, pagingOptions, existedProductsIds);
            return products.map((p) => new Product_1.default(p));
        });
    }
    getCountOfProducts(_, { existedProductsIds = [] }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._productsService.Model.find({
                isDeleted: { $eq: false },
                _id: { $nin: existedProductsIds },
            })
                .countDocuments()
                .exec();
        });
    }
    removeProductsByIds(_, { ids }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const warehouses = yield this._warehousesService.find({
                isDeleted: { $eq: false },
            });
            const products = yield this._productsService.find({
                _id: { $in: ids },
                isDeleted: { $eq: false },
            });
            const productsIds = products.map((d) => d.id);
            for (const warehouse of warehouses) {
                const productsForDel = warehouse.products
                    .filter((p) => productsIds.includes(p.productId))
                    .map((p) => p.productId);
                if (productsForDel.length > 0) {
                    yield this._warehousesProductsService.remove(warehouse.id, productsForDel);
                }
            }
            yield this._productsService.removeMultipleByIds(productsIds);
        });
    }
    saveProduct(_, { product }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const productId = product['_id'];
            yield this._productsService.throwIfNotExists(productId);
            product.id = productId;
            return this._productsService.save(product);
        });
    }
    createProduct(_, { product }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._productsService.create(product);
        });
    }
};
tslib_1.__decorate([
    graphql_1.Query('product'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], ProductResolver.prototype, "getProduct", null);
tslib_1.__decorate([
    graphql_1.Query('products'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], ProductResolver.prototype, "getProducts", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], ProductResolver.prototype, "getCountOfProducts", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], ProductResolver.prototype, "removeProductsByIds", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], ProductResolver.prototype, "saveProduct", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], ProductResolver.prototype, "createProduct", null);
ProductResolver = tslib_1.__decorate([
    graphql_1.Resolver('Product'),
    tslib_1.__metadata("design:paramtypes", [products_1.ProductsService,
        warehouses_1.WarehousesService,
        warehouses_1.WarehousesProductsService])
], ProductResolver);
exports.ProductResolver = ProductResolver;


/***/ }),

/***/ "./src/graphql/products/products.module.ts":
/*!*************************************************!*\
  !*** ./src/graphql/products/products.module.ts ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const product_resolver_1 = __webpack_require__(/*! ./product.resolver */ "./src/graphql/products/product.resolver.ts");
const products_categories_module_1 = __webpack_require__(/*! ./categories/products-categories.module */ "./src/graphql/products/categories/products-categories.module.ts");
let ProductsModule = class ProductsModule {
};
ProductsModule = tslib_1.__decorate([
    common_1.Module({
        imports: [products_categories_module_1.ProductsCategoriesModule],
        providers: [product_resolver_1.ProductResolver],
    })
], ProductsModule);
exports.ProductsModule = ProductsModule;


/***/ }),

/***/ "./src/graphql/scalars/date.type.graphql":
/*!***********************************************!*\
  !*** ./src/graphql/scalars/date.type.graphql ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "scalar Date\n"

/***/ }),

/***/ "./src/graphql/scalars/index.ts":
/*!**************************************!*\
  !*** ./src/graphql/scalars/index.ts ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
tslib_1.__exportStar(__webpack_require__(/*! ./date.type.graphql */ "./src/graphql/scalars/date.type.graphql"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./scalars */ "./src/graphql/scalars/scalars.ts"), exports);


/***/ }),

/***/ "./src/graphql/scalars/scalars.ts":
/*!****************************************!*\
  !*** ./src/graphql/scalars/scalars.ts ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const date_type_graphql_1 = __webpack_require__(/*! ./date.type.graphql */ "./src/graphql/scalars/date.type.graphql");
exports.SCALARS = {
    Date: date_type_graphql_1.DateScalar,
};


/***/ }),

/***/ "./src/graphql/subscriptions/subscription.constants.ts":
/*!*************************************************************!*\
  !*** ./src/graphql/subscriptions/subscription.constants.ts ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.SUBSCRIPTION_SERVER = 'SUBSCRIPTION_SERVER';


/***/ }),

/***/ "./src/graphql/subscriptions/subscription.providers.ts":
/*!*************************************************************!*\
  !*** ./src/graphql/subscriptions/subscription.providers.ts ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const http_1 = __webpack_require__(/*! http */ "http");
const subscription_constants_1 = __webpack_require__(/*! ./subscription.constants */ "./src/graphql/subscriptions/subscription.constants.ts");
exports.createSubscriptionProviders = (port = 5050) => [
    {
        provide: subscription_constants_1.SUBSCRIPTION_SERVER,
        useFactory: () => {
            const server = http_1.createServer();
            const closeServer = () => {
                try {
                    if (server != null) {
                        server.close(() => {
                            process.exit(0);
                        });
                    }
                }
                catch (err) {
                    process.exit(0);
                }
            };
            process
                .on('SIGINT', () => closeServer())
                .on('SIGTERM', () => closeServer());
            return new Promise((resolve) => server.listen(port, () => resolve(server)));
        },
    },
];


/***/ }),

/***/ "./src/graphql/subscriptions/subscriptions.module.ts":
/*!***********************************************************!*\
  !*** ./src/graphql/subscriptions/subscriptions.module.ts ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var SubscriptionsModule_1;
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const subscription_providers_1 = __webpack_require__(/*! ./subscription.providers */ "./src/graphql/subscriptions/subscription.providers.ts");
const subscriptions_service_1 = __webpack_require__(/*! ./subscriptions.service */ "./src/graphql/subscriptions/subscriptions.service.ts");
let SubscriptionsModule = SubscriptionsModule_1 = class SubscriptionsModule {
    static forRoot(port) {
        const providers = subscription_providers_1.createSubscriptionProviders(port);
        return {
            module: SubscriptionsModule_1,
            providers: [...providers],
            exports: [...providers],
        };
    }
};
SubscriptionsModule = SubscriptionsModule_1 = tslib_1.__decorate([
    common_1.Module({
        providers: [subscriptions_service_1.SubscriptionsService],
        exports: [subscriptions_service_1.SubscriptionsService],
    })
], SubscriptionsModule);
exports.SubscriptionsModule = SubscriptionsModule;


/***/ }),

/***/ "./src/graphql/subscriptions/subscriptions.service.ts":
/*!************************************************************!*\
  !*** ./src/graphql/subscriptions/subscriptions.service.ts ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const subscription_constants_1 = __webpack_require__(/*! ./subscription.constants */ "./src/graphql/subscriptions/subscription.constants.ts");
const subscriptions_transport_ws_1 = __webpack_require__(/*! subscriptions-transport-ws */ "subscriptions-transport-ws");
const graphql_1 = __webpack_require__(/*! graphql */ "graphql");
let SubscriptionsService = class SubscriptionsService {
    constructor(ws) {
        this.ws = ws;
    }
    createSubscriptionServer(schema, options = {}, socketOptions = {}) {
        this.subscriptionServer = new subscriptions_transport_ws_1.SubscriptionServer(Object.assign({ execute: graphql_1.execute,
            subscribe: graphql_1.subscribe,
            schema }, options), Object.assign({ server: this.ws, path: '/subscriptions' }, socketOptions));
    }
    onModuleDestroy() {
        this.ws.close();
    }
};
SubscriptionsService = tslib_1.__decorate([
    common_1.Injectable(),
    tslib_1.__param(0, common_1.Inject(subscription_constants_1.SUBSCRIPTION_SERVER)),
    tslib_1.__metadata("design:paramtypes", [Object])
], SubscriptionsService);
exports.SubscriptionsService = SubscriptionsService;


/***/ }),

/***/ "./src/graphql/users/user.resolver.ts":
/*!********************************************!*\
  !*** ./src/graphql/users/user.resolver.ts ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const graphql_1 = __webpack_require__(/*! @nestjs/graphql */ "@nestjs/graphql");
const users_1 = __webpack_require__(/*! ../../services/users */ "./src/services/users/index.ts");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const User_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/User */ "./node_modules/@ever-platform/common/src/entities/User.ts"));
const devices_1 = __webpack_require__(/*! ../../services/devices */ "./src/services/devices/index.ts");
const UsersAuthService_1 = __webpack_require__(/*! ../../services/users/UsersAuthService */ "./src/services/users/UsersAuthService.ts");
const mongodb_1 = __webpack_require__(/*! mongodb */ "mongodb");
const orders_1 = __webpack_require__(/*! ../../services/orders */ "./src/services/orders/index.ts");
let UserResolver = class UserResolver {
    constructor(_usersService, _usersAuthService, _usersOrdersService, _devicesService, _ordersService) {
        this._usersService = _usersService;
        this._usersAuthService = _usersAuthService;
        this._usersOrdersService = _usersOrdersService;
        this._devicesService = _devicesService;
        this._ordersService = _ordersService;
    }
    isUserEmailExists(_, { email }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._usersService.isUserEmailExists(email);
        });
    }
    generate1000Customers(_, { defaultLng, defaultLat }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            let success = true;
            let message = null;
            try {
                yield this._ordersService.generateOrdersPerEachCustomer(yield this._usersService.generate1000Customers(defaultLng, defaultLat));
            }
            catch (err) {
                message = err.message;
                success = false;
            }
            return {
                success,
                message,
            };
        });
    }
    getSocial(_, { socialId }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._usersService.getSocial(socialId);
        });
    }
    userExists(_, { conditions }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const userId = conditions.exceptCustomerId;
            const memberKey = conditions.memberKey;
            const memberValue = conditions.memberValue;
            return ((yield this._usersService.count({
                _id: { $nin: [new mongodb_1.ObjectId(userId)] },
                isDeleted: { $eq: false },
                [memberKey]: memberValue,
            })) > 0);
        });
    }
    getUser(_, { id }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._usersService.get(id).pipe(operators_1.first()).toPromise();
        });
    }
    getUsers(_, { findInput, pagingOptions = {} }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            if (!pagingOptions || (pagingOptions && !pagingOptions['sort'])) {
                pagingOptions['sort'] = { field: '_createdAt', sortBy: 'desc' };
            }
            const users = yield this._usersService.getUsers(findInput, pagingOptions);
            return users.map((u) => new User_1.default(u));
        });
    }
    getOrders(_, { userId }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this._usersService.throwIfNotExists(userId);
            const result = yield this._usersOrdersService
                .get(userId)
                .pipe(operators_1.first())
                .toPromise();
            return result;
        });
    }
    getCountOfUsers() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._usersService.Model.find({ isDeleted: { $eq: false } })
                .countDocuments()
                .exec();
        });
    }
    getCustomerMetrics(_, { id }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._usersOrdersService.getCustomerMetrics(id);
        });
    }
    updateUser(_, { id, updateObject }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._usersService.updateUser(id, updateObject);
        });
    }
    updateUserEmail(_, { userId, email }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._usersService.updateEmail(userId, email);
        });
    }
    registerUser(_, { registerInput }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._usersAuthService.register(registerInput);
        });
    }
    userLogin(_, { email, password }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._usersAuthService.login(email, password);
        });
    }
    removeUsersByIds(obj, { ids }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const users = yield this._usersService.find({
                _id: { $in: ids },
                isDeleted: { $eq: false },
            });
            const usersIds = users.map((u) => u.id);
            return this._usersService.removeMultipleByIds(usersIds);
        });
    }
    getDevices(_user) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const user = new User_1.default(_user);
            return ((yield this._devicesService.getMultipleDevices(user.devicesIds))
                .pipe(operators_1.first())
                .toPromise());
        });
    }
    updateUserPassword(_, { id, password, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._usersAuthService.updatePassword(id, password);
        });
    }
    addUserRegistrationInfo(_, { id, registrationInfo, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._usersAuthService.addRegistrationInfo(id, registrationInfo);
        });
    }
    banUser(_, { id }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._usersService.banUser(id);
        });
    }
    unbanUser(_, { id }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._usersService.unbanUser(id);
        });
    }
};
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], UserResolver.prototype, "isUserEmailExists", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], UserResolver.prototype, "generate1000Customers", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], UserResolver.prototype, "getSocial", null);
tslib_1.__decorate([
    graphql_1.Query('isUserExists'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], UserResolver.prototype, "userExists", null);
tslib_1.__decorate([
    graphql_1.Query('user'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], UserResolver.prototype, "getUser", null);
tslib_1.__decorate([
    graphql_1.Query('users'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], UserResolver.prototype, "getUsers", null);
tslib_1.__decorate([
    graphql_1.Query('getOrders'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], UserResolver.prototype, "getOrders", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", Promise)
], UserResolver.prototype, "getCountOfUsers", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], UserResolver.prototype, "getCustomerMetrics", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], UserResolver.prototype, "updateUser", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], UserResolver.prototype, "updateUserEmail", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], UserResolver.prototype, "registerUser", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], UserResolver.prototype, "userLogin", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], UserResolver.prototype, "removeUsersByIds", null);
tslib_1.__decorate([
    graphql_1.ResolveProperty('devices'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], UserResolver.prototype, "getDevices", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], UserResolver.prototype, "updateUserPassword", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], UserResolver.prototype, "addUserRegistrationInfo", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], UserResolver.prototype, "banUser", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], UserResolver.prototype, "unbanUser", null);
UserResolver = tslib_1.__decorate([
    graphql_1.Resolver('User'),
    tslib_1.__metadata("design:paramtypes", [users_1.UsersService,
        UsersAuthService_1.UsersAuthService,
        users_1.UsersOrdersService,
        devices_1.DevicesService,
        orders_1.OrdersService])
], UserResolver);
exports.UserResolver = UserResolver;


/***/ }),

/***/ "./src/graphql/users/users.module.ts":
/*!*******************************************!*\
  !*** ./src/graphql/users/users.module.ts ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const user_resolver_1 = __webpack_require__(/*! ./user.resolver */ "./src/graphql/users/user.resolver.ts");
let UsersModule = class UsersModule {
};
UsersModule = tslib_1.__decorate([
    common_1.Module({
        providers: [user_resolver_1.UserResolver],
    })
], UsersModule);
exports.UsersModule = UsersModule;


/***/ }),

/***/ "./src/graphql/warehouses-carriers/warehouses-carriers.module.ts":
/*!***********************************************************************!*\
  !*** ./src/graphql/warehouses-carriers/warehouses-carriers.module.ts ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const warehouses_carriers_resolver_1 = __webpack_require__(/*! ./warehouses-carriers.resolver */ "./src/graphql/warehouses-carriers/warehouses-carriers.resolver.ts");
let WarehousesCarriersModule = class WarehousesCarriersModule {
};
WarehousesCarriersModule = tslib_1.__decorate([
    common_1.Module({
        providers: [warehouses_carriers_resolver_1.WarehouseCarriersResolver],
        imports: [],
    })
], WarehousesCarriersModule);
exports.WarehousesCarriersModule = WarehousesCarriersModule;


/***/ }),

/***/ "./src/graphql/warehouses-carriers/warehouses-carriers.resolver.ts":
/*!*************************************************************************!*\
  !*** ./src/graphql/warehouses-carriers/warehouses-carriers.resolver.ts ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const graphql_1 = __webpack_require__(/*! @nestjs/graphql */ "@nestjs/graphql");
const warehouses_1 = __webpack_require__(/*! ../../services/warehouses */ "./src/services/warehouses/index.ts");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
let WarehouseCarriersResolver = class WarehouseCarriersResolver {
    constructor(_warehousesCarriersService) {
        this._warehousesCarriersService = _warehousesCarriersService;
    }
    getStoreCarriers(_, { storeId }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const result = yield this._warehousesCarriersService
                .get(storeId)
                .pipe(operators_1.first())
                .toPromise();
            return result;
        });
    }
};
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseCarriersResolver.prototype, "getStoreCarriers", null);
WarehouseCarriersResolver = tslib_1.__decorate([
    graphql_1.Resolver('WarehouseCarriers'),
    tslib_1.__metadata("design:paramtypes", [warehouses_1.WarehousesCarriersService])
], WarehouseCarriersResolver);
exports.WarehouseCarriersResolver = WarehouseCarriersResolver;


/***/ }),

/***/ "./src/graphql/warehouses-orders/warehouses-orders.module.ts":
/*!*******************************************************************!*\
  !*** ./src/graphql/warehouses-orders/warehouses-orders.module.ts ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const warehouses_orders_resolver_1 = __webpack_require__(/*! ./warehouses-orders.resolver */ "./src/graphql/warehouses-orders/warehouses-orders.resolver.ts");
let WarehousesOrdersModule = class WarehousesOrdersModule {
};
WarehousesOrdersModule = tslib_1.__decorate([
    common_1.Module({
        providers: [warehouses_orders_resolver_1.WarehouseOrdersResolver],
        imports: [],
    })
], WarehousesOrdersModule);
exports.WarehousesOrdersModule = WarehousesOrdersModule;


/***/ }),

/***/ "./src/graphql/warehouses-orders/warehouses-orders.resolver.ts":
/*!*********************************************************************!*\
  !*** ./src/graphql/warehouses-orders/warehouses-orders.resolver.ts ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const graphql_1 = __webpack_require__(/*! @nestjs/graphql */ "@nestjs/graphql");
const warehouses_1 = __webpack_require__(/*! ../../services/warehouses */ "./src/services/warehouses/index.ts");
const Order_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Order */ "./node_modules/@ever-platform/common/src/entities/Order.ts"));
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const orders_1 = __webpack_require__(/*! ../../services/orders */ "./src/services/orders/index.ts");
const bson_1 = __webpack_require__(/*! bson */ "bson");
let WarehouseOrdersResolver = class WarehouseOrdersResolver {
    constructor(_warehousesOrdersService, _ordersService) {
        this._warehousesOrdersService = _warehousesOrdersService;
        this._ordersService = _ordersService;
    }
    getStoreOrders(_, { storeId }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._warehousesOrdersService
                .get(storeId)
                .pipe(operators_1.first())
                .toPromise();
        });
    }
    getDashboardOrdersChartOrders(_, { storeId }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const resOrders = this._ordersService.getStoreOrdersChartTotalOrders(storeId);
            return resOrders;
        });
    }
    getNextOrderNumber(_, { storeId }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._warehousesOrdersService.getNextOrderNumber(storeId);
        });
    }
    getMerchantsOrders() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._ordersService.Model.aggregate([
                { $match: { warehouse: { $ne: null } } },
                {
                    $group: {
                        _id: '$warehouse',
                        ordersCount: { $sum: 1 },
                    },
                },
            ]);
        });
    }
    getStoreOrdersTableData(_, { storeId, pagingOptions = {}, status }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            if (!pagingOptions || (pagingOptions && !pagingOptions['sort'])) {
                pagingOptions['sort'] = { field: '_createdAt', sortBy: 'asc' };
            }
            const orders = yield this._warehousesOrdersService.getStoreOrders(storeId, pagingOptions, status);
            let page = 1;
            if (pagingOptions) {
                page = Math.ceil(pagingOptions['skip'] / pagingOptions['limit'] + 1);
            }
            return { orders: orders.map((o) => new Order_1.default(o)), page };
        });
    }
    getCountOfStoreOrders(_, { storeId, status }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const findObj = warehouses_1.getStoreOrdersFingObj(storeId, status);
            return this._ordersService.Model.find(findObj).countDocuments().exec();
        });
    }
    removeUserOrders(_, { storeId, userId }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const res = yield this._ordersService.Model.update({
                'user._id': new bson_1.ObjectId(userId),
                warehouse: storeId,
                isDeleted: false,
            }, { isDeleted: true }, { multi: true }).exec();
            return {
                number: res.n,
                modified: res.nModified,
            };
        });
    }
    getOrdersInDelivery(_, { storeId }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const order = yield this._ordersService.getOrdersInDelivery(storeId);
            return order || [];
        });
    }
    createOrder(_, { createInput }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._warehousesOrdersService.create(createInput);
        });
    }
};
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseOrdersResolver.prototype, "getStoreOrders", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseOrdersResolver.prototype, "getDashboardOrdersChartOrders", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseOrdersResolver.prototype, "getNextOrderNumber", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseOrdersResolver.prototype, "getMerchantsOrders", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseOrdersResolver.prototype, "getStoreOrdersTableData", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseOrdersResolver.prototype, "getCountOfStoreOrders", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseOrdersResolver.prototype, "removeUserOrders", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseOrdersResolver.prototype, "getOrdersInDelivery", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseOrdersResolver.prototype, "createOrder", null);
WarehouseOrdersResolver = tslib_1.__decorate([
    graphql_1.Resolver('WarehouseOrders'),
    tslib_1.__metadata("design:paramtypes", [warehouses_1.WarehousesOrdersService,
        orders_1.OrdersService])
], WarehouseOrdersResolver);
exports.WarehouseOrdersResolver = WarehouseOrdersResolver;


/***/ }),

/***/ "./src/graphql/warehouses-products/warehouse-products.resolver.ts":
/*!************************************************************************!*\
  !*** ./src/graphql/warehouses-products/warehouse-products.resolver.ts ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const graphql_1 = __webpack_require__(/*! @nestjs/graphql */ "@nestjs/graphql");
const warehouses_1 = __webpack_require__(/*! ../../services/warehouses */ "./src/services/warehouses/index.ts");
const handlebars_1 = __webpack_require__(/*! handlebars */ "handlebars");
const WarehouseProduct_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/WarehouseProduct */ "./node_modules/@ever-platform/common/src/entities/WarehouseProduct.ts"));
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
let WarehouseProductsResolver = class WarehouseProductsResolver {
    constructor(_warehousesProductsService) {
        this._warehousesProductsService = _warehousesProductsService;
    }
    getProductsWithPagination(_, { id, pagingOptions = {} }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const warehouseProducts = yield this._warehousesProductsService.getProductsWithPagination(id, pagingOptions);
            return warehouseProducts.map((p) => new WarehouseProduct_1.default(p));
        });
    }
    getProductsCount(_, { id }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._warehousesProductsService.getProductsCount(id);
        });
    }
    getWarehouseProduct(_, { warehouseId, warehouseProductId, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return yield this._warehousesProductsService
                .getProduct(warehouseId, warehouseProductId)
                .pipe(operators_1.first())
                .toPromise();
        });
    }
    addWarehouseProducts(_, { warehouseId, products, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._warehousesProductsService.add(warehouseId, products);
        });
    }
    removeWarehouseProducts(_, { warehouseId, productsIds, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._warehousesProductsService.remove(warehouseId, productsIds);
        });
    }
    updateWarehouseProduct(_, { warehouseId, productId, updateInput, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            throw new handlebars_1.Exception('not implemented');
        });
    }
};
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseProductsResolver.prototype, "getProductsWithPagination", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseProductsResolver.prototype, "getProductsCount", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseProductsResolver.prototype, "getWarehouseProduct", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseProductsResolver.prototype, "addWarehouseProducts", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseProductsResolver.prototype, "removeWarehouseProducts", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseProductsResolver.prototype, "updateWarehouseProduct", null);
WarehouseProductsResolver = tslib_1.__decorate([
    graphql_1.Resolver('Warehouse-products'),
    tslib_1.__metadata("design:paramtypes", [warehouses_1.WarehousesProductsService])
], WarehouseProductsResolver);
exports.WarehouseProductsResolver = WarehouseProductsResolver;


/***/ }),

/***/ "./src/graphql/warehouses-products/warehouses-products.modules.ts":
/*!************************************************************************!*\
  !*** ./src/graphql/warehouses-products/warehouses-products.modules.ts ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const warehouse_products_resolver_1 = __webpack_require__(/*! ./warehouse-products.resolver */ "./src/graphql/warehouses-products/warehouse-products.resolver.ts");
let WarehousesProductsModule = class WarehousesProductsModule {
};
WarehousesProductsModule = tslib_1.__decorate([
    common_1.Module({
        providers: [warehouse_products_resolver_1.WarehouseProductsResolver],
        imports: [],
    })
], WarehousesProductsModule);
exports.WarehousesProductsModule = WarehousesProductsModule;


/***/ }),

/***/ "./src/graphql/warehouses/warehouse.resolver.ts":
/*!******************************************************!*\
  !*** ./src/graphql/warehouses/warehouse.resolver.ts ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const graphql_1 = __webpack_require__(/*! @nestjs/graphql */ "@nestjs/graphql");
const Warehouse_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Warehouse */ "./node_modules/@ever-platform/common/src/entities/Warehouse.ts"));
const warehouses_1 = __webpack_require__(/*! ../../services/warehouses */ "./src/services/warehouses/index.ts");
const devices_1 = __webpack_require__(/*! ../../services/devices */ "./src/services/devices/index.ts");
const orders_1 = __webpack_require__(/*! ../../services/orders */ "./src/services/orders/index.ts");
const users_1 = __webpack_require__(/*! ../../services/users */ "./src/services/users/index.ts");
const geo_locations_1 = __webpack_require__(/*! ../../services/geo-locations */ "./src/services/geo-locations/index.ts");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const utils_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/utils */ "./node_modules/@ever-platform/common/src/utils.ts"));
const GeoLocation_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/GeoLocation */ "./node_modules/@ever-platform/common/src/entities/GeoLocation.ts"));
let WarehouseResolver = class WarehouseResolver {
    constructor(_geoLocationWarehousesService, _warehousesService, _warehousesOrdersService, _warehousesUsersService, _warehousesCarriersService, _warehouseProductsService, _devicesService, _ordersService, _usersService) {
        this._geoLocationWarehousesService = _geoLocationWarehousesService;
        this._warehousesService = _warehousesService;
        this._warehousesOrdersService = _warehousesOrdersService;
        this._warehousesUsersService = _warehousesUsersService;
        this._warehousesCarriersService = _warehousesCarriersService;
        this._warehouseProductsService = _warehouseProductsService;
        this._devicesService = _devicesService;
        this._ordersService = _ordersService;
        this._usersService = _usersService;
    }
    hasExistingStores() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return (yield this._warehousesService.count({})) > 0;
        });
    }
    getStoreProducts(_, { storeId, fullProducts }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._warehouseProductsService
                .get(storeId, fullProducts)
                .pipe(operators_1.first())
                .toPromise();
        });
    }
    getStoreAvailableProducts(_, { storeId }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._warehouseProductsService
                .getAvailable(storeId)
                .pipe(operators_1.first())
                .toPromise();
        });
    }
    getAllActiveStores(_, { fullProducts }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._warehousesService
                .getAllActive(fullProducts)
                .pipe(operators_1.first())
                .toPromise();
        });
    }
    countStoreCustomers(_, { storeId }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const storeOrders = yield this._warehousesOrdersService
                .get(storeId)
                .pipe(operators_1.first())
                .toPromise();
            const storeCustomerIds = storeOrders.map((order) => order.user._id.toString());
            return new Set(storeCustomerIds).size;
        });
    }
    getCountExistingCustomers() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const isDeletedFlag = { isDeleted: { $eq: false } };
            const users = yield this._ordersService.Model.find(isDeletedFlag)
                .distinct('user._id')
                .lean();
            const storesIds = yield this._ordersService.Model.find(isDeletedFlag)
                .distinct('warehouse')
                .lean();
            return {
                total: users.length,
                perStore: storesIds.map((storeId) => tslib_1.__awaiter(this, void 0, void 0, function* () {
                    const usersIds = yield this._ordersService.Model.find(Object.assign(Object.assign({}, isDeletedFlag), { warehouse: storeId })).distinct('user._id');
                    return {
                        storeId,
                        customersCount: usersIds.length,
                    };
                })),
            };
        });
    }
    getCountExistingCustomersToday() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const isDeletedFlag = { isDeleted: { $eq: false } };
            const start = new Date();
            const end = new Date();
            start.setHours(0, 0, 0, 0);
            end.setHours(23, 59, 59, 999);
            const users = yield this._ordersService.Model.find(Object.assign(Object.assign({}, isDeletedFlag), { _createdAt: { $gte: start, $lt: end } }))
                .distinct('user._id')
                .lean()
                .exec();
            const storesIds = yield this._ordersService.Model.find(Object.assign(Object.assign({}, isDeletedFlag), { _createdAt: { $gte: start, $lt: end } }))
                .distinct('warehouse')
                .lean()
                .exec();
            return {
                total: users.length,
                perStore: storesIds.map((storeId) => tslib_1.__awaiter(this, void 0, void 0, function* () {
                    const usersIds = yield this._ordersService.Model.find(Object.assign(Object.assign({}, isDeletedFlag), { 'user._id': { $in: users.map((u) => u._id) }, warehouse: storeId })).distinct('user._id');
                    return {
                        storeId,
                        customersCount: usersIds.length,
                    };
                })),
            };
        });
    }
    getNearbyStores(_, { geoLocation }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._geoLocationWarehousesService
                .get(geoLocation)
                .pipe(operators_1.first())
                .toPromise();
        });
    }
    getWarehouse(_, { id }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._warehousesService.get(id).pipe(operators_1.first()).toPromise();
        });
    }
    getAllStores() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._warehousesService.find({ isDeleted: { $eq: false } });
        });
    }
    getWarehouses(_, { findInput, pagingOptions = {} }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            if (!pagingOptions || (pagingOptions && !pagingOptions['sort'])) {
                pagingOptions['sort'] = { field: '_createdAt', sortBy: 'desc' };
            }
            const merchants = yield this._warehousesService.getMerchants(findInput, pagingOptions);
            return merchants.map((m) => new Warehouse_1.default(m));
        });
    }
    getStoreCustomers(_, { storeId }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._warehousesUsersService.getPromise(storeId);
        });
    }
    getCountOfMerchants() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._warehousesService.Model.find({ isDeleted: { $eq: false } })
                .countDocuments()
                .exec();
        });
    }
    getMerchantsBuyName(_, { searchName, geoLocation, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const count = yield this._warehousesService.Model.find({
                name: { $regex: searchName, $options: 'i' },
            })
                .countDocuments()
                .exec();
            let merchants = yield this._warehousesService.getMerchants({ name: { $regex: searchName, $options: 'i' } }, { skip: 0, limit: count });
            if (geoLocation) {
                merchants = merchants.sort((m1, m2) => utils_1.default.getDistance(new GeoLocation_1.default(m1.geoLocation), new GeoLocation_1.default(geoLocation)) -
                    utils_1.default.getDistance(new GeoLocation_1.default(m2.geoLocation), new GeoLocation_1.default(geoLocation)));
            }
            return merchants.map((m) => new Warehouse_1.default(m));
        });
    }
    warehouseLogin(_, { username, password }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._warehousesService.login(username, password);
        });
    }
    updateStoreGeoLocation(_, { storeId, geoLocation, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._warehousesService.updateGeoLocation(storeId, geoLocation);
        });
    }
    registerWarehouse(_, { registerInput }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._warehousesService.register(registerInput);
        });
    }
    removeWarehousesByIds(_, { ids }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._warehousesService.removeMultipleByIds(ids);
        });
    }
    getDevices(_warehouse) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const warehouse = new Warehouse_1.default(_warehouse);
            return this._devicesService
                .getMultiple(warehouse.devicesIds)
                .pipe(operators_1.first())
                .toPromise();
        });
    }
    getOrders(_warehouse) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const warehouse = new Warehouse_1.default(_warehouse);
            return this._warehousesOrdersService
                .get(warehouse.id)
                .pipe(operators_1.first())
                .toPromise();
        });
    }
    getUsers(_warehouse) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const warehouse = new Warehouse_1.default(_warehouse);
            return this._warehousesUsersService
                .get(warehouse.id)
                .pipe(operators_1.first())
                .toPromise();
        });
    }
    getCarriers(_warehouse) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const warehouse = new Warehouse_1.default(_warehouse);
            return this._warehousesCarriersService
                .get(warehouse.id)
                .pipe(operators_1.first())
                .toPromise();
        });
    }
    updateWarehousePassword(_, { id, password, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._warehousesService.updatePassword(id, password);
        });
    }
};
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseResolver.prototype, "hasExistingStores", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseResolver.prototype, "getStoreProducts", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseResolver.prototype, "getStoreAvailableProducts", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseResolver.prototype, "getAllActiveStores", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseResolver.prototype, "countStoreCustomers", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseResolver.prototype, "getCountExistingCustomers", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseResolver.prototype, "getCountExistingCustomersToday", null);
tslib_1.__decorate([
    graphql_1.Query('nearbyStores'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseResolver.prototype, "getNearbyStores", null);
tslib_1.__decorate([
    graphql_1.Query('warehouse'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseResolver.prototype, "getWarehouse", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseResolver.prototype, "getAllStores", null);
tslib_1.__decorate([
    graphql_1.Query('warehouses'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseResolver.prototype, "getWarehouses", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseResolver.prototype, "getStoreCustomers", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseResolver.prototype, "getCountOfMerchants", null);
tslib_1.__decorate([
    graphql_1.Query(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseResolver.prototype, "getMerchantsBuyName", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseResolver.prototype, "warehouseLogin", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseResolver.prototype, "updateStoreGeoLocation", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseResolver.prototype, "registerWarehouse", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseResolver.prototype, "removeWarehousesByIds", null);
tslib_1.__decorate([
    graphql_1.ResolveProperty('devices'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseResolver.prototype, "getDevices", null);
tslib_1.__decorate([
    graphql_1.ResolveProperty('orders'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseResolver.prototype, "getOrders", null);
tslib_1.__decorate([
    graphql_1.ResolveProperty('users'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseResolver.prototype, "getUsers", null);
tslib_1.__decorate([
    graphql_1.ResolveProperty('carriers'),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseResolver.prototype, "getCarriers", null);
tslib_1.__decorate([
    graphql_1.Mutation(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehouseResolver.prototype, "updateWarehousePassword", null);
WarehouseResolver = tslib_1.__decorate([
    graphql_1.Resolver('Warehouse'),
    tslib_1.__metadata("design:paramtypes", [geo_locations_1.GeoLocationsWarehousesService,
        warehouses_1.WarehousesService,
        warehouses_1.WarehousesOrdersService,
        warehouses_1.WarehousesUsersService,
        warehouses_1.WarehousesCarriersService,
        warehouses_1.WarehousesProductsService,
        devices_1.DevicesService,
        orders_1.OrdersService,
        users_1.UsersService])
], WarehouseResolver);
exports.WarehouseResolver = WarehouseResolver;


/***/ }),

/***/ "./src/graphql/warehouses/warehouses.module.ts":
/*!*****************************************************!*\
  !*** ./src/graphql/warehouses/warehouses.module.ts ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const warehouse_resolver_1 = __webpack_require__(/*! ./warehouse.resolver */ "./src/graphql/warehouses/warehouse.resolver.ts");
const auth_module_1 = __webpack_require__(/*! ../../auth/auth.module */ "./src/auth/auth.module.ts");
let WarehousesModule = class WarehousesModule {
};
WarehousesModule = tslib_1.__decorate([
    common_1.Module({
        providers: [warehouse_resolver_1.WarehouseResolver],
        imports: [auth_module_1.AuthModule],
    })
], WarehousesModule);
exports.WarehousesModule = WarehousesModule;


/***/ }),

/***/ "./src/helpers/Log.ts":
/*!****************************!*\
  !*** ./src/helpers/Log.ts ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const bunyan_1 = tslib_1.__importDefault(__webpack_require__(/*! bunyan */ "bunyan"));
const fs_1 = __webpack_require__(/*! fs */ "fs");
const mkdirp_1 = tslib_1.__importDefault(__webpack_require__(/*! mkdirp */ "mkdirp"));
const env_1 = __webpack_require__(/*! ../env */ "./src/env.ts");
const _ = __webpack_require__(/*! lodash */ "lodash");
const bunyan_cloudwatch_1 = tslib_1.__importDefault(__webpack_require__(/*! bunyan-cloudwatch */ "bunyan-cloudwatch"));
const os_1 = tslib_1.__importDefault(__webpack_require__(/*! os */ "os"));
const bunyan_prettystream_1 = tslib_1.__importDefault(__webpack_require__(/*! bunyan-prettystream */ "bunyan-prettystream"));
let isLogsFolderExists = env_1.env.LOGS_PATH ? fs_1.existsSync(env_1.env.LOGS_PATH) : false;
const getAdditionalLoggerStreams = ({ name }) => {
    const hostname = os_1.default.hostname();
    if (env_1.env.isProd) {
        const logLevels = ['info', 'error', 'debug'];
        return _.map(logLevels, (type) => {
            let stream;
            try {
                stream = bunyan_cloudwatch_1.default({
                    logGroupName: 'ever/api',
                    logStreamName: `${type}_${name}_${hostname}`,
                    cloudWatchLogsOptions: {
                        region: 'us-east-1',
                    },
                });
            }
            catch (err) {
                console.log(err);
            }
            return {
                stream,
                type: 'raw',
                level: type,
            };
        });
    }
    else {
        return [];
    }
};
const prettyStdOut = new bunyan_prettystream_1.default();
prettyStdOut.pipe(process.stdout);
function createEverLogger({ name }) {
    if (!isLogsFolderExists) {
        mkdirp_1.default.sync(env_1.env.LOGS_PATH);
        isLogsFolderExists = true;
    }
    const logger = bunyan_1.default.createLogger({
        name: `everbie.${name}`,
        serializers: bunyan_1.default.stdSerializers,
        streams: [
            {
                level: 'info',
                path: `${env_1.env.LOGS_PATH}/info_${name}.log`,
            },
            {
                level: 'error',
                path: `${env_1.env.LOGS_PATH}/error_${name}.log`,
            },
            {
                level: 'debug',
                path: `${env_1.env.LOGS_PATH}/debug_${name}.log`,
            },
            {
                level: 'debug',
                type: 'raw',
                stream: prettyStdOut,
            },
            ...getAdditionalLoggerStreams({ name }),
        ],
    });
    if (env_1.env.LOG_LEVEL) {
        logger.level(bunyan_1.default[env_1.env.LOG_LEVEL.toUpperCase()]);
    }
    return logger;
}
exports.createEverLogger = createEverLogger;
function Log(logArgs) {
    return function (target) {
        target.prototype.logName = logArgs.name;
        target.prototype.log = createEverLogger(logArgs);
    };
}
exports.Log = Log;


/***/ }),

/***/ "./src/helpers/NestJSLogger.ts":
/*!*************************************!*\
  !*** ./src/helpers/NestJSLogger.ts ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const Log_1 = __webpack_require__(/*! ./Log */ "./src/helpers/Log.ts");
const log = Log_1.createEverLogger({ name: 'nestjs' });
class EverbieNestJSLogger {
    log(message) {
        log.info(message);
    }
    error(message, trace) {
        log.error(`Message: ${message}. Trace: ${trace}`);
    }
    warn(message) {
        log.warn(message);
    }
}
exports.EverbieNestJSLogger = EverbieNestJSLogger;


/***/ }),

/***/ "./src/nest-bootstrap.ts":
/*!*******************************!*\
  !*** ./src/nest-bootstrap.ts ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const core_1 = __webpack_require__(/*! @nestjs/core */ "@nestjs/core");
const app_module_1 = __webpack_require__(/*! ./app.module */ "./src/app.module.ts");
const swagger_1 = __webpack_require__(/*! @nestjs/swagger */ "@nestjs/swagger");
const env_1 = __webpack_require__(/*! ./env */ "./src/env.ts");
const Log_1 = __webpack_require__(/*! ./helpers/Log */ "./src/helpers/Log.ts");
const NestJSLogger_1 = __webpack_require__(/*! ./helpers/NestJSLogger */ "./src/helpers/NestJSLogger.ts");
const log = Log_1.createEverLogger({ name: 'bootstrapNest' });
function bootstrapNest() {
    return tslib_1.__awaiter(this, void 0, void 0, function* () {
        const port = env_1.env.GQLPORT;
        const app = yield core_1.NestFactory.create(app_module_1.ApplicationModule, {
            logger: new NestJSLogger_1.EverbieNestJSLogger(),
        });
        app.enableCors();
        const options = new swagger_1.DocumentBuilder()
            .setTitle('Ever REST API')
            .setVersion('1.0')
            .addBearerAuth()
            .build();
        const document = swagger_1.SwaggerModule.createDocument(app, options);
        swagger_1.SwaggerModule.setup('api', app, document);
        yield app.listen(port + '');
        if (true) {
            module.hot.accept();
            module.hot.dispose((_) => app.close());
        }
        log.info(`Swagger UI available at http://localhost/api`);
        console.log(`Swagger UI available at http://localhost/api`);
    });
}
exports.bootstrapNest = bootstrapNest;


/***/ }),

/***/ "./src/services/IService.ts":
/*!**********************************!*\
  !*** ./src/services/IService.ts ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.ServiceSymbol = Symbol('Service');


/***/ }),

/***/ "./src/services/admins/AdminsService.ts":
/*!**********************************************!*\
  !*** ./src/services/admins/AdminsService.ts ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const db_server_1 = __webpack_require__(/*! @pyro/db-server */ "./src/@pyro/db-server/index.ts");
const Admin_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Admin */ "./node_modules/@ever-platform/common/src/entities/Admin.ts"));
const Log_1 = __webpack_require__(/*! ../../helpers/Log */ "./src/helpers/Log.ts");
const env_1 = __webpack_require__(/*! ../../env */ "./src/env.ts");
const rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const typeorm_1 = __webpack_require__(/*! typeorm */ "typeorm");
let AdminsService = class AdminsService extends db_server_1.DBService {
    constructor(authServiceFactory, _adminRepository) {
        super();
        this._adminRepository = _adminRepository;
        this.DBObject = Admin_1.default;
        this.log = Log_1.createEverLogger({ name: 'adminService' });
        _adminRepository
            .count()
            .then((c) => {
            console.log('Admins count: ' + c);
        })
            .catch((e) => {
            console.log(e);
        });
        this.authService = authServiceFactory({
            role: 'admin',
            Entity: Admin_1.default,
            saltRounds: env_1.env.ADMIN_PASSWORD_BCRYPT_SALT_ROUNDS,
        });
    }
    get(id) {
        return super.get(id).pipe(operators_1.map((admin) => tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(id);
            return admin;
        })), operators_1.switchMap((admin) => admin));
    }
    getByEmail(email) {
        const _super = Object.create(null, {
            findOne: { get: () => super.findOne }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return _super.findOne.call(this, { email, isDeleted: { $eq: false } });
        });
    }
    register(input) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const admin = yield this.create(Object.assign(Object.assign({}, input.admin), (input.password
                ? {
                    hash: yield this.authService.getPasswordHash(input.password),
                }
                : {})));
            return admin;
        });
    }
    updatePassword(id, password) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(id);
            yield this.authService.updatePassword(id, password);
        });
    }
    login(email, password) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            let res = null;
            const admin = yield this.getByEmail(email);
            if (admin) {
                res = yield this.authService.login({ email }, password);
            }
            if (!res) {
                return null;
            }
            return {
                admin: res.entity,
                token: res.token,
            };
        });
    }
    isAuthenticated(token) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this.authService.isAuthenticated(token);
        });
    }
    updateById(id, updateObject) {
        const _super = Object.create(null, {
            update: { get: () => super.update }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(id);
            return _super.update.call(this, id, updateObject);
        });
    }
    throwIfNotExists(adminId) {
        const _super = Object.create(null, {
            get: { get: () => super.get }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const admin = yield _super.get.call(this, adminId).pipe(operators_1.first()).toPromise();
            if (!admin || admin.isDeleted) {
                throw Error(`Admin with id '${adminId}' does not exists!`);
            }
        });
    }
};
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], AdminsService.prototype, "get", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], AdminsService.prototype, "getByEmail", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], AdminsService.prototype, "register", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], AdminsService.prototype, "updatePassword", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, String]),
    tslib_1.__metadata("design:returntype", Promise)
], AdminsService.prototype, "login", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String]),
    tslib_1.__metadata("design:returntype", Promise)
], AdminsService.prototype, "isAuthenticated", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], AdminsService.prototype, "updateById", null);
AdminsService = tslib_1.__decorate([
    inversify_1.injectable(),
    tslib_1.__param(0, inversify_1.inject('Factory<AuthService>')),
    tslib_1.__param(1, inversify_1.inject('AdminRepository')),
    tslib_1.__metadata("design:paramtypes", [Function, typeorm_1.Repository])
], AdminsService);
exports.AdminsService = AdminsService;


/***/ }),

/***/ "./src/services/admins/index.ts":
/*!**************************************!*\
  !*** ./src/services/admins/index.ts ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
tslib_1.__exportStar(__webpack_require__(/*! ./AdminsService */ "./src/services/admins/AdminsService.ts"), exports);


/***/ }),

/***/ "./src/services/auth/AuthService.ts":
/*!******************************************!*\
  !*** ./src/services/auth/AuthService.ts ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const entity_service_1 = __webpack_require__(/*! @pyro/db-server/entity-service */ "./src/@pyro/db-server/entity-service.ts");
const env_1 = __webpack_require__(/*! ../../env */ "./src/env.ts");
const WrongPasswordError_1 = __webpack_require__(/*! @modules/server.common/errors/WrongPasswordError */ "./node_modules/@ever-platform/common/src/errors/WrongPasswordError.ts");
const bcrypt_1 = tslib_1.__importDefault(__webpack_require__(/*! bcrypt */ "bcrypt"));
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const jsonwebtoken_1 = tslib_1.__importDefault(__webpack_require__(/*! jsonwebtoken */ "jsonwebtoken"));
const jsonwebtoken_2 = __webpack_require__(/*! jsonwebtoken */ "jsonwebtoken");
let AuthService = class AuthService extends entity_service_1.EntityService {
    setConfig(config) {
        this.role = config.role;
        this.DBObject = config.Entity;
        this.saltRounds = config.saltRounds;
    }
    getPasswordHash(password) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return bcrypt_1.default.hash(password, this.saltRounds);
        });
    }
    addPassword(id, password) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const entity = this.parse(yield this.Model.findById(id).select('+hash').lean().exec());
            if (entity.hash != null) {
                throw new Error('Password already exists, please call updatePassword instead.');
            }
            yield this._savePassword(id, password);
        });
    }
    updatePassword(id, password) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const entity = this.parse(yield this.Model.findById(id).select('+hash').lean().exec());
            if (!(yield bcrypt_1.default.compare(password.current, entity.hash))) {
                throw new WrongPasswordError_1.WrongPasswordError();
            }
            yield this._savePassword(id, password.new);
        });
    }
    _savePassword(id, password) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const hash = yield this.getPasswordHash(password);
            yield this.Model.findByIdAndUpdate(id, {
                hash,
            })
                .lean()
                .exec();
        });
    }
    login(findObj, password) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const entity = this.parse(yield this.Model.findOne(findObj).select('+hash').lean().exec());
            if (!entity || !(yield bcrypt_1.default.compare(password, entity.hash))) {
                return null;
            }
            const token = jsonwebtoken_1.default.sign({ id: entity.id, role: this.role }, env_1.env.JWT_SECRET, {});
            delete entity.hash;
            return {
                entity,
                token,
            };
        });
    }
    isAuthenticated(token) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            try {
                const { id, role } = jsonwebtoken_1.default.verify(token, env_1.env.JWT_SECRET);
                const entity = yield this.Model.findById(id).lean().exec();
                if (!entity) {
                    return false;
                }
                return role === this.role;
            }
            catch (err) {
                if (err instanceof jsonwebtoken_2.JsonWebTokenError) {
                    return false;
                }
                else {
                    throw err;
                }
            }
        });
    }
};
AuthService = tslib_1.__decorate([
    inversify_1.injectable()
], AuthService);
exports.AuthService = AuthService;
exports.authServiceFactory = (context) => {
    return (config) => {
        const authService = context.container.get(AuthService);
        authService.setConfig(config);
        return authService;
    };
};


/***/ }),

/***/ "./src/services/auth/AuthenticationService.ts":
/*!****************************************************!*\
  !*** ./src/services/auth/AuthenticationService.ts ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const passport_jwt_1 = __webpack_require__(/*! passport-jwt */ "passport-jwt");
const jsonwebtoken_1 = tslib_1.__importDefault(__webpack_require__(/*! jsonwebtoken */ "jsonwebtoken"));
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const warehouses_1 = __webpack_require__(/*! ../warehouses */ "./src/services/warehouses/index.ts");
const carriers_1 = __webpack_require__(/*! ../carriers */ "./src/services/carriers/index.ts");
const env_1 = __webpack_require__(/*! ../../env */ "./src/env.ts");
const jwtSecret = env_1.env.JWT_SECRET;
if (jwtSecret === 'default') {
    console.log('Warning: default JWT_SECRET used. Please add your own to config!');
}
exports.createJwtData = {
    jwtFromRequest: passport_jwt_1.ExtractJwt.fromAuthHeaderAsBearerToken(),
    secretOrKey: jwtSecret,
};
function createToken(id, appName) {
    const user = { id, appName };
    return jsonwebtoken_1.default.sign(user, 'secretKey', {
        expiresIn: 3600,
    });
}
exports.createToken = createToken;
let AuthenticationService = class AuthenticationService {
    constructor(warehousesService, carriersService) {
        this.warehousesService = warehousesService;
        this.carriersService = carriersService;
    }
    validateUser(payload) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            if (payload.appName === 'carrier') {
                return this.carriersService
                    .get(payload.id)
                    .pipe(operators_1.first())
                    .toPromise();
            }
            else if (payload.appName === 'warehouse') {
                return this.warehousesService
                    .get(payload.id)
                    .pipe(operators_1.first())
                    .toPromise();
            }
            else {
                return null;
            }
        });
    }
};
AuthenticationService = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('auth'),
    tslib_1.__param(0, inversify_1.inject(new inversify_1.LazyServiceIdentifer(() => warehouses_1.WarehousesService))),
    tslib_1.__param(1, inversify_1.inject(new inversify_1.LazyServiceIdentifer(() => carriers_1.CarriersService))),
    tslib_1.__metadata("design:paramtypes", [warehouses_1.WarehousesService,
        carriers_1.CarriersService])
], AuthenticationService);
exports.AuthenticationService = AuthenticationService;


/***/ }),

/***/ "./src/services/auth/index.ts":
/*!************************************!*\
  !*** ./src/services/auth/index.ts ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
tslib_1.__exportStar(__webpack_require__(/*! ./AuthenticationService */ "./src/services/auth/AuthenticationService.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./AuthService */ "./src/services/auth/AuthService.ts"), exports);


/***/ }),

/***/ "./src/services/carriers/CarriersOrdersService.ts":
/*!********************************************************!*\
  !*** ./src/services/carriers/CarriersOrdersService.ts ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const lodash_1 = tslib_1.__importDefault(__webpack_require__(/*! lodash */ "lodash"));
const Log_1 = __webpack_require__(/*! ../../helpers/Log */ "./src/helpers/Log.ts");
const products_1 = __webpack_require__(/*! ../products */ "./src/services/products/index.ts");
const orders_1 = __webpack_require__(/*! ../orders */ "./src/services/orders/index.ts");
const CarriersService_1 = tslib_1.__importDefault(__webpack_require__(/*! ./CarriersService */ "./src/services/carriers/CarriersService.ts"));
const OrderCarrierStatus_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/enums/OrderCarrierStatus */ "./node_modules/@ever-platform/common/src/enums/OrderCarrierStatus.ts"));
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const warehouses_1 = __webpack_require__(/*! ../warehouses */ "./src/services/warehouses/index.ts");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const Order_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Order */ "./node_modules/@ever-platform/common/src/entities/Order.ts"));
const geo_locations_1 = __webpack_require__(/*! ../geo-locations */ "./src/services/geo-locations/index.ts");
const utils_1 = __webpack_require__(/*! @modules/server.common/utils */ "./node_modules/@ever-platform/common/src/utils.ts");
const db_server_1 = __webpack_require__(/*! @pyro/db-server */ "./src/@pyro/db-server/index.ts");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");
const OrderWarehouseStatus_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/enums/OrderWarehouseStatus */ "./node_modules/@ever-platform/common/src/enums/OrderWarehouseStatus.ts"));
let CarriersOrdersService = class CarriersOrdersService {
    constructor(carriersService, productsService, ordersService, geoLocationsOrdersService, warehousesOrdersService) {
        this.carriersService = carriersService;
        this.productsService = productsService;
        this.ordersService = ordersService;
        this.geoLocationsOrdersService = geoLocationsOrdersService;
        this.warehousesOrdersService = warehousesOrdersService;
        this.log = Log_1.createEverLogger({
            name: 'carriersOrdersService',
        });
    }
    selectedForDelivery(carrierId, orderIds) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            let carrier = yield this.carriersService
                .get(carrierId)
                .pipe(operators_1.first())
                .toPromise();
            if (carrier != null) {
                if (orderIds.length > 0) {
                    yield this.ordersService.updateMultipleByIds(orderIds, {
                        carrier: carrierId,
                        carrierStatus: OrderCarrierStatus_1.default.CarrierSelectedOrder,
                    });
                }
                carrier = yield this.carriersService
                    .get(carrierId)
                    .pipe(operators_1.first())
                    .toPromise();
                return carrier;
            }
            else {
                throw new Error('Carrier with such id is not found!');
            }
        });
    }
    getCount(carrierId) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.carriersService.throwIfNotExists(carrierId);
            return this.ordersService.count(lodash_1.default.extend({ carrier: carrierId }, orders_1.OrdersService.FindObjects.isCompleted));
        });
    }
    skipOrders(carrierId, ordersIds) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.carriersService.throwIfNotExists(carrierId);
            return this.carriersService.update(carrierId, {
                $push: {
                    skippedOrderIds: {
                        $each: ordersIds,
                    },
                },
            });
        });
    }
    updateStatus(carrierId, status) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.carriersService.throwIfNotExists(carrierId);
            const findObj = lodash_1.default.extend({ carrier: carrierId }, orders_1.OrdersService.FindObjects.isNotCompleted);
            const updateObj = {
                carrierStatus: status,
            };
            if (status === OrderCarrierStatus_1.default.DeliveryCompleted) {
                updateObj.isPaid = true;
                updateObj.deliveryTime = Date.now();
            }
            if (status === OrderCarrierStatus_1.default.CarrierStartDelivery ||
                status === OrderCarrierStatus_1.default.CarrierPickedUpOrder) {
                updateObj.startDeliveryTime = Date.now();
            }
            const finishedProcessingStatuses = [
                OrderCarrierStatus_1.default.ClientRefuseTakingOrder,
                OrderCarrierStatus_1.default.DeliveryCompleted,
                OrderCarrierStatus_1.default.IssuesDuringDelivery,
            ];
            if (finishedProcessingStatuses.includes(status)) {
                updateObj.finishedProcessingTime = Date.now();
            }
            if ((yield this.carriersService.getCurrent(carrierId)) != null) {
                try {
                    const orders = yield this.ordersService.updateMultiple(findObj, updateObj);
                    if (status === OrderCarrierStatus_1.default.DeliveryCompleted) {
                        return yield this.carriersService.increaseNumberOfDeliveries(carrierId, orders.length);
                    }
                    else {
                        return (yield this.carriersService.getCurrent(carrierId));
                    }
                }
                catch (err) {
                    this.log.error(err);
                    throw err;
                }
            }
            else {
                throw new Error('Carrier with such id is not found!');
            }
        });
    }
    cancelDelivery(carrierId, orderIds) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.carriersService.throwIfNotExists(carrierId);
            const _orders = yield this.ordersService.find({
                _id: { $in: orderIds },
                isDeleted: { $eq: false },
            });
            const ordersIdsFiltered = _orders.map((d) => d.id);
            const orders = yield this.ordersService.updateMultipleByIds(ordersIdsFiltered, {
                $unset: { carrier: 1 },
                carrierStatus: OrderCarrierStatus_1.default.NoCarrier,
            });
            yield this.skipOrders(carrierId, lodash_1.default.map(orders, (order) => order.id));
            return this.carriersService.updateStatus(carrierId, 0);
        });
    }
    getAvailable(carrierId, options = {
        populateWarehouse: false,
    }) {
        return this.carriersService.get(carrierId).pipe(operators_1.map((carrier) => (carrier != null ? carrier.geoLocation : null)), operators_1.distinctUntilChanged((geoLocation1, geoLocation2) => {
            if (geoLocation1 == null || geoLocation2 == null) {
                return true;
            }
            else {
                return utils_1.getDistance(geoLocation1, geoLocation2) <= 0.001;
            }
        }), operators_1.switchMap((geoLocation) => geoLocation != null
            ? this.geoLocationsOrdersService.get(geoLocation, {
                populateWarehouse: options.populateWarehouse,
            })
            : rxjs_1.throwError(new Error(`No such a carrier with the id ${carrierId} => can't getAvailable`))));
    }
    get(carrierId, options = {
        populateWarehouse: false,
        completion: 'not-completed',
    }) {
        return rxjs_1.of(null).pipe(operators_1.map((res) => tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.carriersService.throwIfNotExists(carrierId);
            return res;
        })), operators_1.switchMap((res) => res), operators_1.concat(this.ordersService.existence.pipe(operators_1.filter((existenceEvent) => {
            switch (existenceEvent.type) {
                case db_server_1.ExistenceEventType.Created:
                    return existenceEvent.value != null
                        ? existenceEvent.value.carrierId ===
                            carrierId
                        : false;
                case db_server_1.ExistenceEventType.Updated:
                    return ((existenceEvent.value != null
                        ? existenceEvent.value.carrierId ===
                            carrierId
                        : false) ||
                        (existenceEvent.lastValue != null
                            ? existenceEvent.lastValue.carrierId ===
                                carrierId
                            : false));
                case db_server_1.ExistenceEventType.Removed:
                    return existenceEvent.lastValue != null
                        ? existenceEvent.lastValue.carrierId ===
                            carrierId
                        : false;
            }
        }), operators_1.share())), operators_1.exhaustMap(() => this._get(carrierId, options)));
    }
    getCarrierOrders(carrierId, options = {
        populateWarehouse: false,
        completion: 'not-completed',
    }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const ordersRaw = (yield this.ordersService.Model.find(lodash_1.default.extend({ carrier: carrierId, isDeleted: { $eq: false } }, (() => {
                switch (options.completion) {
                    case 'completed':
                        return orders_1.OrdersService.FindObjects.isCompleted;
                    case 'not-completed':
                        return orders_1.OrdersService.FindObjects.isNotCompleted;
                    case 'all':
                        return {};
                }
            })()))
                .populate(options.populateWarehouse ? 'warehouse' : '')
                .lean()
                .exec());
            return ordersRaw.map((orderRaw) => {
                orderRaw['id'] = orderRaw._id;
                orderRaw.products = orderRaw.products.map((p) => {
                    p['id'] = p._id;
                    p.product['id'] = p.product._id;
                    return p;
                });
                return orderRaw;
            });
        });
    }
    getCarrierCurrentOrder(carrierId) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.carriersService.throwIfNotExists(carrierId);
            return this.ordersService.Model.findOne(lodash_1.default.assign(this.getOrdersForWorkFilter(carrierId), {
                carrier: carrierId,
            }))
                .lean()
                .exec();
        });
    }
    getCountOfCarrierOrdersHistory(carrierId) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.carriersService.throwIfNotExists(carrierId);
            return this.ordersService.Model.find({ carrier: carrierId })
                .countDocuments()
                .exec();
        });
    }
    getCarrierOrdersHistory(carrierId, options) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.carriersService.throwIfNotExists(carrierId);
            const dbOrders = yield this.ordersService.Model.find({
                carrier: carrierId,
            })
                .sort({
                _createdAt: options.sort && options.sort.toLowerCase().includes('desc')
                    ? 'desc'
                    : 'asc',
            })
                .skip(options.skip || 0)
                .limit(options.limit || 1)
                .lean()
                .exec();
            return dbOrders.map((o) => new Order_1.default(o));
        });
    }
    _get(carrierId, options) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.carriersService.throwIfNotExists(carrierId);
            try {
                const ordersRaw = (yield this.ordersService.Model.find(lodash_1.default.extend({ carrier: carrierId, isDeleted: { $eq: false } }, (() => {
                    switch (options.completion) {
                        case 'completed':
                            return orders_1.OrdersService.FindObjects.isCompleted;
                        case 'not-completed':
                            return orders_1.OrdersService.FindObjects.isNotCompleted;
                        case 'all':
                            return {};
                    }
                })()))
                    .populate(options.populateWarehouse ? 'warehouse' : '')
                    .lean()
                    .exec());
                return lodash_1.default.map(ordersRaw, (orderRaw) => new Order_1.default(orderRaw));
            }
            catch (err) {
                this.log.error(err);
                throw err;
            }
        });
    }
    getOrdersForWorkFilter(carrierId) {
        return {
            carrierStatus: {
                $nin: [
                    OrderCarrierStatus_1.default.IssuesDuringDelivery,
                    OrderCarrierStatus_1.default.ClientRefuseTakingOrder,
                    OrderCarrierStatus_1.default.DeliveryCompleted,
                ],
            },
            warehouseStatus: {
                $in: [
                    OrderWarehouseStatus_1.default.PackagingFinished,
                    OrderWarehouseStatus_1.default.GivenToCarrier,
                ],
            },
            $or: [{ carrier: null }, { carrier: carrierId }],
        };
    }
};
CarriersOrdersService.CarrierTrackingDistance = 50000;
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, Array]),
    tslib_1.__metadata("design:returntype", Promise)
], CarriersOrdersService.prototype, "selectedForDelivery", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String]),
    tslib_1.__metadata("design:returntype", Promise)
], CarriersOrdersService.prototype, "getCount", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, Array]),
    tslib_1.__metadata("design:returntype", Promise)
], CarriersOrdersService.prototype, "skipOrders", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, Number]),
    tslib_1.__metadata("design:returntype", Promise)
], CarriersOrdersService.prototype, "updateStatus", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, Array]),
    tslib_1.__metadata("design:returntype", Promise)
], CarriersOrdersService.prototype, "cancelDelivery", null);
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, Object]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], CarriersOrdersService.prototype, "getAvailable", null);
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, Object]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], CarriersOrdersService.prototype, "get", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], CarriersOrdersService.prototype, "getCarrierOrders", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String]),
    tslib_1.__metadata("design:returntype", Promise)
], CarriersOrdersService.prototype, "getCarrierCurrentOrder", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String]),
    tslib_1.__metadata("design:returntype", Promise)
], CarriersOrdersService.prototype, "getCountOfCarrierOrdersHistory", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], CarriersOrdersService.prototype, "getCarrierOrdersHistory", null);
CarriersOrdersService = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('carrier-orders'),
    tslib_1.__param(0, inversify_1.inject(CarriersService_1.default)),
    tslib_1.__param(1, inversify_1.inject(products_1.ProductsService)),
    tslib_1.__param(2, inversify_1.inject(orders_1.OrdersService)),
    tslib_1.__param(3, inversify_1.inject(geo_locations_1.GeoLocationsOrdersService)),
    tslib_1.__param(4, inversify_1.inject(warehouses_1.WarehousesOrdersService)),
    tslib_1.__metadata("design:paramtypes", [CarriersService_1.default,
        products_1.ProductsService,
        orders_1.OrdersService,
        geo_locations_1.GeoLocationsOrdersService,
        warehouses_1.WarehousesOrdersService])
], CarriersOrdersService);
exports.CarriersOrdersService = CarriersOrdersService;


/***/ }),

/***/ "./src/services/carriers/CarriersService.ts":
/*!**************************************************!*\
  !*** ./src/services/carriers/CarriersService.ts ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const CarrierStatus_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/enums/CarrierStatus */ "./node_modules/@ever-platform/common/src/enums/CarrierStatus.ts"));
const Carrier_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Carrier */ "./node_modules/@ever-platform/common/src/entities/Carrier.ts"));
const Log_1 = __webpack_require__(/*! ../../helpers/Log */ "./src/helpers/Log.ts");
const db_server_1 = __webpack_require__(/*! @pyro/db-server */ "./src/@pyro/db-server/index.ts");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const GeoLocation_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/GeoLocation */ "./node_modules/@ever-platform/common/src/entities/GeoLocation.ts"));
const rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const env_1 = __webpack_require__(/*! ../../env */ "./src/env.ts");
let CarriersService = class CarriersService extends db_server_1.DBService {
    constructor(authServiceFactory) {
        super();
        this.authServiceFactory = authServiceFactory;
        this.DBObject = Carrier_1.default;
        this.log = Log_1.createEverLogger({
            name: 'carriersService',
        });
        this.authService = this.authServiceFactory({
            role: 'carrier',
            Entity: Carrier_1.default,
            saltRounds: env_1.env.CARRIER_PASSWORD_BCRYPT_SALT_ROUNDS,
        });
    }
    get(id) {
        return super.get(id).pipe(operators_1.map((carrier) => tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(id);
            return carrier;
        })), operators_1.switchMap((carrier) => {
            return carrier;
        }));
    }
    getAllActive() {
        return rxjs_1.concat(rxjs_1.of(null), this.existence).pipe(operators_1.exhaustMap(() => this._getAllActive()));
    }
    _getAllActive() {
        const _super = Object.create(null, {
            find: { get: () => super.find }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return _super.find.call(this, { isActive: true, isDeleted: { $eq: false } });
        });
    }
    getMultipleByIds(carrierIds) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const carriers = yield this.find({
                _id: { $in: carrierIds },
                isDeleted: { $eq: false },
            });
            const carriersIdsToReturn = carriers.map((c) => c.id);
            return this.getMultiple(carriersIdsToReturn);
        });
    }
    register(input) {
        const _super = Object.create(null, {
            create: { get: () => super.create }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const carrier = yield _super.create.call(this, Object.assign(Object.assign({}, input.carrier), (input.password
                ? {
                    hash: yield this.authService.getPasswordHash(input.password),
                }
                : {})));
            return carrier;
        });
    }
    updatePassword(id, password) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(id);
            yield this.authService.updatePassword(id, password);
        });
    }
    login(username, password) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const res = yield this.authService.login({ username }, password);
            if (!res) {
                return null;
            }
            else if (res.entity.isDeleted) {
                return null;
            }
            return {
                carrier: res.entity,
                token: res.token,
            };
        });
    }
    updateStatus(carrierId, status) {
        const _super = Object.create(null, {
            update: { get: () => super.update }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(carrierId);
            return _super.update.call(this, carrierId, { status });
        });
    }
    updateActivity(carrierId, isActive) {
        const _super = Object.create(null, {
            update: { get: () => super.update }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(carrierId);
            return _super.update.call(this, carrierId, { isActive });
        });
    }
    updateEmail(carrierId, email) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(carrierId);
            return this.update(carrierId, { email });
        });
    }
    updateGeoLocation(carrierId, geoLocation) {
        const _super = Object.create(null, {
            update: { get: () => super.update }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(carrierId);
            return _super.update.call(this, carrierId, { geoLocation });
        });
    }
    updateById(id, updateObject) {
        const _super = Object.create(null, {
            update: { get: () => super.update }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(id);
            return _super.update.call(this, id, updateObject);
        });
    }
    increaseNumberOfDeliveries(carrierId, n) {
        const _super = Object.create(null, {
            update: { get: () => super.update }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(carrierId);
            return _super.update.call(this, carrierId, {
                $inc: { numberOfDeliveries: n },
            });
        });
    }
    throwIfNotExists(carrierId) {
        const _super = Object.create(null, {
            get: { get: () => super.get }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const carrier = yield _super.get.call(this, carrierId).pipe(operators_1.first()).toPromise();
            if (!carrier || carrier.isDeleted) {
                throw Error(`Carrier with id '${carrierId}' does not exists!`);
            }
        });
    }
    getCarriers(findInput, pagingOptions) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const sortObj = {};
            if (pagingOptions.sort) {
                sortObj[pagingOptions.sort.field] = pagingOptions.sort.sortBy;
            }
            return this.Model.find(Object.assign(Object.assign({}, findInput), { isDeleted: { $eq: false } }))
                .sort(sortObj)
                .skip(pagingOptions.skip)
                .limit(pagingOptions.limit)
                .lean()
                .exec();
        });
    }
};
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", void 0)
], CarriersService.prototype, "get", null);
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], CarriersService.prototype, "getAllActive", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], CarriersService.prototype, "register", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, String]),
    tslib_1.__metadata("design:returntype", Promise)
], CarriersService.prototype, "login", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Number]),
    tslib_1.__metadata("design:returntype", Promise)
], CarriersService.prototype, "updateStatus", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Boolean]),
    tslib_1.__metadata("design:returntype", Promise)
], CarriersService.prototype, "updateActivity", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, String]),
    tslib_1.__metadata("design:returntype", Promise)
], CarriersService.prototype, "updateEmail", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__param(1, io_1.serialization((gl) => new GeoLocation_1.default(gl))),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, GeoLocation_1.default]),
    tslib_1.__metadata("design:returntype", Promise)
], CarriersService.prototype, "updateGeoLocation", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], CarriersService.prototype, "updateById", null);
CarriersService = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('carrier'),
    tslib_1.__param(0, inversify_1.inject('Factory<AuthService>')),
    tslib_1.__metadata("design:paramtypes", [Function])
], CarriersService);
exports.CarriersService = CarriersService;
exports.default = CarriersService;


/***/ }),

/***/ "./src/services/carriers/index.ts":
/*!****************************************!*\
  !*** ./src/services/carriers/index.ts ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
tslib_1.__exportStar(__webpack_require__(/*! ./CarriersService */ "./src/services/carriers/CarriersService.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./CarriersOrdersService */ "./src/services/carriers/CarriersOrdersService.ts"), exports);


/***/ }),

/***/ "./src/services/currency/CurrencyService.ts":
/*!**************************************************!*\
  !*** ./src/services/currency/CurrencyService.ts ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const Currency_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Currency */ "./node_modules/@ever-platform/common/src/entities/Currency.ts"));
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const db_server_1 = __webpack_require__(/*! @pyro/db-server */ "./src/@pyro/db-server/index.ts");
const Log_1 = __webpack_require__(/*! ../../helpers/Log */ "./src/helpers/Log.ts");
let CurrenciesService = class CurrenciesService extends db_server_1.DBService {
    constructor() {
        super(...arguments);
        this.DBObject = Currency_1.default;
        this.log = Log_1.createEverLogger({
            name: 'currenciesService',
        });
    }
    createCurrency(currency) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            let success;
            let message;
            let data;
            try {
                data = yield this.create(currency);
                success = true;
                message = `Successfully create currency ${data.currencyCode}`;
            }
            catch (error) {
                success = false;
                message = error.message;
            }
            return { success, message, data };
        });
    }
    getAllCurrencies() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const currencies = yield this.find({
                isDeleted: { $eq: false },
            });
            return currencies;
        });
    }
};
CurrenciesService = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('currency')
], CurrenciesService);
exports.CurrenciesService = CurrenciesService;


/***/ }),

/***/ "./src/services/devices/DevicesService.ts":
/*!************************************************!*\
  !*** ./src/services/devices/DevicesService.ts ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const Device_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Device */ "./node_modules/@ever-platform/common/src/entities/Device.ts"));
const db_server_1 = __webpack_require__(/*! @pyro/db-server */ "./src/@pyro/db-server/index.ts");
const Log_1 = __webpack_require__(/*! ../../helpers/Log */ "./src/helpers/Log.ts");
const rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
let DevicesService = class DevicesService extends db_server_1.DBService {
    constructor() {
        super(...arguments);
        this.DBObject = Device_1.default;
        this.log = Log_1.createEverLogger({
            name: 'devicesService',
        });
    }
    get(id) {
        return super.get(id).pipe(operators_1.map((device) => tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(id);
            return device;
        })), operators_1.switchMap((device) => device));
    }
    getMultipleDevices(ids) {
        const _super = Object.create(null, {
            getMultiple: { get: () => super.getMultiple }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const devices = yield this.find({
                _id: { $in: ids },
                isDeleted: { $eq: false },
            });
            const devicesIds = devices.map((device) => device.id);
            return _super.getMultiple.call(this, devicesIds);
        });
    }
    create(device) {
        const _super = Object.create(null, {
            create: { get: () => super.create }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return _super.create.call(this, device);
        });
    }
    updateLanguage(deviceId, language) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(deviceId);
            return this.update(deviceId, {
                language,
            });
        });
    }
    throwIfNotExists(deviceId) {
        const _super = Object.create(null, {
            get: { get: () => super.get }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const device = yield _super.get.call(this, deviceId).pipe(operators_1.first()).toPromise();
            if (!device || device.isDeleted) {
                throw Error(`Device with id '${deviceId}' does not exists!`);
            }
        });
    }
};
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], DevicesService.prototype, "get", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], DevicesService.prototype, "create", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, String]),
    tslib_1.__metadata("design:returntype", Promise)
], DevicesService.prototype, "updateLanguage", null);
DevicesService = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('device')
], DevicesService);
exports.DevicesService = DevicesService;


/***/ }),

/***/ "./src/services/devices/index.ts":
/*!***************************************!*\
  !*** ./src/services/devices/index.ts ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
tslib_1.__exportStar(__webpack_require__(/*! ./DevicesService */ "./src/services/devices/DevicesService.ts"), exports);


/***/ }),

/***/ "./src/services/fake-data/FakeOrdersService.ts":
/*!*****************************************************!*\
  !*** ./src/services/fake-data/FakeOrdersService.ts ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const lodash_1 = tslib_1.__importDefault(__webpack_require__(/*! lodash */ "lodash"));
let FakeOrdersService = class FakeOrdersService {
    getOrderRaw(orderNumber, storeId, storeCreatedAt, carrierId, customers, products) {
        this._orderNumber = orderNumber;
        this._storeId = storeId;
        this._carrierId = carrierId;
        this._orderCreatedAt = this.getOrderDate(storeCreatedAt);
        switch (true) {
            case orderNumber <= 25:
                return this._getOrderJustCreated(customers, products);
            case orderNumber <= 50:
                return this._getOrderReadyForProcessing(customers, products);
            case orderNumber <= 75:
                return this._getOrderStoreStartProcessing(customers, products);
            case orderNumber <= 100:
                return this._getOrderConfirmed(customers, products);
            case orderNumber <= 125:
                return this._getOrderStartAllocation(customers, products);
            case orderNumber <= 150:
                return this._getOrderPackagingStarted(customers, products);
            case orderNumber <= 200:
                return this._getOrderAllocationFails(customers, products);
            case orderNumber <= 250:
                return this._getOrderPackagingFails(customers, products);
            case orderNumber <= 300:
                return this._getOrderIssuesDuringDelivery(customers, products);
            case orderNumber <= 350:
                return this._getOrderClientRefuseOrder(customers, products);
            case orderNumber <= 400:
                return this._getOrderAllocationFinished(customers, products);
            case orderNumber <= 450:
                return this._getOrderPackagingFinished(customers, products);
            case orderNumber <= 475:
                return this._getOrderCarrierSelected(customers, products);
            case orderNumber <= 500:
                return this._getOrderCarrierPickup(customers, products);
            case orderNumber <= 525:
                return this._getOrderCarrierArriveToCustomer(customers, products);
            case orderNumber <= 650:
                return this._getOrderCancelled(customers, products);
            case orderNumber <= 1000:
                return this._getOrderDeliveryCompleted(customers, products);
        }
    }
    getOrderDate(startDate) {
        const now = new Date();
        const orderYear = lodash_1.default.random(startDate.getFullYear(), now.getFullYear());
        const orderMonth = lodash_1.default.random(11);
        const orderDate = lodash_1.default.random(31);
        const orderHours = lodash_1.default.random(23);
        const orderMinutes = lodash_1.default.random(59);
        const orderCreatedAt = new Date(orderYear, orderMonth, orderDate, orderHours, orderMinutes);
        if (orderCreatedAt < startDate || orderCreatedAt > now) {
            const diff = now.getTime() - startDate.getTime();
            orderCreatedAt.setTime(startDate.getTime() + lodash_1.default.random(diff));
        }
        return orderCreatedAt;
    }
    getOrderNextTime(date) {
        const randomMinutes = lodash_1.default.random(1, 30);
        const randomSec = lodash_1.default.random(1, 60);
        const oldDate = new Date(date);
        oldDate.setSeconds(randomSec);
        return new Date(oldDate.setMinutes(date.getMinutes() + randomMinutes));
    }
    getRandomNumberOfProducts() {
        return this._orderNumber % 7 || 1;
    }
    getRandomOrderProductCount() {
        return this._orderNumber % 3 || 1;
    }
    getRandomOrderProductPrice() {
        return this._orderNumber % 110 || 1;
    }
    getRandomProduct(orderNumber, products) {
        return products[orderNumber % products.length];
    }
    generateRandomOrderProducts(products) {
        const numberOfProducts = this.getRandomNumberOfProducts();
        const orderProducts = [];
        for (let productNumber = 1; productNumber <= numberOfProducts; productNumber += 1) {
            const orderPrice = this.getRandomOrderProductPrice();
            orderProducts.push({
                count: this.getRandomOrderProductCount(),
                product: this.getRandomProduct(productNumber, products),
                isManufacturing: true,
                price: orderPrice,
                initialPrice: orderPrice,
            });
        }
        return orderProducts;
    }
    getRandomOrderCustomer(customers) {
        return customers[this._orderNumber % customers.length];
    }
    _getOrderDeliveryCompleted(customers, products) {
        const startDeliveryTime = this.getOrderNextTime(this._orderCreatedAt);
        const deliveryTime = this.getOrderNextTime(startDeliveryTime);
        return {
            isConfirmed: false,
            isCancelled: false,
            isPaid: true,
            deliveryTimeEstimate: 0,
            warehouseStatus: 6,
            carrierStatus: 5,
            isDeleted: false,
            orderNumber: this._orderNumber,
            warehouse: this._storeId,
            carrier: this._carrierId,
            startDeliveryTime,
            deliveryTime,
            user: this.getRandomOrderCustomer(customers),
            products: this.generateRandomOrderProducts(products),
            _createdAt: this._orderCreatedAt,
        };
    }
    _getOrderCarrierArriveToCustomer(customers, products) {
        return {
            isConfirmed: false,
            isCancelled: false,
            isPaid: false,
            deliveryTimeEstimate: 0,
            warehouseStatus: 6,
            carrierStatus: 4,
            isDeleted: false,
            orderNumber: this._orderNumber,
            warehouse: this._storeId,
            carrier: this._carrierId,
            user: this.getRandomOrderCustomer(customers),
            products: this.generateRandomOrderProducts(products),
            startDeliveryTime: this.getOrderNextTime(this._orderCreatedAt),
            _createdAt: this._orderCreatedAt,
        };
    }
    _getOrderCarrierPickup(customers, products) {
        return {
            isConfirmed: false,
            isCancelled: false,
            isPaid: false,
            deliveryTimeEstimate: 0,
            warehouseStatus: 6,
            carrierStatus: 2,
            isDeleted: false,
            orderNumber: this._orderNumber,
            warehouse: this._storeId,
            carrier: this._carrierId,
            startDeliveryTime: this.getOrderNextTime(this._orderCreatedAt),
            user: this.getRandomOrderCustomer(customers),
            products: this.generateRandomOrderProducts(products),
            _createdAt: this._orderCreatedAt,
        };
    }
    _getOrderCarrierSelected(customers, products) {
        return {
            isConfirmed: false,
            isCancelled: false,
            isPaid: false,
            deliveryTimeEstimate: 0,
            warehouseStatus: 6,
            carrierStatus: 1,
            isDeleted: false,
            orderNumber: this._orderNumber,
            warehouse: this._storeId,
            carrier: this._carrierId,
            user: this.getRandomOrderCustomer(customers),
            products: this.generateRandomOrderProducts(products),
            _createdAt: this._orderCreatedAt,
        };
    }
    _getOrderPackagingFinished(customers, products) {
        return {
            isConfirmed: false,
            isCancelled: false,
            isPaid: false,
            deliveryTimeEstimate: 0,
            warehouseStatus: 6,
            carrierStatus: 0,
            isDeleted: false,
            orderNumber: this._orderNumber,
            warehouse: this._storeId,
            user: this.getRandomOrderCustomer(customers),
            products: this.generateRandomOrderProducts(products),
            _createdAt: this._orderCreatedAt,
        };
    }
    _getOrderAllocationFinished(customers, products) {
        return {
            isConfirmed: false,
            isCancelled: false,
            isPaid: false,
            deliveryTimeEstimate: 0,
            warehouseStatus: 4,
            carrierStatus: 0,
            isDeleted: false,
            orderNumber: this._orderNumber,
            warehouse: this._storeId,
            user: this.getRandomOrderCustomer(customers),
            products: this.generateRandomOrderProducts(products),
            _createdAt: this._orderCreatedAt,
        };
    }
    _getOrderClientRefuseOrder(customers, products) {
        const startDeliveryTime = this.getOrderNextTime(this._orderCreatedAt);
        const finishedProcessingTime = this.getOrderNextTime(startDeliveryTime);
        return {
            isConfirmed: false,
            isCancelled: false,
            isPaid: false,
            deliveryTimeEstimate: 0,
            warehouseStatus: 6,
            carrierStatus: 205,
            isDeleted: false,
            orderNumber: this._orderNumber,
            warehouse: this._storeId,
            carrier: this._carrierId,
            user: this.getRandomOrderCustomer(customers),
            products: this.generateRandomOrderProducts(products),
            startDeliveryTime,
            finishedProcessingTime,
            _createdAt: this._orderCreatedAt,
        };
    }
    _getOrderIssuesDuringDelivery(customers, products) {
        const startDeliveryTime = this.getOrderNextTime(this._orderCreatedAt);
        const finishedProcessingTime = this.getOrderNextTime(startDeliveryTime);
        return {
            isConfirmed: false,
            isCancelled: false,
            isPaid: false,
            deliveryTimeEstimate: 0,
            warehouseStatus: 6,
            carrierStatus: 204,
            isDeleted: false,
            orderNumber: this._orderNumber,
            warehouse: this._storeId,
            carrier: this._carrierId,
            startDeliveryTime,
            finishedProcessingTime,
            user: this.getRandomOrderCustomer(customers),
            products: this.generateRandomOrderProducts(products),
            _createdAt: this._orderCreatedAt,
        };
    }
    _getOrderPackagingFails(customers, products) {
        const finishedProcessingTime = this.getOrderNextTime(this._orderCreatedAt);
        return {
            isConfirmed: false,
            isCancelled: false,
            isPaid: false,
            deliveryTimeEstimate: 0,
            warehouseStatus: 201,
            carrierStatus: 0,
            isDeleted: false,
            orderNumber: this._orderNumber,
            warehouse: this._storeId,
            finishedProcessingTime,
            user: this.getRandomOrderCustomer(customers),
            products: this.generateRandomOrderProducts(products),
            _createdAt: this._orderCreatedAt,
        };
    }
    _getOrderAllocationFails(customers, products) {
        const finishedProcessingTime = this.getOrderNextTime(this._orderCreatedAt);
        return {
            isConfirmed: false,
            isCancelled: false,
            isPaid: false,
            deliveryTimeEstimate: 0,
            warehouseStatus: 200,
            carrierStatus: 0,
            isDeleted: false,
            orderNumber: this._orderNumber,
            warehouse: this._storeId,
            finishedProcessingTime,
            user: this.getRandomOrderCustomer(customers),
            products: this.generateRandomOrderProducts(products),
            _createdAt: this._orderCreatedAt,
        };
    }
    _getOrderPackagingStarted(customers, products) {
        return {
            isConfirmed: false,
            isCancelled: false,
            isPaid: false,
            deliveryTimeEstimate: 0,
            warehouseStatus: 5,
            carrierStatus: 0,
            isDeleted: false,
            orderNumber: this._orderNumber,
            warehouse: this._storeId,
            user: this.getRandomOrderCustomer(customers),
            products: this.generateRandomOrderProducts(products),
            _createdAt: this._orderCreatedAt,
        };
    }
    _getOrderStartAllocation(customers, products) {
        return {
            isConfirmed: false,
            isCancelled: false,
            isPaid: false,
            deliveryTimeEstimate: 0,
            warehouseStatus: 3,
            carrierStatus: 0,
            isDeleted: false,
            orderNumber: this._orderNumber,
            warehouse: this._storeId,
            user: this.getRandomOrderCustomer(customers),
            products: this.generateRandomOrderProducts(products),
            _createdAt: this._orderCreatedAt,
        };
    }
    _getOrderStoreStartProcessing(customers, products) {
        return {
            isConfirmed: false,
            isCancelled: false,
            isPaid: false,
            deliveryTimeEstimate: 0,
            warehouseStatus: 2,
            carrierStatus: 0,
            isDeleted: false,
            orderNumber: this._orderNumber,
            warehouse: this._storeId,
            user: this.getRandomOrderCustomer(customers),
            products: this.generateRandomOrderProducts(products),
            _createdAt: this._orderCreatedAt,
        };
    }
    _getOrderReadyForProcessing(customers, products) {
        return {
            isConfirmed: false,
            isCancelled: false,
            isPaid: false,
            deliveryTimeEstimate: 0,
            warehouseStatus: 1,
            carrierStatus: 0,
            isDeleted: false,
            orderNumber: this._orderNumber,
            warehouse: this._storeId,
            user: this.getRandomOrderCustomer(customers),
            products: this.generateRandomOrderProducts(products),
            _createdAt: this._orderCreatedAt,
        };
    }
    _getOrderCancelled(customers, products) {
        const finishedProcessingTime = this.getOrderNextTime(this._orderCreatedAt);
        return {
            isConfirmed: true,
            isCancelled: true,
            isPaid: false,
            deliveryTimeEstimate: 0,
            warehouseStatus: 0,
            carrierStatus: 0,
            isDeleted: false,
            orderNumber: 1,
            warehouse: this._storeId,
            user: this.getRandomOrderCustomer(customers),
            products: this.generateRandomOrderProducts(products),
            finishedProcessingTime,
            _createdAt: this._orderCreatedAt,
        };
    }
    _getOrderConfirmed(customers, products) {
        return {
            isConfirmed: true,
            isCancelled: false,
            isPaid: false,
            deliveryTimeEstimate: 0,
            warehouseStatus: 0,
            carrierStatus: 0,
            isDeleted: false,
            orderNumber: 1,
            warehouse: this._storeId,
            user: this.getRandomOrderCustomer(customers),
            products: this.generateRandomOrderProducts(products),
            _createdAt: this._orderCreatedAt,
        };
    }
    _getOrderJustCreated(customers, products) {
        return {
            isConfirmed: false,
            isCancelled: false,
            isPaid: false,
            deliveryTimeEstimate: 0,
            warehouseStatus: 0,
            carrierStatus: 0,
            isDeleted: false,
            orderNumber: this._orderNumber,
            warehouse: this._storeId,
            user: this.getRandomOrderCustomer(customers),
            products: this.generateRandomOrderProducts(products),
            _createdAt: this._orderCreatedAt,
        };
    }
};
FakeOrdersService = tslib_1.__decorate([
    inversify_1.injectable()
], FakeOrdersService);
exports.FakeOrdersService = FakeOrdersService;


/***/ }),

/***/ "./src/services/geo-locations/GeoLocationsOrdersService.ts":
/*!*****************************************************************!*\
  !*** ./src/services/geo-locations/GeoLocationsOrdersService.ts ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const orders_1 = __webpack_require__(/*! ../orders */ "./src/services/orders/index.ts");
const GeoLocation_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/GeoLocation */ "./node_modules/@ever-platform/common/src/entities/GeoLocation.ts"));
const lodash_1 = tslib_1.__importDefault(__webpack_require__(/*! lodash */ "lodash"));
const Order_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Order */ "./node_modules/@ever-platform/common/src/entities/Order.ts"));
const Log_1 = __webpack_require__(/*! ../../helpers/Log */ "./src/helpers/Log.ts");
const GeoLocationsWarehousesService_1 = __webpack_require__(/*! ./GeoLocationsWarehousesService */ "./src/services/geo-locations/GeoLocationsWarehousesService.ts");
const bluebird_1 = tslib_1.__importDefault(__webpack_require__(/*! bluebird */ "bluebird"));
const warehouses_1 = __webpack_require__(/*! ../warehouses */ "./src/services/warehouses/index.ts");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const db_server_1 = __webpack_require__(/*! @pyro/db-server */ "./src/@pyro/db-server/index.ts");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const of_1 = __webpack_require__(/*! rxjs/observable/of */ "rxjs/observable/of");
const from_1 = __webpack_require__(/*! rxjs/observable/from */ "rxjs/observable/from");
const OrderWarehouseStatus_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/enums/OrderWarehouseStatus */ "./node_modules/@ever-platform/common/src/enums/OrderWarehouseStatus.ts"));
const OrderCarrierStatus_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/enums/OrderCarrierStatus */ "./node_modules/@ever-platform/common/src/enums/OrderCarrierStatus.ts"));
const bson_1 = __webpack_require__(/*! bson */ "bson");
let GeoLocationsOrdersService = class GeoLocationsOrdersService {
    constructor(ordersService, warehousesService, geoLocationsWarehousesService, warehousesProductsService, warehousesOrdersService) {
        this.ordersService = ordersService;
        this.warehousesService = warehousesService;
        this.geoLocationsWarehousesService = geoLocationsWarehousesService;
        this.warehousesProductsService = warehousesProductsService;
        this.warehousesOrdersService = warehousesOrdersService;
        this.log = Log_1.createEverLogger({
            name: 'geoLocationsOrdersService',
        });
    }
    get(geoLocation, options = {}) {
        return of_1.of(null).pipe(operators_1.concat(this.ordersService.existence.pipe(operators_1.exhaustMap((existenceEvent) => {
            switch (existenceEvent.type) {
                case db_server_1.ExistenceEventType.Created:
                case db_server_1.ExistenceEventType.Updated:
                    if (existenceEvent.value != null) {
                        return this.warehousesService
                            .get(existenceEvent.value.warehouseId)
                            .pipe(operators_1.first());
                    }
                    else {
                        return this.warehousesService
                            .get('wrong')
                            .pipe(operators_1.first());
                    }
                case db_server_1.ExistenceEventType.Removed:
                    if (existenceEvent.lastValue != null) {
                        return this.warehousesService
                            .get(existenceEvent.lastValue.warehouseId)
                            .pipe(operators_1.first());
                    }
                    else {
                        return this.warehousesService
                            .get('wrong')
                            .pipe(operators_1.first());
                    }
            }
        }), operators_1.filter((warehouse) => warehouse != null
            ? GeoLocationsWarehousesService_1.GeoLocationsWarehousesService.isNearly(warehouse, geoLocation)
            : true), operators_1.share())), operators_1.exhaustMap(() => from_1.from(this._get(geoLocation, options))));
    }
    getCountOfOrdersForWork(geoLocation, skippedOrderIds = [], searchObj) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const merchants = yield this.geoLocationsWarehousesService.getMerchants(geoLocation, GeoLocationsWarehousesService_1.GeoLocationsWarehousesService.TrackingDistance, { fullProducts: false, activeOnly: true });
            const merchantsIds = merchants.map((m) => m._id);
            let searchByRegex = [];
            if (searchObj && searchObj.byRegex.length > 0) {
                searchByRegex = searchObj.byRegex.map((s) => {
                    return { [s.key]: { $regex: s.value, $options: 'i' } };
                });
            }
            return this.ordersService.Model.find(lodash_1.default.assign({
                warehouse: { $in: merchantsIds },
                warehouseStatus: {
                    $eq: OrderWarehouseStatus_1.default.PackagingFinished,
                },
                carrierStatus: {
                    $lte: OrderCarrierStatus_1.default.CarrierSelectedOrder,
                },
                _id: { $nin: skippedOrderIds },
            }, ...searchByRegex))
                .countDocuments()
                .exec();
        });
    }
    getOrdersForWork(geoLocation, skippedOrderIds = [], options, searchObj) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const merchants = yield this.geoLocationsWarehousesService.getMerchants(geoLocation, GeoLocationsWarehousesService_1.GeoLocationsWarehousesService.TrackingDistance, { fullProducts: false, activeOnly: true });
            const merchantsIds = merchants.map((m) => m._id.toString());
            let searchByRegex = [];
            if (searchObj) {
                const byRegex = searchObj.byRegex;
                if (byRegex && byRegex.length > 0) {
                    searchByRegex = byRegex.map((s) => {
                        return { [s.key]: { $regex: s.value, $options: 'i' } };
                    });
                }
                const isCancelled = searchObj.isCancelled;
                if (isCancelled != null) {
                    searchByRegex.push({ isCancelled });
                }
            }
            const orders = yield this.ordersService.Model.aggregate([
                {
                    $match: lodash_1.default.assign({
                        warehouse: { $in: merchantsIds },
                        warehouseStatus: {
                            $eq: OrderWarehouseStatus_1.default.PackagingFinished,
                        },
                        carrierStatus: {
                            $lte: OrderCarrierStatus_1.default.CarrierSelectedOrder,
                        },
                        _id: {
                            $nin: skippedOrderIds.map((id) => new bson_1.ObjectId(id)),
                        },
                    }, ...searchByRegex),
                },
                {
                    $sort: {
                        _createdAt: options.sort &&
                            options.sort.toLowerCase().includes('desc')
                            ? -1
                            : 1,
                    },
                },
            ])
                .allowDiskUse(true)
                .skip(options.skip || 0)
                .limit(options.limit || 1)
                .exec();
            return orders.filter((o) => o !== null).map((o) => new Order_1.default(o));
        });
    }
    _get(geoLocation, options = {}) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const warehouses = yield this.geoLocationsWarehousesService
                .get(geoLocation, { activeOnly: true })
                .pipe(operators_1.first())
                .toPromise();
            this.log.info({
                geoLocation,
                warehouses,
            }, 'warehouses by location');
            const orders = lodash_1.default.flatten(yield bluebird_1.default.map(warehouses, (warehouse) => tslib_1.__awaiter(this, void 0, void 0, function* () {
                const warehouseOrders = yield this.warehousesOrdersService
                    .get(warehouse.id, {
                    populateCarrier: !!options.populateCarrier,
                })
                    .pipe(operators_1.first())
                    .toPromise();
                if (options.populateWarehouse) {
                    lodash_1.default.each(warehouseOrders, (order) => (order.warehouse = warehouse));
                }
                this.log.info({
                    geoLocation,
                    warehouseOrders,
                    warehouse,
                }, 'orders by warehouse');
                return warehouseOrders;
            })));
            this.log.info({
                geoLocation,
                orders,
            }, 'orders by warehouses');
            return orders;
        });
    }
};
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__param(0, io_1.serialization((geoLocationParam) => new GeoLocation_1.default(geoLocationParam))),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [GeoLocation_1.default, Object]),
    tslib_1.__metadata("design:returntype", void 0)
], GeoLocationsOrdersService.prototype, "get", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Array, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], GeoLocationsOrdersService.prototype, "getCountOfOrdersForWork", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Array, Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], GeoLocationsOrdersService.prototype, "getOrdersForWork", null);
GeoLocationsOrdersService = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('geo-location-orders'),
    tslib_1.__param(0, inversify_1.inject(orders_1.OrdersService)),
    tslib_1.__param(1, inversify_1.inject(warehouses_1.WarehousesService)),
    tslib_1.__param(2, inversify_1.inject(GeoLocationsWarehousesService_1.GeoLocationsWarehousesService)),
    tslib_1.__param(3, inversify_1.inject(warehouses_1.WarehousesProductsService)),
    tslib_1.__param(4, inversify_1.inject(warehouses_1.WarehousesOrdersService)),
    tslib_1.__metadata("design:paramtypes", [orders_1.OrdersService,
        warehouses_1.WarehousesService,
        GeoLocationsWarehousesService_1.GeoLocationsWarehousesService,
        warehouses_1.WarehousesProductsService,
        warehouses_1.WarehousesOrdersService])
], GeoLocationsOrdersService);
exports.GeoLocationsOrdersService = GeoLocationsOrdersService;


/***/ }),

/***/ "./src/services/geo-locations/GeoLocationsProductsService.ts":
/*!*******************************************************************!*\
  !*** ./src/services/geo-locations/GeoLocationsProductsService.ts ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const warehouses_1 = __webpack_require__(/*! ../warehouses */ "./src/services/warehouses/index.ts");
const Warehouse_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Warehouse */ "./node_modules/@ever-platform/common/src/entities/Warehouse.ts"));
const GeoLocation_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/GeoLocation */ "./node_modules/@ever-platform/common/src/entities/GeoLocation.ts"));
const ProductInfo_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/ProductInfo */ "./node_modules/@ever-platform/common/src/entities/ProductInfo.ts"));
const lodash_1 = tslib_1.__importDefault(__webpack_require__(/*! lodash */ "lodash"));
const utils_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/utils */ "./node_modules/@ever-platform/common/src/utils.ts"));
const Log_1 = __webpack_require__(/*! ../../helpers/Log */ "./src/helpers/Log.ts");
const GeoLocationsWarehousesService_1 = __webpack_require__(/*! ./GeoLocationsWarehousesService */ "./src/services/geo-locations/GeoLocationsWarehousesService.ts");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const WarehouseProduct_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/WarehouseProduct */ "./node_modules/@ever-platform/common/src/entities/WarehouseProduct.ts"));
let GeoLocationsProductsService = class GeoLocationsProductsService {
    constructor(warehousesService, geoLocationsWarehousesService) {
        this.warehousesService = warehousesService;
        this.geoLocationsWarehousesService = geoLocationsWarehousesService;
        this.log = Log_1.createEverLogger({
            name: 'geoLocationsProductsService',
        });
    }
    get(geoLocation, options) {
        return this.geoLocationsWarehousesService
            .get(geoLocation, { fullProducts: true, activeOnly: true })
            .pipe(operators_1.map((warehouses) => this._getProductsFromWarehouses(geoLocation, warehouses, options)));
    }
    getCountOfGeoLocationProducts(geoLocation, options, searchText) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            try {
                const merchants = yield this.geoLocationsWarehousesService.getMerchants(geoLocation, GeoLocationsWarehousesService_1.GeoLocationsWarehousesService.TrackingDistance, {
                    fullProducts: true,
                    activeOnly: true,
                    merchantsIds: options ? options.merchantIds : null,
                });
                const productsIds = merchants.map((m) => {
                    let products = m.products
                        .filter((wProduct) => this.productsFilter(wProduct, options))
                        .filter((wProduct) => this.filterBySearchText(wProduct, searchText));
                    if (!options || !options.withoutCount) {
                        products = products.filter((wProduct) => wProduct.count > 0);
                    }
                    return products.map((p) => new WarehouseProduct_1.default(p).productId);
                });
                return (productsIds.flat().filter((x, i, a) => a.indexOf(x) == i)
                    .length || 0);
            }
            catch (error) {
                return 0;
            }
        });
    }
    geoLocationProductsByPaging(geoLocation, pagingOptions, options, searchText) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const merchants = yield this.geoLocationsWarehousesService.getMerchants(geoLocation, GeoLocationsWarehousesService_1.GeoLocationsWarehousesService.TrackingDistance, {
                fullProducts: true,
                activeOnly: true,
                merchantsIds: options ? options.merchantIds : null,
            });
            const products = this._getProductsFromWarehouses(geoLocation, merchants.map((m) => new Warehouse_1.default(m)), options, searchText);
            return products.slice(pagingOptions.skip).slice(0, pagingOptions.limit);
        });
    }
    _getProductsFromWarehouses(geoLocation, warehouses, options, searchText) {
        const underscore_ = lodash_1.default;
        return underscore_(warehouses)
            .map((_warehouse) => {
            const warehouse = lodash_1.default.clone(_warehouse);
            if (!options || !options.withoutCount) {
                warehouse.products = warehouse.products.filter((wProduct) => wProduct.count > 0);
            }
            if (options) {
                warehouse.products = warehouse.products.filter((wProduct) => this.productsFilter(wProduct, options));
            }
            warehouse.products = warehouse.products.filter((wProduct) => this.filterBySearchText(wProduct, searchText));
            return warehouse;
        })
            .map((warehouse) => lodash_1.default.map(warehouse.products, (warehouseProduct) => {
            return new ProductInfo_1.default({
                warehouseId: warehouse.id,
                warehouseLogo: warehouse.logo,
                warehouseProduct,
                distance: utils_1.default.getDistance(geoLocation, warehouse.geoLocation),
            });
        }))
            .flatten()
            .groupBy((productInfo) => productInfo.warehouseProduct.productId)
            .map((productInfos, productId) => {
            return lodash_1.default.minBy(productInfos, (productInfo) => productInfo.distance);
        })
            .filter((productInfo) => !lodash_1.default.isUndefined(productInfo))
            .map((productInfo) => productInfo)
            .value();
    }
    productsFilter(wProduct, options) {
        if (!options) {
            return true;
        }
        wProduct.product.images = wProduct.product.images.filter((i) => {
            return ((options.imageOrientation !== undefined
                ? options.imageOrientation === 1
                    ? i.orientation === 1
                    : i.orientation === 0 || i.orientation === 2
                : true) &&
                (options.locale !== undefined
                    ? i.locale === options.locale
                    : true));
        });
        if (!wProduct.product.images || wProduct.product.images.length === 0) {
            return false;
        }
        return options.isDeliveryRequired
            ? wProduct.isDeliveryRequired === options.isDeliveryRequired
            :  true && options.isTakeaway
                ? wProduct.isTakeaway === options.isTakeaway
                : true;
    }
    filterBySearchText(wProduct, searchText) {
        if (!searchText) {
            return true;
        }
        let titles = wProduct.product['title'];
        titles = titles ? titles.map((t) => t.value) : [];
        let descriptions = wProduct.product['description'];
        descriptions = descriptions
            ? descriptions.map((d) => d.value)
            : [];
        let details = wProduct.product['details'];
        details = details ? details.map((d) => d.value) : [];
        return ((titles &&
            titles
                .join()
                .toLocaleLowerCase()
                .includes(searchText.toLocaleLowerCase())) ||
            (descriptions &&
                descriptions
                    .join()
                    .toLocaleLowerCase()
                    .includes(searchText.toLocaleLowerCase())) ||
            (details &&
                details
                    .join()
                    .toLocaleLowerCase()
                    .includes(searchText.toLocaleLowerCase())));
    }
};
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__param(0, io_1.serialization((g) => new GeoLocation_1.default(g))),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [GeoLocation_1.default, Object]),
    tslib_1.__metadata("design:returntype", void 0)
], GeoLocationsProductsService.prototype, "get", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object, String]),
    tslib_1.__metadata("design:returntype", Promise)
], GeoLocationsProductsService.prototype, "getCountOfGeoLocationProducts", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__param(0, io_1.serialization((g) => new GeoLocation_1.default(g))),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [GeoLocation_1.default, Object, Object, String]),
    tslib_1.__metadata("design:returntype", Promise)
], GeoLocationsProductsService.prototype, "geoLocationProductsByPaging", null);
GeoLocationsProductsService = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('geo-location-products'),
    tslib_1.__param(0, inversify_1.inject(warehouses_1.WarehousesService)),
    tslib_1.__param(1, inversify_1.inject(GeoLocationsWarehousesService_1.GeoLocationsWarehousesService)),
    tslib_1.__metadata("design:paramtypes", [warehouses_1.WarehousesService,
        GeoLocationsWarehousesService_1.GeoLocationsWarehousesService])
], GeoLocationsProductsService);
exports.GeoLocationsProductsService = GeoLocationsProductsService;


/***/ }),

/***/ "./src/services/geo-locations/GeoLocationsService.ts":
/*!***********************************************************!*\
  !*** ./src/services/geo-locations/GeoLocationsService.ts ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const Log_1 = __webpack_require__(/*! ../../helpers/Log */ "./src/helpers/Log.ts");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const axios_1 = tslib_1.__importDefault(__webpack_require__(/*! axios */ "axios"));
const env_1 = __webpack_require__(/*! ../../env */ "./src/env.ts");
const util_1 = __webpack_require__(/*! util */ "util");
let GeoLocationsService = class GeoLocationsService {
    constructor() {
        this.log = Log_1.createEverLogger({
            name: 'GeoLocationsService',
        });
        this.arcgisClientID = env_1.env.ARCGIS_CLIENT_ID;
        this.arcgisClientSecret = env_1.env.ARCGIS_CLIENT_SECRET;
    }
    getAddressByCoordinatesUsingArcGIS(lat, lng) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            if (!this.arcgisClientID || !this.arcgisClientSecret) {
                this.log.info(`Cannot use getAddressByCoordinatesUsingArcGIS without${this.arcgisClientID ? '' : ' arcgisClientID'}${this.arcgisClientSecret ? '' : ' arcgisClientSecret'}`);
                return null;
            }
            try {
                this.log.info(`Attempt to reverse Geocode coordinates: ${lat},${lng}`);
                const tokenRequestUrl = `https://www.arcgis.com/sharing/oauth2/token?client_id=${this.arcgisClientID}&client_secret=${this.arcgisClientSecret}&grant_type=client_credentials&f=json`;
                const tokenResult = yield axios_1.default.get(tokenRequestUrl);
                if (!tokenResult ||
                    !tokenResult.data ||
                    !tokenResult.data['access_token']) {
                    this.log.info(`Cannot get arcgis token with client_id=${this.arcgisClientID}, client_secret=${this.arcgisClientSecret}`);
                    return null;
                }
                else {
                    const token = tokenResult.data['access_token'];
                    const requestBaseUrl = `https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer/reverseGeocode?location=${lng}%2C${lat}&distance=200&f=json`;
                    const requestUrl = `${requestBaseUrl}&forStorage=true&token=${token}`;
                    const resp = yield axios_1.default.get(requestUrl);
                    if (resp &&
                        resp.data &&
                        resp.data['address'] &&
                        (resp.data['address'].City ||
                            resp.data['address'].Region ||
                            resp.data['address'].Subregion)) {
                        let locality;
                        if (resp.data['address'].City) {
                            locality = resp.data['address'].City;
                        }
                        else if (resp.data['address'].Subregion) {
                            locality = resp.data['address'].Subregion;
                        }
                        else if (resp.data['address'].Region) {
                            locality = resp.data['address'].Region;
                        }
                        const result = {
                            locality,
                            thoroughfare: resp.data['address'].Address
                                ? resp.data['address'].Address.replace(/\d+|^\s+|\s+$/g, '').replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, '')
                                : null,
                        };
                        this.log.info(`Attempted to reverse Geocode coordinates: ${lat}, ${lng}. Got results: ` +
                            `${JSON.stringify(result)}`);
                        return result;
                    }
                    else {
                        this.log.info(`Attempted to reverse Geocode coordinates: ${lat}, ${lng}. ` +
                            `Got empty response: ${resp ? util_1.inspect(resp) : ''}`);
                        return null;
                    }
                }
            }
            catch (err) {
                this.log.info(err);
                return null;
            }
        });
    }
};
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Number, Number]),
    tslib_1.__metadata("design:returntype", Promise)
], GeoLocationsService.prototype, "getAddressByCoordinatesUsingArcGIS", null);
GeoLocationsService = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('geo-location'),
    tslib_1.__metadata("design:paramtypes", [])
], GeoLocationsService);
exports.GeoLocationsService = GeoLocationsService;


/***/ }),

/***/ "./src/services/geo-locations/GeoLocationsWarehousesService.ts":
/*!*********************************************************************!*\
  !*** ./src/services/geo-locations/GeoLocationsWarehousesService.ts ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var GeoLocationsWarehousesService_1;
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const lodash_1 = tslib_1.__importDefault(__webpack_require__(/*! lodash */ "lodash"));
const utils_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/utils */ "./node_modules/@ever-platform/common/src/utils.ts"));
const Log_1 = __webpack_require__(/*! ../../helpers/Log */ "./src/helpers/Log.ts");
const warehouses_1 = __webpack_require__(/*! ../warehouses */ "./src/services/warehouses/index.ts");
const GeoLocation_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/GeoLocation */ "./node_modules/@ever-platform/common/src/entities/GeoLocation.ts"));
const Warehouse_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Warehouse */ "./node_modules/@ever-platform/common/src/entities/Warehouse.ts"));
const rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const db_server_1 = __webpack_require__(/*! @pyro/db-server */ "./src/@pyro/db-server/index.ts");
const of_1 = __webpack_require__(/*! rxjs/observable/of */ "rxjs/observable/of");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
let GeoLocationsWarehousesService = GeoLocationsWarehousesService_1 = class GeoLocationsWarehousesService {
    constructor(warehousesService) {
        this.warehousesService = warehousesService;
        this.log = Log_1.createEverLogger({
            name: 'geoLocationsWarehousesService',
        });
    }
    static isNearly(warehouse, geoLocation) {
        return (utils_1.default.getDistance(warehouse.geoLocation, geoLocation) <=
            GeoLocationsWarehousesService_1.TrackingDistance);
    }
    get(geoLocation, _options) {
        const options = {
            fullProducts: _options != null && _options.fullProducts != null,
            activeOnly: _options != null && _options.activeOnly != null
                ? _options.activeOnly
                : false,
        };
        return of_1.of(null).pipe(operators_1.concat(this.warehousesService.existence.pipe(operators_1.filter((existenceEvent) => {
            let warehouse;
            let oldWarehouse;
            switch (existenceEvent.type) {
                case db_server_1.ExistenceEventType.Created:
                    warehouse = existenceEvent.value;
                    if (warehouse == null) {
                        return false;
                    }
                    return (GeoLocationsWarehousesService_1.isNearly(warehouse, geoLocation) &&
                        (options.activeOnly
                            ? warehouse.isActive
                            : true));
                case db_server_1.ExistenceEventType.Updated:
                    warehouse = existenceEvent.value;
                    oldWarehouse = existenceEvent.lastValue;
                    if (warehouse == null || oldWarehouse == null) {
                        return false;
                    }
                    return (GeoLocationsWarehousesService_1.isNearly(warehouse, geoLocation) !==
                        GeoLocationsWarehousesService_1.isNearly(oldWarehouse, geoLocation) &&
                        (options.activeOnly
                            ? warehouse.isActive !==
                                oldWarehouse.isActive
                            : true));
                case db_server_1.ExistenceEventType.Removed:
                    oldWarehouse = existenceEvent.lastValue;
                    if (oldWarehouse == null) {
                        return false;
                    }
                    return (GeoLocationsWarehousesService_1.isNearly(oldWarehouse, geoLocation) &&
                        (options.activeOnly
                            ? oldWarehouse.isActive
                            : true));
            }
        }), operators_1.share())), operators_1.exhaustMap(() => this._get(geoLocation, GeoLocationsWarehousesService_1.TrackingDistance, options)), operators_1.share());
    }
    getMerchants(geoLocation, maxDistance, options) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const merchantsIds = options.merchantsIds;
            const merchants = (yield this.warehousesService.Model.find(lodash_1.default.assign({
                'geoLocation.loc': {
                    $near: {
                        $geometry: {
                            type: 'Point',
                            coordinates: geoLocation.loc.coordinates,
                        },
                        $maxDistance: maxDistance,
                    },
                },
            }, options.activeOnly ? { isActive: true } : {}, merchantsIds && merchantsIds.length > 0
                ? {
                    _id: { $in: merchantsIds },
                }
                : {}))
                .populate(options.fullProducts ? 'products.product' : '')
                .lean()
                .exec());
            return merchants;
        });
    }
    _get(geoLocation, maxDistance, options) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const warehouses = (yield this.warehousesService.Model.find(lodash_1.default.assign({
                'geoLocation.loc': {
                    $near: {
                        $geometry: {
                            type: 'Point',
                            coordinates: geoLocation.loc.coordinates,
                        },
                        $maxDistance: maxDistance,
                    },
                },
            }, options.activeOnly ? { isActive: true } : {}))
                .populate(options.fullProducts ? 'products.product' : '')
                .lean()
                .exec());
            return warehouses.map((warehouse) => new Warehouse_1.default(warehouse));
        });
    }
};
GeoLocationsWarehousesService.TrackingDistance = 50000;
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__param(0, io_1.serialization((g) => new GeoLocation_1.default(g))),
    tslib_1.__param(1, io_1.serialization((o) => lodash_1.default.omit(o, ['fullProducts', 'activeOnly']))),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [GeoLocation_1.default, Object]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], GeoLocationsWarehousesService.prototype, "get", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Number, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], GeoLocationsWarehousesService.prototype, "getMerchants", null);
GeoLocationsWarehousesService = GeoLocationsWarehousesService_1 = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('geo-location-warehouses'),
    tslib_1.__metadata("design:paramtypes", [warehouses_1.WarehousesService])
], GeoLocationsWarehousesService);
exports.GeoLocationsWarehousesService = GeoLocationsWarehousesService;


/***/ }),

/***/ "./src/services/geo-locations/index.ts":
/*!*********************************************!*\
  !*** ./src/services/geo-locations/index.ts ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
tslib_1.__exportStar(__webpack_require__(/*! ./GeoLocationsOrdersService */ "./src/services/geo-locations/GeoLocationsOrdersService.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./GeoLocationsProductsService */ "./src/services/geo-locations/GeoLocationsProductsService.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./GeoLocationsWarehousesService */ "./src/services/geo-locations/GeoLocationsWarehousesService.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./GeoLocationsService */ "./src/services/geo-locations/GeoLocationsService.ts"), exports);


/***/ }),

/***/ "./src/services/inversify.config.ts":
/*!******************************************!*\
  !*** ./src/services/inversify.config.ts ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
__webpack_require__(/*! reflect-metadata */ "reflect-metadata");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const lodash_1 = tslib_1.__importDefault(__webpack_require__(/*! lodash */ "lodash"));
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const carriers_1 = __webpack_require__(/*! ./carriers */ "./src/services/carriers/index.ts");
const users_1 = __webpack_require__(/*! ./users */ "./src/services/users/index.ts");
const products_1 = __webpack_require__(/*! ./products */ "./src/services/products/index.ts");
const warehouses_1 = __webpack_require__(/*! ./warehouses */ "./src/services/warehouses/index.ts");
const orders_1 = __webpack_require__(/*! ./orders */ "./src/services/orders/index.ts");
const invites_1 = __webpack_require__(/*! ./invites */ "./src/services/invites/index.ts");
const geo_locations_1 = __webpack_require__(/*! ./geo-locations */ "./src/services/geo-locations/index.ts");
const devices_1 = __webpack_require__(/*! ./devices */ "./src/services/devices/index.ts");
const IService_1 = __webpack_require__(/*! ./IService */ "./src/services/IService.ts");
const config_service_1 = __webpack_require__(/*! ../config/config.service */ "./src/config/config.service.ts");
const services_app_1 = __webpack_require__(/*! ./services.app */ "./src/services/services.app.ts");
const auth_1 = __webpack_require__(/*! ./auth */ "./src/services/auth/index.ts");
const UsersAuthService_1 = __webpack_require__(/*! ./users/UsersAuthService */ "./src/services/users/UsersAuthService.ts");
const admins_1 = __webpack_require__(/*! ./admins */ "./src/services/admins/index.ts");
const typeorm_1 = __webpack_require__(/*! typeorm */ "typeorm");
const Admin_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Admin */ "./node_modules/@ever-platform/common/src/entities/Admin.ts"));
const Device_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Device */ "./node_modules/@ever-platform/common/src/entities/Device.ts"));
const FakeOrdersService_1 = __webpack_require__(/*! ./fake-data/FakeOrdersService */ "./src/services/fake-data/FakeOrdersService.ts");
const CurrencyService_1 = __webpack_require__(/*! ./currency/CurrencyService */ "./src/services/currency/CurrencyService.ts");
function getRepository(t) {
    const conn = typeorm_1.getConnection('typeorm');
    return conn.getRepository(t);
}
const bindings = new inversify_1.ContainerModule((bind) => {
    bind('AdminRepository')
        .toDynamicValue(() => {
        return getRepository(Admin_1.default);
    })
        .inRequestScope();
    bind('DeviceRepository')
        .toDynamicValue(() => {
        return getRepository(Device_1.default);
    })
        .inRequestScope();
    lodash_1.default.each([
        config_service_1.ConfigService,
        users_1.UserCommandService,
        admins_1.AdminsService,
        carriers_1.CarriersOrdersService,
        carriers_1.CarriersService,
        devices_1.DevicesService,
        geo_locations_1.GeoLocationsOrdersService,
        geo_locations_1.GeoLocationsProductsService,
        geo_locations_1.GeoLocationsWarehousesService,
        geo_locations_1.GeoLocationsService,
        invites_1.InvitesRequestsService,
        invites_1.InvitesService,
        orders_1.OrdersService,
        products_1.ProductsService,
        products_1.ProductsCategoriesService,
        users_1.UsersOrdersService,
        users_1.UsersService,
        UsersAuthService_1.UsersAuthService,
        users_1.SocialStrategiesService,
        users_1.SocialRegisterService,
        warehouses_1.WarehousesOrdersService,
        warehouses_1.WarehousesProductsService,
        warehouses_1.WarehousesUsersService,
        warehouses_1.WarehousesCarriersService,
        warehouses_1.WarehousesService,
        users_1.UsersProductsService,
        auth_1.AuthenticationService,
        FakeOrdersService_1.FakeOrdersService,
        CurrencyService_1.CurrenciesService,
    ], (Service) => {
        bind(Service).to(Service).inSingletonScope();
        bind(IService_1.ServiceSymbol).toFactory((context) => {
            return context.container.get(Service);
        });
        bind(io_1.RouterSymbol).toFactory((context) => {
            return context.container.get(Service);
        });
    });
    bind(auth_1.AuthService).toSelf();
    bind('Factory<AuthService>').toFactory(auth_1.authServiceFactory);
    bind('RoutersManager')
        .to(io_1.RoutersManager)
        .inSingletonScope();
    bind(services_app_1.ServicesApp).toSelf().inSingletonScope();
});
const container = new inversify_1.Container();
container.load(bindings);
exports.servicesContainer = container;


/***/ }),

/***/ "./src/services/invites/InvitesRequestsService.ts":
/*!********************************************************!*\
  !*** ./src/services/invites/InvitesRequestsService.ts ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const Log_1 = __webpack_require__(/*! ../../helpers/Log */ "./src/helpers/Log.ts");
const InviteRequest_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/InviteRequest */ "./node_modules/@ever-platform/common/src/entities/InviteRequest.ts"));
const db_server_1 = __webpack_require__(/*! @pyro/db-server */ "./src/@pyro/db-server/index.ts");
const InvitesService_1 = __webpack_require__(/*! ./InvitesService */ "./src/services/invites/InvitesService.ts");
const Subscription_1 = __webpack_require__(/*! rxjs/Subscription */ "rxjs/Subscription");
const lodash_1 = tslib_1.__importDefault(__webpack_require__(/*! lodash */ "lodash"));
const Invite_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Invite */ "./node_modules/@ever-platform/common/src/entities/Invite.ts"));
const request_promise_1 = tslib_1.__importDefault(__webpack_require__(/*! request-promise */ "request-promise"));
const bluebird_1 = tslib_1.__importDefault(__webpack_require__(/*! bluebird */ "bluebird"));
const devices_1 = __webpack_require__(/*! ../devices */ "./src/services/devices/index.ts");
const notifications_1 = __webpack_require__(/*! @modules/server.common/notifications */ "./node_modules/@ever-platform/common/src/notifications.ts");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const env_1 = __webpack_require__(/*! ../../env */ "./src/env.ts");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const GeoLocation_1 = __webpack_require__(/*! @modules/server.common/entities/GeoLocation */ "./node_modules/@ever-platform/common/src/entities/GeoLocation.ts");
const faker_1 = tslib_1.__importDefault(__webpack_require__(/*! faker */ "faker"));
let InvitesRequestsService = class InvitesRequestsService extends db_server_1.DBService {
    constructor(invitesService, devicesService) {
        super();
        this.invitesService = invitesService;
        this.devicesService = devicesService;
        this.DBObject = InviteRequest_1.default;
        this.log = Log_1.createEverLogger({
            name: 'invitesRequestsService',
        });
        this.pushSendingInvitesSubscription = Subscription_1.Subscription.EMPTY;
        this.pushSendingInvitesSubscription = this.invitesService.existence
            .pipe(operators_1.filter((existenceEvent) => existenceEvent.type === db_server_1.ExistenceEventType.Created), operators_1.map((existenceEvent) => existenceEvent.value))
            .subscribe((invite) => tslib_1.__awaiter(this, void 0, void 0, function* () {
            const results = yield this.Model.aggregate()
                .sort({ channelId: 1, _createdAt: 1 })
                .group({
                _id: '$deviceId',
                createdAt: { $last: '$_createdAt' },
            })
                .exec();
            if (results.length > 0) {
                yield this.notifyAboutLaunch(invite, lodash_1.default.map(results, (result) => result._id));
            }
        }));
    }
    get(id) {
        return super.get(id).pipe(operators_1.map((inviteReq) => tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(id);
            return inviteReq;
        })), operators_1.switchMap((inviteReq) => inviteReq));
    }
    create(inviteRequest) {
        const _super = Object.create(null, {
            create: { get: () => super.create }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return _super.create.call(this, inviteRequest);
        });
    }
    notifyAboutLaunch(invite, devicesIds) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const devices = yield (yield this.devicesService.getMultipleDevices(devicesIds))
                .pipe(operators_1.first())
                .toPromise();
            const devicesByLanguages = lodash_1.default.groupBy(devices, (device) => device.language);
            const languages = lodash_1.default.keys(devicesByLanguages);
            yield bluebird_1.default.map(languages, (language) => tslib_1.__awaiter(this, void 0, void 0, function* () {
                const devicesByLanguage = devicesByLanguages[language];
                const request = {
                    audience: this._getLaunchAudience(devicesByLanguage),
                    device_types: 'all',
                    notification: this._getLaunchNotification(language, invite),
                };
                try {
                    const rp = request_promise_1.default;
                    yield rp({
                        method: 'POST',
                        uri: 'https://go.urbanairship.com/api/push',
                        body: request,
                        headers: {
                            Accept: 'application/vnd.urbanairship+json; version=3;',
                        },
                        auth: {
                            user: env_1.env.URBAN_AIRSHIP_KEY,
                            pass: env_1.env.URBAN_AIRSHIP_SECRET,
                        },
                        json: true,
                    });
                }
                catch (e) {
                    console.error(`.notifyAboutLaunch(...) error: ${e.message}`);
                    throw e;
                }
            }));
        });
    }
    getInvitesRequests(findInput, invited, pagingOptions) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const sortObj = {};
            const findNotInvited = Object.assign(Object.assign({}, findInput), { isDeleted: { $eq: false }, isInvited: { $eq: false } });
            if (pagingOptions.sort) {
                sortObj[pagingOptions.sort.field] = pagingOptions.sort.sortBy;
            }
            const inviteRequests = yield this.Model.find(findNotInvited)
                .sort(sortObj)
                .skip(pagingOptions.skip)
                .limit(pagingOptions.limit)
                .lean()
                .exec();
            const allNotInvitedCount = yield this.Model.find(findNotInvited)
                .countDocuments()
                .exec();
            const skipInvited = pagingOptions.skip + inviteRequests.length - allNotInvitedCount;
            if (invited && skipInvited >= 0) {
                const invitedFromDB = yield this.Model.find(Object.assign(Object.assign({}, findInput), { isDeleted: { $eq: false }, isInvited: { $eq: true } }))
                    .sort({ invitedDate: 'desc' })
                    .skip(skipInvited)
                    .limit(pagingOptions.limit - inviteRequests.length)
                    .lean()
                    .exec();
                return [...inviteRequests, ...invitedFromDB];
            }
            return inviteRequests;
        });
    }
    throwIfNotExists(inviteRequestId) {
        const _super = Object.create(null, {
            get: { get: () => super.get }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const inviteRequest = yield _super.get.call(this, inviteRequestId)
                .pipe(operators_1.first())
                .toPromise();
            if (!inviteRequest || inviteRequest.isDeleted) {
                throw Error(`Invite request with id '${inviteRequestId}' does not exists!`);
            }
        });
    }
    generate1000InviteRequests(defaultLng, defaultLat) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const invitesRequestsToCreate = [];
            let inviteRequestsCount = 1;
            while (inviteRequestsCount <= 1000) {
                const houseNumber = `${inviteRequestsCount}`;
                const requestLocation = this._getInviteRequestGeoLocationCreateObj(houseNumber, defaultLng, defaultLat);
                invitesRequestsToCreate.push({
                    isInvited: false,
                    apartment: `${inviteRequestsCount}`,
                    geoLocation: requestLocation,
                });
                inviteRequestsCount += 1;
            }
            yield this.Model.insertMany(invitesRequestsToCreate);
        });
    }
    _getLaunchAudience(devices) {
        const audience = {
            or: [],
        };
        const ios_devices = lodash_1.default.filter(devices, (device) => device.type === 'ios');
        if (ios_devices.length > 0) {
            audience.or.push({
                ios_channel: ios_devices
                    .map((device) => device.channelId)
                    .filter((channelId) => channelId != null)
                    .map((channelId) => channelId),
            });
        }
        const android_devices = lodash_1.default.filter(devices, (device) => device.type === 'android');
        if (android_devices.length > 0) {
            audience.or.push({
                android_channel: android_devices
                    .map((device) => device.channelId)
                    .filter((channelId) => channelId != null)
                    .map((channelId) => channelId),
            });
        }
        return audience;
    }
    _getLaunchNotification(language, invite) {
        switch (language) {
            case 'en-US':
                return {
                    android: {
                        title: 'Ever just launched!',
                        alert: 'Click to see some available products.',
                        extra: {
                            event: notifications_1.launched,
                            invite: JSON.stringify(invite),
                        },
                    },
                    ios: {
                        alert: 'Ever just launched at your address. Have fun!',
                        extra: {
                            event: notifications_1.launched,
                            invite: JSON.stringify(invite),
                        },
                    },
                };
            case 'ru-RU':
                return {
                    android: {
                        title: 'Ever только что запустился!',
                        alert: 'Кликните чтобы увидить доступные продукты.',
                        extra: {
                            event: notifications_1.launched,
                            invite: JSON.stringify(invite),
                        },
                    },
                    ios: {
                        alert: 'Ever тольуо что запустился по Вашему адресу. Удачи!',
                        extra: {
                            event: notifications_1.launched,
                            invite: JSON.stringify(invite),
                        },
                    },
                };
            case 'bg-BG':
                return {
                    android: {
                        title: 'Ever стартира!',
                        alert: 'Кликнете, за да видите някои налични продукти.',
                        extra: {
                            event: notifications_1.launched,
                            invite: JSON.stringify(invite),
                        },
                    },
                    ios: {
                        alert: 'Ever стартира на вашия адрес. Забавлявай се!',
                        extra: {
                            event: notifications_1.launched,
                            invite: JSON.stringify(invite),
                        },
                    },
                };
            case 'he-IL':
            default:
                return {
                    android: {
                        title: 'הושקנו בכתובת שלך!',
                        alert: 'תלחץ כדי לצפות במוצרים!',
                        extra: {
                            event: notifications_1.launched,
                            invite: JSON.stringify(invite),
                        },
                    },
                    ios: {
                        alert: 'Ever הושק בכתובת שלך! תלחץ כדי לצפות במוצרים!',
                        extra: {
                            event: notifications_1.launched,
                            invite: JSON.stringify(invite),
                        },
                    },
                };
        }
    }
    _getInviteRequestGeoLocationCreateObj(houseNumber, defaultLng, defaultLat) {
        const GeoLocation = {
            countryId: faker_1.default.random.number(GeoLocation_1.Country.ZW),
            city: faker_1.default.address.city(),
            house: houseNumber,
            loc: {
                type: 'Point',
                coordinates: [defaultLng, defaultLat],
            },
            streetAddress: faker_1.default.address.streetAddress(),
        };
        return GeoLocation;
    }
};
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String]),
    tslib_1.__metadata("design:returntype", void 0)
], InvitesRequestsService.prototype, "get", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], InvitesRequestsService.prototype, "create", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Invite_1.default, Array]),
    tslib_1.__metadata("design:returntype", Promise)
], InvitesRequestsService.prototype, "notifyAboutLaunch", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], InvitesRequestsService.prototype, "getInvitesRequests", null);
InvitesRequestsService = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('invite-request'),
    tslib_1.__param(0, inversify_1.inject(InvitesService_1.InvitesService)),
    tslib_1.__param(1, inversify_1.inject(devices_1.DevicesService)),
    tslib_1.__metadata("design:paramtypes", [InvitesService_1.InvitesService,
        devices_1.DevicesService])
], InvitesRequestsService);
exports.InvitesRequestsService = InvitesRequestsService;


/***/ }),

/***/ "./src/services/invites/InvitesService.ts":
/*!************************************************!*\
  !*** ./src/services/invites/InvitesService.ts ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var InvitesService_1;
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const utils_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/utils */ "./node_modules/@ever-platform/common/src/utils.ts"));
const Log_1 = __webpack_require__(/*! ../../helpers/Log */ "./src/helpers/Log.ts");
const Invite_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Invite */ "./node_modules/@ever-platform/common/src/entities/Invite.ts"));
const db_server_1 = __webpack_require__(/*! @pyro/db-server */ "./src/@pyro/db-server/index.ts");
const rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const of_1 = __webpack_require__(/*! rxjs/observable/of */ "rxjs/observable/of");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const from_1 = __webpack_require__(/*! rxjs/observable/from */ "rxjs/observable/from");
const _ = __webpack_require__(/*! lodash */ "lodash");
const env_1 = __webpack_require__(/*! ../../env */ "./src/env.ts");
const faker_1 = tslib_1.__importDefault(__webpack_require__(/*! faker */ "faker"));
const GeoLocation_1 = __webpack_require__(/*! @modules/server.common/entities/GeoLocation */ "./node_modules/@ever-platform/common/src/entities/GeoLocation.ts");
let InvitesService = InvitesService_1 = class InvitesService extends db_server_1.DBService {
    constructor() {
        super();
        this.log = Log_1.createEverLogger({
            name: 'invitesService',
        });
        this.DBObject = Invite_1.default;
        this._invitedStreetLocations = of_1.of(null).pipe(operators_1.concat(this.existence), operators_1.exhaustMap(() => this._getInvitedStreetLocations()));
    }
    get(id) {
        return super.get(id).pipe(operators_1.map((invite) => tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(id);
            return invite;
        })), operators_1.switchMap((invite) => {
            return invite;
        }));
    }
    getInvitedStreetLocations() {
        return this._invitedStreetLocations;
    }
    create(invite) {
        if (!invite.code) {
            invite.code = utils_1.default.getRandomInt(1001, 9999) + '';
        }
        return super.create(invite);
    }
    getInvitesSettings() {
        return new Promise((resolve, reject) => {
            resolve({ isEnabled: env_1.env.SETTING_INVITES_ENABLED });
        });
    }
    getByCode(info) {
        const findObject = {
            code: info.inviteCode,
        };
        if (info.inviteCode !== env_1.env.FAKE_INVITE_CODE.toString()) {
            findObject['geoLocation.loc'] = {
                $near: {
                    $geometry: {
                        type: 'Point',
                        coordinates: info.location.coordinates,
                    },
                    $maxDistance: InvitesService_1.InviteWorkingDistance,
                },
            };
        }
        return from_1.from(this.findOne(Object.assign(Object.assign({}, findObject), { isDeleted: { $eq: false } }))).pipe(operators_1.concat(this.existence.pipe(operators_1.filter((event) => event.type !== db_server_1.ExistenceEventType.Removed), operators_1.map((event) => event.value), operators_1.filter((invite) => {
            return (utils_1.default.getLocDistance(invite.geoLocation.loc, info.location) <= InvitesService_1.InviteWorkingDistance &&
                invite.code === info.inviteCode);
        }))));
    }
    getByLocation(info) {
        const findObject = {
            'geoLocation.city': info.city,
            'geoLocation.streetAddress': info.streetAddress,
            'geoLocation.house': info.house,
            'geoLocation.countryId': info.countryId,
            apartment: info.apartment,
        };
        if (info.postcode != null) {
            findObject['geoLocation.postcode'] = info.postcode;
        }
        return from_1.from(this.findOne(Object.assign(Object.assign({}, findObject), { isDeleted: { $eq: false } }))).pipe(operators_1.concat(this.existence.pipe(operators_1.filter((event) => event.type !== db_server_1.ExistenceEventType.Removed), operators_1.map((event) => event.value), operators_1.filter((invite) => {
            return (invite.geoLocation.city === info.city &&
                invite.geoLocation.streetAddress ===
                    info.streetAddress &&
                invite.geoLocation.house === info.house &&
                invite.geoLocation.countryId === info.countryId &&
                invite.apartment === info.apartment);
        }))));
    }
    getInvites(findInput, pagingOptions) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const sortObj = {};
            if (pagingOptions.sort) {
                sortObj[pagingOptions.sort.field] = pagingOptions.sort.sortBy;
            }
            return this.Model.find(Object.assign(Object.assign({}, findInput), { isDeleted: { $eq: false } }))
                .sort(sortObj)
                .skip(pagingOptions.skip)
                .limit(pagingOptions.limit)
                .lean()
                .exec();
        });
    }
    throwIfNotExists(inviteId) {
        const _super = Object.create(null, {
            get: { get: () => super.get }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const invite = yield _super.get.call(this, inviteId).pipe(operators_1.first()).toPromise();
            if (!invite || invite.isDeleted) {
                throw Error(`Invite with id '${inviteId}' does not exists!`);
            }
        });
    }
    generate1000InvitesConnectedToInviteRequests(defaultLng, defaultLat) {
        const invitesToCreate = [];
        const invitesRequestsToCreate = [];
        let inviteCount = 1;
        while (inviteCount <= 1000) {
            const apartment = `${inviteCount}`;
            const houseNumber = `${inviteCount}`;
            const geoLocation = this._getInviteGeoLocationCreateObj(houseNumber, defaultLng, defaultLat);
            invitesRequestsToCreate.push({
                apartment,
                geoLocation,
                isInvited: true,
                invitedDate: new Date(),
            });
            invitesToCreate.push({
                code: `${999 + inviteCount}`,
                apartment,
                geoLocation,
            });
            inviteCount += 1;
        }
        return {
            invitesRequestsToCreate,
            invitesToCreate,
        };
    }
    _getInviteGeoLocationCreateObj(houseNumber, defaultLng, defaultLat) {
        return {
            countryId: faker_1.default.random.number(GeoLocation_1.Country.ZW),
            city: faker_1.default.address.city(),
            house: houseNumber,
            loc: {
                type: 'Point',
                coordinates: [defaultLng, defaultLat],
            },
            streetAddress: faker_1.default.address.streetAddress(),
        };
    }
    _getInvitedStreetLocations() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const results = yield this.Model.aggregate()
                .group({
                _id: {
                    streetAddress: '$geoLocation.streetAddress',
                    city: '$geoLocation.city',
                    country: '$geoLocation.countryId',
                },
            })
                .exec();
            return _.map(results, (result) => result._id);
        });
    }
};
InvitesService.InviteWorkingDistance = 50000;
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String]),
    tslib_1.__metadata("design:returntype", void 0)
], InvitesService.prototype, "get", null);
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", void 0)
], InvitesService.prototype, "getInvitedStreetLocations", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], InvitesService.prototype, "create", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", Promise)
], InvitesService.prototype, "getInvitesSettings", null);
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], InvitesService.prototype, "getByCode", null);
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], InvitesService.prototype, "getByLocation", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], InvitesService.prototype, "getInvites", null);
InvitesService = InvitesService_1 = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('invite'),
    tslib_1.__metadata("design:paramtypes", [])
], InvitesService);
exports.InvitesService = InvitesService;


/***/ }),

/***/ "./src/services/invites/index.ts":
/*!***************************************!*\
  !*** ./src/services/invites/index.ts ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
tslib_1.__exportStar(__webpack_require__(/*! ./InvitesService */ "./src/services/invites/InvitesService.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./InvitesRequestsService */ "./src/services/invites/InvitesRequestsService.ts"), exports);


/***/ }),

/***/ "./src/services/orders/OrdersService.ts":
/*!**********************************************!*\
  !*** ./src/services/orders/OrdersService.ts ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const bluebird_1 = tslib_1.__importDefault(__webpack_require__(/*! bluebird */ "bluebird"));
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const env_1 = __webpack_require__(/*! ../../env */ "./src/env.ts");
const warehouses_1 = __webpack_require__(/*! ../warehouses */ "./src/services/warehouses/index.ts");
const Log_1 = __webpack_require__(/*! ../../helpers/Log */ "./src/helpers/Log.ts");
const OrderCarrierStatus_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/enums/OrderCarrierStatus */ "./node_modules/@ever-platform/common/src/enums/OrderCarrierStatus.ts"));
const OrderWarehouseStatus_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/enums/OrderWarehouseStatus */ "./node_modules/@ever-platform/common/src/enums/OrderWarehouseStatus.ts"));
const users_1 = __webpack_require__(/*! ../users */ "./src/services/users/index.ts");
const Order_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Order */ "./node_modules/@ever-platform/common/src/entities/Order.ts"));
const db_server_1 = __webpack_require__(/*! @pyro/db-server */ "./src/@pyro/db-server/index.ts");
const CarriersService_1 = tslib_1.__importDefault(__webpack_require__(/*! ../carriers/CarriersService */ "./src/services/carriers/CarriersService.ts"));
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const uuid_1 = __webpack_require__(/*! uuid */ "uuid");
const _ = __webpack_require__(/*! lodash */ "lodash");
const OrderStatus_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/enums/OrderStatus */ "./node_modules/@ever-platform/common/src/enums/OrderStatus.ts"));
const User_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/User */ "./node_modules/@ever-platform/common/src/entities/User.ts"));
const products_1 = __webpack_require__(/*! ../../services/products */ "./src/services/products/index.ts");
const rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");
const Stripe = __webpack_require__(/*! stripe */ "stripe");
let OrdersService = class OrdersService extends db_server_1.DBService {
    constructor(warehousesService, usersService, carriersService, warehousesProductsService, _storesService, _productsService) {
        super();
        this.warehousesService = warehousesService;
        this.usersService = usersService;
        this.carriersService = carriersService;
        this.warehousesProductsService = warehousesProductsService;
        this._storesService = _storesService;
        this._productsService = _productsService;
        this.DBObject = Order_1.default;
        this.stripe = new Stripe(env_1.env.STRIPE_SECRET_KEY);
        this.log = Log_1.createEverLogger({
            name: 'ordersService',
        });
    }
    generateOrdersPerEachCustomer(customers) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const stores = yield this._storesService.findAll({
                _id: 1,
                products: 1,
            });
            const products = yield this._productsService.findAll();
            const orders = [];
            customers.forEach((customer, index) => {
                const storeId = stores[index % stores.length]._id;
                const product1Price = Math.round(Math.random() * 99);
                const product2Price = Math.round(Math.random() * 99);
                orders.push({
                    products: [
                        {
                            count: 2,
                            isManufacturing: true,
                            isCarrierRequired: true,
                            isDeliveryRequired: true,
                            price: product1Price,
                            initialPrice: product1Price,
                            product: products[index % products.length],
                        },
                        {
                            count: 2,
                            isManufacturing: true,
                            isCarrierRequired: true,
                            isDeliveryRequired: true,
                            price: product2Price,
                            initialPrice: product2Price,
                            product: products[(index + 1) % products.length],
                        },
                    ],
                    user: customer,
                    warehouse: storeId,
                    orderNumber: index,
                });
            });
            yield this.Model.insertMany(orders);
        });
    }
    get(id, options = {}) {
        if (options.populateCarrier || options.populateWarehouse) {
            return super.get(id).pipe(operators_1.map((order) => tslib_1.__awaiter(this, void 0, void 0, function* () {
                yield this._throwIfNotExists(id);
                return order;
            })), operators_1.switchMap((order) => order), operators_1.exhaustMap(() => this._get(id, options)));
        }
        else {
            return super.get(id).pipe(operators_1.map((order) => tslib_1.__awaiter(this, void 0, void 0, function* () {
                yield this._throwIfNotExists(id);
                return order;
            })), operators_1.switchMap((order) => order));
        }
    }
    updateCarrierStatus(orderId, status) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this._throwIfNotExists(orderId);
            try {
                const updateObj = { carrierStatus: status };
                if (status === OrderCarrierStatus_1.default.DeliveryCompleted) {
                    updateObj.isPaid = true;
                    updateObj.deliveryTime = Date.now();
                }
                if (status === OrderCarrierStatus_1.default.CarrierStartDelivery ||
                    status === OrderCarrierStatus_1.default.CarrierPickedUpOrder) {
                    updateObj.startDeliveryTime = Date.now();
                }
                const finishedProcessingStatuses = [
                    OrderCarrierStatus_1.default.ClientRefuseTakingOrder,
                    OrderCarrierStatus_1.default.DeliveryCompleted,
                    OrderCarrierStatus_1.default.IssuesDuringDelivery,
                ];
                if (finishedProcessingStatuses.includes(status)) {
                    updateObj.finishedProcessingTime = Date.now();
                }
                const order = yield this.update(orderId, updateObj);
                if (order.carrierId != null) {
                    if (status === OrderCarrierStatus_1.default.DeliveryCompleted) {
                        yield this.carriersService.increaseNumberOfDeliveries(order.carrierId, 1);
                    }
                    return order;
                }
                else {
                    throw new Error("Can't updateCarrierStatus(orderId, status) - Order has no carrier!");
                }
            }
            catch (err) {
                this.log.error(err);
                throw err;
            }
        });
    }
    updateWarehouseStatus(orderId, status) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this._throwIfNotExists(orderId);
            const updateObj = { warehouseStatus: status };
            const finishedProcessingStatuses = [
                OrderWarehouseStatus_1.default.PackagingFailed,
                OrderWarehouseStatus_1.default.AllocationFailed,
            ];
            if (finishedProcessingStatuses.includes(status)) {
                updateObj.finishedProcessingTime = Date.now();
            }
            if (status === OrderWarehouseStatus_1.default.GivenToCustomer) {
                updateObj.isPaid = true;
                updateObj.finishedProcessingTime = Date.now();
            }
            return this.update(orderId, updateObj);
        });
    }
    payWithStripe(orderId, cardId) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this._throwIfNotExists(orderId);
            const callId = uuid_1.v1();
            this.log.info({ callId, orderId, cardId }, '.payWithStripe(orderId, cardId) called');
            let order;
            try {
                const _order = yield this.get(orderId).pipe(operators_1.first()).toPromise();
                if (_order != null) {
                    order = _order;
                    const user = yield this.usersService
                        .get(order.user.id)
                        .pipe(operators_1.first())
                        .toPromise();
                    if (user != null) {
                        const charge = yield this.stripe.charges.create({
                            amount: order.totalPrice * 100,
                            customer: user.stripeCustomerId,
                            source: cardId,
                            currency: 'ils',
                            description: 'Order id: ' + orderId,
                            metadata: {
                                orderId,
                            },
                        });
                        order = yield this.update(orderId, {
                            stripeChargeId: charge.id,
                            isPaid: true,
                        });
                    }
                    else {
                        throw new Error('User specified in order is not found!');
                    }
                }
                else {
                    throw new Error("couldn't find order with such id");
                }
            }
            catch (err) {
                this.log.error({ callId, orderId, cardId, err }, '.payWithStripe(orderId, cardId) thrown error!');
                throw err;
            }
            this.log.info({ callId, orderId, cardId, order }, '.payWithStripe(orderId, cardId) accepted payment');
            return order;
        });
    }
    refundWithStripe(orderId) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this._throwIfNotExists(orderId);
            const callId = uuid_1.v1();
            this.log.info({ callId, orderId }, '.refundWithStripe(orderId) called');
            let refund;
            let order;
            try {
                order = yield this.get(orderId).pipe(operators_1.first()).toPromise();
                if (order != null) {
                    if (order.stripeChargeId != null) {
                        refund = yield this.stripe.refunds.create({
                            charge: order.stripeChargeId,
                        });
                        this.log.info({ callId, orderId, refund }, '.refundWithStripe(orderId) made refund');
                        return order;
                    }
                    else {
                        throw new Error(`There is no order with stripeChargeId field and id of ${orderId} to refundWithStripe on!`);
                    }
                }
                else {
                    throw new Error(`There is no order with id of ${orderId} to refundWithStripe on!`);
                }
            }
            catch (err) {
                this.log.error({ callId, orderId, err }, '.refundWithStripe(orderId) thrown error!');
                throw err;
            }
        });
    }
    confirm(orderId) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this._throwIfNotExists(orderId);
            return this.update(orderId, {
                isConfirmed: true,
                warehouseStatus: OrderWarehouseStatus_1.default.ReadyForProcessing,
            });
        });
    }
    addProducts(orderId, products, warehouseId) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this._throwIfNotExists(orderId);
            const order = yield this._get(orderId);
            const oldProductsIds = order.products.map((p) => p.product.id);
            const newProductsIds = products.map((p) => p.productId);
            for (const product of order.products) {
                if (newProductsIds.includes(product.product.id)) {
                    const newProduct = products.find((p) => p.productId === product.product.id);
                    if (newProduct) {
                        product.count += newProduct.count;
                        yield this.warehousesProductsService.decreaseCount(warehouseId, newProduct.productId, newProduct.count);
                        yield this.warehousesProductsService.increaseSoldCount(warehouseId, newProduct.productId, newProduct.count);
                    }
                }
            }
            products = products.filter((p) => !oldProductsIds.includes(p['productId']));
            const warehouse = (yield this.warehousesService
                .get(warehouseId, true)
                .pipe(operators_1.first())
                .toPromise());
            const warehouseProducts = _.keyBy(warehouse.products, 'productId');
            const newOrderProducts = yield _.map(products, (args) => {
                const wProduct = warehouseProducts[args.productId];
                if (!wProduct) {
                    throw new Error(`WarehouseOrdersService got call to create(userId, orderProducts) - But there is no product with the id ${args.productId}!`);
                }
                return {
                    count: args.count,
                    price: wProduct.price,
                    initialPrice: wProduct.initialPrice,
                    deliveryTimeMin: wProduct.deliveryTimeMin,
                    deliveryTimeMax: wProduct.deliveryTimeMax,
                    product: wProduct.product,
                    isManufacturing: wProduct.isManufacturing,
                    isCarrierRequired: wProduct.isCarrierRequired,
                    isDeliveryRequired: wProduct.isDeliveryRequired,
                    isTakeaway: wProduct.isTakeaway,
                };
            });
            for (const product of products) {
                yield this.warehousesProductsService.decreaseCount(warehouseId, product.productId, product.count);
                yield this.warehousesProductsService.increaseSoldCount(warehouseId, product.productId, product.count);
            }
            return this.update(orderId, {
                products: [...order.products, ...newOrderProducts],
            });
        });
    }
    decreaseOrderProducts(orderId, products, warehouseId) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this._throwIfNotExists(orderId);
            const order = yield this._get(orderId);
            const oldProductsIds = order.products.map((p) => p.product.id);
            const newProductsIds = products.map((p) => p.productId);
            for (const product of order.products) {
                if (newProductsIds.includes(product.product.id)) {
                    const newProduct = products.find((p) => p.productId === product.product.id);
                    if (newProduct) {
                        product.count -= newProduct.count;
                        if (product.count >= 1) {
                            yield this.warehousesProductsService.decreaseSoldCount(warehouseId, newProduct.productId, newProduct.count);
                            yield this.warehousesProductsService.increaseCount(warehouseId, newProduct.productId, newProduct.count);
                        }
                        else {
                            throw new Error(`You can not decrease product to be === 0 !`);
                        }
                    }
                }
            }
            products = products.filter((p) => !oldProductsIds.includes(p['productId']));
            const warehouse = (yield this.warehousesService
                .get(warehouseId, true)
                .pipe(operators_1.first())
                .toPromise());
            const warehouseProducts = _.keyBy(warehouse.products, 'productId');
            const newOrderProducts = yield _.map(products, (args) => {
                const wProduct = warehouseProducts[args.productId];
                if (!wProduct) {
                    throw new Error(`WarehouseOrdersService got call to create(userId, orderProducts) - But there is no product with the id ${args.productId}!`);
                }
                return {
                    count: args.count,
                    price: wProduct.price,
                    initialPrice: wProduct.initialPrice,
                    deliveryTimeMin: wProduct.deliveryTimeMin,
                    deliveryTimeMax: wProduct.deliveryTimeMax,
                    product: wProduct.product,
                    isManufacturing: wProduct.isManufacturing,
                    isCarrierRequired: wProduct.isCarrierRequired,
                    isDeliveryRequired: wProduct.isDeliveryRequired,
                    isTakeaway: wProduct.isTakeaway,
                };
            });
            for (const product of products) {
                yield this.warehousesProductsService.decreaseCount(warehouseId, product.productId, product.count);
                yield this.warehousesProductsService.increaseSoldCount(warehouseId, product.productId, product.count);
            }
            return this.update(orderId, {
                products: [...order.products, ...newOrderProducts],
            });
        });
    }
    removeProducts(orderId, productsIds) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this._throwIfNotExists(orderId);
            const order = yield this._get(orderId);
            const newProducts = order.products.filter((p) => !productsIds.includes(p.product.id));
            const removedProducts = order.products.filter((p) => productsIds.includes(p.product.id));
            yield bluebird_1.default.map(removedProducts, (orderProduct) => tslib_1.__awaiter(this, void 0, void 0, function* () {
                const productId = orderProduct.product.id;
                yield this.warehousesProductsService.decreaseSoldCount(order.warehouseId, productId, orderProduct.count);
                yield this.warehousesProductsService.increaseCount(order.warehouseId, productId, orderProduct.count);
            }));
            return this.update(orderId, {
                products: newProducts,
            });
        });
    }
    cancel(orderId) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this._throwIfNotExists(orderId);
            return this.update(orderId, {
                isCancelled: true,
                finishedProcessingTime: Date.now(),
            });
        });
    }
    paid(orderId) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this._throwIfNotExists(orderId);
            return this.update(orderId, { isPaid: true });
        });
    }
    getStoreOrdersChartTotalOrders(storeId) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const ordersRaw = yield this.Model.find({
                warehouse: storeId,
                isDeleted: { $eq: false },
            })
                .select({
                isCancelled: 1,
                isPaid: 1,
                carrier: 1,
                carrierStatus: 1,
                warehouseStatus: 1,
                _createdAt: 1,
                'products.price': 1,
                'products.count': 1,
            })
                .lean()
                .exec();
            const orders = _.map(ordersRaw, (o) => {
                return {
                    totalPrice: this._getOrderTotalPrice(o),
                    isCompleted: this._isOrderCompleted(o),
                    isCancelled: o.isCancelled,
                    _createdAt: o._createdAt,
                };
            });
            return orders.filter((o) => o.isCompleted);
        });
    }
    getOrdersChartTotalOrders() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const ordersRaw = yield this.Model.find({
                isDeleted: { $eq: false },
            })
                .select({
                isCancelled: 1,
                isPaid: 1,
                carrier: 1,
                carrierStatus: 1,
                warehouseStatus: 1,
                _createdAt: 1,
                'products.price': 1,
                'products.count': 1,
            })
                .lean()
                .exec();
            const orders = _.map(ordersRaw, (o) => {
                return {
                    totalPrice: this._getOrderTotalPrice(o),
                    isCompleted: this._isOrderCompleted(o),
                    isCancelled: o.isCancelled,
                    _createdAt: o._createdAt,
                };
            });
            const ordersRes = orders.filter((o) => o.isCompleted);
            return ordersRes;
        });
    }
    getDashboardCompletedOrdersToday() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const start = new Date();
            const end = new Date();
            start.setHours(0, 0, 0, 0);
            end.setHours(23, 59, 59, 999);
            const ordersRaw = yield this.Model.find({
                isDeleted: { $eq: false },
                isCancelled: { $eq: false },
                _createdAt: { $gte: start, $lt: end },
            })
                .select({
                isCancelled: 1,
                isPaid: 1,
                carrier: 1,
                carrierStatus: 1,
                warehouseStatus: 1,
                _createdAt: 1,
                warehouse: 1,
                user: 1,
                'products.price': 1,
                'products.count': 1,
            })
                .lean()
                .exec();
            const orders = _.map(ordersRaw, (o) => {
                return {
                    totalPrice: this._getOrderTotalPrice(o),
                    isCompleted: this._isOrderCompleted(o),
                    isCancelled: o.isCancelled,
                    user: o.user,
                    warehouseId: o.warehouse,
                    _createdAt: o._createdAt,
                };
            });
            return orders.filter((o) => o.isCompleted);
        });
    }
    getOrderedUsersInfo(storeId) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const orders = yield this.Model.find({
                isDeleted: { $eq: false },
                warehouse: { $eq: storeId },
            })
                .select({
                user: 1,
                isPaid: 1,
                'products.price': 1,
                'products.count': 1,
            })
                .lean()
                .exec();
            const unique = (value, index, self) => {
                return (self
                    .map((s) => s.user._id.toString())
                    .indexOf(value.user._id.toString()) === index);
            };
            const oUsers = orders.filter(unique).map((o) => {
                const user = new User_1.default(o.user);
                return user;
            });
            const oUserIds = oUsers.map((u) => u.id);
            const realUsers = yield this.usersService.find({
                isDeleted: false,
                _id: { $in: oUserIds },
            });
            return oUsers.map((u) => {
                const userOrders = orders.filter((o) => o.user._id.toString() === u._id.toString());
                let totalPrice = 0;
                const paidOrders = userOrders.filter((o) => o.isPaid);
                if (paidOrders.length > 0) {
                    totalPrice = paidOrders
                        .map((o) => this._getOrderTotalPrice(o))
                        .reduce((a, b) => a + b);
                }
                return {
                    user: realUsers.find((ru) => ru.id === u.id),
                    ordersCount: userOrders.length,
                    totalPrice,
                };
            });
        });
    }
    getDashboardCompletedOrders(storeId) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const quaryObj = {
                isDeleted: { $eq: false },
                isCancelled: { $eq: false },
            };
            if (storeId) {
                quaryObj['warehouse'] = { $eq: storeId };
            }
            const ordersRaw = yield this.Model.find(quaryObj)
                .select({
                isCancelled: 1,
                isPaid: 1,
                carrier: 1,
                carrierStatus: 1,
                warehouseStatus: 1,
                warehouse: 1,
                'products.price': 1,
                'products.count': 1,
            })
                .lean()
                .exec();
            const orders = _.map(ordersRaw, (o) => {
                return {
                    totalPrice: this._getOrderTotalPrice(o),
                    warehouseId: o.warehouse,
                    isCompleted: this._isOrderCompleted(o),
                };
            });
            return orders.filter((o) => o.isCompleted);
        });
    }
    getOrdersInDelivery(storeId) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const order = yield this.Model.find({
                isDeleted: false,
                isCancelled: false,
                warehouse: storeId,
                carrierStatus: {
                    $in: [
                        OrderCarrierStatus_1.default.CarrierPickedUpOrder,
                        OrderCarrierStatus_1.default.CarrierStartDelivery,
                        OrderCarrierStatus_1.default.CarrierArrivedToCustomer,
                    ],
                },
            })
                .populate('carrier user')
                .lean()
                .exec();
            return order;
        });
    }
    _getOrderTotalPrice(order) {
        return _.sum(_.map(order.products, (p) => p.count * p.price));
    }
    _isOrderCompleted(order) {
        function getStatus(o) {
            if (o.carrier == null ||
                o.carrierStatus <= OrderCarrierStatus_1.default.CarrierPickedUpOrder) {
                if (o.warehouseStatus >= 200) {
                    return OrderStatus_1.default.WarehouseIssue;
                }
                else if (o.isCancelled) {
                    return OrderStatus_1.default.CanceledWhileWarehousePreparation;
                }
                else {
                    return OrderStatus_1.default.WarehousePreparation;
                }
            }
            else {
                if (o.carrierStatus >= 200) {
                    return OrderStatus_1.default.CarrierIssue;
                }
                else if (o.isCancelled) {
                    return OrderStatus_1.default.CanceledWhileInDelivery;
                }
                else if (o.isPaid &&
                    o.carrierStatus === OrderCarrierStatus_1.default.DeliveryCompleted) {
                    return OrderStatus_1.default.Delivered;
                }
                else {
                    return OrderStatus_1.default.InDelivery;
                }
            }
        }
        return ((order.isPaid && getStatus(order) === OrderStatus_1.default.Delivered) ||
            order.isCancelled);
    }
    _get(id, options = {}) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            let toPopulate = '';
            if (options.populateCarrier) {
                toPopulate += 'carrier ';
            }
            if (options.populateWarehouse) {
                toPopulate += 'warehouse ';
            }
            return new Order_1.default((yield this.Model.findById(id)
                .populate(toPopulate)
                .sort({ _createdAt: -1, orderNumber: -1 })
                .lean()
                .exec()));
        });
    }
    _throwIfNotExists(orderId) {
        const _super = Object.create(null, {
            get: { get: () => super.get }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const order = yield _super.get.call(this, orderId).pipe(operators_1.first()).toPromise();
            if (!order || order.isDeleted) {
                throw Error(`Order with id '${orderId}' does not exists!`);
            }
        });
    }
};
OrdersService.FindObjects = {
    isCompleted: {
        $or: [
            {
                isPaid: true,
                carrierStatus: OrderCarrierStatus_1.default.DeliveryCompleted,
            },
            {
                isCancelled: true,
            },
        ],
    },
    isNotCompleted: {
        $and: [
            {
                isPaid: false,
                carrierStatus: {
                    $ne: OrderCarrierStatus_1.default.DeliveryCompleted,
                },
            },
            {
                isCancelled: false,
            },
        ],
    },
};
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], OrdersService.prototype, "get", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Number]),
    tslib_1.__metadata("design:returntype", Promise)
], OrdersService.prototype, "updateCarrierStatus", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Number]),
    tslib_1.__metadata("design:returntype", Promise)
], OrdersService.prototype, "updateWarehouseStatus", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, String]),
    tslib_1.__metadata("design:returntype", Promise)
], OrdersService.prototype, "payWithStripe", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], OrdersService.prototype, "refundWithStripe", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], OrdersService.prototype, "confirm", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], OrdersService.prototype, "addProducts", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], OrdersService.prototype, "decreaseOrderProducts", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Array]),
    tslib_1.__metadata("design:returntype", Promise)
], OrdersService.prototype, "removeProducts", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], OrdersService.prototype, "cancel", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], OrdersService.prototype, "paid", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String]),
    tslib_1.__metadata("design:returntype", Promise)
], OrdersService.prototype, "getStoreOrdersChartTotalOrders", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", Promise)
], OrdersService.prototype, "getOrdersChartTotalOrders", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", Promise)
], OrdersService.prototype, "getDashboardCompletedOrdersToday", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String]),
    tslib_1.__metadata("design:returntype", Promise)
], OrdersService.prototype, "getOrderedUsersInfo", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String]),
    tslib_1.__metadata("design:returntype", Promise)
], OrdersService.prototype, "getDashboardCompletedOrders", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String]),
    tslib_1.__metadata("design:returntype", Promise)
], OrdersService.prototype, "getOrdersInDelivery", null);
OrdersService = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('order'),
    tslib_1.__param(0, inversify_1.inject(new inversify_1.LazyServiceIdentifer(() => warehouses_1.WarehousesService))),
    tslib_1.__param(1, inversify_1.inject(new inversify_1.LazyServiceIdentifer(() => users_1.UsersService))),
    tslib_1.__param(2, inversify_1.inject(new inversify_1.LazyServiceIdentifer(() => CarriersService_1.default))),
    tslib_1.__param(3, inversify_1.inject(new inversify_1.LazyServiceIdentifer(() => warehouses_1.WarehousesProductsService))),
    tslib_1.__param(4, inversify_1.inject(new inversify_1.LazyServiceIdentifer(() => warehouses_1.WarehousesService))),
    tslib_1.__param(5, inversify_1.inject(new inversify_1.LazyServiceIdentifer(() => products_1.ProductsService))),
    tslib_1.__metadata("design:paramtypes", [warehouses_1.WarehousesService,
        users_1.UsersService,
        CarriersService_1.default,
        warehouses_1.WarehousesProductsService,
        warehouses_1.WarehousesService,
        products_1.ProductsService])
], OrdersService);
exports.OrdersService = OrdersService;


/***/ }),

/***/ "./src/services/orders/index.ts":
/*!**************************************!*\
  !*** ./src/services/orders/index.ts ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
tslib_1.__exportStar(__webpack_require__(/*! ./OrdersService */ "./src/services/orders/OrdersService.ts"), exports);


/***/ }),

/***/ "./src/services/products/ProductsCategoriesService.ts":
/*!************************************************************!*\
  !*** ./src/services/products/ProductsCategoriesService.ts ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const Log_1 = __webpack_require__(/*! ../../helpers/Log */ "./src/helpers/Log.ts");
const db_server_1 = __webpack_require__(/*! @pyro/db-server */ "./src/@pyro/db-server/index.ts");
const rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const ProductsCategory_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/ProductsCategory */ "./node_modules/@ever-platform/common/src/entities/ProductsCategory.ts"));
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
let ProductsCategoriesService = class ProductsCategoriesService extends db_server_1.DBService {
    constructor() {
        super(...arguments);
        this.DBObject = ProductsCategory_1.default;
        this.log = Log_1.createEverLogger({
            name: 'productsCategoriesService',
        });
    }
    get(id) {
        return super.get(id).pipe(operators_1.map((category) => tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(id);
            return category;
        })), operators_1.switchMap((category) => category));
    }
    create(category) {
        const _super = Object.create(null, {
            create: { get: () => super.create }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return _super.create.call(this, category);
        });
    }
    update(id, updateObject) {
        const _super = Object.create(null, {
            update: { get: () => super.update }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(id);
            return _super.update.call(this, id, updateObject);
        });
    }
    remove(id) {
        const _super = Object.create(null, {
            remove: { get: () => super.remove }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(id);
            return _super.remove.call(this, id);
        });
    }
    throwIfNotExists(categoryId) {
        const _super = Object.create(null, {
            get: { get: () => super.get }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const category = yield _super.get.call(this, categoryId).pipe(operators_1.first()).toPromise();
            if (!category || category.isDeleted) {
                throw Error(`Category with id '${categoryId}' does not exists!`);
            }
        });
    }
};
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], ProductsCategoriesService.prototype, "get", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [void 0]),
    tslib_1.__metadata("design:returntype", Promise)
], ProductsCategoriesService.prototype, "create", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], ProductsCategoriesService.prototype, "update", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String]),
    tslib_1.__metadata("design:returntype", Promise)
], ProductsCategoriesService.prototype, "remove", null);
ProductsCategoriesService = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('products-category')
], ProductsCategoriesService);
exports.ProductsCategoriesService = ProductsCategoriesService;


/***/ }),

/***/ "./src/services/products/ProductsService.ts":
/*!**************************************************!*\
  !*** ./src/services/products/ProductsService.ts ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const Log_1 = __webpack_require__(/*! ../../helpers/Log */ "./src/helpers/Log.ts");
const Product_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Product */ "./node_modules/@ever-platform/common/src/entities/Product.ts"));
const db_server_1 = __webpack_require__(/*! @pyro/db-server */ "./src/@pyro/db-server/index.ts");
const rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
let ProductsService = class ProductsService extends db_server_1.DBService {
    constructor() {
        super(...arguments);
        this.DBObject = Product_1.default;
        this.log = Log_1.createEverLogger({
            name: 'productsService',
        });
    }
    get(id) {
        return super.get(id).pipe(operators_1.map((product) => tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(id);
            return product;
        })), operators_1.switchMap((product) => product));
    }
    getProducts(findInput, pagingOptions, existedProductsIds = []) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const sortObj = {};
            if (pagingOptions.sort) {
                sortObj[pagingOptions.sort.field] = pagingOptions.sort.sortBy;
            }
            return this.Model.find(Object.assign(Object.assign({}, findInput), { isDeleted: { $eq: false }, _id: { $nin: existedProductsIds } }))
                .sort(sortObj)
                .skip(pagingOptions.skip)
                .limit(pagingOptions.limit)
                .lean()
                .exec();
        });
    }
    create(product) {
        const _super = Object.create(null, {
            create: { get: () => super.create }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return _super.create.call(this, product);
        });
    }
    update(id, updateObject) {
        const _super = Object.create(null, {
            update: { get: () => super.update }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(id);
            return _super.update.call(this, id, updateObject);
        });
    }
    save(updatedProduct) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(updatedProduct.id);
            return this.update(updatedProduct.id, updatedProduct);
        });
    }
    throwIfNotExists(productId) {
        const _super = Object.create(null, {
            get: { get: () => super.get }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const product = yield _super.get.call(this, productId).pipe(operators_1.first()).toPromise();
            if (!product || product.isDeleted) {
                throw Error(`Product with id '${productId}' does not exists!`);
            }
        });
    }
};
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], ProductsService.prototype, "get", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], ProductsService.prototype, "getProducts", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [void 0]),
    tslib_1.__metadata("design:returntype", Promise)
], ProductsService.prototype, "create", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], ProductsService.prototype, "update", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__param(0, io_1.serialization((product) => new Product_1.default(product))),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Product_1.default]),
    tslib_1.__metadata("design:returntype", Promise)
], ProductsService.prototype, "save", null);
ProductsService = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('product')
], ProductsService);
exports.ProductsService = ProductsService;


/***/ }),

/***/ "./src/services/products/index.ts":
/*!****************************************!*\
  !*** ./src/services/products/index.ts ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
tslib_1.__exportStar(__webpack_require__(/*! ./ProductsCategoriesService */ "./src/services/products/ProductsCategoriesService.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./ProductsService */ "./src/services/products/ProductsService.ts"), exports);


/***/ }),

/***/ "./src/services/services.app.ts":
/*!**************************************!*\
  !*** ./src/services/services.app.ts ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var ServicesApp_1;
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const https_1 = tslib_1.__importDefault(__webpack_require__(/*! https */ "https"));
const http_1 = tslib_1.__importDefault(__webpack_require__(/*! http */ "http"));
const path_1 = tslib_1.__importDefault(__webpack_require__(/*! path */ "path"));
const pem_1 = tslib_1.__importDefault(__webpack_require__(/*! pem */ "pem"));
const fs_1 = tslib_1.__importDefault(__webpack_require__(/*! fs */ "fs"));
const body_parser_1 = tslib_1.__importDefault(__webpack_require__(/*! body-parser */ "body-parser"));
const cors_1 = tslib_1.__importDefault(__webpack_require__(/*! cors */ "cors"));
const passport_1 = tslib_1.__importDefault(__webpack_require__(/*! passport */ "passport"));
const method_override_1 = tslib_1.__importDefault(__webpack_require__(/*! method-override */ "method-override"));
const errorhandler_1 = tslib_1.__importDefault(__webpack_require__(/*! errorhandler */ "errorhandler"));
const socket_io_1 = tslib_1.__importDefault(__webpack_require__(/*! socket.io */ "socket.io"));
const express_1 = tslib_1.__importDefault(__webpack_require__(/*! express */ "express"));
const mongoose_1 = tslib_1.__importDefault(__webpack_require__(/*! mongoose */ "mongoose"));
const morgan_1 = tslib_1.__importDefault(__webpack_require__(/*! morgan */ "morgan"));
const express_handlebars_1 = tslib_1.__importDefault(__webpack_require__(/*! express-handlebars */ "express-handlebars"));
const Log_1 = __webpack_require__(/*! ../helpers/Log */ "./src/helpers/Log.ts");
const IService_1 = __webpack_require__(/*! ./IService */ "./src/services/IService.ts");
const warehouses_1 = __webpack_require__(/*! ./warehouses */ "./src/services/warehouses/index.ts");
const users_1 = __webpack_require__(/*! ./users */ "./src/services/users/index.ts");
const env_1 = __webpack_require__(/*! ../env */ "./src/env.ts");
const db_server_1 = __webpack_require__(/*! @pyro/db-server */ "./src/@pyro/db-server/index.ts");
const bluebird_1 = tslib_1.__importDefault(__webpack_require__(/*! bluebird */ "bluebird"));
const admins_1 = __webpack_require__(/*! ./admins */ "./src/services/admins/index.ts");
const ipstack = __webpack_require__(/*! ipstack */ "ipstack");
const requestIp = __webpack_require__(/*! request-ip */ "request-ip");
const typeorm_1 = __webpack_require__(/*! typeorm */ "typeorm");
const utils_1 = __webpack_require__(/*! @modules/server.common/utils */ "./node_modules/@ever-platform/common/src/utils.ts");
const Admin_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Admin */ "./node_modules/@ever-platform/common/src/entities/Admin.ts"));
const Device_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Device */ "./node_modules/@ever-platform/common/src/entities/Device.ts"));
const Carrier_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Carrier */ "./node_modules/@ever-platform/common/src/entities/Carrier.ts"));
const Invite_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Invite */ "./node_modules/@ever-platform/common/src/entities/Invite.ts"));
const InviteRequest_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/InviteRequest */ "./node_modules/@ever-platform/common/src/entities/InviteRequest.ts"));
const Order_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Order */ "./node_modules/@ever-platform/common/src/entities/Order.ts"));
const Product_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Product */ "./node_modules/@ever-platform/common/src/entities/Product.ts"));
const ProductsCategory_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/ProductsCategory */ "./node_modules/@ever-platform/common/src/entities/ProductsCategory.ts"));
const User_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/User */ "./node_modules/@ever-platform/common/src/entities/User.ts"));
const Warehouse_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Warehouse */ "./node_modules/@ever-platform/common/src/entities/Warehouse.ts"));
const config_service_1 = __webpack_require__(/*! ../config/config.service */ "./src/config/config.service.ts");
const INTERNAL_IPS = ['127.0.0.1', '::1'];
let ServicesApp = ServicesApp_1 = class ServicesApp {
    constructor(services, routersManager, warehousesService, socialStrategiesService, _adminsService, _configService) {
        this.services = services;
        this.routersManager = routersManager;
        this.warehousesService = warehousesService;
        this.socialStrategiesService = socialStrategiesService;
        this._adminsService = _adminsService;
        this.db_server = process.env.DB_ENV || 'primary';
        this.log = Log_1.createEverLogger({ name: 'main' });
        const maxSockets = _configService.Env.MAX_SOCKETS;
        http_1.default.globalAgent.maxSockets = maxSockets;
        https_1.default.globalAgent.maxSockets = maxSockets;
        process
            .on('SIGINT', this._gracefulExit)
            .on('SIGTERM', this._gracefulExit);
    }
    start(callback) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            this.callback = callback;
            yield this._connectDB();
        });
    }
    static getEntities() {
        const entities = [
            Admin_1.default,
            Carrier_1.default,
            Device_1.default,
            Invite_1.default,
            InviteRequest_1.default,
            Order_1.default,
            Product_1.default,
            ProductsCategory_1.default,
            User_1.default,
            Warehouse_1.default,
        ];
        return entities;
    }
    static CreateTypeORMConnection() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const typeORMLog = Log_1.createEverLogger({ name: 'TypeORM' });
            const entities = ServicesApp_1.getEntities();
            const conn = yield typeorm_1.createConnection({
                name: 'typeorm',
                type: 'mongodb',
                url: env_1.env.DB_URI,
                entities,
                synchronize: true,
                useNewUrlParser: true,
                autoReconnect: true,
                reconnectTries: Number.MAX_VALUE,
                poolSize: ServicesApp_1._poolSize,
                connectTimeoutMS: ServicesApp_1._connectTimeoutMS,
                logging: true,
                useUnifiedTopology: true,
            });
            console.log(`TypeORM DB connection created. DB connected: ${conn.isConnected}`);
            typeORMLog.info(`TypeORM DB connection created. DB connected: ${conn.isConnected}`);
            return conn;
        });
    }
    _gracefulExit() {
        try {
            if (this.db != null) {
                this.db.close(() => {
                    this.log.info('Mongoose default connection with DB :' +
                        this.db_server +
                        ' is disconnected through app termination');
                    process.exit(0);
                });
            }
        }
        catch (err) {
            process.exit(0);
        }
    }
    _connectDB() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            try {
                const connectionOptions = {
                    useCreateIndex: true,
                    useNewUrlParser: true,
                    autoReconnect: true,
                    useFindAndModify: false,
                    reconnectTries: Number.MAX_VALUE,
                    poolSize: ServicesApp_1._poolSize,
                    connectTimeoutMS: ServicesApp_1._connectTimeoutMS,
                    useUnifiedTopology: true,
                };
                const mongoConnect = yield mongoose_1.default.connect(env_1.env.DB_URI, connectionOptions);
                this.db = mongoConnect.connection;
                this._configDBEvents();
                this._onDBConnect();
            }
            catch (err) {
                this.log.error(err, 'Sever initialization failed! Cannot connect to DB');
            }
        });
    }
    _configDBEvents() {
        this.db.on('error', (err) => this.log.error(err));
        this.db.on('disconnected', () => {
            this.log.warn('Mongoose default connection to DB :' +
                this.db_server +
                ' disconnected');
        });
        this.db.on('connected', () => {
            this.log.info('Mongoose default connection to DB :' +
                this.db_server +
                ' connected');
        });
    }
    _onDBConnect() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            console.log('Connected to DB');
            this.log.info({ db: this.db_server }, 'Connected to DB');
            yield this._registerModels();
            yield this._registerEntityAdministrator();
            this._passportSetup();
            yield this._startExpress();
            yield this._startSocketIO();
            yield this.callback();
            yield this.reportMemoryUsage();
        });
    }
    reportMemoryUsage() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            console.log('Memory usage: ');
            console.log(process.memoryUsage());
        });
    }
    _registerEntityAdministrator() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const adminEmail = 'admin@ever.co';
            const adminPassword = 'admin';
            const adminCollectionCount = yield this._adminsService.count({
                email: adminEmail,
            });
            if (adminCollectionCount === 0) {
                this._adminsService.register({
                    admin: {
                        email: adminEmail,
                        name: 'Admin',
                        hash: null,
                        pictureUrl: utils_1.getDummyImage(300, 300, 'A'),
                    },
                    password: adminPassword,
                });
            }
        });
    }
    _getBaseUrl(url) {
        if (url) {
            return url.slice(0, url.lastIndexOf('/') + 1).toString();
        }
    }
    _passportSetup() {
        passport_1.default.serializeUser((user, done) => {
            done(null, user);
        });
        passport_1.default.deserializeUser((id, done) => {
        });
        const googleStrategy = this.socialStrategiesService.getGoogleStrategy();
        if (googleStrategy != null) {
            passport_1.default.use(googleStrategy);
        }
        const facebookStrategy = this.socialStrategiesService.getFacebookStrategy();
        if (facebookStrategy != null) {
            passport_1.default.use(facebookStrategy);
        }
    }
    _registerModels() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield bluebird_1.default.map(this.services, (service) => tslib_1.__awaiter(this, void 0, void 0, function* () {
                if (service.DBObject != null) {
                    yield db_server_1.getModel(service.DBObject).createIndexes();
                }
            }));
        });
    }
    _startExpress() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            this.expressApp = express_1.default();
            const hbs = express_handlebars_1.default.create({
                extname: '.hbs',
                defaultLayout: 'main',
                layoutsDir: path_1.default.join('res', 'views', 'layouts'),
                partialsDir: path_1.default.join('res', 'templates'),
            });
            this.expressApp.engine('.hbs', hbs.engine);
            this.expressApp.set('views', path_1.default.join('res', 'views'));
            this.expressApp.set('view engine', '.hbs');
            this.expressApp.set('view cache', false);
            const httpsCertPath = env_1.env.HTTPS_CERT_PATH;
            const httpsKeyPath = env_1.env.HTTPS_KEY_PATH;
            const hasHttpsCert = fs_1.default.existsSync(httpsCertPath);
            const hasHttpsKey = fs_1.default.existsSync(httpsKeyPath);
            let hasDefaultHttpsCert = false;
            if (!hasHttpsCert || !hasHttpsKey) {
                hasDefaultHttpsCert = yield this._getCertificates(httpsCertPath, httpsKeyPath);
            }
            if ((hasHttpsCert && hasHttpsKey) || hasDefaultHttpsCert) {
                this.httpsServer = https_1.default.createServer({
                    cert: fs_1.default.readFileSync(httpsCertPath),
                    key: fs_1.default.readFileSync(httpsKeyPath),
                }, this.expressApp);
            }
            this.httpServer = http_1.default.createServer(this.expressApp);
            const timeout = 30 * 60 * 1000;
            if (this.httpsServer) {
                this.httpsServer.setTimeout(timeout);
            }
            this.httpServer.setTimeout(timeout);
            this.expressApp.set('httpsPort', env_1.env.HTTPSPORT);
            this.expressApp.set('httpPort', env_1.env.HTTPPORT);
            this.expressApp.set('environment', env_1.env.NODE_ENV);
            this.expressApp.use(cors_1.default({
                origin: true,
                credentials: true,
            }));
            this.expressApp.use(body_parser_1.default.urlencoded({ extended: false }));
            this.expressApp.use(body_parser_1.default.json());
            this.expressApp.use(body_parser_1.default.json({ type: 'application/vnd.api+json' }));
            const mo = method_override_1.default;
            this.expressApp.use(mo('X-HTTP-Method'));
            this.expressApp.use(mo('X-HTTP-Method-Override'));
            this.expressApp.use(mo('X-Method-Override'));
            this.expressApp.use(morgan_1.default('dev'));
            this.expressApp.use(passport_1.default.initialize());
            this.expressApp.use(requestIp.mw());
            if (this.expressApp.get('environment') === 'development') {
                const eh = errorhandler_1.default;
                this.expressApp.use(eh());
            }
            this.expressApp.get('/', function (req, res) {
                res.render('index');
            });
            this.expressApp.get('/getLocationByIP', (req, res) => {
                const ipStackKey = env_1.env.IP_STACK_API_KEY;
                if (ipStackKey) {
                    const clientIp = req['clientIp'];
                    if (!INTERNAL_IPS.includes(clientIp)) {
                        ipstack(clientIp, ipStackKey, (err, response) => {
                            res.json({
                                latitude: response.latitude,
                                longitude: response.longitude,
                            });
                        });
                    }
                    else {
                        this.log.info(`Can't use ipstack with internal ip address ${clientIp}`);
                        res.status(204).end();
                    }
                }
                else {
                    this.log.error('Not provided Key for IpStack');
                    res.status(500).end();
                }
            });
            this.expressApp.post('/warehouse/create', (req, res) => tslib_1.__awaiter(this, void 0, void 0, function* () {
                const warehouseCreateObject = JSON.parse(req.body.warehouse);
                const warehouse = yield this.warehousesService.create(warehouseCreateObject);
                res.json(warehouse);
            }));
            this._setupAuthRoutes();
            this._setupStaticRoutes();
            const httpsPort = this.expressApp.get('httpsPort');
            const httpPort = this.expressApp.get('httpPort');
            const conf = __webpack_require__(/*! dotenv */ "dotenv").config();
            const environment = this.expressApp.get('environment');
            this.log.info({
                httpsPort,
                httpPort,
                environment,
                'process.env': process.env,
                dotenv: conf,
            }, 'Express server prepare to listen');
            if (httpsPort && httpsPort > 0 && this.httpsServer) {
                this.httpsServer.listen(httpsPort, () => {
                    this.log.info({ port: httpsPort }, 'Express https server listening');
                    console.log(`Express https server listening on port ${httpsPort}`);
                });
            }
            else {
                this.log.warn(`No SSL Certificate exists, HTTPS endpoint will be disabled`);
            }
            if (httpPort && httpPort > 0) {
                this.httpServer.listen(httpPort, () => {
                    this.log.info({ port: httpPort }, 'Express http server listening');
                    console.log(`Express http server listening on port ${httpPort}`);
                });
            }
        });
    }
    _getCertificates(httpsCertPath, httpsKeyPath) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            try {
                this.log.info('Generating SSL Certificates for HTTPS');
                const { success } = yield this._createCertificateAsync(httpsCertPath, httpsKeyPath);
                this.log.info('Certificates were generated');
                return success;
            }
            catch (error) {
                this.log.warn(`Certificates were not generated due to error: ${error.message}`);
                return false;
            }
        });
    }
    _createCertificateAsync(httpsCertPath, httpsKeyPath) {
        return new Promise((resolve, reject) => {
            try {
                pem_1.default.createCertificate({
                    days: 365,
                    selfSigned: true,
                }, (err, keys) => {
                    if (err) {
                        reject({ success: false, message: err.message });
                        return;
                    }
                    const httpsCertDirPath = path_1.default.dirname(httpsCertPath);
                    const httpsKeyDirPath = path_1.default.dirname(httpsKeyPath);
                    if (!fs_1.default.existsSync(httpsCertDirPath)) {
                        fs_1.default.mkdirSync(httpsCertDirPath, {
                            recursive: true,
                        });
                    }
                    if (!fs_1.default.existsSync(httpsKeyDirPath)) {
                        fs_1.default.mkdirSync(httpsKeyDirPath, {
                            recursive: true,
                        });
                    }
                    fs_1.default.writeFileSync(httpsCertPath, keys.certificate);
                    fs_1.default.writeFileSync(httpsKeyPath, keys.serviceKey);
                    resolve({ success: true });
                });
            }
            catch (err) {
                reject({ success: false, message: err.message });
            }
        });
    }
    _startSocketIO() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const so = socket_io_1.default;
            const ioHttps = so(this.httpsServer);
            const ioHttp = so(this.httpServer);
            yield this.routersManager.startListening(ioHttps);
            yield this.routersManager.startListening(ioHttp);
        });
    }
    _setupStaticRoutes() {
        this.expressApp.get('/en/about', function (req, res) {
            res.render('about_us_en');
        });
        this.expressApp.get('/he/about', function (req, res) {
            res.render('about_us_he');
        });
        this.expressApp.get('/ru/about', function (req, res) {
            res.render('about_us_ru');
        });
        this.expressApp.get('/en/privacy', function (req, res) {
            res.render('privacy_en');
        });
        this.expressApp.get('/he/privacy', function (req, res) {
            res.render('privacy_he');
        });
        this.expressApp.get('/ru/privacy', function (req, res) {
            res.render('privacy_ru');
        });
        this.expressApp.get('/en/terms', function (req, res) {
            res.render('terms_of_use_en');
        });
        this.expressApp.get('/he/terms', function (req, res) {
            res.render('terms_of_use_he');
        });
        this.expressApp.get('/ru/terms', function (req, res) {
            res.render('terms_of_use_ru');
        });
        this.expressApp.get('/bg/terms', function (req, res) {
            res.render('terms_of_use_bg');
        });
    }
    _setupAuthRoutes() {
        this.expressApp.get('/auth/facebook', (req, res, next) => {
            passport_1.default['_strategies'].session.base_redirect_url = this._getBaseUrl(req.headers.referer);
            next();
        }, passport_1.default.authenticate('facebook', {
            scope: ['email', 'public_profile'],
        }));
        this.expressApp.get('/auth/facebook/callback', passport_1.default.authenticate('facebook', { failureRedirect: '/login' }), (req, res) => tslib_1.__awaiter(this, void 0, void 0, function* () {
            const baseRedirectUr = passport_1.default['_strategies'].session.base_redirect_url;
            if (req.user) {
                res.redirect(baseRedirectUr + req.user.redirectUrl);
            }
            else {
                res.redirect(baseRedirectUr || '');
            }
            passport_1.default['_strategies'].session.base_redirect_url = '';
        }));
        this.expressApp.get('/auth/google', (req, res, next) => {
            passport_1.default['_strategies'].session.base_redirect_url = this._getBaseUrl(req.headers.referer);
            next();
        }, passport_1.default.authenticate('google', { scope: ['profile', 'email'] }));
        this.expressApp.get('/auth/google/callback', passport_1.default.authenticate('google', { failureRedirect: '/login' }), (req, res) => tslib_1.__awaiter(this, void 0, void 0, function* () {
            const baseRedirectUr = passport_1.default['_strategies'].session.base_redirect_url;
            if (req.user) {
                res.redirect(baseRedirectUr + req.user.redirectUrl);
            }
            else {
                res.redirect(baseRedirectUr || '');
            }
            passport_1.default['_strategies'].session.base_redirect_url = '';
        }));
    }
};
ServicesApp._poolSize = 50;
ServicesApp._connectTimeoutMS = 40000;
ServicesApp = ServicesApp_1 = tslib_1.__decorate([
    inversify_1.injectable(),
    tslib_1.__param(0, inversify_1.multiInject(IService_1.ServiceSymbol)),
    tslib_1.__param(1, inversify_1.inject('RoutersManager')),
    tslib_1.__param(2, inversify_1.inject(warehouses_1.WarehousesService)),
    tslib_1.__param(3, inversify_1.inject(users_1.SocialStrategiesService)),
    tslib_1.__param(4, inversify_1.inject(admins_1.AdminsService)),
    tslib_1.__param(5, inversify_1.inject(config_service_1.ConfigService)),
    tslib_1.__metadata("design:paramtypes", [Array, Object, warehouses_1.WarehousesService,
        users_1.SocialStrategiesService,
        admins_1.AdminsService,
        config_service_1.ConfigService])
], ServicesApp);
exports.ServicesApp = ServicesApp;


/***/ }),

/***/ "./src/services/services.module.ts":
/*!*****************************************!*\
  !*** ./src/services/services.module.ts ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const common_1 = __webpack_require__(/*! @nestjs/common */ "@nestjs/common");
const IService_1 = __webpack_require__(/*! ./IService */ "./src/services/IService.ts");
const inversify_config_1 = __webpack_require__(/*! ./inversify.config */ "./src/services/inversify.config.ts");
function getServices() {
    return inversify_config_1.servicesContainer.getAll(IService_1.ServiceSymbol).map((service) => {
        return {
            provide: service.constructor,
            useValue: service,
        };
    });
}
const services = getServices();
let ServicesModule = class ServicesModule {
    constructor() { }
};
ServicesModule = tslib_1.__decorate([
    common_1.Global(),
    common_1.Module({
        providers: services,
        exports: services,
    }),
    tslib_1.__metadata("design:paramtypes", [])
], ServicesModule);
exports.ServicesModule = ServicesModule;


/***/ }),

/***/ "./src/services/users/SocialRegisterService.ts":
/*!*****************************************************!*\
  !*** ./src/services/users/SocialRegisterService.ts ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const UsersService_1 = __webpack_require__(/*! ./UsersService */ "./src/services/users/UsersService.ts");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
let SocialRegisterService = class SocialRegisterService {
    constructor(usersService) {
        this.usersService = usersService;
    }
    register(profileInfo) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const socialId = profileInfo['id'];
            const currentUser = yield this.usersService.getSocial(socialId);
            let redirectUrl = '';
            if (currentUser) {
                currentUser.isRegistrationCompleted
                    ? (redirectUrl = 'login/socie/' + currentUser['_id'])
                    : (redirectUrl = 'login/byLocation/' + currentUser['_id']);
            }
            else {
                const [firstname, lastname] = profileInfo['displayName'].split(' ');
                const email = profileInfo['emails'][0]['value'];
                const socialIdOnProfile = profileInfo['id'];
                const newUser = yield this.usersService.initUser({
                    firstName: firstname,
                    lastName: lastname,
                    email,
                    socialIds: [socialIdOnProfile],
                    isRegistrationCompleted: false,
                });
                redirectUrl = 'login/byLocation/' + newUser['_id'];
            }
            return { redirectUrl };
        });
    }
};
SocialRegisterService = tslib_1.__decorate([
    io_1.routerName('social-register-service'),
    inversify_1.injectable(),
    tslib_1.__param(0, inversify_1.inject(UsersService_1.UsersService)),
    tslib_1.__metadata("design:paramtypes", [UsersService_1.UsersService])
], SocialRegisterService);
exports.SocialRegisterService = SocialRegisterService;


/***/ }),

/***/ "./src/services/users/SocialStrategiesService.ts":
/*!*******************************************************!*\
  !*** ./src/services/users/SocialStrategiesService.ts ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const passport_google_oauth20_1 = tslib_1.__importDefault(__webpack_require__(/*! passport-google-oauth20 */ "passport-google-oauth20"));
const passport_facebook_1 = tslib_1.__importDefault(__webpack_require__(/*! passport-facebook */ "passport-facebook"));
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const SocialRegisterService_1 = __webpack_require__(/*! ./SocialRegisterService */ "./src/services/users/SocialRegisterService.ts");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const env_1 = __webpack_require__(/*! ../../env */ "./src/env.ts");
let SocialStrategiesService = class SocialStrategiesService {
    constructor(socialRegister) {
        this.socialRegister = socialRegister;
    }
    getGoogleStrategy() {
        if (env_1.env.GOOGLE_APP_ID !== '' && env_1.env.GOOGLE_APP_SECRET !== '') {
            return new passport_google_oauth20_1.default({
                clientID: env_1.env.GOOGLE_APP_ID,
                clientSecret: env_1.env.GOOGLE_APP_SECRET,
                callbackURL: '/auth/google/callback',
            }, (accessToken, refreshToken, profile, done) => tslib_1.__awaiter(this, void 0, void 0, function* () {
                const { redirectUrl } = yield this.socialRegister.register(profile);
                done(null, { redirectUrl });
            }));
        }
        console.log(`Warning: Google OAuth disabled because no details provided in the settings/environment`);
        return null;
    }
    getFacebookStrategy() {
        if (env_1.env.FACEBOOK_APP_ID !== '' && env_1.env.FACEBOOK_APP_SECRET !== '') {
            return new passport_facebook_1.default({
                clientID: env_1.env.FACEBOOK_APP_ID,
                clientSecret: env_1.env.FACEBOOK_APP_SECRET,
                callbackURL: '/auth/facebook/callback',
                profileFields: [
                    'id',
                    'displayName',
                    'picture',
                    'email',
                    'gender',
                ],
            }, (accessToken, refreshToken, profile, done) => tslib_1.__awaiter(this, void 0, void 0, function* () {
                const { redirectUrl } = yield this.socialRegister.register(profile);
                done(null, { redirectUrl });
            }));
        }
        console.log(`Warning: Facebook OAuth disabled because no details provided in the settings/environment`);
        return null;
    }
};
SocialStrategiesService = tslib_1.__decorate([
    io_1.routerName('social-strategies-service'),
    inversify_1.injectable(),
    tslib_1.__param(0, inversify_1.inject(SocialRegisterService_1.SocialRegisterService)),
    tslib_1.__metadata("design:paramtypes", [SocialRegisterService_1.SocialRegisterService])
], SocialStrategiesService);
exports.SocialStrategiesService = SocialStrategiesService;


/***/ }),

/***/ "./src/services/users/UserCommandService.ts":
/*!**************************************************!*\
  !*** ./src/services/users/UserCommandService.ts ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const cqrs_1 = __webpack_require__(/*! @nestjs/cqrs */ "@nestjs/cqrs");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const UsersService_1 = __webpack_require__(/*! ./UsersService */ "./src/services/users/UsersService.ts");
class GetAboutUsCommand {
    constructor(userId, deviceId) {
        this.userId = userId;
        this.deviceId = deviceId;
    }
}
exports.GetAboutUsCommand = GetAboutUsCommand;
let UserCommandService = class UserCommandService {
    constructor(_commandBus) {
        this._commandBus = _commandBus;
    }
    exec(userId, deviceId) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return this._commandBus.execute(new GetAboutUsCommand(userId, deviceId));
        });
    }
};
UserCommandService = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('userCommandService'),
    tslib_1.__param(0, inversify_1.optional()),
    tslib_1.__metadata("design:paramtypes", [cqrs_1.CommandBus])
], UserCommandService);
exports.UserCommandService = UserCommandService;
let GetAboutUsHandler = class GetAboutUsHandler {
    constructor(_userService) {
        this._userService = _userService;
    }
    execute(command) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const { userId, deviceId } = command;
            console.log('COMMAND PARAM 1:', userId);
            console.log('COMMAND PARAM 2:', deviceId);
            const result = this._userService.getAboutUs(userId, deviceId);
            return result;
        });
    }
};
GetAboutUsHandler = tslib_1.__decorate([
    cqrs_1.CommandHandler(GetAboutUsCommand),
    tslib_1.__metadata("design:paramtypes", [UsersService_1.UsersService])
], GetAboutUsHandler);
exports.GetAboutUsHandler = GetAboutUsHandler;


/***/ }),

/***/ "./src/services/users/UsersAuthService.ts":
/*!************************************************!*\
  !*** ./src/services/users/UsersAuthService.ts ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var UsersAuthService_1;
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const User_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/User */ "./node_modules/@ever-platform/common/src/entities/User.ts"));
const Log_1 = __webpack_require__(/*! ../../helpers/Log */ "./src/helpers/Log.ts");
const entity_service_1 = __webpack_require__(/*! @pyro/db-server/entity-service */ "./src/@pyro/db-server/entity-service.ts");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const UsersService_1 = __webpack_require__(/*! ./UsersService */ "./src/services/users/UsersService.ts");
const NotInvitedError_1 = __webpack_require__(/*! @modules/server.common/errors/NotInvitedError */ "./node_modules/@ever-platform/common/src/errors/NotInvitedError.ts");
const invites_1 = __webpack_require__(/*! ../invites */ "./src/services/invites/index.ts");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const env_1 = __webpack_require__(/*! ../../env */ "./src/env.ts");
let UsersAuthService = UsersAuthService_1 = class UsersAuthService extends entity_service_1.EntityService {
    constructor(usersService, invitesService, authServiceFactory) {
        super();
        this.usersService = usersService;
        this.invitesService = invitesService;
        this.authServiceFactory = authServiceFactory;
        this.DBObject = User_1.default;
        this.log = Log_1.createEverLogger({
            name: 'userAuthService',
        });
        this.authService = this.authServiceFactory({
            role: 'user',
            Entity: User_1.default,
            saltRounds: env_1.env.USER_PASSWORD_BCRYPT_SALT_ROUNDS,
        });
    }
    register(input) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            if (UsersAuthService_1.IS_INVITES_SYSTEM_ON &&
                !(yield this._isInvited(input.user))) {
                throw new NotInvitedError_1.NotInvitedError();
            }
            if (input.user.firstName === '') {
                delete input.user.firstName;
            }
            if (input.user.lastName === '') {
                delete input.user.lastName;
            }
            if (input.user.email === '') {
                delete input.user.email;
            }
            const user = yield this.usersService.create(Object.assign(Object.assign({}, input.user), (input.password
                ? {
                    hash: yield this.authService.getPasswordHash(input.password),
                }
                : {})));
            return user;
        });
    }
    updatePassword(id, password) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.usersService.throwIfNotExists(id);
            yield this.authService.updatePassword(id, password);
        });
    }
    addRegistrationInfo(id, { email, password, firstName, lastName, phone }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.usersService.throwIfNotExists(id);
            const user = yield this.usersService.getCurrent(id);
            if (user.email == null && email) {
                throw new Error('To add password user must have email');
            }
            yield this.authService.addPassword(id, password);
            yield this.usersService.update(id, Object.assign(Object.assign(Object.assign(Object.assign({}, (email ? { email } : {})), (firstName ? { firstName } : {})), (lastName ? { lastName } : {})), (phone ? { phone } : {})));
        });
    }
    login(email, password) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const res = yield this.authService.login({ email }, password);
            if (!res || res.entity.isDeleted) {
                return null;
            }
            return {
                user: res.entity,
                token: res.token,
            };
        });
    }
    getRegistrationsSettings() {
        return new Promise((resolve, reject) => {
            resolve({
                registrationRequiredOnStart: env_1.env.SETTINGS_REGISTRATIONS_REQUIRED_ON_START,
            });
        });
    }
    _isInvited(userCreateObject) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const inviteFindObject = {
                'geoLocation.countryId': userCreateObject.geoLocation.countryId,
                'geoLocation.city': userCreateObject.geoLocation.city,
                'geoLocation.streetAddress': userCreateObject.geoLocation.streetAddress,
                'geoLocation.house': userCreateObject.geoLocation.house,
                apartment: userCreateObject.apartment,
            };
            if (userCreateObject.geoLocation.postcode) {
                inviteFindObject['geoLocation.postcode'] =
                    userCreateObject.geoLocation.postcode;
            }
            const invite = yield this.invitesService.findOne(inviteFindObject);
            return invite != null;
        });
    }
};
UsersAuthService.IS_INVITES_SYSTEM_ON = false;
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], UsersAuthService.prototype, "register", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], UsersAuthService.prototype, "updatePassword", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], UsersAuthService.prototype, "addRegistrationInfo", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, String]),
    tslib_1.__metadata("design:returntype", Promise)
], UsersAuthService.prototype, "login", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", []),
    tslib_1.__metadata("design:returntype", Promise)
], UsersAuthService.prototype, "getRegistrationsSettings", null);
UsersAuthService = UsersAuthService_1 = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('user-auth'),
    tslib_1.__param(2, inversify_1.inject('Factory<AuthService>')),
    tslib_1.__metadata("design:paramtypes", [UsersService_1.UsersService,
        invites_1.InvitesService, Function])
], UsersAuthService);
exports.UsersAuthService = UsersAuthService;


/***/ }),

/***/ "./src/services/users/UsersOrdersService.ts":
/*!**************************************************!*\
  !*** ./src/services/users/UsersOrdersService.ts ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const lodash_1 = tslib_1.__importDefault(__webpack_require__(/*! lodash */ "lodash"));
const orders_1 = __webpack_require__(/*! ../orders */ "./src/services/orders/index.ts");
const UsersService_1 = __webpack_require__(/*! ./UsersService */ "./src/services/users/UsersService.ts");
const Log_1 = __webpack_require__(/*! ../../helpers/Log */ "./src/helpers/Log.ts");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const db_server_1 = __webpack_require__(/*! @pyro/db-server */ "./src/@pyro/db-server/index.ts");
const rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const mongoose = __webpack_require__(/*! mongoose */ "mongoose");
const OrderCarrierStatus_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/enums/OrderCarrierStatus */ "./node_modules/@ever-platform/common/src/enums/OrderCarrierStatus.ts"));
const OrderWarehouseStatus_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/enums/OrderWarehouseStatus */ "./node_modules/@ever-platform/common/src/enums/OrderWarehouseStatus.ts"));
let UsersOrdersService = class UsersOrdersService {
    constructor(ordersService, usersService) {
        this.ordersService = ordersService;
        this.usersService = usersService;
        this.log = Log_1.createEverLogger({
            name: 'usersOrdersService',
        });
    }
    get(userId) {
        return rxjs_1.concat(rxjs_1.of(null), this.ordersService.existence.pipe(operators_1.filter((e) => this._shouldPull(userId, e)), operators_1.share())).pipe(operators_1.exhaustMap(() => this.getCurrent(userId)));
    }
    getCurrent(userId) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const orders = yield this.ordersService.find({
                'user._id': new mongoose.Types.ObjectId(userId),
                isDeleted: { $eq: false },
            });
            return lodash_1.default.orderBy(orders, [(order) => order.createdAt, (order) => order.orderNumber], ['desc', 'desc']);
        });
    }
    getCustomerMetrics(id) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const completedUserOrders = yield this.ordersService.Model.find({
                $and: [
                    { 'user._id': id },
                    {
                        $or: [
                            { carrierStatus: OrderCarrierStatus_1.default.DeliveryCompleted },
                            {
                                warehouseStatus: OrderWarehouseStatus_1.default.GivenToCustomer,
                            },
                        ],
                    },
                    { isCancelled: false },
                ],
            }).select({ products: 1 });
            const completedOrdersTotalSum = completedUserOrders
                .map((o) => {
                return o.products
                    .map((p) => {
                    return p.price * p.count;
                })
                    .reduce((a, b) => a + b, 0);
            })
                .reduce((a, b) => a + b, 0);
            const totalOrders = yield this.ordersService.Model.find({
                'user._id': id,
            })
                .countDocuments()
                .exec();
            const canceledOrders = yield this.ordersService.Model.find({
                $and: [{ 'user._id': id }, { isCancelled: true }],
            })
                .countDocuments()
                .exec();
            return {
                totalOrders,
                canceledOrders,
                completedOrdersTotalSum,
            };
        });
    }
    _shouldPull(userId, event) {
        switch (event.type) {
            case db_server_1.ExistenceEventType.Created:
                return event.value != null && event.value.user.id === userId;
            case db_server_1.ExistenceEventType.Updated:
                return ((event.value != null && event.value.user.id === userId) ||
                    (event.lastValue != null &&
                        event.lastValue.user.id === userId));
            case db_server_1.ExistenceEventType.Removed:
                return (event.lastValue != null &&
                    event.lastValue.user.id === userId);
        }
    }
};
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], UsersOrdersService.prototype, "get", null);
UsersOrdersService = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('user-orders'),
    tslib_1.__param(0, inversify_1.inject(new inversify_1.LazyServiceIdentifer(() => orders_1.OrdersService))),
    tslib_1.__param(1, inversify_1.inject(new inversify_1.LazyServiceIdentifer(() => UsersService_1.UsersService))),
    tslib_1.__metadata("design:paramtypes", [orders_1.OrdersService,
        UsersService_1.UsersService])
], UsersOrdersService);
exports.UsersOrdersService = UsersOrdersService;


/***/ }),

/***/ "./src/services/users/UsersProductsService.ts":
/*!****************************************************!*\
  !*** ./src/services/users/UsersProductsService.ts ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(__dirname) {
var UsersProductsService_1;
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const handlebars_1 = tslib_1.__importDefault(__webpack_require__(/*! handlebars */ "handlebars"));
const utils_1 = __webpack_require__(/*! ../../utils */ "./src/utils.ts");
const DevicesService_1 = __webpack_require__(/*! ../devices/DevicesService */ "./src/services/devices/DevicesService.ts");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");
let UsersProductsService = UsersProductsService_1 = class UsersProductsService {
    constructor(devicesService) {
        this.devicesService = devicesService;
        this._placeholderTemplateFileName = UsersProductsService_1.templatesDirPath + `user_products_placeholder.hbs`;
        this._placeholderTranslationsFileName = UsersProductsService_1.templatesDirPath +
            `user_products_placeholder.json`;
        this._placeholderTemplateString = utils_1.observeFile(this._placeholderTemplateFileName).pipe(operators_1.distinctUntilChanged(), operators_1.publishReplay(1), operators_1.refCount());
        this._placeholderTranslationsJSON = utils_1.observeFile(this._placeholderTranslationsFileName).pipe(operators_1.distinctUntilChanged(), operators_1.publishReplay(1), operators_1.refCount());
    }
    getPlaceholder(userId, deviceId) {
        return this.devicesService.get(deviceId).pipe(operators_1.exhaustMap((device) => {
            if (device === null) {
                return rxjs_1.throwError(new Error(`User with the id ${userId} doesn't exist`));
            }
            else {
                return rxjs_1.of(device);
            }
        }), operators_1.distinctUntilChanged((oldDevice, newDevice) => oldDevice.language !== newDevice.language), operators_1.switchMap((device) => rxjs_1.combineLatest(this._placeholderTemplateString, this._placeholderTranslationsJSON, (templateString, translationsJSON) => {
            const translations = JSON.parse(translationsJSON);
            const template = handlebars_1.default.compile(templateString);
            const language = Object.keys(JSON.parse(translationsJSON)).filter((k) => k
                .toLowerCase()
                .includes(device.language.toLowerCase()))[0];
            return template(translations[language]);
        })), operators_1.share());
    }
};
UsersProductsService.templatesDirPath = `${__dirname}/../../../res/templates/`;
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, String]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], UsersProductsService.prototype, "getPlaceholder", null);
UsersProductsService = UsersProductsService_1 = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('user-products'),
    tslib_1.__metadata("design:paramtypes", [DevicesService_1.DevicesService])
], UsersProductsService);
exports.UsersProductsService = UsersProductsService;

/* WEBPACK VAR INJECTION */}.call(this, "/"))

/***/ }),

/***/ "./src/services/users/UsersService.ts":
/*!********************************************!*\
  !*** ./src/services/users/UsersService.ts ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(__dirname) {
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const env_1 = __webpack_require__(/*! ../../env */ "./src/env.ts");
const User_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/User */ "./node_modules/@ever-platform/common/src/entities/User.ts"));
const Log_1 = __webpack_require__(/*! ../../helpers/Log */ "./src/helpers/Log.ts");
const invites_1 = __webpack_require__(/*! ../invites */ "./src/services/invites/index.ts");
const db_server_1 = __webpack_require__(/*! @pyro/db-server */ "./src/@pyro/db-server/index.ts");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");
const utils_1 = __webpack_require__(/*! ../../utils */ "./src/utils.ts");
const GeoLocation_1 = tslib_1.__importStar(__webpack_require__(/*! @modules/server.common/entities/GeoLocation */ "./node_modules/@ever-platform/common/src/entities/GeoLocation.ts"));
const devices_1 = __webpack_require__(/*! ../devices */ "./src/services/devices/index.ts");
const uuid_1 = __webpack_require__(/*! uuid */ "uuid");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const of_1 = __webpack_require__(/*! rxjs/observable/of */ "rxjs/observable/of");
const throw_1 = __webpack_require__(/*! rxjs/observable/throw */ "rxjs/observable/throw");
const _ = __webpack_require__(/*! lodash */ "lodash");
const faker_1 = tslib_1.__importDefault(__webpack_require__(/*! faker */ "faker"));
const warehouses_1 = __webpack_require__(/*! ../../services/warehouses */ "./src/services/warehouses/index.ts");
const Stripe = __webpack_require__(/*! stripe */ "stripe");
let UsersService = class UsersService extends db_server_1.DBService {
    constructor(invitesService, devicesService, _storesService) {
        super();
        this.invitesService = invitesService;
        this.devicesService = devicesService;
        this._storesService = _storesService;
        this.DBObject = User_1.default;
        this.stripe = new Stripe(env_1.env.STRIPE_SECRET_KEY);
        this.log = Log_1.createEverLogger({
            name: 'usersService',
        });
        this.watchedFiles = _.zipObject(['aboutUs', 'privacy', 'termsOfUse'], _.map(['about_us', 'privacy', 'terms_of_use'], (folder) => _.zipObject(['en-US', 'he-IL', 'ru-RU', 'bg-BG'], _.map(['en-US', 'he-IL', 'ru-RU', 'bg-BG'], (language) => utils_1.observeFile(`${__dirname}/../../../res/templates/${folder}/${language}.hbs`).pipe(operators_1.tap({ error: (err) => this.log.error(err) }), operators_1.publishReplay(1), operators_1.refCount())))));
    }
    isUserEmailExists(email) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return (yield this.count({ email })) > 0;
        });
    }
    getSocial(socialId) {
        const _super = Object.create(null, {
            findOne: { get: () => super.findOne }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return _super.findOne.call(this, {
                socialIds: { $in: [socialId] },
                isDeleted: { $eq: false },
            });
        });
    }
    initUser(userInitializeObject) {
        const _super = Object.create(null, {
            create: { get: () => super.create }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return _super.create.call(this, userInitializeObject);
        });
    }
    getUsers(findInput, pagingOptions) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const sortObj = {};
            if (pagingOptions.sort) {
                sortObj[pagingOptions.sort.field] = pagingOptions.sort.sortBy;
            }
            return this.Model.find(Object.assign(Object.assign({}, findInput), { isDeleted: { $eq: false } }))
                .sort(sortObj)
                .skip(pagingOptions.skip)
                .limit(pagingOptions.limit)
                .lean()
                .exec();
        });
    }
    updateUser(id, userCreateObject) {
        const _super = Object.create(null, {
            update: { get: () => super.update }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(id);
            return _super.update.call(this, id, userCreateObject);
        });
    }
    get(customerId) {
        return super.get(customerId).pipe(operators_1.map((user) => tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(customerId);
            return user;
        })), operators_1.switchMap((user) => user));
    }
    getCards(userId) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(userId);
            const user = yield this.get(userId).pipe(operators_1.first()).toPromise();
            if (user != null) {
                if (user.stripeCustomerId != null) {
                    return (yield this.stripe.customers.listSources(user.stripeCustomerId, {
                        object: 'card',
                    })).data;
                }
                else {
                    return [];
                }
            }
            else {
                throw new Error(`User with the id ${userId} doesn't exist`);
            }
        });
    }
    addPaymentMethod(userId, tokenId) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(userId);
            const callId = uuid_1.v1();
            this.log.info({ callId, userId, tokenId }, '.addPaymentMethod(userId, tokenId) called');
            let card;
            try {
                let user = yield this.get(userId).pipe(operators_1.first()).toPromise();
                if (user != null) {
                    if (user.stripeCustomerId == null) {
                        const customer = yield this.stripe.customers.create({
                            email: user.email,
                            description: 'User id: ' + user.id,
                            metadata: {
                                userId: user.id,
                            },
                        });
                        user = yield this.update(userId, {
                            stripeCustomerId: customer.id,
                        });
                    }
                    card = (yield this.stripe.customers.createSource(user.stripeCustomerId, {
                        source: tokenId,
                    }));
                }
                else {
                    throw new Error(`User with the id ${userId} doesn't exist`);
                }
            }
            catch (err) {
                this.log.error({ callId, userId, tokenId, err }, '.addPaymentMethod(userId, tokenId) thrown error!');
                throw err;
            }
            this.log.info({ callId, userId, tokenId, card }, '.addPaymentMethod(userId, tokenId) added payment method');
            return card.id;
        });
    }
    updateEmail(userId, email) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(userId);
            return this.update(userId, { email });
        });
    }
    updateGeoLocation(userId, geoLocation) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(userId);
            return this.update(userId, { geoLocation });
        });
    }
    getAboutUs(userId, deviceId) {
        return this.devicesService.get(deviceId).pipe(operators_1.exhaustMap((device) => {
            if (device === null) {
                return throw_1._throw(new Error(`User with the id ${userId} doesn't exist`));
            }
            else {
                return of_1.of(device);
            }
        }), operators_1.distinctUntilChanged((oldDevice, newDevice) => oldDevice.language !== newDevice.language), operators_1.switchMap((device) => this.watchedFiles.aboutUs[device.language]));
    }
    getTermsOfUse(userId, deviceId) {
        return this.devicesService.get(deviceId).pipe(operators_1.exhaustMap((device) => {
            if (device === null) {
                return throw_1._throw(new Error(`Device with the id ${deviceId} doesn't exist`));
            }
            else {
                return of_1.of(device);
            }
        }), operators_1.distinctUntilChanged((oldDevice, newDevice) => oldDevice.language !== newDevice.language), operators_1.switchMap((device) => this.watchedFiles.termsOfUse[device.language]));
    }
    getPrivacy(userId, deviceId) {
        return this.devicesService.get(deviceId).pipe(operators_1.exhaustMap((device) => {
            if (device === null) {
                return throw_1._throw(new Error(`User with the id ${userId} doesn't exist`));
            }
            else {
                return of_1.of(device);
            }
        }), operators_1.distinctUntilChanged((oldDevice, newDevice) => oldDevice.language !== newDevice.language), operators_1.switchMap((device) => this.watchedFiles.privacy[device.language]));
    }
    generate1000Customers(defaultLng, defaultLat) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const existingEmails = _.map(yield this.Model.find({}).select({ email: 1 }).lean().exec(), (u) => u.email);
            const customersToCreate = [];
            const customerCreatedFrom = new Date(2015, 1);
            const customerCreatedTo = new Date();
            let customerCount = 1;
            while (customerCount <= 1000) {
                const firstName = faker_1.default.name.firstName();
                const lastName = faker_1.default.name.lastName();
                const email = faker_1.default.internet.email(firstName, lastName);
                const isBanned = Math.random() < 0.02;
                const geoLocation = {
                    countryId: faker_1.default.random.number(GeoLocation_1.Country.ZW),
                    city: faker_1.default.address.city(),
                    house: `${customerCount}`,
                    loc: {
                        type: 'Point',
                        coordinates: [defaultLng, defaultLat],
                    },
                    streetAddress: faker_1.default.address.streetAddress(),
                };
                if (!existingEmails.includes(email)) {
                    existingEmails.push(email);
                    customersToCreate.push({
                        firstName: faker_1.default.name.firstName(),
                        lastName: faker_1.default.name.lastName(),
                        geoLocation,
                        apartment: `${customerCount}`,
                        email,
                        isBanned,
                        image: faker_1.default.image.avatar(),
                        phone: faker_1.default.phone.phoneNumber(),
                        _createdAt: faker_1.default.date.between(customerCreatedFrom, customerCreatedTo),
                    });
                    customerCount += 1;
                }
            }
            return this.Model.insertMany(customersToCreate);
        });
    }
    banUser(id) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(id);
            return this.update(id, { isBanned: true });
        });
    }
    unbanUser(id) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(id);
            return this.update(id, { isBanned: false });
        });
    }
    throwIfNotExists(userId) {
        const _super = Object.create(null, {
            get: { get: () => super.get }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const user = yield _super.get.call(this, userId).pipe(operators_1.first()).toPromise();
            if (!user || user.isDeleted) {
                throw Error(`Customer with id '${userId}' does not exists!`);
            }
        });
    }
};
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], UsersService.prototype, "updateUser", null);
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], UsersService.prototype, "get", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String]),
    tslib_1.__metadata("design:returntype", Promise)
], UsersService.prototype, "getCards", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, String]),
    tslib_1.__metadata("design:returntype", Promise)
], UsersService.prototype, "addPaymentMethod", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, String]),
    tslib_1.__metadata("design:returntype", Promise)
], UsersService.prototype, "updateEmail", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__param(1, io_1.serialization((g) => new GeoLocation_1.default(g))),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, GeoLocation_1.default]),
    tslib_1.__metadata("design:returntype", Promise)
], UsersService.prototype, "updateGeoLocation", null);
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, String]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], UsersService.prototype, "getAboutUs", null);
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, String]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], UsersService.prototype, "getTermsOfUse", null);
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, String]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], UsersService.prototype, "getPrivacy", null);
UsersService = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('user'),
    tslib_1.__param(0, inversify_1.inject(new inversify_1.LazyServiceIdentifer(() => invites_1.InvitesService))),
    tslib_1.__param(1, inversify_1.inject(new inversify_1.LazyServiceIdentifer(() => devices_1.DevicesService))),
    tslib_1.__param(2, inversify_1.inject(new inversify_1.LazyServiceIdentifer(() => warehouses_1.WarehousesService))),
    tslib_1.__metadata("design:paramtypes", [invites_1.InvitesService,
        devices_1.DevicesService,
        warehouses_1.WarehousesService])
], UsersService);
exports.UsersService = UsersService;

/* WEBPACK VAR INJECTION */}.call(this, "/"))

/***/ }),

/***/ "./src/services/users/index.ts":
/*!*************************************!*\
  !*** ./src/services/users/index.ts ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
tslib_1.__exportStar(__webpack_require__(/*! ./UsersService */ "./src/services/users/UsersService.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./SocialStrategiesService */ "./src/services/users/SocialStrategiesService.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./SocialRegisterService */ "./src/services/users/SocialRegisterService.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./UsersOrdersService */ "./src/services/users/UsersOrdersService.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./UsersProductsService */ "./src/services/users/UsersProductsService.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./UserCommandService */ "./src/services/users/UserCommandService.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./UsersAuthService */ "./src/services/users/UsersAuthService.ts"), exports);


/***/ }),

/***/ "./src/services/warehouses/WarehousesCarriersService.ts":
/*!**************************************************************!*\
  !*** ./src/services/warehouses/WarehousesCarriersService.ts ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const Carrier_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Carrier */ "./node_modules/@ever-platform/common/src/entities/Carrier.ts"));
const rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");
const carriers_1 = __webpack_require__(/*! ../carriers */ "./src/services/carriers/index.ts");
const WarehousesService_1 = __webpack_require__(/*! ./WarehousesService */ "./src/services/warehouses/WarehousesService.ts");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const lodash_1 = tslib_1.__importDefault(__webpack_require__(/*! lodash */ "lodash"));
const env_1 = __webpack_require__(/*! ../../env */ "./src/env.ts");
class NoWarehouseRestrictedCarriersError extends Error {
    constructor() {
        super("Warehouse doesn't have carriers restricted to himself");
    }
}
let WarehousesCarriersService = class WarehousesCarriersService {
    constructor(carriersService, warehousesService, authServiceFactory) {
        this.carriersService = carriersService;
        this.warehousesService = warehousesService;
        this.authServiceFactory = authServiceFactory;
        this.authService = this.authServiceFactory({
            role: 'carrier',
            Entity: Carrier_1.default,
            saltRounds: env_1.env.CARRIER_PASSWORD_BCRYPT_SALT_ROUNDS,
        });
    }
    get(warehouseId) {
        return this.warehousesService.get(warehouseId).pipe(operators_1.map((warehouse) => {
            if (!warehouse.hasRestrictedCarriers) {
                throw new NoWarehouseRestrictedCarriersError();
            }
            return warehouse.usedCarriersIds;
        }), operators_1.distinctUntilChanged((carrierIds1, carrierIds2) => {
            return lodash_1.default.isEqual(carrierIds1.sort(), carrierIds2.sort());
        }), operators_1.exhaustMap((carrierIds) => {
            return this.carriersService.getMultipleByIds(carrierIds);
        }), operators_1.switchMap((carriers) => carriers), operators_1.catchError((err) => {
            if (!(err instanceof NoWarehouseRestrictedCarriersError)) {
                throw err;
            }
            return rxjs_1.of(null);
        }));
    }
    updatePassword(id, password) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.carriersService.throwIfNotExists(id);
            yield this.authService._savePassword(id, password);
        });
    }
};
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], WarehousesCarriersService.prototype, "get", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, String]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehousesCarriersService.prototype, "updatePassword", null);
WarehousesCarriersService = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('warehouse-carriers'),
    tslib_1.__param(0, inversify_1.inject(new inversify_1.LazyServiceIdentifer(() => carriers_1.CarriersService))),
    tslib_1.__param(1, inversify_1.inject(new inversify_1.LazyServiceIdentifer(() => WarehousesService_1.WarehousesService))),
    tslib_1.__param(2, inversify_1.inject('Factory<AuthService>')),
    tslib_1.__metadata("design:paramtypes", [carriers_1.CarriersService,
        WarehousesService_1.WarehousesService, Function])
], WarehousesCarriersService);
exports.WarehousesCarriersService = WarehousesCarriersService;


/***/ }),

/***/ "./src/services/warehouses/WarehousesOrdersService.ts":
/*!************************************************************!*\
  !*** ./src/services/warehouses/WarehousesOrdersService.ts ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const moment_1 = tslib_1.__importDefault(__webpack_require__(/*! moment */ "moment"));
const bluebird_1 = tslib_1.__importDefault(__webpack_require__(/*! bluebird */ "bluebird"));
const Log_1 = __webpack_require__(/*! ../../helpers/Log */ "./src/helpers/Log.ts");
const Order_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Order */ "./node_modules/@ever-platform/common/src/entities/Order.ts"));
const WarehousesService_1 = __webpack_require__(/*! ./WarehousesService */ "./src/services/warehouses/WarehousesService.ts");
const products_1 = __webpack_require__(/*! ../products */ "./src/services/products/index.ts");
const orders_1 = __webpack_require__(/*! ../orders */ "./src/services/orders/index.ts");
const WarehousesProductsService_1 = __webpack_require__(/*! ./WarehousesProductsService */ "./src/services/warehouses/WarehousesProductsService.ts");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const users_1 = __webpack_require__(/*! ../users */ "./src/services/users/index.ts");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const db_server_1 = __webpack_require__(/*! @pyro/db-server */ "./src/@pyro/db-server/index.ts");
const rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");
const _ = __webpack_require__(/*! lodash */ "lodash");
const OrderWarehouseStatus_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/enums/OrderWarehouseStatus */ "./node_modules/@ever-platform/common/src/enums/OrderWarehouseStatus.ts"));
const OrderCarrierStatus_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/enums/OrderCarrierStatus */ "./node_modules/@ever-platform/common/src/enums/OrderCarrierStatus.ts"));
const DeliveryType_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/enums/DeliveryType */ "./node_modules/@ever-platform/common/src/enums/DeliveryType.ts"));
let WarehousesOrdersService = class WarehousesOrdersService {
    constructor(warehousesService, productsService, warehousesProductsService, ordersService, usersService) {
        this.warehousesService = warehousesService;
        this.productsService = productsService;
        this.warehousesProductsService = warehousesProductsService;
        this.ordersService = ordersService;
        this.usersService = usersService;
        this.log = Log_1.createEverLogger({
            name: 'warehousesOrdersService',
        });
    }
    getExistence(warehouseId) {
        return this.ordersService.existence.pipe(operators_1.filter((existenceEvent) => {
            switch (existenceEvent.type) {
                case db_server_1.ExistenceEventType.Created:
                    return (existenceEvent.value != null &&
                        existenceEvent.value.warehouseId === warehouseId);
                case db_server_1.ExistenceEventType.Updated:
                    return ((existenceEvent.value != null &&
                        existenceEvent.value.warehouseId ===
                            warehouseId) ||
                        (existenceEvent.lastValue != null &&
                            existenceEvent.lastValue.warehouseId ===
                                warehouseId));
                case db_server_1.ExistenceEventType.Removed:
                    return (existenceEvent.lastValue != null &&
                        existenceEvent.lastValue.warehouseId === warehouseId);
            }
        }), operators_1.share());
    }
    get(warehouseId, options = {}) {
        return rxjs_1.concat(rxjs_1.of(null), this.getExistence(warehouseId)).pipe(operators_1.map((res) => tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.warehousesService.throwIfNotExists(warehouseId);
            return res;
        })), operators_1.switchMap((res) => res), operators_1.exhaustMap(() => this._get(warehouseId, {
            populateWarehouse: !!options.populateWarehouse,
            populateCarrier: !!options.populateCarrier,
            onlyAvailableToCarrier: false,
        })));
    }
    getNextOrderNumber(warehouseId) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.warehousesService.throwIfNotExists(warehouseId);
            const orderDocument = (yield this.ordersService.Model.findOne({
                warehouse: warehouseId,
                isDeleted: { $eq: false },
                _createdAt: {
                    $gte: moment_1.default().startOf('day').toDate(),
                },
            })
                .select('orderNumber')
                .sort({ orderNumber: -1 })
                .exec());
            if (orderDocument == null) {
                return 1;
            }
            else {
                return orderDocument.orderNumber + 1;
            }
        });
    }
    create({ warehouseId, userId, products, orderType, options, }) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            if (!options) {
                options = {};
            }
            options = {
                autoConfirm: !!options.autoConfirm,
            };
            const user = yield this.usersService
                .get(userId)
                .pipe(operators_1.first())
                .toPromise();
            const warehouse = (yield this.warehousesService
                .get(warehouseId, true)
                .pipe(operators_1.first())
                .toPromise());
            const warehouseProducts = _.keyBy(warehouse.products, 'productId');
            if (user == null) {
                throw new Error(`There is no user with the id ${userId}`);
            }
            this.log.info({
                user,
                warehouseId,
                products,
            }, 'Order create call');
            const orderProducts = yield _.map(products, (args) => {
                const wProduct = warehouseProducts[args.productId];
                if (!wProduct) {
                    throw new Error(`WarehouseOrdersService got call to create(userId, orderProducts) - But there is no product with the id ${args.productId}!`);
                }
                return {
                    count: args.count,
                    price: wProduct.price,
                    initialPrice: wProduct.initialPrice,
                    deliveryTimeMin: wProduct.deliveryTimeMin,
                    deliveryTimeMax: wProduct.deliveryTimeMax,
                    product: wProduct.product,
                    isManufacturing: wProduct.isManufacturing,
                    isCarrierRequired: wProduct.isCarrierRequired,
                    isDeliveryRequired: wProduct.isDeliveryRequired,
                    isTakeaway: wProduct.isTakeaway,
                };
            });
            const order = yield this.ordersService.create(Object.assign({ user, products: orderProducts, warehouse: warehouseId, orderNumber: yield this.getNextOrderNumber(warehouseId), orderType }, (options.autoConfirm ? { isConfirmed: true } : {})));
            yield bluebird_1.default.map(order.products, (orderProduct) => tslib_1.__awaiter(this, void 0, void 0, function* () {
                const productId = orderProduct.product.id;
                this.log.info({
                    warehouseId,
                    productId,
                    count: orderProduct.count,
                }, 'Order create remove products call');
                yield this.warehousesProductsService.decreaseCount(warehouseId, productId, orderProduct.count);
                yield this.warehousesProductsService.increaseSoldCount(warehouseId, productId, orderProduct.count);
                this.log.info({
                    warehouseId,
                    productId,
                    count: orderProduct.count,
                }, 'Order create remove products call succeed');
            }));
            return order;
        });
    }
    createByProductType(userId, warehouseId, productId, orderType) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.usersService.throwIfNotExists(userId);
            yield this.warehousesService.throwIfNotExists(warehouseId);
            yield this.productsService.throwIfNotExists(productId);
            return this.create({
                userId,
                warehouseId,
                orderType,
                products: [
                    {
                        productId,
                        count: 1,
                    },
                ],
            });
        });
    }
    cancel(orderId) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            let order = yield this.ordersService
                .get(orderId)
                .pipe(operators_1.first())
                .toPromise();
            if (order == null) {
                throw new Error(`There is no order with the id ${orderId} to cancel`);
            }
            if (order.isCancelled) {
                this.log.warn(`Order with id ${orderId} is already cancelled!`);
                return;
            }
            order = yield this.ordersService.cancel(orderId);
            if (order.isConfirmed) {
            }
            this.log.info({
                warehouseId: order.warehouseId,
                products: order.products,
            }, 'Order cancel add products back call');
            yield this.warehousesProductsService.add(order.warehouseId, _.map(order.products, (orderProduct) => {
                return {
                    product: orderProduct.product.id,
                    count: orderProduct.count,
                    price: orderProduct.price,
                    initialPrice: orderProduct.initialPrice,
                    deliveryTimeMin: orderProduct.deliveryTimeMin,
                    deliveryTimeMax: orderProduct.deliveryTimeMax,
                };
            }));
            yield bluebird_1.default.map(order.products, (orderProduct) => tslib_1.__awaiter(this, void 0, void 0, function* () {
                const productId = orderProduct.product.id;
                yield this.warehousesProductsService.decreaseSoldCount(order.warehouseId, productId, orderProduct.count);
            }));
            this.log.info({
                warehouseId: order.warehouseId,
                products: order.products,
            }, 'Order cancel add products back call succeed');
            return order;
        });
    }
    getStoreOrders(storeId, pagingOptions, status) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const sortObj = {};
            const findObj = getStoreOrdersFingObj(storeId, status);
            if (pagingOptions.sort) {
                sortObj[pagingOptions.sort.field] = pagingOptions.sort.sortBy;
            }
            return this.ordersService.Model.find(findObj)
                .sort(sortObj)
                .skip(pagingOptions.skip)
                .limit(pagingOptions.limit)
                .lean()
                .exec();
        });
    }
    _get(warehouseId, options = {}) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.warehousesService.throwIfNotExists(warehouseId);
            const findObj = { warehouse: warehouseId };
            if (options.onlyAvailableToCarrier) {
                _.extend(findObj, {
                    carrierStatus: 0,
                    $or: [
                        {
                            carrier: { $exists: false },
                        },
                        {
                            carrier: null,
                        },
                    ],
                    warehouseStatus: { $gte: 2, $lt: 200 },
                }, orders_1.OrdersService.FindObjects.isCompleted);
            }
            let toPopulate = '';
            if (options.populateCarrier) {
                toPopulate += 'carrier ';
            }
            if (options.populateWarehouse) {
                toPopulate += 'warehouse ';
            }
            const orders = _.map((yield this.ordersService.Model.find(Object.assign(Object.assign({}, findObj), { isDeleted: { $eq: false } }))
                .populate(toPopulate)
                .sort({
                _createdAt: -1,
            })
                .lean()
                .exec()), (order) => new Order_1.default(order));
            this.log.info({
                warehouseId,
                orders,
            }, 'orders by warehouse (in getByWarehouse)');
            return orders;
        });
    }
};
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], WarehousesOrdersService.prototype, "get", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehousesOrdersService.prototype, "create", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, String, String, Number]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehousesOrdersService.prototype, "createByProductType", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehousesOrdersService.prototype, "cancel", null);
WarehousesOrdersService = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('warehouse-orders'),
    tslib_1.__param(0, inversify_1.inject(new inversify_1.LazyServiceIdentifer(() => WarehousesService_1.WarehousesService))),
    tslib_1.__param(1, inversify_1.inject(new inversify_1.LazyServiceIdentifer(() => products_1.ProductsService))),
    tslib_1.__param(2, inversify_1.inject(new inversify_1.LazyServiceIdentifer(() => WarehousesProductsService_1.WarehousesProductsService))),
    tslib_1.__param(3, inversify_1.inject(new inversify_1.LazyServiceIdentifer(() => orders_1.OrdersService))),
    tslib_1.__param(4, inversify_1.inject(new inversify_1.LazyServiceIdentifer(() => users_1.UsersService))),
    tslib_1.__metadata("design:paramtypes", [WarehousesService_1.WarehousesService,
        products_1.ProductsService,
        WarehousesProductsService_1.WarehousesProductsService,
        orders_1.OrdersService,
        users_1.UsersService])
], WarehousesOrdersService);
exports.WarehousesOrdersService = WarehousesOrdersService;
function getStoreOrdersFingObj(storeId, status) {
    const findObj = {
        isDeleted: { $eq: false },
        warehouse: storeId,
    };
    switch (status) {
        case 'confirmed':
            findObj['$and'] = [
                {
                    warehouseStatus: {
                        $gt: OrderWarehouseStatus_1.default.NoStatus,
                    },
                },
                {
                    warehouseStatus: {
                        $lt: OrderWarehouseStatus_1.default.GivenToCustomer,
                    },
                },
                {
                    carrierStatus: {
                        $lte: OrderCarrierStatus_1.default.CarrierSelectedOrder,
                    },
                },
            ];
            findObj['isCancelled'] = false;
            break;
        case 'in_delivery':
            findObj['$and'] = [
                {
                    carrierStatus: {
                        $gte: OrderCarrierStatus_1.default.CarrierPickedUpOrder,
                    },
                },
                {
                    warehouseStatus: {
                        $lt: OrderWarehouseStatus_1.default.AllocationFailed,
                    },
                },
                {
                    carrierStatus: {
                        $lt: OrderCarrierStatus_1.default.DeliveryCompleted,
                    },
                },
            ];
            findObj['isCancelled'] = false;
            break;
        case 'not_confirmed':
            findObj['warehouseStatus'] = OrderWarehouseStatus_1.default.NoStatus;
            findObj['isCancelled'] = false;
            break;
        case 'not_paid':
            findObj['isPaid'] = false;
            break;
        case 'cancelled':
            findObj['isCancelled'] = true;
            break;
        case 'relevant':
            findObj['$and'] = [
                {
                    warehouseStatus: {
                        $gte: OrderWarehouseStatus_1.default.NoStatus,
                    },
                },
                {
                    warehouseStatus: {
                        $lt: OrderWarehouseStatus_1.default.GivenToCustomer,
                    },
                },
                {
                    carrierStatus: {
                        $lte: OrderCarrierStatus_1.default.CarrierSelectedOrder,
                    },
                },
            ];
            findObj['isCancelled'] = false;
            break;
        default:
            break;
    }
    return findObj;
}
exports.getStoreOrdersFingObj = getStoreOrdersFingObj;


/***/ }),

/***/ "./src/services/warehouses/WarehousesProductsService.ts":
/*!**************************************************************!*\
  !*** ./src/services/warehouses/WarehousesProductsService.ts ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const Log_1 = __webpack_require__(/*! ../../helpers/Log */ "./src/helpers/Log.ts");
const WarehouseProduct_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/WarehouseProduct */ "./node_modules/@ever-platform/common/src/entities/WarehouseProduct.ts"));
const WarehousesService_1 = __webpack_require__(/*! ./WarehousesService */ "./src/services/warehouses/WarehousesService.ts");
const lodash_1 = tslib_1.__importDefault(__webpack_require__(/*! lodash */ "lodash"));
const Warehouse_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Warehouse */ "./node_modules/@ever-platform/common/src/entities/Warehouse.ts"));
const db_server_1 = __webpack_require__(/*! @pyro/db-server */ "./src/@pyro/db-server/index.ts");
const rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const of_1 = __webpack_require__(/*! rxjs/observable/of */ "rxjs/observable/of");
const throw_1 = __webpack_require__(/*! rxjs/observable/throw */ "rxjs/observable/throw");
const mongoose = __webpack_require__(/*! mongoose */ "mongoose");
const noGetProductTypeMessage = `There should be true at least one of the two - "isCarrierRequired" or "isTakeaway"!`;
let WarehousesProductsService = class WarehousesProductsService {
    constructor(warehousesService) {
        this.warehousesService = warehousesService;
        this.log = Log_1.createEverLogger({
            name: 'warehouseProductsService',
        });
    }
    get(warehouseId, fullProducts = true) {
        return this.warehousesService.get(warehouseId, fullProducts).pipe(operators_1.exhaustMap((warehouse) => {
            if (warehouse === null) {
                return throw_1._throw(new Error(`Warehouse with the id ${warehouseId} doesn't exist`));
            }
            else {
                return of_1.of(warehouse);
            }
        }), operators_1.map((warehouse) => warehouse.products));
    }
    getProductsWithPagination(id, pagingOptions) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const allProducts = yield this.get(id).pipe(operators_1.first()).toPromise();
            const products = [...allProducts];
            if (pagingOptions.limit && pagingOptions.skip) {
                return products
                    .slice(pagingOptions.skip)
                    .slice(0, pagingOptions.limit)
                    .sort((a, b) => b.soldCount - a.soldCount);
            }
            else if (pagingOptions.limit) {
                return products
                    .slice(0, pagingOptions.limit)
                    .sort((a, b) => b.soldCount - a.soldCount);
            }
            else if (pagingOptions.skip) {
                return products
                    .slice(pagingOptions.skip)
                    .sort((a, b) => b.soldCount - a.soldCount);
            }
            return products.sort((a, b) => b.soldCount - a.soldCount);
        });
    }
    getProductsCount(id) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const allProducts = yield this.get(id).pipe(operators_1.first()).toPromise();
            return allProducts.length;
        });
    }
    getAvailable(warehouseId) {
        return this.get(warehouseId).pipe(operators_1.map((warehouseProducts) => lodash_1.default.filter(warehouseProducts, (warehouseProduct) => warehouseProduct.count > 0)));
    }
    remove(warehouseId, productsIds) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            this.log.info('Removing products ' + productsIds);
            const warehouse = yield this.warehousesService
                .get(warehouseId, true)
                .pipe(operators_1.first())
                .toPromise();
            if (warehouse == null) {
                throw new Error(`There is no warehouse with the id ${warehouse}!`);
            }
            warehouse.products = warehouse.products.filter((p) => {
                if (!p.product['_id']) {
                    return false;
                }
                const productId = p.product['id'];
                return !productsIds.includes(productId);
            });
            yield this.warehousesService.save(warehouse);
            return warehouse.products;
        });
    }
    add(warehouseId, products, triggerChange = true) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            this.log.info('Adding products ' + JSON.stringify(products));
            let warehouse = yield this.warehousesService
                .get(warehouseId, false)
                .pipe(operators_1.first())
                .toPromise();
            if (warehouse == null) {
                throw new Error(`There is no warehouse with the id ${warehouse}!`);
            }
            const notUpdatedWarehouse = lodash_1.default.clone(warehouse);
            let newProds;
            if (warehouse.products && warehouse.products.length > 0) {
                newProds = lodash_1.default.clone(warehouse.products);
                lodash_1.default.each(products, (product) => {
                    if (!product.isDeliveryRequired && !product.isTakeaway) {
                        product.isDeliveryRequired = true;
                    }
                    const existed = lodash_1.default.find(newProds, (newProd) => newProd.product ===
                        product.product);
                    if (typeof existed === 'undefined' ||
                        existed === undefined ||
                        existed == null) {
                        newProds.push(product);
                    }
                    else {
                        if (existed.count && product.count) {
                            existed.count += product.count;
                        }
                        else {
                            existed.count = product.count;
                        }
                    }
                });
            }
            else {
                newProds = products;
            }
            try {
                warehouse = new Warehouse_1.default((yield this.warehousesService.Model.findByIdAndUpdate(warehouseId, {
                    $set: { products: newProds },
                }, { new: true })
                    .populate('products.product')
                    .lean()
                    .exec()));
            }
            catch (error) {
                this.log.error(error);
                throw error;
            }
            if (triggerChange) {
                this.warehousesService.existence.next({
                    id: warehouse.id,
                    value: warehouse,
                    lastValue: notUpdatedWarehouse,
                    type: db_server_1.ExistenceEventType.Updated,
                });
            }
            const newProdsIds = lodash_1.default.map(newProds, (warehouseProduct) => {
                if (typeof warehouseProduct.product === 'string') {
                    return warehouseProduct.product;
                }
                else {
                    return warehouseProduct.product._id.toString();
                }
            });
            return lodash_1.default.filter(warehouse.products, (warehouseProduct) => {
                return lodash_1.default.includes(newProdsIds, warehouseProduct.productId);
            });
        });
    }
    increaseCount(warehouseId, productId, count) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const warehouse = yield this.warehousesService
                .get(warehouseId)
                .pipe(operators_1.first())
                .toPromise();
            if (warehouse) {
                const existedProduct = lodash_1.default.find(warehouse.products, (warehouseProduct) => warehouseProduct.productId === productId);
                if (existedProduct) {
                    existedProduct.count += count;
                    return this.saveUpdated(warehouseId, existedProduct);
                }
                else {
                    const errMsg = 'Cannot find product';
                    this.log.error(new Error(errMsg));
                    throw new Error(errMsg);
                }
            }
            else {
                const errMsg = 'Cannot find warehouse';
                this.log.error(new Error(errMsg));
                throw new Error(errMsg);
            }
        });
    }
    increaseSoldCount(warehouseId, productId, count) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const warehouse = yield this.warehousesService
                .get(warehouseId)
                .pipe(operators_1.first())
                .toPromise();
            if (warehouse) {
                const existedProduct = lodash_1.default.find(warehouse.products, (warehouseProduct) => warehouseProduct.productId === productId);
                if (existedProduct) {
                    existedProduct.soldCount += count;
                    return this.saveUpdated(warehouseId, existedProduct);
                }
                else {
                    const errMsg = 'Cannot find product';
                    this.log.error(new Error(errMsg));
                    throw new Error(errMsg);
                }
            }
            else {
                const errMsg = 'Cannot find warehouse';
                this.log.error(new Error(errMsg));
                throw new Error(errMsg);
            }
        });
    }
    saveUpdated(warehouseId, _updatedWarehouseProduct) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.warehousesService.throwIfNotExists(warehouseId);
            if (!_updatedWarehouseProduct.isDeliveryRequired &&
                !_updatedWarehouseProduct.isTakeaway) {
                throw new Error(noGetProductTypeMessage);
            }
            const updatedWarehouseProduct = lodash_1.default.clone(_updatedWarehouseProduct);
            updatedWarehouseProduct.product = updatedWarehouseProduct.productId;
            const updatedWarehouse = (yield this.warehousesService.updateMultiple({
                _id: new mongoose.Types.ObjectId(warehouseId),
                'products._id': updatedWarehouseProduct._id,
            }, {
                'products.$': updatedWarehouseProduct,
            }))[0];
            return lodash_1.default.find(updatedWarehouse.products, (warehouseProduct) => warehouseProduct.productId === updatedWarehouseProduct.productId);
        });
    }
    changePrice(warehouseId, productId, price) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const warehouse = yield this.warehousesService
                .get(warehouseId, false)
                .pipe(operators_1.first())
                .toPromise();
            if (warehouse == null) {
                throw new Error(`There is no such an warehouse with the id ${warehouseId}`);
            }
            this.log.info('Change product price requested in warehouse: ' +
                JSON.stringify(warehouse) +
                ' for product id: ' +
                productId);
            const product = lodash_1.default.find(warehouse.products, (p) => p.productId === productId);
            if (product != null) {
                this.log.info(`Product price before: ${product.price} and we want to change it to: ${price}`);
                product.price = price;
                return this.saveUpdated(warehouseId, product);
            }
            else {
                throw new Error(`There is no such an product with the id ${productId} in the warehouse with the id ${warehouseId}`);
            }
        });
    }
    decreaseCount(warehouseId, productId, count) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const warehouse = yield this.warehousesService
                .get(warehouseId)
                .pipe(operators_1.first())
                .toPromise();
            if (warehouse == null) {
                throw new Error(`Cannot find warehouse: ${warehouseId}`);
            }
            this.log.info(`Remove requested in warehouse: ${JSON.stringify(warehouse)} for product id: ${productId}`);
            const product = lodash_1.default.find(warehouse.products, (p) => p.productId === productId);
            if (product != null) {
                this.log.info(`Product count before remove: ${product.count} and we want to remove ${count} products`);
                if (product.count >= count) {
                    product.count -= count;
                    return this.saveUpdated(warehouseId, product);
                }
                else {
                    const errorMsg = 'Request to remove more products than available';
                    this.log.error({
                        err: new Error(errorMsg),
                        product,
                        count,
                    });
                    throw new Error(errorMsg);
                }
            }
            else {
                throw new Error(`There is no such an product with the id ${productId} in the warehouse with the id ${warehouseId}`);
            }
        });
    }
    decreaseSoldCount(warehouseId, productId, count) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const warehouse = yield this.warehousesService
                .get(warehouseId)
                .pipe(operators_1.first())
                .toPromise();
            if (warehouse == null) {
                throw new Error(`Cannot find warehouse: ${warehouseId}`);
            }
            this.log.info(`Remove requested in warehouse: ${JSON.stringify(warehouse)} for product id: ${productId}`);
            const product = lodash_1.default.find(warehouse.products, (p) => p.productId === productId);
            if (product != null) {
                this.log.info(`Product sold count before decrease: ${product.soldCount} and we want to decrease ${count} products`);
                if (product.soldCount >= count) {
                    product.soldCount -= count;
                    return this.saveUpdated(warehouseId, product);
                }
                else {
                    const errorMsg = 'Request to decrease count of more products than available';
                    this.log.error({
                        err: new Error(errorMsg),
                        product,
                        count,
                    });
                    throw new Error(errorMsg);
                }
            }
            else {
                throw new Error(`There is no such an product with the id ${productId} in the warehouse with the id ${warehouseId}`);
            }
        });
    }
    getTopProducts(warehouseId, quantity) {
        return this.get(warehouseId).pipe(operators_1.map((warehouseProducts) => {
            let topProducts = lodash_1.default.filter(warehouseProducts, (warehouseProduct) => warehouseProduct.soldCount > 0);
            topProducts = lodash_1.default.orderBy(topProducts, ['soldCount'], ['desc']);
            return lodash_1.default.take(topProducts, quantity);
        }));
    }
    getProduct(warehouseId, warehouseProductId) {
        return this.warehousesService.get(warehouseId, true).pipe(operators_1.exhaustMap((warehouse) => {
            if (warehouse === null) {
                return throw_1._throw(new Error(`Warehouse with the id ${warehouseId} doesn't exist`));
            }
            else {
                return of_1.of(warehouse);
            }
        }), operators_1.map((warehouse) => warehouse.products.find((p) => p.id === warehouseProductId)));
    }
};
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, Boolean]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], WarehousesProductsService.prototype, "get", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehousesProductsService.prototype, "getProductsWithPagination", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehousesProductsService.prototype, "getProductsCount", null);
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], WarehousesProductsService.prototype, "getAvailable", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, Array]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehousesProductsService.prototype, "remove", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, Array, Boolean]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehousesProductsService.prototype, "add", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, String, Number]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehousesProductsService.prototype, "increaseCount", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, String, Number]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehousesProductsService.prototype, "increaseSoldCount", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__param(1, io_1.serialization((u) => new WarehouseProduct_1.default(u))),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, WarehouseProduct_1.default]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehousesProductsService.prototype, "saveUpdated", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, String, Number]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehousesProductsService.prototype, "changePrice", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, String, Number]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehousesProductsService.prototype, "decreaseCount", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, String, Number]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehousesProductsService.prototype, "decreaseSoldCount", null);
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, Number]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], WarehousesProductsService.prototype, "getTopProducts", null);
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, String]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], WarehousesProductsService.prototype, "getProduct", null);
WarehousesProductsService = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('warehouse-products'),
    tslib_1.__metadata("design:paramtypes", [WarehousesService_1.WarehousesService])
], WarehousesProductsService);
exports.WarehousesProductsService = WarehousesProductsService;


/***/ }),

/***/ "./src/services/warehouses/WarehousesService.ts":
/*!******************************************************!*\
  !*** ./src/services/warehouses/WarehousesService.ts ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const lodash_1 = tslib_1.__importDefault(__webpack_require__(/*! lodash */ "lodash"));
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const products_1 = __webpack_require__(/*! ../products */ "./src/services/products/index.ts");
const Log_1 = __webpack_require__(/*! ../../helpers/Log */ "./src/helpers/Log.ts");
const Warehouse_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/Warehouse */ "./node_modules/@ever-platform/common/src/entities/Warehouse.ts"));
const rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const of_1 = __webpack_require__(/*! rxjs/observable/of */ "rxjs/observable/of");
const db_server_1 = __webpack_require__(/*! @pyro/db-server */ "./src/@pyro/db-server/index.ts");
const env_1 = __webpack_require__(/*! ../../env */ "./src/env.ts");
const uuid_1 = __webpack_require__(/*! uuid */ "uuid");
let WarehousesService = class WarehousesService extends db_server_1.DBService {
    constructor(productsService, authServiceFactory) {
        super();
        this.productsService = productsService;
        this.authServiceFactory = authServiceFactory;
        this.DBObject = Warehouse_1.default;
        this.log = Log_1.createEverLogger({ name: 'warehousesService' });
        this.authService = this.authServiceFactory({
            role: 'warehouse',
            Entity: Warehouse_1.default,
            saltRounds: env_1.env.USER_PASSWORD_BCRYPT_SALT_ROUNDS,
        });
    }
    getMerchants(findInput, pagingOptions) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const sortObj = {};
            if (pagingOptions.sort) {
                sortObj[pagingOptions.sort.field] = pagingOptions.sort.sortBy;
            }
            return this.Model.find(Object.assign(Object.assign({}, findInput), { isDeleted: { $eq: false } }))
                .sort(sortObj)
                .skip(pagingOptions.skip)
                .limit(pagingOptions.limit)
                .lean()
                .exec();
        });
    }
    getAllActive(fullProducts = false) {
        const callId = uuid_1.v1();
        this.log.info({ callId, fullProducts }, '.getAllActive(fullProducts) called');
        return of_1.of(null).pipe(operators_1.concat(this.existence), operators_1.exhaustMap(() => this._getAllCurrentActive(fullProducts)), operators_1.tap({
            next: (warehouses) => {
                this.log.info({ callId, fullProducts, warehouses }, '.getAllActive(fullProducts) emitted next value');
            },
            error: (err) => {
                this.log.error({ callId, fullProducts, err }, '.getAllActive(fullProducts) thrown error!');
            },
        }));
    }
    register(input) {
        const _super = Object.create(null, {
            create: { get: () => super.create }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const warehouse = yield _super.create.call(this, Object.assign(Object.assign({}, input.warehouse), (input.password
                ? {
                    hash: yield this.authService.getPasswordHash(input.password),
                }
                : {})));
            return warehouse;
        });
    }
    updatePassword(id, password) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(id);
            yield this.authService.updatePassword(id, password);
        });
    }
    login(username, password) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const res = yield this.authService.login({ username }, password);
            if (!res || res.entity.isDeleted) {
                return null;
            }
            return {
                warehouse: res.entity,
                token: res.token,
            };
        });
    }
    get(id, fullProducts = true) {
        if (!fullProducts) {
            return super.get(id).pipe(operators_1.map((warehouse) => tslib_1.__awaiter(this, void 0, void 0, function* () {
                yield this.throwIfNotExists(id);
                return warehouse;
            })), operators_1.switchMap((warehouse) => warehouse));
        }
        else {
            return super
                .get(id)
                .pipe(operators_1.map((warehouse) => tslib_1.__awaiter(this, void 0, void 0, function* () {
                yield this.throwIfNotExists(id);
                return warehouse;
            })), operators_1.switchMap((warehouse) => warehouse))
                .pipe(operators_1.exhaustMap(() => this._get(id, true)));
        }
    }
    updateGeoLocation(warehouseId, geoLocation) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(warehouseId);
            return this.update(warehouseId, { geoLocation });
        });
    }
    updateAvailability(warehouseId, isAvailable) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(warehouseId);
            return this.update(warehouseId, { isActive: isAvailable });
        });
    }
    save(warehouse) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this.throwIfNotExists(warehouse.id);
            warehouse = lodash_1.default.clone(warehouse);
            lodash_1.default.each(warehouse.products, (warehouseProduct) => {
                warehouseProduct.product = warehouseProduct.productId;
            });
            return this.update(warehouse.id, warehouse);
        });
    }
    throwIfNotExists(storeId) {
        const _super = Object.create(null, {
            get: { get: () => super.get }
        });
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const store = yield _super.get.call(this, storeId).pipe(operators_1.first()).toPromise();
            if (!store || store.isDeleted) {
                throw Error(`Store with id '${storeId}' does not exists!`);
            }
        });
    }
    _get(id, fullProducts = false) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            const _warehouse = (yield this.Model.findById(id)
                .populate(fullProducts ? 'products.product' : '')
                .lean()
                .exec());
            return new Warehouse_1.default(_warehouse);
        });
    }
    _getAllCurrentActive(fullProducts = false) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            return lodash_1.default.map((yield this.Model.find({
                isActive: true,
                isDeleted: { $eq: false },
            })
                .populate(fullProducts ? 'products.product' : '')
                .lean()
                .exec()), (warehouse) => new Warehouse_1.default(warehouse));
        });
    }
};
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Boolean]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], WarehousesService.prototype, "getAllActive", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehousesService.prototype, "register", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehousesService.prototype, "updatePassword", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, String]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehousesService.prototype, "login", null);
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, Object]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], WarehousesService.prototype, "get", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehousesService.prototype, "updateGeoLocation", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [String, Boolean]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehousesService.prototype, "updateAvailability", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__param(0, io_1.serialization((w) => new Warehouse_1.default(w))),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Warehouse_1.default]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehousesService.prototype, "save", null);
WarehousesService = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('warehouse'),
    tslib_1.__param(0, inversify_1.inject(products_1.ProductsService)),
    tslib_1.__param(1, inversify_1.inject('Factory<AuthService>')),
    tslib_1.__metadata("design:paramtypes", [products_1.ProductsService, Function])
], WarehousesService);
exports.WarehousesService = WarehousesService;


/***/ }),

/***/ "./src/services/warehouses/WarehousesUsersService.ts":
/*!***********************************************************!*\
  !*** ./src/services/warehouses/WarehousesUsersService.ts ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const inversify_1 = __webpack_require__(/*! inversify */ "inversify");
const Log_1 = __webpack_require__(/*! ../../helpers/Log */ "./src/helpers/Log.ts");
const io_1 = __webpack_require__(/*! @pyro/io */ "./src/@pyro/io/index.ts");
const rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");
const User_1 = tslib_1.__importDefault(__webpack_require__(/*! @modules/server.common/entities/User */ "./node_modules/@ever-platform/common/src/entities/User.ts"));
const orders_1 = __webpack_require__(/*! ../orders */ "./src/services/orders/index.ts");
const WarehousesOrdersService_1 = __webpack_require__(/*! ./WarehousesOrdersService */ "./src/services/warehouses/WarehousesOrdersService.ts");
const operators_1 = __webpack_require__(/*! rxjs/operators */ "rxjs/operators");
const WarehousesService_1 = __webpack_require__(/*! ./WarehousesService */ "./src/services/warehouses/WarehousesService.ts");
let WarehousesUsersService = class WarehousesUsersService {
    constructor(warehousesOrdersService, ordersService, _warehousesService) {
        this.warehousesOrdersService = warehousesOrdersService;
        this.ordersService = ordersService;
        this._warehousesService = _warehousesService;
        this.log = Log_1.createEverLogger({
            name: 'warehousesUsersService',
        });
    }
    get(warehouseId) {
        return rxjs_1.concat(null, this.warehousesOrdersService.getExistence(warehouseId)).pipe(operators_1.exhaustMap(() => {
            return this.ordersService.Model.distinct('user._id', {
                warehouse: warehouseId,
                isDeleted: { $eq: false },
            })
                .lean()
                .exec();
        }), operators_1.map((users) => {
            return users.map((u) => new User_1.default(u));
        }));
    }
    getPromise(warehouseId) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            yield this._warehousesService.throwIfNotExists(warehouseId);
            return this.get(warehouseId).pipe(operators_1.first()).toPromise();
        });
    }
};
tslib_1.__decorate([
    io_1.observableListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", rxjs_1.Observable)
], WarehousesUsersService.prototype, "get", null);
tslib_1.__decorate([
    io_1.asyncListener(),
    tslib_1.__metadata("design:type", Function),
    tslib_1.__metadata("design:paramtypes", [Object]),
    tslib_1.__metadata("design:returntype", Promise)
], WarehousesUsersService.prototype, "getPromise", null);
WarehousesUsersService = tslib_1.__decorate([
    inversify_1.injectable(),
    io_1.routerName('warehouse-users'),
    tslib_1.__param(0, inversify_1.inject(new inversify_1.LazyServiceIdentifer(() => WarehousesOrdersService_1.WarehousesOrdersService))),
    tslib_1.__param(1, inversify_1.inject(new inversify_1.LazyServiceIdentifer(() => orders_1.OrdersService))),
    tslib_1.__param(2, inversify_1.inject(new inversify_1.LazyServiceIdentifer(() => WarehousesService_1.WarehousesService))),
    tslib_1.__metadata("design:paramtypes", [WarehousesOrdersService_1.WarehousesOrdersService,
        orders_1.OrdersService,
        WarehousesService_1.WarehousesService])
], WarehousesUsersService);
exports.WarehousesUsersService = WarehousesUsersService;


/***/ }),

/***/ "./src/services/warehouses/index.ts":
/*!******************************************!*\
  !*** ./src/services/warehouses/index.ts ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
tslib_1.__exportStar(__webpack_require__(/*! ./WarehousesService */ "./src/services/warehouses/WarehousesService.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./WarehousesOrdersService */ "./src/services/warehouses/WarehousesOrdersService.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./WarehousesProductsService */ "./src/services/warehouses/WarehousesProductsService.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./WarehousesUsersService */ "./src/services/warehouses/WarehousesUsersService.ts"), exports);
tslib_1.__exportStar(__webpack_require__(/*! ./WarehousesCarriersService */ "./src/services/warehouses/WarehousesCarriersService.ts"), exports);


/***/ }),

/***/ "./src/utils.ts":
/*!**********************!*\
  !*** ./src/utils.ts ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = __webpack_require__(/*! tslib */ "tslib");
const rxjs_1 = __webpack_require__(/*! rxjs */ "rxjs");
const fs_1 = tslib_1.__importDefault(__webpack_require__(/*! fs */ "fs"));
function observeFile(fileName) {
    return rxjs_1.Observable.create((observer) => {
        const fetchTranslations = () => {
            fs_1.default.readFile(fileName, 'utf-8', (err, content) => {
                observer.next(content);
                if (err) {
                    observer.error(err);
                }
            });
        };
        fetchTranslations();
        fs_1.default.watchFile(fileName, fetchTranslations);
        return () => {
            fs_1.default.unwatchFile(fileName, fetchTranslations);
        };
    });
}
exports.observeFile = observeFile;
function randomCoordinatesNear([longitude, latitude], radius) {
    const r = 100 / 111300;
    const y0 = longitude;
    const x0 = latitude;
    const u = Math.random();
    const v = Math.random();
    const w = r * Math.sqrt(u);
    const t = 2 * Math.PI * v;
    const x = w * Math.cos(t);
    const y1 = w * Math.sin(t);
    const x1 = x / Math.cos(y0);
    return [y0 + y1, x0 + x1];
}
exports.randomCoordinatesNear = randomCoordinatesNear;


/***/ }),

/***/ 0:
/*!**********************************************************!*\
  !*** multi webpack/hot/poll?100 ./src/nest-bootstrap.ts ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(/*! webpack/hot/poll?100 */"webpack/hot/poll?100");
module.exports = __webpack_require__(/*! ./src/nest-bootstrap.ts */"./src/nest-bootstrap.ts");


/***/ }),

/***/ "@captemulation/get-parameter-names":
/*!*****************************************************!*\
  !*** external "@captemulation/get-parameter-names" ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@captemulation/get-parameter-names");

/***/ }),

/***/ "@nestjs/common":
/*!*********************************!*\
  !*** external "@nestjs/common" ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@nestjs/common");

/***/ }),

/***/ "@nestjs/core":
/*!*******************************!*\
  !*** external "@nestjs/core" ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@nestjs/core");

/***/ }),

/***/ "@nestjs/cqrs":
/*!*******************************!*\
  !*** external "@nestjs/cqrs" ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@nestjs/cqrs");

/***/ }),

/***/ "@nestjs/graphql":
/*!**********************************!*\
  !*** external "@nestjs/graphql" ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@nestjs/graphql");

/***/ }),

/***/ "@nestjs/passport":
/*!***********************************!*\
  !*** external "@nestjs/passport" ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@nestjs/passport");

/***/ }),

/***/ "@nestjs/swagger":
/*!**********************************!*\
  !*** external "@nestjs/swagger" ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@nestjs/swagger");

/***/ }),

/***/ "@nestjs/typeorm":
/*!**********************************!*\
  !*** external "@nestjs/typeorm" ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("@nestjs/typeorm");

/***/ }),

/***/ "apollo-server-express":
/*!****************************************!*\
  !*** external "apollo-server-express" ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("apollo-server-express");

/***/ }),

/***/ "axios":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("axios");

/***/ }),

/***/ "bcrypt":
/*!*************************!*\
  !*** external "bcrypt" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("bcrypt");

/***/ }),

/***/ "bluebird":
/*!***************************!*\
  !*** external "bluebird" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("bluebird");

/***/ }),

/***/ "body-parser":
/*!******************************!*\
  !*** external "body-parser" ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("body-parser");

/***/ }),

/***/ "bson":
/*!***********************!*\
  !*** external "bson" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("bson");

/***/ }),

/***/ "bunyan":
/*!*************************!*\
  !*** external "bunyan" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("bunyan");

/***/ }),

/***/ "bunyan-cloudwatch":
/*!************************************!*\
  !*** external "bunyan-cloudwatch" ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("bunyan-cloudwatch");

/***/ }),

/***/ "bunyan-prettystream":
/*!**************************************!*\
  !*** external "bunyan-prettystream" ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("bunyan-prettystream");

/***/ }),

/***/ "cors":
/*!***********************!*\
  !*** external "cors" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("cors");

/***/ }),

/***/ "dotenv":
/*!*************************!*\
  !*** external "dotenv" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("dotenv");

/***/ }),

/***/ "envalid":
/*!**************************!*\
  !*** external "envalid" ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("envalid");

/***/ }),

/***/ "errorhandler":
/*!*******************************!*\
  !*** external "errorhandler" ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("errorhandler");

/***/ }),

/***/ "express":
/*!**************************!*\
  !*** external "express" ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("express");

/***/ }),

/***/ "express-handlebars":
/*!*************************************!*\
  !*** external "express-handlebars" ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("express-handlebars");

/***/ }),

/***/ "faker":
/*!************************!*\
  !*** external "faker" ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("faker");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("fs");

/***/ }),

/***/ "graphql":
/*!**************************!*\
  !*** external "graphql" ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("graphql");

/***/ }),

/***/ "graphql-subscriptions":
/*!****************************************!*\
  !*** external "graphql-subscriptions" ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("graphql-subscriptions");

/***/ }),

/***/ "handlebars":
/*!*****************************!*\
  !*** external "handlebars" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("handlebars");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("https");

/***/ }),

/***/ "inversify":
/*!****************************!*\
  !*** external "inversify" ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("inversify");

/***/ }),

/***/ "ipstack":
/*!**************************!*\
  !*** external "ipstack" ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("ipstack");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "lodash":
/*!*************************!*\
  !*** external "lodash" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("lodash");

/***/ }),

/***/ "merge-graphql-schemas":
/*!****************************************!*\
  !*** external "merge-graphql-schemas" ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("merge-graphql-schemas");

/***/ }),

/***/ "method-override":
/*!**********************************!*\
  !*** external "method-override" ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("method-override");

/***/ }),

/***/ "mkdirp":
/*!*************************!*\
  !*** external "mkdirp" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("mkdirp");

/***/ }),

/***/ "moment":
/*!*************************!*\
  !*** external "moment" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("moment");

/***/ }),

/***/ "mongodb":
/*!**************************!*\
  !*** external "mongodb" ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("mongodb");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("mongoose");

/***/ }),

/***/ "morgan":
/*!*************************!*\
  !*** external "morgan" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("morgan");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("os");

/***/ }),

/***/ "passport":
/*!***************************!*\
  !*** external "passport" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("passport");

/***/ }),

/***/ "passport-facebook":
/*!************************************!*\
  !*** external "passport-facebook" ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("passport-facebook");

/***/ }),

/***/ "passport-google-oauth20":
/*!******************************************!*\
  !*** external "passport-google-oauth20" ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("passport-google-oauth20");

/***/ }),

/***/ "passport-jwt":
/*!*******************************!*\
  !*** external "passport-jwt" ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("passport-jwt");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("path");

/***/ }),

/***/ "pem":
/*!**********************!*\
  !*** external "pem" ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("pem");

/***/ }),

/***/ "reflect-metadata":
/*!***********************************!*\
  !*** external "reflect-metadata" ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("reflect-metadata");

/***/ }),

/***/ "request-ip":
/*!*****************************!*\
  !*** external "request-ip" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("request-ip");

/***/ }),

/***/ "request-promise":
/*!**********************************!*\
  !*** external "request-promise" ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("request-promise");

/***/ }),

/***/ "rxjs":
/*!***********************!*\
  !*** external "rxjs" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("rxjs");

/***/ }),

/***/ "rxjs/Subscription":
/*!************************************!*\
  !*** external "rxjs/Subscription" ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("rxjs/Subscription");

/***/ }),

/***/ "rxjs/observable/from":
/*!***************************************!*\
  !*** external "rxjs/observable/from" ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("rxjs/observable/from");

/***/ }),

/***/ "rxjs/observable/of":
/*!*************************************!*\
  !*** external "rxjs/observable/of" ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("rxjs/observable/of");

/***/ }),

/***/ "rxjs/observable/throw":
/*!****************************************!*\
  !*** external "rxjs/observable/throw" ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("rxjs/observable/throw");

/***/ }),

/***/ "rxjs/operators":
/*!*********************************!*\
  !*** external "rxjs/operators" ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("rxjs/operators");

/***/ }),

/***/ "socket.io":
/*!****************************!*\
  !*** external "socket.io" ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("socket.io");

/***/ }),

/***/ "stripe":
/*!*************************!*\
  !*** external "stripe" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("stripe");

/***/ }),

/***/ "subscriptions-transport-ws":
/*!*********************************************!*\
  !*** external "subscriptions-transport-ws" ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("subscriptions-transport-ws");

/***/ }),

/***/ "tslib":
/*!************************!*\
  !*** external "tslib" ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("tslib");

/***/ }),

/***/ "typeorm":
/*!**************************!*\
  !*** external "typeorm" ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("typeorm");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("util");

/***/ }),

/***/ "uuid":
/*!***********************!*\
  !*** external "uuid" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("uuid");

/***/ }),

/***/ "webpack/hot/poll?100":
/*!***************************************!*\
  !*** external "webpack/hot/poll?100" ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = require("webpack/hot/poll?100");

/***/ })

/******/ });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BldmVyLXBsYXRmb3JtL2NvbW1vbi9zcmMvQHB5cm8vZGIvZGItb2JqZWN0LnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AZXZlci1wbGF0Zm9ybS9jb21tb24vc3JjL0BweXJvL2RiL2luZGV4LnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AZXZlci1wbGF0Zm9ybS9jb21tb24vc3JjL0BweXJvL2RiL21vZGVsLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AZXZlci1wbGF0Zm9ybS9jb21tb24vc3JjL0BweXJvL2RiL3NjaGVtYS50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGV2ZXItcGxhdGZvcm0vY29tbW9uL3NyYy9AcHlyby9kYi90eXBlcy50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGV2ZXItcGxhdGZvcm0vY29tbW9uL3NyYy9kYXRhL2FiYnJldmlhdGlvbi10by1jb3VudHJ5LnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AZXZlci1wbGF0Zm9ybS9jb21tb24vc3JjL2VudGl0aWVzL0FkbWluLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AZXZlci1wbGF0Zm9ybS9jb21tb24vc3JjL2VudGl0aWVzL0NhcnJpZXIudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BldmVyLXBsYXRmb3JtL2NvbW1vbi9zcmMvZW50aXRpZXMvQ3VycmVuY3kudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BldmVyLXBsYXRmb3JtL2NvbW1vbi9zcmMvZW50aXRpZXMvRGV2aWNlLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AZXZlci1wbGF0Zm9ybS9jb21tb24vc3JjL2VudGl0aWVzL0dlb0xvY2F0aW9uLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AZXZlci1wbGF0Zm9ybS9jb21tb24vc3JjL2VudGl0aWVzL0ludml0ZS50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGV2ZXItcGxhdGZvcm0vY29tbW9uL3NyYy9lbnRpdGllcy9JbnZpdGVSZXF1ZXN0LnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AZXZlci1wbGF0Zm9ybS9jb21tb24vc3JjL2VudGl0aWVzL09yZGVyLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AZXZlci1wbGF0Zm9ybS9jb21tb24vc3JjL2VudGl0aWVzL09yZGVyUHJvZHVjdC50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGV2ZXItcGxhdGZvcm0vY29tbW9uL3NyYy9lbnRpdGllcy9QYXltZW50R2F0ZXdheS50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGV2ZXItcGxhdGZvcm0vY29tbW9uL3NyYy9lbnRpdGllcy9Qcm9kdWN0LnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AZXZlci1wbGF0Zm9ybS9jb21tb24vc3JjL2VudGl0aWVzL1Byb2R1Y3RJbmZvLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AZXZlci1wbGF0Zm9ybS9jb21tb24vc3JjL2VudGl0aWVzL1Byb2R1Y3RzQ2F0ZWdvcnkudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BldmVyLXBsYXRmb3JtL2NvbW1vbi9zcmMvZW50aXRpZXMvVXNlci50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGV2ZXItcGxhdGZvcm0vY29tbW9uL3NyYy9lbnRpdGllcy9Vc2VyT3JkZXIudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BldmVyLXBsYXRmb3JtL2NvbW1vbi9zcmMvZW50aXRpZXMvV2FyZWhvdXNlLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AZXZlci1wbGF0Zm9ybS9jb21tb24vc3JjL2VudGl0aWVzL1dhcmVob3VzZVByb2R1Y3QudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BldmVyLXBsYXRmb3JtL2NvbW1vbi9zcmMvZW51bXMvQ2FycmllclN0YXR1cy50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGV2ZXItcGxhdGZvcm0vY29tbW9uL3NyYy9lbnVtcy9EZWxpdmVyeVR5cGUudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BldmVyLXBsYXRmb3JtL2NvbW1vbi9zcmMvZW51bXMvT3JkZXJCYXJjb2RlVHlwZXMudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BldmVyLXBsYXRmb3JtL2NvbW1vbi9zcmMvZW51bXMvT3JkZXJDYXJyaWVyU3RhdHVzLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AZXZlci1wbGF0Zm9ybS9jb21tb24vc3JjL2VudW1zL09yZGVyU3RhdHVzLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AZXZlci1wbGF0Zm9ybS9jb21tb24vc3JjL2VudW1zL09yZGVyV2FyZWhvdXNlU3RhdHVzLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AZXZlci1wbGF0Zm9ybS9jb21tb24vc3JjL2VudW1zL1BheW1lbnRHYXRld2F5cy50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGV2ZXItcGxhdGZvcm0vY29tbW9uL3NyYy9lcnJvcnMvTm90SW52aXRlZEVycm9yLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AZXZlci1wbGF0Zm9ybS9jb21tb24vc3JjL2Vycm9ycy9Xcm9uZ1Bhc3N3b3JkRXJyb3IudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BldmVyLXBsYXRmb3JtL2NvbW1vbi9zcmMvbm90aWZpY2F0aW9ucy50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGV2ZXItcGxhdGZvcm0vY29tbW9uL3NyYy91dGlscy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQHB5cm8vZGItc2VydmVyL2RiLXNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0BweXJvL2RiLXNlcnZlci9lbnRpdHktc2VydmljZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQHB5cm8vZGItc2VydmVyL2V4aXN0ZW5jZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQHB5cm8vZGItc2VydmVyL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9AcHlyby9kYi1zZXJ2ZXIvbW9kZWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0BweXJvL2lvL2Nvbm5lY3Rpb24taGFuZGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQHB5cm8vaW8vaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0BweXJvL2lvL2xpc3RlbmVyL2FzeW5jLnRzIiwid2VicGFjazovLy8uL3NyYy9AcHlyby9pby9saXN0ZW5lci9oYW5kbGVyL2FzeW5jLnRzIiwid2VicGFjazovLy8uL3NyYy9AcHlyby9pby9saXN0ZW5lci9oYW5kbGVyL2Jhc2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0BweXJvL2lvL2xpc3RlbmVyL2hhbmRsZXIvb2JzZXJ2YWJsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQHB5cm8vaW8vbGlzdGVuZXIvbGlzdGVuZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0BweXJvL2lvL2xpc3RlbmVyL21ldGFkYXRhLnRzIiwid2VicGFjazovLy8uL3NyYy9AcHlyby9pby9saXN0ZW5lci9vYnNlcnZhYmxlLnRzIiwid2VicGFjazovLy8uL3NyYy9AcHlyby9pby9saXN0ZW5lci9zZXJpYWxpemF0aW9uLnRzIiwid2VicGFjazovLy8uL3NyYy9AcHlyby9pby9saXN0ZW5lci90eXBlcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQHB5cm8vaW8vcm91dGVyL2hhbmRsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0BweXJvL2lvL3JvdXRlci9tZXRhZGF0YS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQHB5cm8vaW8vcm91dGVyL3JvdXRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQHB5cm8vaW8vcm91dGVycy1tYW5hZ2VyLnRzIiwid2VicGFjazovLy8uL3NyYy9hcHAubW9kdWxlLnRzIiwid2VicGFjazovLy8uL3NyYy9hdXRoL2F1dGgubW9kdWxlLnRzIiwid2VicGFjazovLy8uL3NyYy9hdXRoL2p3dC5zdHJhdGVneS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL2NvbmZpZy5tb2R1bGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbmZpZy9jb25maWcuc2VydmljZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlcnMvcHJvZHVjdC9Qcm9kdWN0c0R0by50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlcnMvcHJvZHVjdC9wcm9kdWN0LmNvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xsZXJzL3Byb2R1Y3QvcHJvZHVjdC5tb2R1bGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xsZXJzL3Rlc3QuY29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW52LnRzIiwid2VicGFjazovLy8uL3NyYy9ncmFwaHFsL2FkbWluL2FkbWluLnJlc29sdmVyLnRzIiwid2VicGFjazovLy8uL3NyYy9ncmFwaHFsL2FkbWluL2FkbWlucy5tb2R1bGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dyYXBocWwvY2FycmllcnMtb3JkZXJzL2NhcnJpZXJzLW9yZGVycy5tb2R1bGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dyYXBocWwvY2FycmllcnMtb3JkZXJzL2NhcnJpZXJzLW9yZGVycy5yZXNvbHZlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ3JhcGhxbC9jYXJyaWVycy9jYXJyaWVyLnJlc29sdmVyLnRzIiwid2VicGFjazovLy8uL3NyYy9ncmFwaHFsL2NhcnJpZXJzL2NhcnJpZXJzLm1vZHVsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ3JhcGhxbC9jdXJyZW5jeS9jdXJyZW5jeS5tb2R1bGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dyYXBocWwvY3VycmVuY3kvY3VycmVuY3kucmVzb2x2ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dyYXBocWwvZGF0YS9kYXRhLm1vZHVsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ3JhcGhxbC9kYXRhL2RhdGEucmVzb2x2ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dyYXBocWwvZGV2aWNlcy9kZXZpY2UucmVzb2x2ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dyYXBocWwvZGV2aWNlcy9kZXZpY2VzLm1vZHVsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ3JhcGhxbC9nZW8tbG9jYXRpb25zL2dlby1sb2NhdGlvbi5yZXNvbHZlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ3JhcGhxbC9nZW8tbG9jYXRpb25zL2dlby1sb2NhdGlvbnMubW9kdWxlLnRzIiwid2VicGFjazovLy8uL3NyYy9ncmFwaHFsL2dlby1sb2NhdGlvbnMvbWVyY2hhbnRzL2dlby1sb2NhdGlvbi1tZXJjaGFudHMubW9kdWxlLnRzIiwid2VicGFjazovLy8uL3NyYy9ncmFwaHFsL2dlby1sb2NhdGlvbnMvbWVyY2hhbnRzL2dlby1sb2NhdGlvbi1tZXJjaGFudHMucmVzb2x2ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dyYXBocWwvZ2VvLWxvY2F0aW9ucy9vcmRlcnMvZ2VvLWxvY2F0aW9uLW9yZGVycy5tb2R1bGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dyYXBocWwvZ2VvLWxvY2F0aW9ucy9vcmRlcnMvZ2VvLWxvY2F0aW9uLW9yZGVycy5yZXNvbHZlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ3JhcGhxbC9pbnZpdGVzLXJlcXVlc3RzL2ludml0ZXMtcmVxdWVzdHMubW9kdWxlLnRzIiwid2VicGFjazovLy8uL3NyYy9ncmFwaHFsL2ludml0ZXMtcmVxdWVzdHMvaW52aXRlcy1yZXF1ZXN0cy5yZXNvbHZlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ3JhcGhxbC9pbnZpdGVzL2ludml0ZS5yZXNvbHZlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ3JhcGhxbC9pbnZpdGVzL2ludml0ZXMubW9kdWxlLnRzIiwid2VicGFjazovLy8uL3NyYy9ncmFwaHFsL29yZGVycy9vcmRlci5yZXNvbHZlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ3JhcGhxbC9vcmRlcnMvb3JkZXJzLm1vZHVsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ3JhcGhxbC9wcm9kdWN0cy9jYXRlZ29yaWVzL3Byb2R1Y3RzLWNhdGVnb3JpZXMubW9kdWxlLnRzIiwid2VicGFjazovLy8uL3NyYy9ncmFwaHFsL3Byb2R1Y3RzL2NhdGVnb3JpZXMvcHJvZHVjdHMtY2F0ZWdvcnkucmVzb2x2ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dyYXBocWwvcHJvZHVjdHMvcHJvZHVjdC5yZXNvbHZlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ3JhcGhxbC9wcm9kdWN0cy9wcm9kdWN0cy5tb2R1bGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dyYXBocWwvc2NhbGFycy9kYXRlLnR5cGUuZ3JhcGhxbCIsIndlYnBhY2s6Ly8vLi9zcmMvZ3JhcGhxbC9zY2FsYXJzL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9ncmFwaHFsL3NjYWxhcnMvc2NhbGFycy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ3JhcGhxbC9zdWJzY3JpcHRpb25zL3N1YnNjcmlwdGlvbi5jb25zdGFudHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dyYXBocWwvc3Vic2NyaXB0aW9ucy9zdWJzY3JpcHRpb24ucHJvdmlkZXJzLnRzIiwid2VicGFjazovLy8uL3NyYy9ncmFwaHFsL3N1YnNjcmlwdGlvbnMvc3Vic2NyaXB0aW9ucy5tb2R1bGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dyYXBocWwvc3Vic2NyaXB0aW9ucy9zdWJzY3JpcHRpb25zLnNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dyYXBocWwvdXNlcnMvdXNlci5yZXNvbHZlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ3JhcGhxbC91c2Vycy91c2Vycy5tb2R1bGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dyYXBocWwvd2FyZWhvdXNlcy1jYXJyaWVycy93YXJlaG91c2VzLWNhcnJpZXJzLm1vZHVsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ3JhcGhxbC93YXJlaG91c2VzLWNhcnJpZXJzL3dhcmVob3VzZXMtY2FycmllcnMucmVzb2x2ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dyYXBocWwvd2FyZWhvdXNlcy1vcmRlcnMvd2FyZWhvdXNlcy1vcmRlcnMubW9kdWxlLnRzIiwid2VicGFjazovLy8uL3NyYy9ncmFwaHFsL3dhcmVob3VzZXMtb3JkZXJzL3dhcmVob3VzZXMtb3JkZXJzLnJlc29sdmVyLnRzIiwid2VicGFjazovLy8uL3NyYy9ncmFwaHFsL3dhcmVob3VzZXMtcHJvZHVjdHMvd2FyZWhvdXNlLXByb2R1Y3RzLnJlc29sdmVyLnRzIiwid2VicGFjazovLy8uL3NyYy9ncmFwaHFsL3dhcmVob3VzZXMtcHJvZHVjdHMvd2FyZWhvdXNlcy1wcm9kdWN0cy5tb2R1bGVzLnRzIiwid2VicGFjazovLy8uL3NyYy9ncmFwaHFsL3dhcmVob3VzZXMvd2FyZWhvdXNlLnJlc29sdmVyLnRzIiwid2VicGFjazovLy8uL3NyYy9ncmFwaHFsL3dhcmVob3VzZXMvd2FyZWhvdXNlcy5tb2R1bGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hlbHBlcnMvTG9nLnRzIiwid2VicGFjazovLy8uL3NyYy9oZWxwZXJzL05lc3RKU0xvZ2dlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbmVzdC1ib290c3RyYXAudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL0lTZXJ2aWNlLnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9hZG1pbnMvQWRtaW5zU2VydmljZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvYWRtaW5zL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9hdXRoL0F1dGhTZXJ2aWNlLnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9hdXRoL0F1dGhlbnRpY2F0aW9uU2VydmljZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvYXV0aC9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvY2FycmllcnMvQ2FycmllcnNPcmRlcnNTZXJ2aWNlLnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9jYXJyaWVycy9DYXJyaWVyc1NlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL2NhcnJpZXJzL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9jdXJyZW5jeS9DdXJyZW5jeVNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL2RldmljZXMvRGV2aWNlc1NlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL2RldmljZXMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL2Zha2UtZGF0YS9GYWtlT3JkZXJzU2VydmljZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvZ2VvLWxvY2F0aW9ucy9HZW9Mb2NhdGlvbnNPcmRlcnNTZXJ2aWNlLnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9nZW8tbG9jYXRpb25zL0dlb0xvY2F0aW9uc1Byb2R1Y3RzU2VydmljZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvZ2VvLWxvY2F0aW9ucy9HZW9Mb2NhdGlvbnNTZXJ2aWNlLnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9nZW8tbG9jYXRpb25zL0dlb0xvY2F0aW9uc1dhcmVob3VzZXNTZXJ2aWNlLnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9nZW8tbG9jYXRpb25zL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9pbnZlcnNpZnkuY29uZmlnLnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9pbnZpdGVzL0ludml0ZXNSZXF1ZXN0c1NlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL2ludml0ZXMvSW52aXRlc1NlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL2ludml0ZXMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL29yZGVycy9PcmRlcnNTZXJ2aWNlLnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9vcmRlcnMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL3Byb2R1Y3RzL1Byb2R1Y3RzQ2F0ZWdvcmllc1NlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL3Byb2R1Y3RzL1Byb2R1Y3RzU2VydmljZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvcHJvZHVjdHMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL3NlcnZpY2VzLmFwcC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvc2VydmljZXMubW9kdWxlLnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy91c2Vycy9Tb2NpYWxSZWdpc3RlclNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL3VzZXJzL1NvY2lhbFN0cmF0ZWdpZXNTZXJ2aWNlLnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy91c2Vycy9Vc2VyQ29tbWFuZFNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL3VzZXJzL1VzZXJzQXV0aFNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL3VzZXJzL1VzZXJzT3JkZXJzU2VydmljZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvdXNlcnMvVXNlcnNQcm9kdWN0c1NlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL3VzZXJzL1VzZXJzU2VydmljZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvdXNlcnMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL3dhcmVob3VzZXMvV2FyZWhvdXNlc0NhcnJpZXJzU2VydmljZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvd2FyZWhvdXNlcy9XYXJlaG91c2VzT3JkZXJzU2VydmljZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvd2FyZWhvdXNlcy9XYXJlaG91c2VzUHJvZHVjdHNTZXJ2aWNlLnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy93YXJlaG91c2VzL1dhcmVob3VzZXNTZXJ2aWNlLnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy93YXJlaG91c2VzL1dhcmVob3VzZXNVc2Vyc1NlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL3dhcmVob3VzZXMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzLnRzIiwid2VicGFjazovLy9leHRlcm5hbCBcIkBjYXB0ZW11bGF0aW9uL2dldC1wYXJhbWV0ZXItbmFtZXNcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJAbmVzdGpzL2NvbW1vblwiIiwid2VicGFjazovLy9leHRlcm5hbCBcIkBuZXN0anMvY29yZVwiIiwid2VicGFjazovLy9leHRlcm5hbCBcIkBuZXN0anMvY3Fyc1wiIiwid2VicGFjazovLy9leHRlcm5hbCBcIkBuZXN0anMvZ3JhcGhxbFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcIkBuZXN0anMvcGFzc3BvcnRcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJAbmVzdGpzL3N3YWdnZXJcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJAbmVzdGpzL3R5cGVvcm1cIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJhcG9sbG8tc2VydmVyLWV4cHJlc3NcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJheGlvc1wiIiwid2VicGFjazovLy9leHRlcm5hbCBcImJjcnlwdFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcImJsdWViaXJkXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiYm9keS1wYXJzZXJcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJic29uXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiYnVueWFuXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiYnVueWFuLWNsb3Vkd2F0Y2hcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJidW55YW4tcHJldHR5c3RyZWFtXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiY29yc1wiIiwid2VicGFjazovLy9leHRlcm5hbCBcImRvdGVudlwiIiwid2VicGFjazovLy9leHRlcm5hbCBcImVudmFsaWRcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJlcnJvcmhhbmRsZXJcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJleHByZXNzXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiZXhwcmVzcy1oYW5kbGViYXJzXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiZmFrZXJcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJmc1wiIiwid2VicGFjazovLy9leHRlcm5hbCBcImdyYXBocWxcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJncmFwaHFsLXN1YnNjcmlwdGlvbnNcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJoYW5kbGViYXJzXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiaHR0cFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcImh0dHBzXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiaW52ZXJzaWZ5XCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiaXBzdGFja1wiIiwid2VicGFjazovLy9leHRlcm5hbCBcImpzb253ZWJ0b2tlblwiIiwid2VicGFjazovLy9leHRlcm5hbCBcImxvZGFzaFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcIm1lcmdlLWdyYXBocWwtc2NoZW1hc1wiIiwid2VicGFjazovLy9leHRlcm5hbCBcIm1ldGhvZC1vdmVycmlkZVwiIiwid2VicGFjazovLy9leHRlcm5hbCBcIm1rZGlycFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcIm1vbWVudFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcIm1vbmdvZGJcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtb25nb29zZVwiIiwid2VicGFjazovLy9leHRlcm5hbCBcIm1vcmdhblwiIiwid2VicGFjazovLy9leHRlcm5hbCBcIm9zXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwicGFzc3BvcnRcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJwYXNzcG9ydC1mYWNlYm9va1wiIiwid2VicGFjazovLy9leHRlcm5hbCBcInBhc3Nwb3J0LWdvb2dsZS1vYXV0aDIwXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwicGFzc3BvcnQtand0XCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwicGF0aFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcInBlbVwiIiwid2VicGFjazovLy9leHRlcm5hbCBcInJlZmxlY3QtbWV0YWRhdGFcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyZXF1ZXN0LWlwXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwicmVxdWVzdC1wcm9taXNlXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwicnhqc1wiIiwid2VicGFjazovLy9leHRlcm5hbCBcInJ4anMvU3Vic2NyaXB0aW9uXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwicnhqcy9vYnNlcnZhYmxlL2Zyb21cIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyeGpzL29ic2VydmFibGUvb2ZcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyeGpzL29ic2VydmFibGUvdGhyb3dcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyeGpzL29wZXJhdG9yc1wiIiwid2VicGFjazovLy9leHRlcm5hbCBcInNvY2tldC5pb1wiIiwid2VicGFjazovLy9leHRlcm5hbCBcInN0cmlwZVwiIiwid2VicGFjazovLy9leHRlcm5hbCBcInN1YnNjcmlwdGlvbnMtdHJhbnNwb3J0LXdzXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwidHNsaWJcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJ0eXBlb3JtXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwidXRpbFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcInV1aWRcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJ3ZWJwYWNrL2hvdC9wb2xsIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7UUFBQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EsSUFBSTtRQUNKO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EsTUFBTTtRQUNOO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBLEtBQUs7UUFDTDtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBLE1BQU07UUFDTjtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EsS0FBSzs7UUFFTDtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQSw2QkFBNkI7UUFDN0IsNkJBQTZCO1FBQzdCO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBLHFCQUFxQixnQkFBZ0I7UUFDckM7UUFDQTtRQUNBLEtBQUs7UUFDTDtRQUNBO1FBQ0E7UUFDQSxxQkFBcUIsZ0JBQWdCO1FBQ3JDO1FBQ0E7UUFDQSxLQUFLO1FBQ0w7UUFDQTtRQUNBLEtBQUs7UUFDTDtRQUNBO1FBQ0EsS0FBSztRQUNMO1FBQ0E7UUFDQTtRQUNBLEtBQUs7O1FBRUw7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EsS0FBSztRQUNMO1FBQ0E7UUFDQSxLQUFLO1FBQ0w7UUFDQTtRQUNBO1FBQ0EsS0FBSzs7UUFFTDtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBO1FBQ0Esa0JBQWtCLDhCQUE4QjtRQUNoRDtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBLEtBQUs7UUFDTDtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EsSUFBSTtRQUNKOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0EsSUFBSTtRQUNKO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EsTUFBTTtRQUNOO1FBQ0E7UUFDQTtRQUNBLE9BQU87UUFDUDtRQUNBO1FBQ0E7UUFDQTtRQUNBLElBQUk7UUFDSjtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBLEtBQUs7UUFDTDtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0Esb0JBQW9CLDJCQUEyQjtRQUMvQztRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EsT0FBTztRQUNQO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQSxtQkFBbUIsY0FBYztRQUNqQztRQUNBO1FBQ0E7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0EsZ0JBQWdCLEtBQUs7UUFDckI7UUFDQTtRQUNBO1FBQ0EsTUFBTTtRQUNOO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQSxnQkFBZ0IsWUFBWTtRQUM1QjtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFD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Q0FBRTtJQUNGLGtDQUFFO0lBQ0Ysa0NBQUU7SUFDRixrQ0FBRTtJQUNGLGtDQUFFO0lBQ0Ysa0NBQUU7SUFDRixrQ0FBRTtJQUNGLGtDQUFFO0lBQ0Ysa0NBQUU7SUFDRixrQ0FBRTtJQUNGLGtDQUFFO0lBQ0Ysa0NBQUU7SUFDRixrQ0FBRTtJQUNGLGtDQUFFO0lBQ0Ysa0NBQUU7SUFDRixrQ0FBRTtJQUNGLGtDQUFFO0lBQ0Ysa0NBQUU7SUFDRixrQ0FBRTtJQUNGLGtDQUFFO0lBQ0Ysa0NBQUU7SUFDRixrQ0FBRTtJQUNGLGtDQUFFO0lBQ0Ysa0NBQUU7SUFDRixrQ0FBRTtJQUNGLGtDQUFFO0lBQ0Ysa0NBQUU7SUFDRixrQ0FBRTtJQUNGLGtDQUFFO0lBQ0Ysa0NBQUU7SUFDRixrQ0FBRTtJQUNGLGtDQUFFO0lBQ0Ysa0NBQUU7SUFDRixrQ0FBRTtJQUNGLGtDQUFFO0lBQ0Ysa0NBQUU7SUFDRixrQ0FBRTtJQUNGLGtDQUFFO0lBQ0Ysa0NBQUU7SUFDRixrQ0FBRTtJQUNGLGtDQUFFO0lBQ0Ysa0NBQUU7SUFDRixrQ0FBRTtJQUNGLGtDQUFFO0lBQ0Ysa0NBQUU7SUFDRixrQ0FBRTtJQUNGLGtDQUFFO0lBQ0Ysa0NBQUU7SUFDRixrQ0FBRTtJQUNGLGtDQUFFO0lBQ0Ysa0NBQUU7SUFDRixrQ0FBRTtJQUNGLGtDQUFFO0lBQ0Ysa0NBQUU7SUFDRixrQ0FBRTtJQUNGLGtDQUFFO0lBQ0Ysa0NBQUU7SUFDRixrQ0FBRTtJQUNGLGtDQUFFO0lBQ0Ysa0NBQUU7SUFDRixrQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lBQ0YsbUNBQUU7SUFDRixtQ0FBRTtJQUNGLG1DQUFFO0lB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O0lBRTVCLE9BQU8sQ0FBQyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQztBQUMzQixDQUFDO0FBaEJELHNEQWdCQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2pERCwrRDs7Ozs7Ozs7Ozs7QUNBQSwyQzs7Ozs7Ozs7Ozs7QUNBQSx5Qzs7Ozs7Ozs7Ozs7QUNBQSx5Qzs7Ozs7Ozs7Ozs7QUNBQSw0Qzs7Ozs7Ozs7Ozs7QUNBQSw2Qzs7Ozs7Ozs7Ozs7QUNBQSw0Qzs7Ozs7Ozs7Ozs7QUNBQSw0Qzs7Ozs7Ozs7Ozs7QUNBQSxrRDs7Ozs7Ozs7Ozs7QUNBQSxrQzs7Ozs7Ozs7Ozs7QUNBQSxtQzs7Ozs7Ozs7Ozs7QUNBQSxxQzs7Ozs7Ozs7Ozs7QUNBQSx3Qzs7Ozs7Ozs7Ozs7QUNBQSxpQzs7Ozs7Ozs7Ozs7QUNBQSxtQzs7Ozs7Ozs7Ozs7QUNBQSw4Qzs7Ozs7Ozs7Ozs7QUNBQSxnRDs7Ozs7Ozs7Ozs7QUNBQSxpQzs7Ozs7Ozs7Ozs7QUNBQSxtQzs7Ozs7Ozs7Ozs7QUNBQSxvQzs7Ozs7Ozs7Ozs7QUNBQSx5Qzs7Ozs7Ozs7Ozs7QUNBQSxvQzs7Ozs7Ozs7Ozs7QUNBQSwrQzs7Ozs7Ozs7Ozs7QUNBQSxrQzs7Ozs7Ozs7Ozs7QUNBQSwrQjs7Ozs7Ozs7Ozs7QUNBQSxvQzs7Ozs7Ozs7Ozs7QUNBQSxrRDs7Ozs7Ozs7Ozs7QUNBQSx1Qzs7Ozs7Ozs7Ozs7QUNBQSxpQzs7Ozs7Ozs7Ozs7QUNBQSxrQzs7Ozs7Ozs7Ozs7QUNBQSxzQzs7Ozs7Ozs7Ozs7QUNBQSxvQzs7Ozs7Ozs7Ozs7QUNBQSx5Qzs7Ozs7Ozs7Ozs7QUNBQSxtQzs7Ozs7Ozs7Ozs7QUNBQSxrRDs7Ozs7Ozs7Ozs7QUNBQSw0Qzs7Ozs7Ozs7Ozs7QUNBQSxtQzs7Ozs7Ozs7Ozs7QUNBQSxtQzs7Ozs7Ozs7Ozs7QUNBQSxvQzs7Ozs7Ozs7Ozs7QUNBQSxxQzs7Ozs7Ozs7Ozs7QUNBQSxtQzs7Ozs7Ozs7Ozs7QUNBQSwrQjs7Ozs7Ozs7Ozs7QUNBQSxxQzs7Ozs7Ozs7Ozs7QUNBQSw4Qzs7Ozs7Ozs7Ozs7QUNBQSxvRDs7Ozs7Ozs7Ozs7QUNBQSx5Qzs7Ozs7Ozs7Ozs7QUNBQSxpQzs7Ozs7Ozs7Ozs7QUNBQSxnQzs7Ozs7Ozs7Ozs7QUNBQSw2Qzs7Ozs7Ozs7Ozs7QUNBQSx1Qzs7Ozs7Ozs7Ozs7QUNBQSw0Qzs7Ozs7Ozs7Ozs7QUNBQSxpQzs7Ozs7Ozs7Ozs7QUNBQSw4Qzs7Ozs7Ozs7Ozs7QUNBQSxpRDs7Ozs7Ozs7Ozs7QUNBQSwrQzs7Ozs7Ozs7Ozs7QUNBQSxrRDs7Ozs7Ozs7Ozs7QUNBQSwyQzs7Ozs7Ozs7Ozs7QUNBQSxzQzs7Ozs7Ozs7Ozs7QUNBQSxtQzs7Ozs7Ozs7Ozs7QUNBQSx1RDs7Ozs7Ozs7Ozs7QUNBQSxrQzs7Ozs7Ozs7Ozs7QUNBQSxvQzs7Ozs7Ozs7Ozs7QUNBQSxpQzs7Ozs7Ozs7Ozs7QUNBQSxpQzs7Ozs7Ozs7Ozs7QUNBQSxpRCIsImZpbGUiOiJzZXJ2ZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdERvd25sb2FkVXBkYXRlQ2h1bmsoY2h1bmtJZCkge1xuIFx0XHR2YXIgY2h1bmsgPSByZXF1aXJlKFwiLi9cIiArIFwiXCIgKyBjaHVua0lkICsgXCIuXCIgKyBob3RDdXJyZW50SGFzaCArIFwiLmhvdC11cGRhdGUuanNcIik7XG4gXHRcdGhvdEFkZFVwZGF0ZUNodW5rKGNodW5rLmlkLCBjaHVuay5tb2R1bGVzKTtcbiBcdH1cblxuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiBob3REb3dubG9hZE1hbmlmZXN0KCkge1xuIFx0XHR0cnkge1xuIFx0XHRcdHZhciB1cGRhdGUgPSByZXF1aXJlKFwiLi9cIiArIFwiXCIgKyBob3RDdXJyZW50SGFzaCArIFwiLmhvdC11cGRhdGUuanNvblwiKTtcbiBcdFx0fSBjYXRjaCAoZSkge1xuIFx0XHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiBcdFx0fVxuIFx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHVwZGF0ZSk7XG4gXHR9XG5cbiBcdC8vZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiBob3REaXNwb3NlQ2h1bmsoY2h1bmtJZCkge1xuIFx0XHRkZWxldGUgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdO1xuIFx0fVxuXG4gXHR2YXIgaG90QXBwbHlPblVwZGF0ZSA9IHRydWU7XG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdHZhciBob3RDdXJyZW50SGFzaCA9IFwiYTQxMzg1ZDFlODU2MmRjOWQ4MTlcIjtcbiBcdHZhciBob3RSZXF1ZXN0VGltZW91dCA9IDEwMDAwO1xuIFx0dmFyIGhvdEN1cnJlbnRNb2R1bGVEYXRhID0ge307XG4gXHR2YXIgaG90Q3VycmVudENoaWxkTW9kdWxlO1xuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHR2YXIgaG90Q3VycmVudFBhcmVudHMgPSBbXTtcbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0dmFyIGhvdEN1cnJlbnRQYXJlbnRzVGVtcCA9IFtdO1xuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdENyZWF0ZVJlcXVpcmUobW9kdWxlSWQpIHtcbiBcdFx0dmFyIG1lID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdGlmICghbWUpIHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fO1xuIFx0XHR2YXIgZm4gPSBmdW5jdGlvbihyZXF1ZXN0KSB7XG4gXHRcdFx0aWYgKG1lLmhvdC5hY3RpdmUpIHtcbiBcdFx0XHRcdGlmIChpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdKSB7XG4gXHRcdFx0XHRcdGlmIChpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCkgPT09IC0xKSB7XG4gXHRcdFx0XHRcdFx0aW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XS5wYXJlbnRzLnB1c2gobW9kdWxlSWQpO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFttb2R1bGVJZF07XG4gXHRcdFx0XHRcdGhvdEN1cnJlbnRDaGlsZE1vZHVsZSA9IHJlcXVlc3Q7XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAobWUuY2hpbGRyZW4uaW5kZXhPZihyZXF1ZXN0KSA9PT0gLTEpIHtcbiBcdFx0XHRcdFx0bWUuY2hpbGRyZW4ucHVzaChyZXF1ZXN0KTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0Y29uc29sZS53YXJuKFxuIFx0XHRcdFx0XHRcIltITVJdIHVuZXhwZWN0ZWQgcmVxdWlyZShcIiArXG4gXHRcdFx0XHRcdFx0cmVxdWVzdCArXG4gXHRcdFx0XHRcdFx0XCIpIGZyb20gZGlzcG9zZWQgbW9kdWxlIFwiICtcbiBcdFx0XHRcdFx0XHRtb2R1bGVJZFxuIFx0XHRcdFx0KTtcbiBcdFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW107XG4gXHRcdFx0fVxuIFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKHJlcXVlc3QpO1xuIFx0XHR9O1xuIFx0XHR2YXIgT2JqZWN0RmFjdG9yeSA9IGZ1bmN0aW9uIE9iamVjdEZhY3RvcnkobmFtZSkge1xuIFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcbiBcdFx0XHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX19bbmFtZV07XG4gXHRcdFx0XHR9LFxuIFx0XHRcdFx0c2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuIFx0XHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdID0gdmFsdWU7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fTtcbiBcdFx0fTtcbiBcdFx0Zm9yICh2YXIgbmFtZSBpbiBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKF9fd2VicGFja19yZXF1aXJlX18sIG5hbWUpICYmXG4gXHRcdFx0XHRuYW1lICE9PSBcImVcIiAmJlxuIFx0XHRcdFx0bmFtZSAhPT0gXCJ0XCJcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgbmFtZSwgT2JqZWN0RmFjdG9yeShuYW1lKSk7XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdGZuLmUgPSBmdW5jdGlvbihjaHVua0lkKSB7XG4gXHRcdFx0aWYgKGhvdFN0YXR1cyA9PT0gXCJyZWFkeVwiKSBob3RTZXRTdGF0dXMoXCJwcmVwYXJlXCIpO1xuIFx0XHRcdGhvdENodW5rc0xvYWRpbmcrKztcbiBcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5lKGNodW5rSWQpLnRoZW4oZmluaXNoQ2h1bmtMb2FkaW5nLCBmdW5jdGlvbihlcnIpIHtcbiBcdFx0XHRcdGZpbmlzaENodW5rTG9hZGluZygpO1xuIFx0XHRcdFx0dGhyb3cgZXJyO1xuIFx0XHRcdH0pO1xuXG4gXHRcdFx0ZnVuY3Rpb24gZmluaXNoQ2h1bmtMb2FkaW5nKCkge1xuIFx0XHRcdFx0aG90Q2h1bmtzTG9hZGluZy0tO1xuIFx0XHRcdFx0aWYgKGhvdFN0YXR1cyA9PT0gXCJwcmVwYXJlXCIpIHtcbiBcdFx0XHRcdFx0aWYgKCFob3RXYWl0aW5nRmlsZXNNYXBbY2h1bmtJZF0pIHtcbiBcdFx0XHRcdFx0XHRob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRpZiAoaG90Q2h1bmtzTG9hZGluZyA9PT0gMCAmJiBob3RXYWl0aW5nRmlsZXMgPT09IDApIHtcbiBcdFx0XHRcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH07XG4gXHRcdGZuLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRcdGlmIChtb2RlICYgMSkgdmFsdWUgPSBmbih2YWx1ZSk7XG4gXHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18udCh2YWx1ZSwgbW9kZSAmIH4xKTtcbiBcdFx0fTtcbiBcdFx0cmV0dXJuIGZuO1xuIFx0fVxuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdENyZWF0ZU1vZHVsZShtb2R1bGVJZCkge1xuIFx0XHR2YXIgaG90ID0ge1xuIFx0XHRcdC8vIHByaXZhdGUgc3R1ZmZcbiBcdFx0XHRfYWNjZXB0ZWREZXBlbmRlbmNpZXM6IHt9LFxuIFx0XHRcdF9kZWNsaW5lZERlcGVuZGVuY2llczoge30sXG4gXHRcdFx0X3NlbGZBY2NlcHRlZDogZmFsc2UsXG4gXHRcdFx0X3NlbGZEZWNsaW5lZDogZmFsc2UsXG4gXHRcdFx0X2Rpc3Bvc2VIYW5kbGVyczogW10sXG4gXHRcdFx0X21haW46IGhvdEN1cnJlbnRDaGlsZE1vZHVsZSAhPT0gbW9kdWxlSWQsXG5cbiBcdFx0XHQvLyBNb2R1bGUgQVBJXG4gXHRcdFx0YWN0aXZlOiB0cnVlLFxuIFx0XHRcdGFjY2VwdDogZnVuY3Rpb24oZGVwLCBjYWxsYmFjaykge1xuIFx0XHRcdFx0aWYgKGRlcCA9PT0gdW5kZWZpbmVkKSBob3QuX3NlbGZBY2NlcHRlZCA9IHRydWU7XG4gXHRcdFx0XHRlbHNlIGlmICh0eXBlb2YgZGVwID09PSBcImZ1bmN0aW9uXCIpIGhvdC5fc2VsZkFjY2VwdGVkID0gZGVwO1xuIFx0XHRcdFx0ZWxzZSBpZiAodHlwZW9mIGRlcCA9PT0gXCJvYmplY3RcIilcbiBcdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkZXAubGVuZ3RoOyBpKyspXG4gXHRcdFx0XHRcdFx0aG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBbaV1dID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oKSB7fTtcbiBcdFx0XHRcdGVsc2UgaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBdID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oKSB7fTtcbiBcdFx0XHR9LFxuIFx0XHRcdGRlY2xpbmU6IGZ1bmN0aW9uKGRlcCkge1xuIFx0XHRcdFx0aWYgKGRlcCA9PT0gdW5kZWZpbmVkKSBob3QuX3NlbGZEZWNsaW5lZCA9IHRydWU7XG4gXHRcdFx0XHRlbHNlIGlmICh0eXBlb2YgZGVwID09PSBcIm9iamVjdFwiKVxuIFx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKylcbiBcdFx0XHRcdFx0XHRob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSB0cnVlO1xuIFx0XHRcdFx0ZWxzZSBob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcF0gPSB0cnVlO1xuIFx0XHRcdH0sXG4gXHRcdFx0ZGlzcG9zZTogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiBcdFx0XHRcdGhvdC5fZGlzcG9zZUhhbmRsZXJzLnB1c2goY2FsbGJhY2spO1xuIFx0XHRcdH0sXG4gXHRcdFx0YWRkRGlzcG9zZUhhbmRsZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcbiBcdFx0XHR9LFxuIFx0XHRcdHJlbW92ZURpc3Bvc2VIYW5kbGVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xuIFx0XHRcdFx0dmFyIGlkeCA9IGhvdC5fZGlzcG9zZUhhbmRsZXJzLmluZGV4T2YoY2FsbGJhY2spO1xuIFx0XHRcdFx0aWYgKGlkeCA+PSAwKSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcbiBcdFx0XHR9LFxuXG4gXHRcdFx0Ly8gTWFuYWdlbWVudCBBUElcbiBcdFx0XHRjaGVjazogaG90Q2hlY2ssXG4gXHRcdFx0YXBwbHk6IGhvdEFwcGx5LFxuIFx0XHRcdHN0YXR1czogZnVuY3Rpb24obCkge1xuIFx0XHRcdFx0aWYgKCFsKSByZXR1cm4gaG90U3RhdHVzO1xuIFx0XHRcdFx0aG90U3RhdHVzSGFuZGxlcnMucHVzaChsKTtcbiBcdFx0XHR9LFxuIFx0XHRcdGFkZFN0YXR1c0hhbmRsZXI6IGZ1bmN0aW9uKGwpIHtcbiBcdFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzLnB1c2gobCk7XG4gXHRcdFx0fSxcbiBcdFx0XHRyZW1vdmVTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XG4gXHRcdFx0XHR2YXIgaWR4ID0gaG90U3RhdHVzSGFuZGxlcnMuaW5kZXhPZihsKTtcbiBcdFx0XHRcdGlmIChpZHggPj0gMCkgaG90U3RhdHVzSGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XG4gXHRcdFx0fSxcblxuIFx0XHRcdC8vaW5oZXJpdCBmcm9tIHByZXZpb3VzIGRpc3Bvc2UgY2FsbFxuIFx0XHRcdGRhdGE6IGhvdEN1cnJlbnRNb2R1bGVEYXRhW21vZHVsZUlkXVxuIFx0XHR9O1xuIFx0XHRob3RDdXJyZW50Q2hpbGRNb2R1bGUgPSB1bmRlZmluZWQ7XG4gXHRcdHJldHVybiBob3Q7XG4gXHR9XG5cbiBcdHZhciBob3RTdGF0dXNIYW5kbGVycyA9IFtdO1xuIFx0dmFyIGhvdFN0YXR1cyA9IFwiaWRsZVwiO1xuXG4gXHRmdW5jdGlvbiBob3RTZXRTdGF0dXMobmV3U3RhdHVzKSB7XG4gXHRcdGhvdFN0YXR1cyA9IG5ld1N0YXR1cztcbiBcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBob3RTdGF0dXNIYW5kbGVycy5sZW5ndGg7IGkrKylcbiBcdFx0XHRob3RTdGF0dXNIYW5kbGVyc1tpXS5jYWxsKG51bGwsIG5ld1N0YXR1cyk7XG4gXHR9XG5cbiBcdC8vIHdoaWxlIGRvd25sb2FkaW5nXG4gXHR2YXIgaG90V2FpdGluZ0ZpbGVzID0gMDtcbiBcdHZhciBob3RDaHVua3NMb2FkaW5nID0gMDtcbiBcdHZhciBob3RXYWl0aW5nRmlsZXNNYXAgPSB7fTtcbiBcdHZhciBob3RSZXF1ZXN0ZWRGaWxlc01hcCA9IHt9O1xuIFx0dmFyIGhvdEF2YWlsYWJsZUZpbGVzTWFwID0ge307XG4gXHR2YXIgaG90RGVmZXJyZWQ7XG5cbiBcdC8vIFRoZSB1cGRhdGUgaW5mb1xuIFx0dmFyIGhvdFVwZGF0ZSwgaG90VXBkYXRlTmV3SGFzaDtcblxuIFx0ZnVuY3Rpb24gdG9Nb2R1bGVJZChpZCkge1xuIFx0XHR2YXIgaXNOdW1iZXIgPSAraWQgKyBcIlwiID09PSBpZDtcbiBcdFx0cmV0dXJuIGlzTnVtYmVyID8gK2lkIDogaWQ7XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdENoZWNrKGFwcGx5KSB7XG4gXHRcdGlmIChob3RTdGF0dXMgIT09IFwiaWRsZVwiKSB7XG4gXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiY2hlY2soKSBpcyBvbmx5IGFsbG93ZWQgaW4gaWRsZSBzdGF0dXNcIik7XG4gXHRcdH1cbiBcdFx0aG90QXBwbHlPblVwZGF0ZSA9IGFwcGx5O1xuIFx0XHRob3RTZXRTdGF0dXMoXCJjaGVja1wiKTtcbiBcdFx0cmV0dXJuIGhvdERvd25sb2FkTWFuaWZlc3QoaG90UmVxdWVzdFRpbWVvdXQpLnRoZW4oZnVuY3Rpb24odXBkYXRlKSB7XG4gXHRcdFx0aWYgKCF1cGRhdGUpIHtcbiBcdFx0XHRcdGhvdFNldFN0YXR1cyhcImlkbGVcIik7XG4gXHRcdFx0XHRyZXR1cm4gbnVsbDtcbiBcdFx0XHR9XG4gXHRcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXAgPSB7fTtcbiBcdFx0XHRob3RXYWl0aW5nRmlsZXNNYXAgPSB7fTtcbiBcdFx0XHRob3RBdmFpbGFibGVGaWxlc01hcCA9IHVwZGF0ZS5jO1xuIFx0XHRcdGhvdFVwZGF0ZU5ld0hhc2ggPSB1cGRhdGUuaDtcblxuIFx0XHRcdGhvdFNldFN0YXR1cyhcInByZXBhcmVcIik7XG4gXHRcdFx0dmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiBcdFx0XHRcdGhvdERlZmVycmVkID0ge1xuIFx0XHRcdFx0XHRyZXNvbHZlOiByZXNvbHZlLFxuIFx0XHRcdFx0XHRyZWplY3Q6IHJlamVjdFxuIFx0XHRcdFx0fTtcbiBcdFx0XHR9KTtcbiBcdFx0XHRob3RVcGRhdGUgPSB7fTtcbiBcdFx0XHR2YXIgY2h1bmtJZCA9IFwibWFpblwiO1xuIFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1sb25lLWJsb2Nrc1xuIFx0XHRcdHtcbiBcdFx0XHRcdGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpO1xuIFx0XHRcdH1cbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRob3RTdGF0dXMgPT09IFwicHJlcGFyZVwiICYmXG4gXHRcdFx0XHRob3RDaHVua3NMb2FkaW5nID09PSAwICYmXG4gXHRcdFx0XHRob3RXYWl0aW5nRmlsZXMgPT09IDBcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcbiBcdFx0XHR9XG4gXHRcdFx0cmV0dXJuIHByb21pc2U7XG4gXHRcdH0pO1xuIFx0fVxuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdEFkZFVwZGF0ZUNodW5rKGNodW5rSWQsIG1vcmVNb2R1bGVzKSB7XG4gXHRcdGlmICghaG90QXZhaWxhYmxlRmlsZXNNYXBbY2h1bmtJZF0gfHwgIWhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdKVxuIFx0XHRcdHJldHVybjtcbiBcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0gPSBmYWxzZTtcbiBcdFx0Zm9yICh2YXIgbW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcbiBcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcbiBcdFx0XHRcdGhvdFVwZGF0ZVttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdGlmICgtLWhvdFdhaXRpbmdGaWxlcyA9PT0gMCAmJiBob3RDaHVua3NMb2FkaW5nID09PSAwKSB7XG4gXHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xuIFx0XHR9XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpIHtcbiBcdFx0aWYgKCFob3RBdmFpbGFibGVGaWxlc01hcFtjaHVua0lkXSkge1xuIFx0XHRcdGhvdFdhaXRpbmdGaWxlc01hcFtjaHVua0lkXSA9IHRydWU7XG4gXHRcdH0gZWxzZSB7XG4gXHRcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0gPSB0cnVlO1xuIFx0XHRcdGhvdFdhaXRpbmdGaWxlcysrO1xuIFx0XHRcdGhvdERvd25sb2FkVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XG4gXHRcdH1cbiBcdH1cblxuIFx0ZnVuY3Rpb24gaG90VXBkYXRlRG93bmxvYWRlZCgpIHtcbiBcdFx0aG90U2V0U3RhdHVzKFwicmVhZHlcIik7XG4gXHRcdHZhciBkZWZlcnJlZCA9IGhvdERlZmVycmVkO1xuIFx0XHRob3REZWZlcnJlZCA9IG51bGw7XG4gXHRcdGlmICghZGVmZXJyZWQpIHJldHVybjtcbiBcdFx0aWYgKGhvdEFwcGx5T25VcGRhdGUpIHtcbiBcdFx0XHQvLyBXcmFwIGRlZmVycmVkIG9iamVjdCBpbiBQcm9taXNlIHRvIG1hcmsgaXQgYXMgYSB3ZWxsLWhhbmRsZWQgUHJvbWlzZSB0b1xuIFx0XHRcdC8vIGF2b2lkIHRyaWdnZXJpbmcgdW5jYXVnaHQgZXhjZXB0aW9uIHdhcm5pbmcgaW4gQ2hyb21lLlxuIFx0XHRcdC8vIFNlZSBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NjU2NjZcbiBcdFx0XHRQcm9taXNlLnJlc29sdmUoKVxuIFx0XHRcdFx0LnRoZW4oZnVuY3Rpb24oKSB7XG4gXHRcdFx0XHRcdHJldHVybiBob3RBcHBseShob3RBcHBseU9uVXBkYXRlKTtcbiBcdFx0XHRcdH0pXG4gXHRcdFx0XHQudGhlbihcbiBcdFx0XHRcdFx0ZnVuY3Rpb24ocmVzdWx0KSB7XG4gXHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShyZXN1bHQpO1xuIFx0XHRcdFx0XHR9LFxuIFx0XHRcdFx0XHRmdW5jdGlvbihlcnIpIHtcbiBcdFx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3QoZXJyKTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0KTtcbiBcdFx0fSBlbHNlIHtcbiBcdFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XG4gXHRcdFx0Zm9yICh2YXIgaWQgaW4gaG90VXBkYXRlKSB7XG4gXHRcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhvdFVwZGF0ZSwgaWQpKSB7XG4gXHRcdFx0XHRcdG91dGRhdGVkTW9kdWxlcy5wdXNoKHRvTW9kdWxlSWQoaWQpKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShvdXRkYXRlZE1vZHVsZXMpO1xuIFx0XHR9XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdEFwcGx5KG9wdGlvbnMpIHtcbiBcdFx0aWYgKGhvdFN0YXR1cyAhPT0gXCJyZWFkeVwiKVxuIFx0XHRcdHRocm93IG5ldyBFcnJvcihcImFwcGx5KCkgaXMgb25seSBhbGxvd2VkIGluIHJlYWR5IHN0YXR1c1wiKTtcbiBcdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiBcdFx0dmFyIGNiO1xuIFx0XHR2YXIgaTtcbiBcdFx0dmFyIGo7XG4gXHRcdHZhciBtb2R1bGU7XG4gXHRcdHZhciBtb2R1bGVJZDtcblxuIFx0XHRmdW5jdGlvbiBnZXRBZmZlY3RlZFN0dWZmKHVwZGF0ZU1vZHVsZUlkKSB7XG4gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFt1cGRhdGVNb2R1bGVJZF07XG4gXHRcdFx0dmFyIG91dGRhdGVkRGVwZW5kZW5jaWVzID0ge307XG5cbiBcdFx0XHR2YXIgcXVldWUgPSBvdXRkYXRlZE1vZHVsZXMubWFwKGZ1bmN0aW9uKGlkKSB7XG4gXHRcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0XHRjaGFpbjogW2lkXSxcbiBcdFx0XHRcdFx0aWQ6IGlkXG4gXHRcdFx0XHR9O1xuIFx0XHRcdH0pO1xuIFx0XHRcdHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG4gXHRcdFx0XHR2YXIgcXVldWVJdGVtID0gcXVldWUucG9wKCk7XG4gXHRcdFx0XHR2YXIgbW9kdWxlSWQgPSBxdWV1ZUl0ZW0uaWQ7XG4gXHRcdFx0XHR2YXIgY2hhaW4gPSBxdWV1ZUl0ZW0uY2hhaW47XG4gXHRcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdGlmICghbW9kdWxlIHx8IG1vZHVsZS5ob3QuX3NlbGZBY2NlcHRlZCkgY29udGludWU7XG4gXHRcdFx0XHRpZiAobW9kdWxlLmhvdC5fc2VsZkRlY2xpbmVkKSB7XG4gXHRcdFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWRlY2xpbmVkXCIsXG4gXHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLFxuIFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZFxuIFx0XHRcdFx0XHR9O1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKG1vZHVsZS5ob3QuX21haW4pIHtcbiBcdFx0XHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdFx0XHR0eXBlOiBcInVuYWNjZXB0ZWRcIixcbiBcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4sXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkXG4gXHRcdFx0XHRcdH07XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG1vZHVsZS5wYXJlbnRzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0XHRcdHZhciBwYXJlbnRJZCA9IG1vZHVsZS5wYXJlbnRzW2ldO1xuIFx0XHRcdFx0XHR2YXIgcGFyZW50ID0gaW5zdGFsbGVkTW9kdWxlc1twYXJlbnRJZF07XG4gXHRcdFx0XHRcdGlmICghcGFyZW50KSBjb250aW51ZTtcbiBcdFx0XHRcdFx0aWYgKHBhcmVudC5ob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xuIFx0XHRcdFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRcdFx0XHR0eXBlOiBcImRlY2xpbmVkXCIsXG4gXHRcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4uY29uY2F0KFtwYXJlbnRJZF0pLFxuIFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRcdFx0cGFyZW50SWQ6IHBhcmVudElkXG4gXHRcdFx0XHRcdFx0fTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRpZiAob3V0ZGF0ZWRNb2R1bGVzLmluZGV4T2YocGFyZW50SWQpICE9PSAtMSkgY29udGludWU7XG4gXHRcdFx0XHRcdGlmIChwYXJlbnQuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRcdFx0XHRpZiAoIW91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSlcbiBcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSA9IFtdO1xuIFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSwgW21vZHVsZUlkXSk7XG4gXHRcdFx0XHRcdFx0Y29udGludWU7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0ZGVsZXRlIG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXTtcbiBcdFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzLnB1c2gocGFyZW50SWQpO1xuIFx0XHRcdFx0XHRxdWV1ZS5wdXNoKHtcbiBcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4uY29uY2F0KFtwYXJlbnRJZF0pLFxuIFx0XHRcdFx0XHRcdGlkOiBwYXJlbnRJZFxuIFx0XHRcdFx0XHR9KTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG5cbiBcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0dHlwZTogXCJhY2NlcHRlZFwiLFxuIFx0XHRcdFx0bW9kdWxlSWQ6IHVwZGF0ZU1vZHVsZUlkLFxuIFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzOiBvdXRkYXRlZE1vZHVsZXMsXG4gXHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llczogb3V0ZGF0ZWREZXBlbmRlbmNpZXNcbiBcdFx0XHR9O1xuIFx0XHR9XG5cbiBcdFx0ZnVuY3Rpb24gYWRkQWxsVG9TZXQoYSwgYikge1xuIFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkrKykge1xuIFx0XHRcdFx0dmFyIGl0ZW0gPSBiW2ldO1xuIFx0XHRcdFx0aWYgKGEuaW5kZXhPZihpdGVtKSA9PT0gLTEpIGEucHVzaChpdGVtKTtcbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBhdCBiZWdpbiBhbGwgdXBkYXRlcyBtb2R1bGVzIGFyZSBvdXRkYXRlZFxuIFx0XHQvLyB0aGUgXCJvdXRkYXRlZFwiIHN0YXR1cyBjYW4gcHJvcGFnYXRlIHRvIHBhcmVudHMgaWYgdGhleSBkb24ndCBhY2NlcHQgdGhlIGNoaWxkcmVuXG4gXHRcdHZhciBvdXRkYXRlZERlcGVuZGVuY2llcyA9IHt9O1xuIFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XG4gXHRcdHZhciBhcHBsaWVkVXBkYXRlID0ge307XG5cbiBcdFx0dmFyIHdhcm5VbmV4cGVjdGVkUmVxdWlyZSA9IGZ1bmN0aW9uIHdhcm5VbmV4cGVjdGVkUmVxdWlyZSgpIHtcbiBcdFx0XHRjb25zb2xlLndhcm4oXG4gXHRcdFx0XHRcIltITVJdIHVuZXhwZWN0ZWQgcmVxdWlyZShcIiArIHJlc3VsdC5tb2R1bGVJZCArIFwiKSB0byBkaXNwb3NlZCBtb2R1bGVcIlxuIFx0XHRcdCk7XG4gXHRcdH07XG5cbiBcdFx0Zm9yICh2YXIgaWQgaW4gaG90VXBkYXRlKSB7XG4gXHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xuIFx0XHRcdFx0bW9kdWxlSWQgPSB0b01vZHVsZUlkKGlkKTtcbiBcdFx0XHRcdC8qKiBAdHlwZSB7VE9ET30gKi9cbiBcdFx0XHRcdHZhciByZXN1bHQ7XG4gXHRcdFx0XHRpZiAoaG90VXBkYXRlW2lkXSkge1xuIFx0XHRcdFx0XHRyZXN1bHQgPSBnZXRBZmZlY3RlZFN0dWZmKG1vZHVsZUlkKTtcbiBcdFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHRcdHJlc3VsdCA9IHtcbiBcdFx0XHRcdFx0XHR0eXBlOiBcImRpc3Bvc2VkXCIsXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IGlkXG4gXHRcdFx0XHRcdH07XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHQvKiogQHR5cGUge0Vycm9yfGZhbHNlfSAqL1xuIFx0XHRcdFx0dmFyIGFib3J0RXJyb3IgPSBmYWxzZTtcbiBcdFx0XHRcdHZhciBkb0FwcGx5ID0gZmFsc2U7XG4gXHRcdFx0XHR2YXIgZG9EaXNwb3NlID0gZmFsc2U7XG4gXHRcdFx0XHR2YXIgY2hhaW5JbmZvID0gXCJcIjtcbiBcdFx0XHRcdGlmIChyZXN1bHQuY2hhaW4pIHtcbiBcdFx0XHRcdFx0Y2hhaW5JbmZvID0gXCJcXG5VcGRhdGUgcHJvcGFnYXRpb246IFwiICsgcmVzdWx0LmNoYWluLmpvaW4oXCIgLT4gXCIpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0c3dpdGNoIChyZXN1bHQudHlwZSkge1xuIFx0XHRcdFx0XHRjYXNlIFwic2VsZi1kZWNsaW5lZFwiOlxuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRGVjbGluZWQpIG9wdGlvbnMub25EZWNsaW5lZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVEZWNsaW5lZClcbiBcdFx0XHRcdFx0XHRcdGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXG4gXHRcdFx0XHRcdFx0XHRcdFwiQWJvcnRlZCBiZWNhdXNlIG9mIHNlbGYgZGVjbGluZTogXCIgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5tb2R1bGVJZCArXG4gXHRcdFx0XHRcdFx0XHRcdFx0Y2hhaW5JbmZvXG4gXHRcdFx0XHRcdFx0XHQpO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRjYXNlIFwiZGVjbGluZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkRlY2xpbmVkKSBvcHRpb25zLm9uRGVjbGluZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRGVjbGluZWQpXG4gXHRcdFx0XHRcdFx0XHRhYm9ydEVycm9yID0gbmV3IEVycm9yKFxuIFx0XHRcdFx0XHRcdFx0XHRcIkFib3J0ZWQgYmVjYXVzZSBvZiBkZWNsaW5lZCBkZXBlbmRlbmN5OiBcIiArXG4gXHRcdFx0XHRcdFx0XHRcdFx0cmVzdWx0Lm1vZHVsZUlkICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRcIiBpbiBcIiArXG4gXHRcdFx0XHRcdFx0XHRcdFx0cmVzdWx0LnBhcmVudElkICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRjaGFpbkluZm9cbiBcdFx0XHRcdFx0XHRcdCk7XG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHRcdGNhc2UgXCJ1bmFjY2VwdGVkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25VbmFjY2VwdGVkKSBvcHRpb25zLm9uVW5hY2NlcHRlZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVVbmFjY2VwdGVkKVxuIFx0XHRcdFx0XHRcdFx0YWJvcnRFcnJvciA9IG5ldyBFcnJvcihcbiBcdFx0XHRcdFx0XHRcdFx0XCJBYm9ydGVkIGJlY2F1c2UgXCIgKyBtb2R1bGVJZCArIFwiIGlzIG5vdCBhY2NlcHRlZFwiICsgY2hhaW5JbmZvXG4gXHRcdFx0XHRcdFx0XHQpO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRjYXNlIFwiYWNjZXB0ZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkFjY2VwdGVkKSBvcHRpb25zLm9uQWNjZXB0ZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRkb0FwcGx5ID0gdHJ1ZTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0Y2FzZSBcImRpc3Bvc2VkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25EaXNwb3NlZCkgb3B0aW9ucy5vbkRpc3Bvc2VkKHJlc3VsdCk7XG4gXHRcdFx0XHRcdFx0ZG9EaXNwb3NlID0gdHJ1ZTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0ZGVmYXVsdDpcbiBcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJVbmV4Y2VwdGlvbiB0eXBlIFwiICsgcmVzdWx0LnR5cGUpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKGFib3J0RXJyb3IpIHtcbiBcdFx0XHRcdFx0aG90U2V0U3RhdHVzKFwiYWJvcnRcIik7XG4gXHRcdFx0XHRcdHJldHVybiBQcm9taXNlLnJlamVjdChhYm9ydEVycm9yKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGlmIChkb0FwcGx5KSB7XG4gXHRcdFx0XHRcdGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdID0gaG90VXBkYXRlW21vZHVsZUlkXTtcbiBcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWRNb2R1bGVzLCByZXN1bHQub3V0ZGF0ZWRNb2R1bGVzKTtcbiBcdFx0XHRcdFx0Zm9yIChtb2R1bGVJZCBpbiByZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcbiBcdFx0XHRcdFx0XHRpZiAoXG4gXHRcdFx0XHRcdFx0XHRPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoXG4gXHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llcyxcbiBcdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWRcbiBcdFx0XHRcdFx0XHRcdClcbiBcdFx0XHRcdFx0XHQpIHtcbiBcdFx0XHRcdFx0XHRcdGlmICghb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKVxuIFx0XHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0gPSBbXTtcbiBcdFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KFxuIFx0XHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0sXG4gXHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF1cbiBcdFx0XHRcdFx0XHRcdCk7XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAoZG9EaXNwb3NlKSB7XG4gXHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkTW9kdWxlcywgW3Jlc3VsdC5tb2R1bGVJZF0pO1xuIFx0XHRcdFx0XHRhcHBsaWVkVXBkYXRlW21vZHVsZUlkXSA9IHdhcm5VbmV4cGVjdGVkUmVxdWlyZTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBTdG9yZSBzZWxmIGFjY2VwdGVkIG91dGRhdGVkIG1vZHVsZXMgdG8gcmVxdWlyZSB0aGVtIGxhdGVyIGJ5IHRoZSBtb2R1bGUgc3lzdGVtXG4gXHRcdHZhciBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMgPSBbXTtcbiBcdFx0Zm9yIChpID0gMDsgaSA8IG91dGRhdGVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdG1vZHVsZUlkID0gb3V0ZGF0ZWRNb2R1bGVzW2ldO1xuIFx0XHRcdGlmIChcbiBcdFx0XHRcdGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdICYmXG4gXHRcdFx0XHRpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZCAmJlxuIFx0XHRcdFx0Ly8gcmVtb3ZlZCBzZWxmLWFjY2VwdGVkIG1vZHVsZXMgc2hvdWxkIG5vdCBiZSByZXF1aXJlZFxuIFx0XHRcdFx0YXBwbGllZFVwZGF0ZVttb2R1bGVJZF0gIT09IHdhcm5VbmV4cGVjdGVkUmVxdWlyZVxuIFx0XHRcdCkge1xuIFx0XHRcdFx0b3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzLnB1c2goe1xuIFx0XHRcdFx0XHRtb2R1bGU6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRlcnJvckhhbmRsZXI6IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmhvdC5fc2VsZkFjY2VwdGVkXG4gXHRcdFx0XHR9KTtcbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBOb3cgaW4gXCJkaXNwb3NlXCIgcGhhc2VcbiBcdFx0aG90U2V0U3RhdHVzKFwiZGlzcG9zZVwiKTtcbiBcdFx0T2JqZWN0LmtleXMoaG90QXZhaWxhYmxlRmlsZXNNYXApLmZvckVhY2goZnVuY3Rpb24oY2h1bmtJZCkge1xuIFx0XHRcdGlmIChob3RBdmFpbGFibGVGaWxlc01hcFtjaHVua0lkXSA9PT0gZmFsc2UpIHtcbiBcdFx0XHRcdGhvdERpc3Bvc2VDaHVuayhjaHVua0lkKTtcbiBcdFx0XHR9XG4gXHRcdH0pO1xuXG4gXHRcdHZhciBpZHg7XG4gXHRcdHZhciBxdWV1ZSA9IG91dGRhdGVkTW9kdWxlcy5zbGljZSgpO1xuIFx0XHR3aGlsZSAocXVldWUubGVuZ3RoID4gMCkge1xuIFx0XHRcdG1vZHVsZUlkID0gcXVldWUucG9wKCk7XG4gXHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0aWYgKCFtb2R1bGUpIGNvbnRpbnVlO1xuXG4gXHRcdFx0dmFyIGRhdGEgPSB7fTtcblxuIFx0XHRcdC8vIENhbGwgZGlzcG9zZSBoYW5kbGVyc1xuIFx0XHRcdHZhciBkaXNwb3NlSGFuZGxlcnMgPSBtb2R1bGUuaG90Ll9kaXNwb3NlSGFuZGxlcnM7XG4gXHRcdFx0Zm9yIChqID0gMDsgaiA8IGRpc3Bvc2VIYW5kbGVycy5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0Y2IgPSBkaXNwb3NlSGFuZGxlcnNbal07XG4gXHRcdFx0XHRjYihkYXRhKTtcbiBcdFx0XHR9XG4gXHRcdFx0aG90Q3VycmVudE1vZHVsZURhdGFbbW9kdWxlSWRdID0gZGF0YTtcblxuIFx0XHRcdC8vIGRpc2FibGUgbW9kdWxlICh0aGlzIGRpc2FibGVzIHJlcXVpcmVzIGZyb20gdGhpcyBtb2R1bGUpXG4gXHRcdFx0bW9kdWxlLmhvdC5hY3RpdmUgPSBmYWxzZTtcblxuIFx0XHRcdC8vIHJlbW92ZSBtb2R1bGUgZnJvbSBjYWNoZVxuIFx0XHRcdGRlbGV0ZSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcblxuIFx0XHRcdC8vIHdoZW4gZGlzcG9zaW5nIHRoZXJlIGlzIG5vIG5lZWQgdG8gY2FsbCBkaXNwb3NlIGhhbmRsZXJcbiBcdFx0XHRkZWxldGUgb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xuXG4gXHRcdFx0Ly8gcmVtb3ZlIFwicGFyZW50c1wiIHJlZmVyZW5jZXMgZnJvbSBhbGwgY2hpbGRyZW5cbiBcdFx0XHRmb3IgKGogPSAwOyBqIDwgbW9kdWxlLmNoaWxkcmVuLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHR2YXIgY2hpbGQgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZS5jaGlsZHJlbltqXV07XG4gXHRcdFx0XHRpZiAoIWNoaWxkKSBjb250aW51ZTtcbiBcdFx0XHRcdGlkeCA9IGNoaWxkLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCk7XG4gXHRcdFx0XHRpZiAoaWR4ID49IDApIHtcbiBcdFx0XHRcdFx0Y2hpbGQucGFyZW50cy5zcGxpY2UoaWR4LCAxKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyByZW1vdmUgb3V0ZGF0ZWQgZGVwZW5kZW5jeSBmcm9tIG1vZHVsZSBjaGlsZHJlblxuIFx0XHR2YXIgZGVwZW5kZW5jeTtcbiBcdFx0dmFyIG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzO1xuIFx0XHRmb3IgKG1vZHVsZUlkIGluIG91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZClcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0aWYgKG1vZHVsZSkge1xuIFx0XHRcdFx0XHRtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyA9IG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdFx0Zm9yIChqID0gMDsgaiA8IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHRcdFx0ZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2pdO1xuIFx0XHRcdFx0XHRcdGlkeCA9IG1vZHVsZS5jaGlsZHJlbi5pbmRleE9mKGRlcGVuZGVuY3kpO1xuIFx0XHRcdFx0XHRcdGlmIChpZHggPj0gMCkgbW9kdWxlLmNoaWxkcmVuLnNwbGljZShpZHgsIDEpO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gTm93IGluIFwiYXBwbHlcIiBwaGFzZVxuIFx0XHRob3RTZXRTdGF0dXMoXCJhcHBseVwiKTtcblxuIFx0XHRob3RDdXJyZW50SGFzaCA9IGhvdFVwZGF0ZU5ld0hhc2g7XG5cbiBcdFx0Ly8gaW5zZXJ0IG5ldyBjb2RlXG4gXHRcdGZvciAobW9kdWxlSWQgaW4gYXBwbGllZFVwZGF0ZSkge1xuIFx0XHRcdGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYXBwbGllZFVwZGF0ZSwgbW9kdWxlSWQpKSB7XG4gXHRcdFx0XHRtb2R1bGVzW21vZHVsZUlkXSA9IGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIGNhbGwgYWNjZXB0IGhhbmRsZXJzXG4gXHRcdHZhciBlcnJvciA9IG51bGw7XG4gXHRcdGZvciAobW9kdWxlSWQgaW4gb3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG1vZHVsZUlkKVxuIFx0XHRcdCkge1xuIFx0XHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0XHRpZiAobW9kdWxlKSB7XG4gXHRcdFx0XHRcdG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID0gb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0XHR2YXIgY2FsbGJhY2tzID0gW107XG4gXHRcdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdFx0XHRcdGRlcGVuZGVuY3kgPSBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tpXTtcbiBcdFx0XHRcdFx0XHRjYiA9IG1vZHVsZS5ob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcGVuZGVuY3ldO1xuIFx0XHRcdFx0XHRcdGlmIChjYikge1xuIFx0XHRcdFx0XHRcdFx0aWYgKGNhbGxiYWNrcy5pbmRleE9mKGNiKSAhPT0gLTEpIGNvbnRpbnVlO1xuIFx0XHRcdFx0XHRcdFx0Y2FsbGJhY2tzLnB1c2goY2IpO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0XHRcdFx0Y2IgPSBjYWxsYmFja3NbaV07XG4gXHRcdFx0XHRcdFx0dHJ5IHtcbiBcdFx0XHRcdFx0XHRcdGNiKG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzKTtcbiBcdFx0XHRcdFx0XHR9IGNhdGNoIChlcnIpIHtcbiBcdFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XG4gXHRcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJhY2NlcHQtZXJyb3JlZFwiLFxuIFx0XHRcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcbiBcdFx0XHRcdFx0XHRcdFx0XHRkZXBlbmRlbmN5SWQ6IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2ldLFxuIFx0XHRcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnJcbiBcdFx0XHRcdFx0XHRcdFx0fSk7XG4gXHRcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGVycjtcbiBcdFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBMb2FkIHNlbGYgYWNjZXB0ZWQgbW9kdWxlc1xuIFx0XHRmb3IgKGkgPSAwOyBpIDwgb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0dmFyIGl0ZW0gPSBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXNbaV07XG4gXHRcdFx0bW9kdWxlSWQgPSBpdGVtLm1vZHVsZTtcbiBcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFttb2R1bGVJZF07XG4gXHRcdFx0dHJ5IHtcbiBcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpO1xuIFx0XHRcdH0gY2F0Y2ggKGVycikge1xuIFx0XHRcdFx0aWYgKHR5cGVvZiBpdGVtLmVycm9ySGFuZGxlciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gXHRcdFx0XHRcdHRyeSB7XG4gXHRcdFx0XHRcdFx0aXRlbS5lcnJvckhhbmRsZXIoZXJyKTtcbiBcdFx0XHRcdFx0fSBjYXRjaCAoZXJyMikge1xuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vbkVycm9yZWQoe1xuIFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcInNlbGYtYWNjZXB0LWVycm9yLWhhbmRsZXItZXJyb3JlZFwiLFxuIFx0XHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnIyLFxuIFx0XHRcdFx0XHRcdFx0XHRvcmlnaW5hbEVycm9yOiBlcnJcbiBcdFx0XHRcdFx0XHRcdH0pO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0aWYgKCFlcnJvcikgZXJyb3IgPSBlcnIyO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGVycjtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25FcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0b3B0aW9ucy5vbkVycm9yZWQoe1xuIFx0XHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWFjY2VwdC1lcnJvcmVkXCIsXG4gXHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdFx0XHRlcnJvcjogZXJyXG4gXHRcdFx0XHRcdFx0fSk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGVycjtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIGhhbmRsZSBlcnJvcnMgaW4gYWNjZXB0IGhhbmRsZXJzIGFuZCBzZWxmIGFjY2VwdGVkIG1vZHVsZSBsb2FkXG4gXHRcdGlmIChlcnJvcikge1xuIFx0XHRcdGhvdFNldFN0YXR1cyhcImZhaWxcIik7XG4gXHRcdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiBcdFx0fVxuXG4gXHRcdGhvdFNldFN0YXR1cyhcImlkbGVcIik7XG4gXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7XG4gXHRcdFx0cmVzb2x2ZShvdXRkYXRlZE1vZHVsZXMpO1xuIFx0XHR9KTtcbiBcdH1cblxuIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aG90OiBob3RDcmVhdGVNb2R1bGUobW9kdWxlSWQpLFxuIFx0XHRcdHBhcmVudHM6IChob3RDdXJyZW50UGFyZW50c1RlbXAgPSBob3RDdXJyZW50UGFyZW50cywgaG90Q3VycmVudFBhcmVudHMgPSBbXSwgaG90Q3VycmVudFBhcmVudHNUZW1wKSxcbiBcdFx0XHRjaGlsZHJlbjogW11cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgaG90Q3JlYXRlUmVxdWlyZShtb2R1bGVJZCkpO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIF9fd2VicGFja19oYXNoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18uaCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gaG90Q3VycmVudEhhc2g7IH07XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gaG90Q3JlYXRlUmVxdWlyZSgwKShfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImltcG9ydCB7IGdldFByZVNjaGVtYSB9IGZyb20gJy4vc2NoZW1hJztcbmltcG9ydCB7IERCUmF3T2JqZWN0IH0gZnJvbSAnLi9kYi1yYXctb2JqZWN0JztcbmltcG9ydCB7IERCQ3JlYXRlT2JqZWN0IH0gZnJvbSAnLi9kYi1jcmVhdGUtb2JqZWN0JztcbmltcG9ydCB7IFB5cm9PYmplY3RJZCB9IGZyb20gJy4vb2JqZWN0LWlkJztcbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5pbXBvcnQgeyB0b0RhdGUgfSBmcm9tICcuLi8uLi91dGlscyc7XG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgQ29sdW1uLCBQcmltYXJ5Q29sdW1uIH0gZnJvbSAndHlwZW9ybSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgREJPYmplY3RDbGFzcyBleHRlbmRzIEZ1bmN0aW9uIHtcblx0bW9kZWxOYW1lPzogc3RyaW5nO1xufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgREJPYmplY3Q8XG5cdFJhd09iamVjdCBleHRlbmRzIENyZWF0ZU9iamVjdCAmIERCUmF3T2JqZWN0LFxuXHRDcmVhdGVPYmplY3QgZXh0ZW5kcyBEQkNyZWF0ZU9iamVjdFxuPiBpbXBsZW1lbnRzIERCUmF3T2JqZWN0IHtcblx0Ly8gdG8gYWxsb3cgaW5mZXJyaW5nIHRoZSBnZW5lcmljIGFyZ3MgdHlwZXNcblx0cmVhZG9ubHkgQ3JlYXRlT2JqZWN0VFlQRTogQ3JlYXRlT2JqZWN0O1xuXG5cdC8vIHRvIGFsbG93IGluZmVycmluZyB0aGUgZ2VuZXJpYyBhcmdzIHR5cGVzXG5cdHJlYWRvbmx5IFJhd09iamVjdFRZUEU6IFJhd09iamVjdDtcblxuXHRzdGF0aWMgbW9kZWxOYW1lID0gJyc7XG5cblx0Y29uc3RydWN0b3Iob2JqOiBSYXdPYmplY3QpIHtcblx0XHRfLmFzc2lnbih0aGlzLCBvYmopO1xuXG5cdFx0aWYgKFxuXHRcdFx0bW9uZ29vc2UgIT0gbnVsbCAmJlxuXHRcdFx0bW9uZ29vc2UuVHlwZXMgIT0gbnVsbCAmJlxuXHRcdFx0bW9uZ29vc2UuVHlwZXMuT2JqZWN0SWQgIT0gbnVsbFxuXHRcdCkge1xuXHRcdFx0aWYgKG9iaiAmJiBvYmpbJ19pZCddKSB7XG5cdFx0XHRcdHRoaXNbJ19pZCddID0gbW9uZ29vc2UuVHlwZXMuT2JqZWN0SWQuY3JlYXRlRnJvbUhleFN0cmluZyhcblx0XHRcdFx0XHRvYmpbJ19pZCddLnRvU3RyaW5nKClcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRAUHJpbWFyeUNvbHVtbigpXG5cdF9pZDogUHlyb09iamVjdElkO1xuXG5cdC8qKlxuXHQgKiBUaW1lIHdoZW4gZW50aXR5IHdhcyBjcmVhdGVkXG5cdCAqIE5vdGU6IGNhbiBiZSBzdHJpbmcgdG9vIGJlY2F1c2Ugc2VuZCBpbiBzb2NrZXQgaW8uXG5cdCAqXG5cdCAqIEB0eXBlIHsoRGF0ZSB8IHN0cmluZyl9XG5cdCAqIEBtZW1iZXJvZiBEQk9iamVjdFxuXHQgKi9cblx0QENvbHVtbigpXG5cdF9jcmVhdGVkQXQ6IERhdGUgfCBzdHJpbmc7XG5cblx0LyoqXG5cdCAqIFRpbWUgd2hlbiBlbnRpdHkgd2FzIHVwZGF0ZWQgbGFzdCB0aW1lXG5cdCAqXG5cdCAqIEB0eXBlIHsoRGF0ZSB8IHN0cmluZyl9XG5cdCAqIEBtZW1iZXJvZiBEQk9iamVjdFxuXHQgKi9cblx0QENvbHVtbigpXG5cdF91cGRhdGVkQXQ6IERhdGUgfCBzdHJpbmc7XG5cblx0Z2V0IGNyZWF0ZWRBdCgpOiBEYXRlIHtcblx0XHRyZXR1cm4gdGhpcy5fY3JlYXRlZEF0ICE9IG51bGwgPyB0b0RhdGUodGhpcy5fY3JlYXRlZEF0KSA6IG51bGw7XG5cdH1cblxuXHRnZXQgdXBkYXRlZEF0KCk6IERhdGUge1xuXHRcdHJldHVybiB0aGlzLl91cGRhdGVkQXQgIT0gbnVsbCA/IHRvRGF0ZSh0aGlzLl91cGRhdGVkQXQpIDogbnVsbDtcblx0fVxuXG5cdGdldCBpZCgpOiBzdHJpbmcge1xuXHRcdHJldHVybiB0aGlzLl9pZC50b1N0cmluZygpO1xuXHR9XG5cblx0aXNFcXVhbChwOiB0aGlzKSB7XG5cdFx0Zm9yIChjb25zdCBwcm9wIGluIGdldFByZVNjaGVtYSh0aGlzLmNvbnN0cnVjdG9yIGFzIGFueSkpIHtcblx0XHRcdGlmICh0aGlzW3Byb3BdICE9PSBwW3Byb3BdKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxufVxuIiwiZXhwb3J0IHsgREJDcmVhdGVPYmplY3QgfSBmcm9tICcuL2RiLWNyZWF0ZS1vYmplY3QnO1xuZXhwb3J0IHsgREJPYmplY3QgfSBmcm9tICcuL2RiLW9iamVjdCc7XG5leHBvcnQgeyBEQlJhd09iamVjdCB9IGZyb20gJy4vZGItcmF3LW9iamVjdCc7XG5leHBvcnQgeyBNb2RlbE5hbWUgfSBmcm9tICcuL21vZGVsJztcbmV4cG9ydCB7IFB5cm9PYmplY3RJZCB9IGZyb20gJy4vb2JqZWN0LWlkJztcbmV4cG9ydCB7IFNjaGVtYSwgZ2V0U2NoZW1hLCBnZXRQcmVTY2hlbWEsIEluZGV4IH0gZnJvbSAnLi9zY2hlbWEnO1xuZXhwb3J0IHsgVHlwZXMgfSBmcm9tICcuL3R5cGVzJztcbiIsImltcG9ydCB7IERCT2JqZWN0Q2xhc3MgfSBmcm9tICcuL2RiLW9iamVjdCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBNb2RlbE5hbWUobmFtZTogc3RyaW5nKTogQ2xhc3NEZWNvcmF0b3Ige1xuXHRyZXR1cm4gKHRhcmdldDogREJPYmplY3RDbGFzcykgPT4ge1xuXHRcdHRhcmdldC5tb2RlbE5hbWUgPSBuYW1lO1xuXHR9O1xufVxuIiwiaW1wb3J0IHsgREJPYmplY3QsIERCT2JqZWN0Q2xhc3MgfSBmcm9tICcuL2RiLW9iamVjdCc7XG5pbXBvcnQgJ3JlZmxlY3QtbWV0YWRhdGEnO1xuaW1wb3J0ICogYXMgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgU2NoZW1hIGFzIE1vbmdvb3NlU2NoZW1hLCBTY2hlbWFEZWZpbml0aW9uIH0gZnJvbSAnbW9uZ29vc2UnO1xuXG5jb25zdCBtb25nb29zZVNjaGVtYXNLZXk6IHN0cmluZyA9ICdtb25nb29zZVNjaGVtYXMnO1xuY29uc3QgbW9uZ29vc2VJbmRleGVzS2V5OiBzdHJpbmcgPSAnbW9uZ29vc2VJbmRleGVzJztcblxuZXhwb3J0IGZ1bmN0aW9uIFNjaGVtYShzY2hlbWE6IGFueSk6IFByb3BlcnR5RGVjb3JhdG9yIHtcblx0cmV0dXJuICh0YXJnZXQ6IG9iamVjdCwgcHJvcGVydHlLZXk6IHN0cmluZyB8IHN5bWJvbCkgPT4ge1xuXHRcdGxldCBtb25nb29zZVNjaGVtYXMgPSBSZWZsZWN0LmdldE1ldGFkYXRhKFxuXHRcdFx0bW9uZ29vc2VTY2hlbWFzS2V5LFxuXHRcdFx0dGFyZ2V0LmNvbnN0cnVjdG9yXG5cdFx0KTtcblxuXHRcdGlmICh0eXBlb2YgbW9uZ29vc2VTY2hlbWFzID09PSAndW5kZWZpbmVkJyB8fCBtb25nb29zZVNjaGVtYXMgPT0gbnVsbCkge1xuXHRcdFx0bW9uZ29vc2VTY2hlbWFzID0ge307XG5cdFx0fVxuXG5cdFx0bW9uZ29vc2VTY2hlbWFzW3Byb3BlcnR5S2V5XSA9IHNjaGVtYTtcblxuXHRcdFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoXG5cdFx0XHRtb25nb29zZVNjaGVtYXNLZXksXG5cdFx0XHRtb25nb29zZVNjaGVtYXMsXG5cdFx0XHR0YXJnZXQuY29uc3RydWN0b3Jcblx0XHQpO1xuXHR9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gSW5kZXgodmFsdWU6IHN0cmluZyB8IG51bWJlcik6IFByb3BlcnR5RGVjb3JhdG9yIHtcblx0cmV0dXJuICh0YXJnZXQ6IG9iamVjdCwgcHJvcGVydHlLZXk6IHN0cmluZyB8IHN5bWJvbCkgPT4ge1xuXHRcdGxldCBpbmRleGVzT2JqID0gUmVmbGVjdC5nZXRNZXRhZGF0YShcblx0XHRcdG1vbmdvb3NlSW5kZXhlc0tleSxcblx0XHRcdHRhcmdldC5jb25zdHJ1Y3RvclxuXHRcdCk7XG5cblx0XHRpZiAodHlwZW9mIGluZGV4ZXNPYmogPT09ICd1bmRlZmluZWQnIHx8IGluZGV4ZXNPYmogPT0gbnVsbCkge1xuXHRcdFx0aW5kZXhlc09iaiA9IHt9O1xuXHRcdH1cblxuXHRcdGluZGV4ZXNPYmpbcHJvcGVydHlLZXldID0gdmFsdWU7XG5cblx0XHRSZWZsZWN0LmRlZmluZU1ldGFkYXRhKFxuXHRcdFx0bW9uZ29vc2VJbmRleGVzS2V5LFxuXHRcdFx0aW5kZXhlc09iaixcblx0XHRcdHRhcmdldC5jb25zdHJ1Y3RvclxuXHRcdCk7XG5cdH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQcmVTY2hlbWEoREJPYmo6IERCT2JqZWN0Q2xhc3MpOiBTY2hlbWFEZWZpbml0aW9uIHtcblx0Y29uc3QgbW9uZ29vc2VTY2hlbWFzID0gUmVmbGVjdC5nZXRNZXRhZGF0YShtb25nb29zZVNjaGVtYXNLZXksIERCT2JqKTtcblxuXHRpZiAobW9uZ29vc2VTY2hlbWFzICE9IG51bGwpIHtcblx0XHRyZXR1cm4gbW9uZ29vc2VTY2hlbWFzO1xuXHR9IGVsc2Uge1xuXHRcdHJldHVybiB7fTtcblx0fVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2NoZW1hKERCT2JqOiBEQk9iamVjdENsYXNzKTogTW9uZ29vc2VTY2hlbWEge1xuXHRjb25zdCBwcmVTY2hlbWEgPSBnZXRQcmVTY2hlbWEoREJPYmopO1xuXG5cdGNvbnN0IHNjaGVtYSA9IG5ldyBNb25nb29zZVNjaGVtYShwcmVTY2hlbWEsIHtcblx0XHR0aW1lc3RhbXBzOiB7XG5cdFx0XHRjcmVhdGVkQXQ6ICdfY3JlYXRlZEF0Jyxcblx0XHRcdHVwZGF0ZWRBdDogJ191cGRhdGVkQXQnLFxuXHRcdH0sXG5cdH0pO1xuXG5cdGNvbnN0IG1vbmdvb3NlSW5kZXhlcyA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEobW9uZ29vc2VJbmRleGVzS2V5LCBEQk9iaik7XG5cblx0aWYgKG1vbmdvb3NlSW5kZXhlcyAhPSBudWxsKSB7XG5cdFx0c2NoZW1hLmluZGV4KG1vbmdvb3NlSW5kZXhlcyk7XG5cdH1cblxuXHRfLmVhY2gocHJlU2NoZW1hLCAoU3ViVHlwZTogYW55LCBwcm9wZXJ0eSkgPT4ge1xuXHRcdGlmIChTdWJUeXBlLnByb3RvdHlwZSBpbnN0YW5jZW9mIERCT2JqZWN0KSB7XG5cdFx0XHQvLyBjaGVjayBpZiBTdWJUeXBlIGV4dGVuZHMgREJPYmplY3Rcblx0XHRcdF8uZWFjaChnZXRTY2hlbWEoU3ViVHlwZSkuaW5kZXhlcygpLCAoaW5kZXg6IGFueSkgPT4ge1xuXHRcdFx0XHRfLmVhY2goaW5kZXgsIChpbmRleFZhbHVlOiBhbnksIGluZGV4UHJvcGVydHk6IHN0cmluZykgPT4ge1xuXHRcdFx0XHRcdHNjaGVtYS5pbmRleCh7XG5cdFx0XHRcdFx0XHRbcHJvcGVydHkgKyAnLicgKyBpbmRleFByb3BlcnR5XTogaW5kZXhWYWx1ZSxcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH0pO1xuXG5cdHJldHVybiBzY2hlbWE7XG59XG4iLCJpbXBvcnQgeyBTY2hlbWEgfSBmcm9tICcuL3NjaGVtYSc7XG5cbmV4cG9ydCBjb25zdCBUeXBlcyA9IHtcblx0U3RyaW5nOiAocz86IHN0cmluZykgPT4ge1xuXHRcdGlmIChzID09IG51bGwpIHtcblx0XHRcdHJldHVybiBTY2hlbWEoeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gU2NoZW1hKHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiBzIH0pO1xuXHRcdH1cblx0fSxcblxuXHROdW1iZXI6IChuPzogbnVtYmVyKSA9PiB7XG5cdFx0aWYgKG4gPT0gbnVsbCkge1xuXHRcdFx0cmV0dXJuIFNjaGVtYSh7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWUgfSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBTY2hlbWEoeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IG4gfSk7XG5cdFx0fVxuXHR9LFxuXG5cdEJvb2xlYW46IChiPzogYm9vbGVhbikgPT4ge1xuXHRcdGlmIChiID09IG51bGwpIHtcblx0XHRcdHJldHVybiBTY2hlbWEoeyB0eXBlOiBCb29sZWFuLCByZXF1aXJlZDogdHJ1ZSB9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIFNjaGVtYSh7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGIgfSk7XG5cdFx0fVxuXHR9LFxuXG5cdERhdGU6IChkPzogbnVtYmVyIHwgKChuOiBudW1iZXIpID0+IHZvaWQpKSA9PiB7XG5cdFx0aWYgKGQgPT0gbnVsbCkge1xuXHRcdFx0cmV0dXJuIFNjaGVtYSh7IHR5cGU6IERhdGUsIHJlcXVpcmVkOiB0cnVlIH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gU2NoZW1hKHsgdHlwZTogRGF0ZSwgZGVmYXVsdDogZCB9KTtcblx0XHR9XG5cdH0sXG5cblx0UmVmKFR5cGU6IGFueSwgb3B0aW9uczogYW55ID0ge30pOiBQcm9wZXJ0eURlY29yYXRvciB7XG5cdFx0cmV0dXJuICh0YXJnZXQ6IG9iamVjdCwgcHJvcGVydHlLZXk6IHN0cmluZyB8IHN5bWJvbCkgPT4ge1xuXHRcdFx0Y29uc3QgbXVsdGkgPSBBcnJheS5pc0FycmF5KFR5cGUpO1xuXG5cdFx0XHRjb25zdCBvcCA9IHsgLi4ub3B0aW9ucyB9O1xuXHRcdFx0b3AudHlwZSA9IFN0cmluZztcblx0XHRcdG9wLnJlZiA9IChtdWx0aSA/IFR5cGVbMF0gOiBUeXBlKS5tb2RlbE5hbWU7XG5cblx0XHRcdFNjaGVtYShtdWx0aSA/IFtvcF0gOiBvcCkodGFyZ2V0LCBwcm9wZXJ0eUtleSk7XG5cdFx0fTtcblx0fSxcbn07XG4iLCJleHBvcnQgY29uc3QgY291bnRyaWVzID0ge1xuXHRBRDogJ0FuZG9ycmEnLFxuXHRBRTogJ1VuaXRlZCBBcmFiIEVtaXJhdGVzJyxcblx0QUY6ICdBZmdoYW5pc3RhbicsXG5cdEFHOiAnQW50aWd1YSBhbmQgQmFyYnVkYScsXG5cdEFJOiAnQW5ndWlsbGEnLFxuXHRBTDogJ0FsYmFuaWEnLFxuXHRBTTogJ0FybWVuaWEnLFxuXHRBTzogJ0FuZ29sYScsXG5cdEFROiAnQW50YXJjdGljYScsXG5cdEFSOiAnQXJnZW50aW5hJyxcblx0QVM6ICdBbWVyaWNhbiBTYW1vYScsXG5cdEFUOiAnQXVzdHJpYScsXG5cdEFVOiAnQXVzdHJhbGlhJyxcblx0QVc6ICdBcnViYScsXG5cdEFYOiAnw4VsYW5kJyxcblx0QVo6ICdBemVyYmFpamFuJyxcblx0QkE6ICdCb3NuaWEgYW5kIEhlcnplZ292aW5hJyxcblx0QkI6ICdCYXJiYWRvcycsXG5cdEJEOiAnQmFuZ2xhZGVzaCcsXG5cdEJFOiAnQmVsZ2l1bScsXG5cdEJGOiAnQnVya2luYSBGYXNvJyxcblx0Qkc6ICdCdWxnYXJpYScsXG5cdEJIOiAnQmFocmFpbicsXG5cdEJJOiAnQnVydW5kaScsXG5cdEJKOiAnQmVuaW4nLFxuXHRCTDogJ1NhaW50IEJhcnRow6lsZW15Jyxcblx0Qk06ICdCZXJtdWRhJyxcblx0Qk46ICdCcnVuZWknLFxuXHRCTzogJ0JvbGl2aWEnLFxuXHRCUTogJ0JvbmFpcmUnLFxuXHRCUjogJ0JyYXppbCcsXG5cdEJTOiAnQmFoYW1hcycsXG5cdEJUOiAnQmh1dGFuJyxcblx0QlY6ICdCb3V2ZXQgSXNsYW5kJyxcblx0Qlc6ICdCb3Rzd2FuYScsXG5cdEJZOiAnQmVsYXJ1cycsXG5cdEJaOiAnQmVsaXplJyxcblx0Q0E6ICdDYW5hZGEnLFxuXHRDQzogJ0NvY29zIFtLZWVsaW5nXSBJc2xhbmRzJyxcblx0Q0Q6ICdEZW1vY3JhdGljIFJlcHVibGljIG9mIHRoZSBDb25nbycsXG5cdENGOiAnQ2VudHJhbCBBZnJpY2FuIFJlcHVibGljJyxcblx0Q0c6ICdSZXB1YmxpYyBvZiB0aGUgQ29uZ28nLFxuXHRDSDogJ1N3aXR6ZXJsYW5kJyxcblx0Q0k6ICdJdm9yeSBDb2FzdCcsXG5cdENLOiAnQ29vayBJc2xhbmRzJyxcblx0Q0w6ICdDaGlsZScsXG5cdENNOiAnQ2FtZXJvb24nLFxuXHRDTjogJ0NoaW5hJyxcblx0Q086ICdDb2xvbWJpYScsXG5cdENSOiAnQ29zdGEgUmljYScsXG5cdENVOiAnQ3ViYScsXG5cdENWOiAnQ2FwZSBWZXJkZScsXG5cdENXOiAnQ3VyYWNhbycsXG5cdENYOiAnQ2hyaXN0bWFzIElzbGFuZCcsXG5cdENZOiAnQ3lwcnVzJyxcblx0Q1o6ICdDemVjaCBSZXB1YmxpYycsXG5cdERFOiAnR2VybWFueScsXG5cdERKOiAnRGppYm91dGknLFxuXHRESzogJ0Rlbm1hcmsnLFxuXHRETTogJ0RvbWluaWNhJyxcblx0RE86ICdEb21pbmljYW4gUmVwdWJsaWMnLFxuXHREWjogJ0FsZ2VyaWEnLFxuXHRFQzogJ0VjdWFkb3InLFxuXHRFRTogJ0VzdG9uaWEnLFxuXHRFRzogJ0VneXB0Jyxcblx0RUg6ICdXZXN0ZXJuIFNhaGFyYScsXG5cdEVSOiAnRXJpdHJlYScsXG5cdEVTOiAnU3BhaW4nLFxuXHRFVDogJ0V0aGlvcGlhJyxcblx0Rkk6ICdGaW5sYW5kJyxcblx0Rko6ICdGaWppJyxcblx0Rks6ICdGYWxrbGFuZCBJc2xhbmRzJyxcblx0Rk06ICdNaWNyb25lc2lhJyxcblx0Rk86ICdGYXJvZSBJc2xhbmRzJyxcblx0RlI6ICdGcmFuY2UnLFxuXHRHQTogJ0dhYm9uJyxcblx0R0I6ICdVbml0ZWQgS2luZ2RvbScsXG5cdEdEOiAnR3JlbmFkYScsXG5cdEdFOiAnR2VvcmdpYScsXG5cdEdGOiAnRnJlbmNoIEd1aWFuYScsXG5cdEdHOiAnR3Vlcm5zZXknLFxuXHRHSDogJ0doYW5hJyxcblx0R0k6ICdHaWJyYWx0YXInLFxuXHRHTDogJ0dyZWVubGFuZCcsXG5cdEdNOiAnR2FtYmlhJyxcblx0R046ICdHdWluZWEnLFxuXHRHUDogJ0d1YWRlbG91cGUnLFxuXHRHUTogJ0VxdWF0b3JpYWwgR3VpbmVhJyxcblx0R1I6ICdHcmVlY2UnLFxuXHRHUzogJ1NvdXRoIEdlb3JnaWEgYW5kIHRoZSBTb3V0aCBTYW5kd2ljaCBJc2xhbmRzJyxcblx0R1Q6ICdHdWF0ZW1hbGEnLFxuXHRHVTogJ0d1YW0nLFxuXHRHVzogJ0d1aW5lYS1CaXNzYXUnLFxuXHRHWTogJ0d1eWFuYScsXG5cdEhLOiAnSG9uZyBLb25nJyxcblx0SE06ICdIZWFyZCBJc2xhbmQgYW5kIE1jRG9uYWxkIElzbGFuZHMnLFxuXHRITjogJ0hvbmR1cmFzJyxcblx0SFI6ICdDcm9hdGlhJyxcblx0SFQ6ICdIYWl0aScsXG5cdEhVOiAnSHVuZ2FyeScsXG5cdElEOiAnSW5kb25lc2lhJyxcblx0SUU6ICdJcmVsYW5kJyxcblx0SUw6ICdJc3JhZWwnLFxuXHRJTTogJ0lzbGUgb2YgTWFuJyxcblx0SU46ICdJbmRpYScsXG5cdElPOiAnQnJpdGlzaCBJbmRpYW4gT2NlYW4gVGVycml0b3J5Jyxcblx0SVE6ICdJcmFxJyxcblx0SVI6ICdJcmFuJyxcblx0SVM6ICdJY2VsYW5kJyxcblx0SVQ6ICdJdGFseScsXG5cdEpFOiAnSmVyc2V5Jyxcblx0Sk06ICdKYW1haWNhJyxcblx0Sk86ICdKb3JkYW4nLFxuXHRKUDogJ0phcGFuJyxcblx0S0U6ICdLZW55YScsXG5cdEtHOiAnS3lyZ3l6c3RhbicsXG5cdEtIOiAnQ2FtYm9kaWEnLFxuXHRLSTogJ0tpcmliYXRpJyxcblx0S006ICdDb21vcm9zJyxcblx0S046ICdTYWludCBLaXR0cyBhbmQgTmV2aXMnLFxuXHRLUDogJ05vcnRoIEtvcmVhJyxcblx0S1I6ICdTb3V0aCBLb3JlYScsXG5cdEtXOiAnS3V3YWl0Jyxcblx0S1k6ICdDYXltYW4gSXNsYW5kcycsXG5cdEtaOiAnS2F6YWtoc3RhbicsXG5cdExBOiAnTGFvcycsXG5cdExCOiAnTGViYW5vbicsXG5cdExDOiAnU2FpbnQgTHVjaWEnLFxuXHRMSTogJ0xpZWNodGVuc3RlaW4nLFxuXHRMSzogJ1NyaSBMYW5rYScsXG5cdExSOiAnTGliZXJpYScsXG5cdExTOiAnTGVzb3RobycsXG5cdExUOiAnTGl0aHVhbmlhJyxcblx0TFU6ICdMdXhlbWJvdXJnJyxcblx0TFY6ICdMYXR2aWEnLFxuXHRMWTogJ0xpYnlhJyxcblx0TUE6ICdNb3JvY2NvJyxcblx0TUM6ICdNb25hY28nLFxuXHRNRDogJ01vbGRvdmEnLFxuXHRNRTogJ01vbnRlbmVncm8nLFxuXHRNRjogJ1NhaW50IE1hcnRpbicsXG5cdE1HOiAnTWFkYWdhc2NhcicsXG5cdE1IOiAnTWFyc2hhbGwgSXNsYW5kcycsXG5cdE1LOiAnTWFjZWRvbmlhJyxcblx0TUw6ICdNYWxpJyxcblx0TU06ICdNeWFubWFyIFtCdXJtYV0nLFxuXHRNTjogJ01vbmdvbGlhJyxcblx0TU86ICdNYWNhbycsXG5cdE1QOiAnTm9ydGhlcm4gTWFyaWFuYSBJc2xhbmRzJyxcblx0TVE6ICdNYXJ0aW5pcXVlJyxcblx0TVI6ICdNYXVyaXRhbmlhJyxcblx0TVM6ICdNb250c2VycmF0Jyxcblx0TVQ6ICdNYWx0YScsXG5cdE1VOiAnTWF1cml0aXVzJyxcblx0TVY6ICdNYWxkaXZlcycsXG5cdE1XOiAnTWFsYXdpJyxcblx0TVg6ICdNZXhpY28nLFxuXHRNWTogJ01hbGF5c2lhJyxcblx0TVo6ICdNb3phbWJpcXVlJyxcblx0TkE6ICdOYW1pYmlhJyxcblx0TkM6ICdOZXcgQ2FsZWRvbmlhJyxcblx0TkU6ICdOaWdlcicsXG5cdE5GOiAnTm9yZm9sayBJc2xhbmQnLFxuXHRORzogJ05pZ2VyaWEnLFxuXHROSTogJ05pY2FyYWd1YScsXG5cdE5MOiAnTmV0aGVybGFuZHMnLFxuXHROTzogJ05vcndheScsXG5cdE5QOiAnTmVwYWwnLFxuXHROUjogJ05hdXJ1Jyxcblx0TlU6ICdOaXVlJyxcblx0Tlo6ICdOZXcgWmVhbGFuZCcsXG5cdE9NOiAnT21hbicsXG5cdFBBOiAnUGFuYW1hJyxcblx0UEU6ICdQZXJ1Jyxcblx0UEY6ICdGcmVuY2ggUG9seW5lc2lhJyxcblx0UEc6ICdQYXB1YSBOZXcgR3VpbmVhJyxcblx0UEg6ICdQaGlsaXBwaW5lcycsXG5cdFBLOiAnUGFraXN0YW4nLFxuXHRQTDogJ1BvbGFuZCcsXG5cdFBNOiAnU2FpbnQgUGllcnJlIGFuZCBNaXF1ZWxvbicsXG5cdFBOOiAnUGl0Y2Fpcm4gSXNsYW5kcycsXG5cdFBSOiAnUHVlcnRvIFJpY28nLFxuXHRQUzogJ1BhbGVzdGluZScsXG5cdFBUOiAnUG9ydHVnYWwnLFxuXHRQVzogJ1BhbGF1Jyxcblx0UFk6ICdQYXJhZ3VheScsXG5cdFFBOiAnUWF0YXInLFxuXHRSRTogJ1LDqXVuaW9uJyxcblx0Uk86ICdSb21hbmlhJyxcblx0UlM6ICdTZXJiaWEnLFxuXHRSVTogJ1J1c3NpYScsXG5cdFJXOiAnUndhbmRhJyxcblx0U0E6ICdTYXVkaSBBcmFiaWEnLFxuXHRTQjogJ1NvbG9tb24gSXNsYW5kcycsXG5cdFNDOiAnU2V5Y2hlbGxlcycsXG5cdFNEOiAnU3VkYW4nLFxuXHRTRTogJ1N3ZWRlbicsXG5cdFNHOiAnU2luZ2Fwb3JlJyxcblx0U0g6ICdTYWludCBIZWxlbmEnLFxuXHRTSTogJ1Nsb3ZlbmlhJyxcblx0U0o6ICdTdmFsYmFyZCBhbmQgSmFuIE1heWVuJyxcblx0U0s6ICdTbG92YWtpYScsXG5cdFNMOiAnU2llcnJhIExlb25lJyxcblx0U006ICdTYW4gTWFyaW5vJyxcblx0U046ICdTZW5lZ2FsJyxcblx0U086ICdTb21hbGlhJyxcblx0U1I6ICdTdXJpbmFtZScsXG5cdFNTOiAnU291dGggU3VkYW4nLFxuXHRTVDogJ1PDo28gVG9tw6kgYW5kIFByw61uY2lwZScsXG5cdFNWOiAnRWwgU2FsdmFkb3InLFxuXHRTWDogJ1NpbnQgTWFhcnRlbicsXG5cdFNZOiAnU3lyaWEnLFxuXHRTWjogJ1N3YXppbGFuZCcsXG5cdFRDOiAnVHVya3MgYW5kIENhaWNvcyBJc2xhbmRzJyxcblx0VEQ6ICdDaGFkJyxcblx0VEY6ICdGcmVuY2ggU291dGhlcm4gVGVycml0b3JpZXMnLFxuXHRURzogJ1RvZ28nLFxuXHRUSDogJ1RoYWlsYW5kJyxcblx0VEo6ICdUYWppa2lzdGFuJyxcblx0VEs6ICdUb2tlbGF1Jyxcblx0VEw6ICdFYXN0IFRpbW9yJyxcblx0VE06ICdUdXJrbWVuaXN0YW4nLFxuXHRUTjogJ1R1bmlzaWEnLFxuXHRUTzogJ1RvbmdhJyxcblx0VFI6ICdUdXJrZXknLFxuXHRUVDogJ1RyaW5pZGFkIGFuZCBUb2JhZ28nLFxuXHRUVjogJ1R1dmFsdScsXG5cdFRXOiAnVGFpd2FuJyxcblx0VFo6ICdUYW56YW5pYScsXG5cdFVBOiAnVWtyYWluZScsXG5cdFVHOiAnVWdhbmRhJyxcblx0VU06ICdVLlMuIE1pbm9yIE91dGx5aW5nIElzbGFuZHMnLFxuXHRVUzogJ1VuaXRlZCBTdGF0ZXMnLFxuXHRVWTogJ1VydWd1YXknLFxuXHRVWjogJ1V6YmVraXN0YW4nLFxuXHRWQTogJ1ZhdGljYW4gQ2l0eScsXG5cdFZDOiAnU2FpbnQgVmluY2VudCBhbmQgdGhlIEdyZW5hZGluZXMnLFxuXHRWRTogJ1ZlbmV6dWVsYScsXG5cdFZHOiAnQnJpdGlzaCBWaXJnaW4gSXNsYW5kcycsXG5cdFZJOiAnVS5TLiBWaXJnaW4gSXNsYW5kcycsXG5cdFZOOiAnVmlldG5hbScsXG5cdFZVOiAnVmFudWF0dScsXG5cdFdGOiAnV2FsbGlzIGFuZCBGdXR1bmEnLFxuXHRXUzogJ1NhbW9hJyxcblx0WEs6ICdLb3Nvdm8nLFxuXHRZRTogJ1llbWVuJyxcblx0WVQ6ICdNYXlvdHRlJyxcblx0WkE6ICdTb3V0aCBBZnJpY2EnLFxuXHRaTTogJ1phbWJpYScsXG5cdFpXOiAnWmltYmFid2UnLFxufTtcbiIsImltcG9ydCB7IERCT2JqZWN0LCBNb2RlbE5hbWUgfSBmcm9tICcuLi9AcHlyby9kYic7XG5pbXBvcnQgSUFkbWluLCB7IElBZG1pbkNyZWF0ZU9iamVjdCB9IGZyb20gJy4uL2ludGVyZmFjZXMvSUFkbWluJztcbmltcG9ydCB7IFNjaGVtYSwgVHlwZXMgfSBmcm9tICdAcHlyby9kYic7XG5pbXBvcnQgeyBFbnRpdHksIENvbHVtbiB9IGZyb20gJ3R5cGVvcm0nO1xuXG4vKipcbiAqIFJlZ2lzdGVyZWQgQWRtaW4gVXNlcnMgKGUuZy4gQWRtaW5pc3RyYXRvcnMpXG4gKiBUT0RPOiB3aWxsIGJlIHJlbmFtZWQgdG8gXCJVc2Vyc1wiIChhZnRlciB3ZSByZW5hbWUgXCJVc2Vyc1wiIHRvIFwiQ3VzdG9tZXJzXCIpXG4gKiBOb3RlOiBub3QgcmVsYXRlZCB0byBDdXN0b21lcnMhXG4gKlxuICogQGNsYXNzIEFkbWluXG4gKiBAZXh0ZW5kcyB7REJPYmplY3Q8SUFkbWluLCBJQWRtaW5DcmVhdGVPYmplY3Q+fVxuICogQGltcGxlbWVudHMge0lBZG1pbn1cbiAqL1xuQE1vZGVsTmFtZSgnQWRtaW4nKVxuQEVudGl0eSh7IG5hbWU6ICdhZG1pbnMnIH0pXG5jbGFzcyBBZG1pbiBleHRlbmRzIERCT2JqZWN0PElBZG1pbiwgSUFkbWluQ3JlYXRlT2JqZWN0PiBpbXBsZW1lbnRzIElBZG1pbiB7XG5cdC8qKlxuXHQgKiBVc2VyIEVtYWlsXG5cdCAqXG5cdCAqIEB0eXBlIHtzdHJpbmd9XG5cdCAqIEBtZW1iZXJvZiBBZG1pblxuXHQgKi9cblx0QFNjaGVtYSh7IHR5cGU6IFN0cmluZywgdW5pcXVlOiB0cnVlIH0pXG5cdEBUeXBlcy5TdHJpbmcoKVxuXHRAQ29sdW1uKClcblx0ZW1haWw6IHN0cmluZztcblxuXHQvKipcblx0ICogVXNlcm5hbWVcblx0ICpcblx0ICogQHR5cGUge3N0cmluZ31cblx0ICogQG1lbWJlcm9mIEFkbWluXG5cdCAqL1xuXHRAVHlwZXMuU3RyaW5nKClcblx0QENvbHVtbigpXG5cdG5hbWU6IHN0cmluZztcblxuXHQvKipcblx0ICogUGFzc3dvcmQgaGFzaFxuXHQgKlxuXHQgKiBAdHlwZSB7c3RyaW5nfVxuXHQgKiBAbWVtYmVyb2YgQWRtaW5cblx0ICovXG5cdEBTY2hlbWEoeyB0eXBlOiBTdHJpbmcsIHNlbGVjdDogZmFsc2UgfSlcblx0QFR5cGVzLlN0cmluZygpXG5cdEBDb2x1bW4oKVxuXHRoYXNoOiBzdHJpbmc7XG5cblx0LyoqXG5cdCAqIFVzZXIgUGljdHVyZSAoQXZhdGFyKSBVcmxcblx0ICpcblx0ICogQHR5cGUge3N0cmluZ31cblx0ICogQG1lbWJlcm9mIEFkbWluXG5cdCAqL1xuXHRAVHlwZXMuU3RyaW5nKClcblx0QENvbHVtbigpXG5cdHBpY3R1cmVVcmw6IHN0cmluZztcblxuXHQvKipcblx0ICogSXMgVXNlciBSZW1vdmVkIChEZWxldGVkKVxuXHQgKlxuXHQgKiBAdHlwZSB7Ym9vbGVhbn1cblx0ICogQG1lbWJlcm9mIEFkbWluXG5cdCAqL1xuXHRAVHlwZXMuQm9vbGVhbihmYWxzZSlcblx0QENvbHVtbigpXG5cdGlzRGVsZXRlZDogYm9vbGVhbjtcblxuXHQvKipcblx0ICogVXNlciBGaXJzdCBOYW1lXG5cdCAqXG5cdCAqIEB0eXBlIHtzdHJpbmd9XG5cdCAqIEBtZW1iZXJvZiBBZG1pblxuXHQgKi9cblx0QFNjaGVtYSh7XG5cdFx0dHlwZTogU3RyaW5nLFxuXHRcdHJlcXVpcmVkOiBmYWxzZSxcblx0XHR2YWxpZGF0ZTogbmV3IFJlZ0V4cChgXlthLXogLC4nLV0rJGAsICdpJyksXG5cdH0pXG5cdEBDb2x1bW4oKVxuXHRmaXJzdE5hbWU/OiBzdHJpbmc7XG5cblx0LyoqXG5cdCAqIFVzZXIgTGFzdCBOYW1lXG5cdCAqXG5cdCAqIEB0eXBlIHtzdHJpbmd9XG5cdCAqIEBtZW1iZXJvZiBBZG1pblxuXHQgKi9cblx0QFNjaGVtYSh7XG5cdFx0dHlwZTogU3RyaW5nLFxuXHRcdHJlcXVpcmVkOiBmYWxzZSxcblx0XHR2YWxpZGF0ZTogbmV3IFJlZ0V4cChgXlthLXogLC4nLV0rJGAsICdpJyksXG5cdH0pXG5cdEBDb2x1bW4oKVxuXHRsYXN0TmFtZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGRlZmF1bHQgQWRtaW47XG4iLCJpbXBvcnQgQ2FycmllclN0YXR1cyBmcm9tICcuLi9lbnVtcy9DYXJyaWVyU3RhdHVzJztcbmltcG9ydCBHZW9Mb2NhdGlvbiBmcm9tICcuL0dlb0xvY2F0aW9uJztcbmltcG9ydCB7IERCT2JqZWN0LCBnZXRTY2hlbWEsIE1vZGVsTmFtZSwgU2NoZW1hLCBUeXBlcyB9IGZyb20gJy4uL0BweXJvL2RiJztcbmltcG9ydCBJQ2FycmllciwgeyBJQ2FycmllckNyZWF0ZU9iamVjdCB9IGZyb20gJy4uL2ludGVyZmFjZXMvSUNhcnJpZXInO1xuaW1wb3J0IHsgRW50aXR5LCBDb2x1bW4gfSBmcm9tICd0eXBlb3JtJztcblxuLyoqXG4gKiBDYXJyaWVycyAoRHJpdmVycywgcGVvcGxlIG9yIG9yZ2FuaXphdGlvbnMgd2hpY2ggZGVsaXZlciBwcm9kdWN0cyB0byBjdXN0b21lcnMpXG4gKlxuICogQGNsYXNzIENhcnJpZXJcbiAqIEBleHRlbmRzIHtEQk9iamVjdDxJQ2FycmllciwgSUNhcnJpZXJDcmVhdGVPYmplY3Q+fVxuICogQGltcGxlbWVudHMge0lDYXJyaWVyfVxuICovXG5ATW9kZWxOYW1lKCdDYXJyaWVyJylcbkBFbnRpdHkoeyBuYW1lOiAnY2FycmllcnMnIH0pXG5jbGFzcyBDYXJyaWVyIGV4dGVuZHMgREJPYmplY3Q8SUNhcnJpZXIsIElDYXJyaWVyQ3JlYXRlT2JqZWN0PlxuXHRpbXBsZW1lbnRzIElDYXJyaWVyIHtcblx0Y29uc3RydWN0b3IoY2FycmllcjogSUNhcnJpZXIpIHtcblx0XHRzdXBlcihjYXJyaWVyKTtcblxuXHRcdGlmIChjYXJyaWVyICYmIGNhcnJpZXIuZ2VvTG9jYXRpb24pIHtcblx0XHRcdHRoaXMuZ2VvTG9jYXRpb24gPSBuZXcgR2VvTG9jYXRpb24oY2Fycmllci5nZW9Mb2NhdGlvbik7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEZpcnN0IE5hbWUgKHJlcXVpcmVkKVxuXHQgKlxuXHQgKiBAdHlwZSB7c3RyaW5nfVxuXHQgKiBAbWVtYmVyb2YgQ2FycmllclxuXHQgKi9cblx0QFNjaGVtYSh7XG5cdFx0dHlwZTogU3RyaW5nLFxuXHRcdHJlcXVpcmVkOiB0cnVlLFxuXHRcdHZhbGlkYXRlOiBuZXcgUmVnRXhwKGBeW2EteiAsLictXSskYCwgJ2knKSxcblx0fSlcblx0QENvbHVtbigpXG5cdGZpcnN0TmFtZTogc3RyaW5nO1xuXG5cdC8qKlxuXHQgKiBMYXN0IE5hbWUgKHJlcXVpcmVkKVxuXHQgKlxuXHQgKiBAdHlwZSB7c3RyaW5nfVxuXHQgKiBAbWVtYmVyb2YgQ2FycmllclxuXHQgKi9cblx0QFNjaGVtYSh7XG5cdFx0dHlwZTogU3RyaW5nLFxuXHRcdHJlcXVpcmVkOiB0cnVlLFxuXHRcdHZhbGlkYXRlOiBuZXcgUmVnRXhwKGBeW2EteiAsLictXSskYCwgJ2knKSxcblx0fSlcblx0QENvbHVtbigpXG5cdGxhc3ROYW1lOiBzdHJpbmc7XG5cblx0LyoqXG5cdCAqIEhvdyBtYW55IGRlbGl2ZXJpZXMgdG90YWxseSB0aGlzIGNhcnJpZXIgbWFkZVxuXHQgKlxuXHQgKiBAdHlwZSB7bnVtYmVyfVxuXHQgKiBAbWVtYmVyb2YgQ2FycmllclxuXHQgKi9cblx0QFR5cGVzLk51bWJlcigwKVxuXHRAQ29sdW1uKClcblx0bnVtYmVyT2ZEZWxpdmVyaWVzOiBudW1iZXI7XG5cblx0LyoqXG5cdCAqIEN1cnJlbnQgbG9jYXRpb24gb2YgdGhlIENhcnJpZXIgKHVwZGF0ZWQgcGVyaW9kaWNhbGx5IGR1cmluZyBjYXJyaWVyIG1vdmVtZW50cylcblx0ICpcblx0ICogQHR5cGUge0dlb0xvY2F0aW9ufVxuXHQgKiBAbWVtYmVyb2YgQ2FycmllclxuXHQgKi9cblx0QFNjaGVtYShnZXRTY2hlbWEoR2VvTG9jYXRpb24pKVxuXHRnZW9Mb2NhdGlvbjogR2VvTG9jYXRpb247XG5cblx0LyoqXG5cdCAqIEN1cnJlbnQgQXBhcnRtZW50IChpZiBjYXJyaWVyIGxvY2F0ZWQgaW4gc29tZSBhcHBhcnRtZW50IGF0IHRoZSBtb21lbnQpXG5cdCAqXG5cdCAqIEB0eXBlIHtzdHJpbmd9XG5cdCAqIEBtZW1iZXJvZiBDYXJyaWVyXG5cdCAqL1xuXHRAU2NoZW1hKFN0cmluZylcblx0QENvbHVtbigpXG5cdGFwYXJ0bWVudD86IHN0cmluZztcblxuXHQvKipcblx0ICogSXMgQ2FycmllciBBY3RpdmUgYXQgdGhlIG1vbWVudCBpbiB0aGUgc3lzdGVtXG5cdCAqIFZhbHVlICdUcnVlJyBtZWFucyBjYXJyaWVyIGVuYWJsZWQgaW4gc3lzdGVtLFxuXHQgKiBWYWx1ZSAnRmFsc2UnIG1lYW5zIGNhcnJpZXIgY29tcGxldGVseSBkaXNhYmxlZCBpbiB0aGUgc3lzdGVtIChlLmcuIHdhcyBmaXJlZClcblx0ICogVGhpcyBzZXR0aW5nIGlzIHNldCBieSBBZG1pbixcblx0ICogbm90IGJ5IGNhcnJpZXIgaXRzZWxmIChoZS9zaGUgc2V0ICdzdGF0dXMnIGZpZWxkIGluc3RlYWQgaW4gdGhlIGNhcnJpZXIgbW9iaWxlIGFwcClcblx0ICogQHR5cGUge2Jvb2xlYW59XG5cdCAqIEBtZW1iZXJvZiBDYXJyaWVyXG5cdCAqL1xuXHRAVHlwZXMuQm9vbGVhbih0cnVlKVxuXHRAQ29sdW1uKClcblx0aXNBY3RpdmU6IGJvb2xlYW47XG5cblx0LyoqXG5cdCAqIElzIENhcnJpZXIgcmVtb3ZlZCBjb21wbGV0ZWx5IGZyb20gdGhlIHN5c3RlbVxuXHQgKlxuXHQgKiBAdHlwZSB7Ym9vbGVhbn1cblx0ICogQG1lbWJlcm9mIENhcnJpZXJcblx0ICovXG5cdEBUeXBlcy5Cb29sZWFuKGZhbHNlKVxuXHRAQ29sdW1uKClcblx0aXNEZWxldGVkOiBib29sZWFuO1xuXG5cdC8qKlxuXHQgKiBDdXJyZW50IGNhcnJpZXIgc3RhdHVzIChzZXQgdmlhIGhpcyBtb2JpbGUgYXBwKSwgZS5nLiBPbmxpbmUgb3IgT2ZmbGluZVxuXHQgKlxuXHQgKiBAdHlwZSB7Q2FycmllclN0YXR1c31cblx0ICogQG1lbWJlcm9mIENhcnJpZXJcblx0ICovXG5cdEBUeXBlcy5OdW1iZXIoQ2FycmllclN0YXR1cy5PZmZsaW5lKVxuXHRAQ29sdW1uKClcblx0c3RhdHVzOiBDYXJyaWVyU3RhdHVzO1xuXG5cdC8qKlxuXHQgKiBVbmlxdWUgQ2FycmllciB1c2VybmFtZSwgd2hpY2ggdXNlZCBmb3IgQXV0aGVudGljYXRpb24gb2YgdGhlIENhcnJpZXIgaW4gdGhlIGFwcFxuXHQgKlxuXHQgKiBAdHlwZSB7c3RyaW5nfVxuXHQgKiBAbWVtYmVyb2YgQ2FycmllclxuXHQgKi9cblx0QFNjaGVtYSh7IHR5cGU6IFN0cmluZywgdW5pcXVlOiB0cnVlLCByZXF1aXJlZDogdHJ1ZSB9KVxuXHRAQ29sdW1uKClcblx0dXNlcm5hbWU6IHN0cmluZztcblxuXHQvKipcblx0ICogU2hvd3MgaWYgY2FycmllciBpcyBzaGFyZWQgb3IgYXNzaWduZWQgdG8gc29tZSBzdG9yZVxuXHQgKlxuXHQgKiBAdHlwZSB7Ym9vbGVhbn1cblx0ICogQG1lbWJlcm9mIENhcnJpZXJcblx0ICovXG5cdEBTY2hlbWEoeyB0eXBlOiBCb29sZWFuLCByZXF1aXJlZDogZmFsc2UgfSlcblx0QENvbHVtbigpXG5cdHNoYXJlZDogYm9vbGVhbjtcblxuXHQvKipcblx0ICogSGFzaGVkIHBhc3N3b3JkXG5cdCAqXG5cdCAqIEB0eXBlIHtzdHJpbmd9XG5cdCAqIEBtZW1iZXJvZiBDYXJyaWVyXG5cdCAqL1xuXHRAU2NoZW1hKHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogZmFsc2UsIHNlbGVjdDogZmFsc2UgfSlcblx0QENvbHVtbigpXG5cdGhhc2g/OiBzdHJpbmc7XG5cblx0LyoqXG5cdCAqIENhcnJpZXIgUGhvbmUgbnVtYmVyICh1c3VhbGx5IG1vYmlsZSBwaG9uZSlcblx0ICpcblx0ICogQHR5cGUge3N0cmluZ31cblx0ICogQG1lbWJlcm9mIENhcnJpZXJcblx0ICovXG5cdEBUeXBlcy5TdHJpbmcoKVxuXHRAQ29sdW1uKClcblx0cGhvbmU6IHN0cmluZztcblxuXHQvKipcblx0ICogVVJMIGZvciBMb2dvIChicmFuZCBpbWFnZSkgb3IgQXZhdGFyIG9mIHRoZSBDYXJyaWVyXG5cdCAqXG5cdCAqIEB0eXBlIHtzdHJpbmd9XG5cdCAqIEBtZW1iZXJvZiBDYXJyaWVyXG5cdCAqL1xuXHRAU2NoZW1hKHtcblx0XHR0eXBlOiBTdHJpbmcsXG5cdFx0cmVxdWlyZWQ6IHRydWUsXG5cdFx0dmFsaWRhdGU6IG5ldyBSZWdFeHAoXG5cdFx0XHRgKGh0dHAocz8pOilzPzo/KFxcL1xcL1teXCInXSpcXC4oPzpwbmd8anBnfGpwZWd8Z2lmfHBuZ3xzdmcpKWBcblx0XHQpLFxuXHR9KVxuXHRAQ29sdW1uKClcblx0bG9nbzogc3RyaW5nO1xuXG5cdC8qKlxuXHQgKiBDYXJyaWVyIGVtYWlsIChvcHRpb25hbClcblx0ICpcblx0ICogQHR5cGUge3N0cmluZ31cblx0ICogQG1lbWJlcm9mIENhcnJpZXJcblx0ICovXG5cdEBTY2hlbWEoe1xuXHRcdHR5cGU6IFN0cmluZyxcblx0XHRyZXF1aXJlZDogZmFsc2UsXG5cdFx0c3BhcnNlOiB0cnVlLFxuXHRcdHVuaXF1ZTogdHJ1ZSxcblx0fSlcblx0QENvbHVtbigpXG5cdGVtYWlsOiBzdHJpbmc7XG5cblx0QFNjaGVtYShbU3RyaW5nXSlcblx0QENvbHVtbigpXG5cdHNraXBwZWRPcmRlcklkczogc3RyaW5nW107XG5cblx0LyoqXG5cdCAqIEhvdyBtYW55IGRlbGl2ZXJpZXMgY2FycmllciBtYWRlIHRvZGF5XG5cdCAqIFRPRE86IGltcGxlbWVudCBjYWxjdWxhdGlvbiwgdXNlZnVsIGZvciBzdGF0c1xuXHQgKlxuXHQgKiBAdHlwZSB7bnVtYmVyfVxuXHQgKiBAbWVtYmVyb2YgQ2FycmllclxuXHQgKi9cblx0QFR5cGVzLk51bWJlcigwKVxuXHRAQ29sdW1uKClcblx0ZGVsaXZlcmllc0NvdW50VG9kYXk6IG51bWJlcjtcblxuXHQvKipcblx0ICogSG93IG11Y2gga20gKG9yIG1pbGVzKSBDYXJyaWVyIG1hZGUgdG9kYXkgZHVyaW5nIGRlbGl2ZXJpZXNcblx0ICogVE9ETzogaW1wbGVtZW50IGNhbGN1bGF0aW9uLCB1c2VmdWwgZm9yIHN0YXRzXG5cdCAqIEB0eXBlIHtudW1iZXJ9XG5cdCAqIEBtZW1iZXJvZiBDYXJyaWVyXG5cdCAqL1xuXHRAVHlwZXMuTnVtYmVyKDApXG5cdEBDb2x1bW4oKVxuXHR0b3RhbERpc3RhbmNlVG9kYXk6IG51bWJlcjtcblxuXHQvKipcblx0ICogSURzIG9mIENhcnJpZXIgZGV2aWNlcyAobW9iaWxlcylcblx0ICogVXNlZCB0byBzZW5kIFB1c2ggTm90aWZpY2F0aW9ucyB0byBDYXJyaWVyIGRldmljZXNcblx0ICpcblx0ICpcblx0ICogQHR5cGUge3N0cmluZ1tdfVxuXHQgKiBAbWVtYmVyb2YgQ2FycmllclxuXHQgKi9cblx0QFNjaGVtYShbU3RyaW5nXSlcblx0ZGV2aWNlc0lkczogc3RyaW5nW107XG5cblx0LyoqXG5cdCAqIElzIHNoYXJlZCB0aGUgY2FycmllciwgaS5lIGlmIG5vdCB0aGVuIG9ubHkgbWVyY2hhbnQgd2hpY2ggYWxyZWFkeSBoYXMgc3VjaCBjYXJyaWVyIGFzc2lnbmVkXG5cdCAqIChpbnNpZGUgXCJjYXJyaWVyc0lkc1wiIGFycmF5IG9uIE1lcmNoYW50KSBjYW4gdXNlIHN1Y2ggY2FycmllciBhbmQgbm8gb25lIGVsc2Vcblx0ICpcblx0ICogQHR5cGUge2Jvb2xlYW59XG5cdCAqIEBtZW1iZXJvZiBDYXJyaWVyXG5cdCAqL1xuXHRAVHlwZXMuQm9vbGVhbihmYWxzZSlcblx0QENvbHVtbigpXG5cdGlzU2hhcmVkQ2FycmllcjogYm9vbGVhbjtcblxuXHQvKipcblx0ICogRnVsbCBuYW1lIG9mIHRoZSBDYXJyaWVyXG5cdCAqXG5cdCAqIEByZWFkb25seVxuXHQgKiBAdHlwZSB7c3RyaW5nfVxuXHQgKiBAbWVtYmVyb2YgQ2FycmllclxuXHQgKiBAcmV0dXJucyBmdWxsIG5hbWUgb2YgdGhlIGNhcnJpZXJcblx0ICovXG5cdGdldCBmdWxsTmFtZSgpOiBzdHJpbmcge1xuXHRcdHJldHVybiBgJHt0aGlzLmZpcnN0TmFtZX0gJHt0aGlzLmxhc3ROYW1lfWA7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2FycmllcjtcbiIsImltcG9ydCB7IE1vZGVsTmFtZSwgREJPYmplY3QsIFR5cGVzLCBTY2hlbWEgfSBmcm9tICdAcHlyby9kYic7XG5pbXBvcnQgeyBFbnRpdHksIENvbHVtbiB9IGZyb20gJ3R5cGVvcm0nO1xuaW1wb3J0IElDdXJyZW5jeSwgeyBJQ3VycmVuY3lDcmVhdGVPYmplY3QgfSBmcm9tICcuLi9pbnRlcmZhY2VzL0lDdXJyZW5jeSc7XG5cbi8qKlxuICogQGNsYXNzIEN1cnJlbmN5XG4gKiBAZXh0ZW5kcyB7REJPYmplY3Q8SUN1cnJlbmN5LCBJQ3VycmVuY3lDcmVhdGVPYmplY3Q+fVxuICogQGltcGxlbWVudHMge0lDdXJyZW5jeX1cbiAqL1xuQE1vZGVsTmFtZSgnQ3VycmVuY3knKVxuQEVudGl0eSh7IG5hbWU6ICdjdXJyZW5jaWVzJyB9KVxuY2xhc3MgQ3VycmVuY3kgZXh0ZW5kcyBEQk9iamVjdDxJQ3VycmVuY3ksIElDdXJyZW5jeUNyZWF0ZU9iamVjdD5cblx0aW1wbGVtZW50cyBJQ3VycmVuY3kge1xuXHQvKipcblx0ICogQ3VycmVuY3kgQ29kZVxuXHQgKlxuXHQgKiBAdHlwZSB7c3RyaW5nfVxuXHQgKiBAbWVtYmVyb2YgQ3VycmVuY3lcblx0ICovXG5cdEBTY2hlbWEoeyB0eXBlOiBTdHJpbmcsIHVuaXF1ZTogdHJ1ZSB9KVxuXHRAQ29sdW1uKClcblx0Y3VycmVuY3lDb2RlOiBzdHJpbmc7XG5cblx0LyoqXG5cdCAqIElzIEN1cnJlbmN5IHJlbW92ZWQgY29tcGxldGVseSBmcm9tIHRoZSBzeXN0ZW1cblx0ICpcblx0ICogQHR5cGUge2Jvb2xlYW59XG5cdCAqIEBtZW1iZXJvZiBDdXJyZW5jeVxuXHQgKi9cblx0QFR5cGVzLkJvb2xlYW4oZmFsc2UpXG5cdEBDb2x1bW4oKVxuXHRpc0RlbGV0ZWQ6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBkZWZhdWx0IEN1cnJlbmN5O1xuXG5leHBvcnQgY29uc3QgY291bnRyaWVzRGVmYXVsdEN1cnJlbmNpZXMgPSB7XG5cdElMOiAnSUxTJyxcblx0UlU6ICdSVUInLFxuXHRVUzogJ1VTRCcsXG5cdEJHOiAnQkdOJyxcbn07XG4iLCJpbXBvcnQgeyBNb2RlbE5hbWUsIERCT2JqZWN0LCBTY2hlbWEsIFR5cGVzIH0gZnJvbSAnLi4vQHB5cm8vZGInO1xuaW1wb3J0IHsgSURldmljZVJhd09iamVjdCwgSURldmljZUNyZWF0ZU9iamVjdCB9IGZyb20gJy4uL2ludGVyZmFjZXMvSURldmljZSc7XG5pbXBvcnQgSVBsYXRmb3JtIGZyb20gJy4uL2ludGVyZmFjZXMvSVBsYXRmb3JtJztcbmltcG9ydCBJTGFuZ3VhZ2UgZnJvbSAnLi4vaW50ZXJmYWNlcy9JTGFuZ3VhZ2UnO1xuaW1wb3J0IHsgRW50aXR5LCBDb2x1bW4gfSBmcm9tICd0eXBlb3JtJztcblxuLyoqXG4gKiBSZXByZXNlbnQgRGV2aWNlIChlLmcuIFRhYmxlIG9yIEJyb3dzZXIsIHVzZWQgYnkgc29tZW9uZSB0byBhY2Nlc3Mgb25lIG9mIG91ciBhcHBzKVxuICpcbiAqIEBjbGFzcyBEZXZpY2VcbiAqIEBleHRlbmRzIHtEQk9iamVjdDxJRGV2aWNlUmF3T2JqZWN0LCBJRGV2aWNlQ3JlYXRlT2JqZWN0Pn1cbiAqIEBpbXBsZW1lbnRzIHtJRGV2aWNlUmF3T2JqZWN0fVxuICovXG5ATW9kZWxOYW1lKCdEZXZpY2UnKVxuQEVudGl0eSh7IG5hbWU6ICdkZXZpY2VzJyB9KVxuY2xhc3MgRGV2aWNlIGV4dGVuZHMgREJPYmplY3Q8SURldmljZVJhd09iamVjdCwgSURldmljZUNyZWF0ZU9iamVjdD5cblx0aW1wbGVtZW50cyBJRGV2aWNlUmF3T2JqZWN0IHtcblx0LyoqXG5cdCAqIENoYW5uZWxJRCB1c2VkIGZvciBwdXNoIG5vdGlmaWNhdGlvbnNcblx0ICpcblx0ICogQHR5cGUgeyhzdHJpbmcgfCBudWxsKX1cblx0ICogQG1lbWJlcm9mIERldmljZVxuXHQgKi9cblx0QFNjaGVtYSh7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IGZhbHNlIH0pXG5cdEBDb2x1bW4oKVxuXHRjaGFubmVsSWQ6IHN0cmluZyB8IG51bGw7XG5cblx0LyoqXG5cdCAqIFBsYXRmb3JtIG9mIHRoZSBkZXZpY2UgKGJyb3NlciwgaW9zLCBhbmRyb2lkLCBldGMpXG5cdCAqXG5cdCAqIEB0eXBlIHtJUGxhdGZvcm19XG5cdCAqIEBtZW1iZXJvZiBEZXZpY2Vcblx0ICovXG5cdEBUeXBlcy5TdHJpbmcoKVxuXHRAQ29sdW1uKClcblx0dHlwZTogSVBsYXRmb3JtO1xuXG5cdC8qKlxuXHQgKiBMYW5ndWFnZSBzZXR0aW5nIG9uIHRoZSBkZXZpY2Vcblx0ICpcblx0ICogQHR5cGUge0lMYW5ndWFnZX1cblx0ICogQG1lbWJlcm9mIERldmljZVxuXHQgKi9cblx0QFR5cGVzLlN0cmluZygnZW4tVVMnKVxuXHRAQ29sdW1uKClcblx0bGFuZ3VhZ2U6IElMYW5ndWFnZTtcblxuXHQvKipcblx0ICogVW5pcXVlIGRldmljZSBJZFxuXHQgKlxuXHQgKiBAdHlwZSB7c3RyaW5nfVxuXHQgKiBAbWVtYmVyb2YgRGV2aWNlXG5cdCAqL1xuXHRAVHlwZXMuU3RyaW5nKClcblx0QENvbHVtbigpXG5cdHV1aWQ6IHN0cmluZztcblxuXHRAVHlwZXMuQm9vbGVhbihmYWxzZSlcblx0QENvbHVtbigpXG5cdGlzRGVsZXRlZDogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgRGV2aWNlO1xuIiwiaW1wb3J0IHsgREJPYmplY3QsIEluZGV4LCBNb2RlbE5hbWUsIFNjaGVtYSB9IGZyb20gJy4uL0BweXJvL2RiJztcbmltcG9ydCB7XG5cdGRlZmF1bHQgYXMgSUdlb0xvY2F0aW9uLFxuXHRJR2VvTG9jYXRpb25DcmVhdGVPYmplY3QsXG5cdElMb2NhdGlvbixcbn0gZnJvbSAnLi4vaW50ZXJmYWNlcy9JR2VvTG9jYXRpb24nO1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IGNvdW50cmllcyB9IGZyb20gJy4uL2RhdGEvYWJicmV2aWF0aW9uLXRvLWNvdW50cnknO1xuaW1wb3J0IHsgQ29sdW1uIH0gZnJvbSAndHlwZW9ybSc7XG5cbmV4cG9ydCBjb25zdCBsb2NhdGlvblByZVNjaGVtYSA9IHtcblx0dHlwZTogeyB0eXBlOiBTdHJpbmcgfSxcblx0Y29vcmRpbmF0ZXM6IFtOdW1iZXJdLFxufTtcblxuLyoqXG4gKiBTdG9yZXMgR2VvIExvY2F0aW9uIChBZGRyZXNzKSBvZiBzb21lIHBoeXNpY2FsIGVudGl0eSAoQ3VzdG9tZXIsIFdhcmVob3VzZSwgQ2FycmllciwgZXRjKVxuICpcbiAqIEBjbGFzcyBHZW9Mb2NhdGlvblxuICogQGV4dGVuZHMge0RCT2JqZWN0PElHZW9Mb2NhdGlvbiwgSUdlb0xvY2F0aW9uQ3JlYXRlT2JqZWN0Pn1cbiAqIEBpbXBsZW1lbnRzIHtJR2VvTG9jYXRpb259XG4gKi9cbkBNb2RlbE5hbWUoJ0dlb0xvY2F0aW9uJylcbmNsYXNzIEdlb0xvY2F0aW9uIGV4dGVuZHMgREJPYmplY3Q8SUdlb0xvY2F0aW9uLCBJR2VvTG9jYXRpb25DcmVhdGVPYmplY3Q+XG5cdGltcGxlbWVudHMgSUdlb0xvY2F0aW9uIHtcblx0QFNjaGVtYSh7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IGZhbHNlIH0pXG5cdEBDb2x1bW4oKVxuXHRjb3VudHJ5SWQ6IENvdW50cnkgfCBudWxsO1xuXG5cdEBTY2hlbWEoeyByZXF1aXJlZDogZmFsc2UsIHR5cGU6IFN0cmluZyB9KVxuXHRAQ29sdW1uKClcblx0cG9zdGNvZGU/OiBzdHJpbmcgfCBudWxsO1xuXG5cdEBTY2hlbWEoeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiBmYWxzZSB9KVxuXHRAQ29sdW1uKClcblx0YXBhcnRtZW50Pzogc3RyaW5nIHwgbnVsbDtcblxuXHRAU2NoZW1hKHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogZmFsc2UgfSlcblx0QENvbHVtbigpXG5cdGNpdHk6IHN0cmluZyB8IG51bGw7XG5cblx0QFNjaGVtYSh7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IGZhbHNlIH0pXG5cdEBDb2x1bW4oKVxuXHRzdHJlZXRBZGRyZXNzOiBzdHJpbmcgfCBudWxsO1xuXG5cdEBTY2hlbWEoeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiBmYWxzZSB9KVxuXHRAQ29sdW1uKClcblx0aG91c2U6IHN0cmluZyB8IG51bGw7XG5cblx0QEluZGV4KCcyZHNwaGVyZScpXG5cdEBTY2hlbWEobG9jYXRpb25QcmVTY2hlbWEpXG5cdGxvYzogSUxvY2F0aW9uO1xuXG5cdGdldCBjb3VudHJ5TmFtZSgpOiBDb3VudHJ5TmFtZSB7XG5cdFx0cmV0dXJuIGdldENvdW50cnlOYW1lKHRoaXMuY291bnRyeUlkKTtcblx0fVxuXG5cdGdldCBpc0xvY1ZhbGlkKCk6IGFueSB7XG5cdFx0cmV0dXJuIChcblx0XHRcdHRoaXMubG9jLnR5cGUgPT09ICdQb2ludCcgJiZcblx0XHRcdHR5cGVvZiBfLmlzQXJyYXkodGhpcy5sb2MuY29vcmRpbmF0ZXMpICYmXG5cdFx0XHR0aGlzLmxvYy5jb29yZGluYXRlcy5sZW5ndGggPT09IDIgJiZcblx0XHRcdF8uZXZlcnkodGhpcy5sb2MuY29vcmRpbmF0ZXMsIChjKSA9PiBfLmlzRmluaXRlKGMpKVxuXHRcdCk7XG5cdH1cblxuXHRnZXQgaXNWYWxpZCgpOiBhbnkge1xuXHRcdGNvbnN0IG5vdEVtcHR5U3RyaW5nID0gKHM6IHN0cmluZykgPT4gXy5pc1N0cmluZyhzKSAmJiAhXy5pc0VtcHR5KHMpO1xuXHRcdHJldHVybiBfLmV2ZXJ5KFxuXHRcdFx0W3RoaXMuY2l0eSwgdGhpcy5zdHJlZXRBZGRyZXNzLCB0aGlzLmhvdXNlXSxcblx0XHRcdG5vdEVtcHR5U3RyaW5nXG5cdFx0KTtcblx0fVxuXG5cdGdldCBjb29yZGluYXRlcygpOiB7IGxuZzogbnVtYmVyOyBsYXQ6IG51bWJlciB9IHtcblx0XHQvLyBJbiBcIk1vbmdvREJcIiBnZW9qc29uIHN0YW5kYXJkIGNvb3JkaW5hdGVzIGxpc3QgdGhlIGxvbmdpdHVkZSBmaXJzdCBhbmQgdGhlbiBsYXRpdHVkZTpcblx0XHRyZXR1cm4ge1xuXHRcdFx0bG5nOiB0aGlzLmxvYy5jb29yZGluYXRlc1swXSxcblx0XHRcdGxhdDogdGhpcy5sb2MuY29vcmRpbmF0ZXNbMV0sXG5cdFx0fTtcblx0fVxuXG5cdHNldCBjb29yZGluYXRlcyhjb29yZHM6IHsgbG5nOiBudW1iZXI7IGxhdDogbnVtYmVyIH0pIHtcblx0XHR0aGlzLmxvYy5jb29yZGluYXRlcyA9IFtjb29yZHMubG5nLCBjb29yZHMubGF0XTtcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBHZW9Mb2NhdGlvbjtcblxuZXhwb3J0IGVudW0gQ291bnRyeSB7XG5cdC8vIElmIHlvdSB3b25kZXIgd2hhdCBhYmJyZXZpYXRpb24gbXVzdCBoYXZlIHRvIHVzZSBmb3Jcblx0Ly8gc3BlY2lmaWMgY291bnRyeSBzZWUgXCJldmVyXFxzaGFyZWRcXGNvcmVcXGRhdGFcXGFiYnJldmlhdGlvbi10by1jb3VudHJ5Lmpzb25cIlxuXHRBRCxcblx0QUUsXG5cdEFGLFxuXHRBRyxcblx0QUksXG5cdEFMLFxuXHRBTSxcblx0QU8sXG5cdEFRLFxuXHRBUixcblx0QVMsXG5cdEFULFxuXHRBVSxcblx0QVcsXG5cdEFYLFxuXHRBWixcblx0QkEsXG5cdEJCLFxuXHRCRCxcblx0QkUsXG5cdEJGLFxuXHRCRyxcblx0QkgsXG5cdEJJLFxuXHRCSixcblx0QkwsXG5cdEJNLFxuXHRCTixcblx0Qk8sXG5cdEJRLFxuXHRCUixcblx0QlMsXG5cdEJULFxuXHRCVixcblx0QlcsXG5cdEJZLFxuXHRCWixcblx0Q0EsXG5cdENDLFxuXHRDRCxcblx0Q0YsXG5cdENHLFxuXHRDSCxcblx0Q0ksXG5cdENLLFxuXHRDTCxcblx0Q00sXG5cdENOLFxuXHRDTyxcblx0Q1IsXG5cdENVLFxuXHRDVixcblx0Q1csXG5cdENYLFxuXHRDWSxcblx0Q1osXG5cdERFLFxuXHRESixcblx0REssXG5cdERNLFxuXHRETyxcblx0RFosXG5cdEVDLFxuXHRFRSxcblx0RUcsXG5cdEVILFxuXHRFUixcblx0RVMsXG5cdEVULFxuXHRGSSxcblx0RkosXG5cdEZLLFxuXHRGTSxcblx0Rk8sXG5cdEZSLFxuXHRHQSxcblx0R0IsXG5cdEdELFxuXHRHRSxcblx0R0YsXG5cdEdHLFxuXHRHSCxcblx0R0ksXG5cdEdMLFxuXHRHTSxcblx0R04sXG5cdEdQLFxuXHRHUSxcblx0R1IsXG5cdEdTLFxuXHRHVCxcblx0R1UsXG5cdEdXLFxuXHRHWSxcblx0SEssXG5cdEhNLFxuXHRITixcblx0SFIsXG5cdEhULFxuXHRIVSxcblx0SUQsXG5cdElFLFxuXHRJTCxcblx0SU0sXG5cdElOLFxuXHRJTyxcblx0SVEsXG5cdElSLFxuXHRJUyxcblx0SVQsXG5cdEpFLFxuXHRKTSxcblx0Sk8sXG5cdEpQLFxuXHRLRSxcblx0S0csXG5cdEtILFxuXHRLSSxcblx0S00sXG5cdEtOLFxuXHRLUCxcblx0S1IsXG5cdEtXLFxuXHRLWSxcblx0S1osXG5cdExBLFxuXHRMQixcblx0TEMsXG5cdExJLFxuXHRMSyxcblx0TFIsXG5cdExTLFxuXHRMVCxcblx0TFUsXG5cdExWLFxuXHRMWSxcblx0TUEsXG5cdE1DLFxuXHRNRCxcblx0TUUsXG5cdE1GLFxuXHRNRyxcblx0TUgsXG5cdE1LLFxuXHRNTCxcblx0TU0sXG5cdE1OLFxuXHRNTyxcblx0TVAsXG5cdE1RLFxuXHRNUixcblx0TVMsXG5cdE1ULFxuXHRNVSxcblx0TVYsXG5cdE1XLFxuXHRNWCxcblx0TVksXG5cdE1aLFxuXHROQSxcblx0TkMsXG5cdE5FLFxuXHRORixcblx0TkcsXG5cdE5JLFxuXHROTCxcblx0Tk8sXG5cdE5QLFxuXHROUixcblx0TlUsXG5cdE5aLFxuXHRPTSxcblx0UEEsXG5cdFBFLFxuXHRQRixcblx0UEcsXG5cdFBILFxuXHRQSyxcblx0UEwsXG5cdFBNLFxuXHRQTixcblx0UFIsXG5cdFBTLFxuXHRQVCxcblx0UFcsXG5cdFBZLFxuXHRRQSxcblx0UkUsXG5cdFJPLFxuXHRSUyxcblx0UlUsXG5cdFJXLFxuXHRTQSxcblx0U0IsXG5cdFNDLFxuXHRTRCxcblx0U0UsXG5cdFNHLFxuXHRTSCxcblx0U0ksXG5cdFNKLFxuXHRTSyxcblx0U0wsXG5cdFNNLFxuXHRTTixcblx0U08sXG5cdFNSLFxuXHRTUyxcblx0U1QsXG5cdFNWLFxuXHRTWCxcblx0U1ksXG5cdFNaLFxuXHRUQyxcblx0VEQsXG5cdFRGLFxuXHRURyxcblx0VEgsXG5cdFRKLFxuXHRUSyxcblx0VEwsXG5cdFRNLFxuXHRUTixcblx0VE8sXG5cdFRSLFxuXHRUVCxcblx0VFYsXG5cdFRXLFxuXHRUWixcblx0VUEsXG5cdFVHLFxuXHRVTSxcblx0VVMsXG5cdFVZLFxuXHRVWixcblx0VkEsXG5cdFZDLFxuXHRWRSxcblx0VkcsXG5cdFZJLFxuXHRWTixcblx0VlUsXG5cdFdGLFxuXHRXUyxcblx0WEssXG5cdFlFLFxuXHRZVCxcblx0WkEsXG5cdFpNLFxuXHRaVyxcbn1cblxuZXhwb3J0IHR5cGUgQ291bnRyeU5hbWUgPVxuXHR8ICdBbmRvcnJhJ1xuXHR8ICdVbml0ZWQgQXJhYiBFbWlyYXRlcydcblx0fCAnQWZnaGFuaXN0YW4nXG5cdHwgJ0FudGlndWEgYW5kIEJhcmJ1ZGEnXG5cdHwgJ0FuZ3VpbGxhJ1xuXHR8ICdBbGJhbmlhJ1xuXHR8ICdBcm1lbmlhJ1xuXHR8ICdBbmdvbGEnXG5cdHwgJ0FudGFyY3RpY2EnXG5cdHwgJ0FyZ2VudGluYSdcblx0fCAnQW1lcmljYW4gU2Ftb2EnXG5cdHwgJ0F1c3RyaWEnXG5cdHwgJ0F1c3RyYWxpYSdcblx0fCAnQXJ1YmEnXG5cdHwgJ8OFbGFuZCdcblx0fCAnQXplcmJhaWphbidcblx0fCAnQm9zbmlhIGFuZCBIZXJ6ZWdvdmluYSdcblx0fCAnQmFyYmFkb3MnXG5cdHwgJ0JhbmdsYWRlc2gnXG5cdHwgJ0JlbGdpdW0nXG5cdHwgJ0J1cmtpbmEgRmFzbydcblx0fCAnQnVsZ2FyaWEnXG5cdHwgJ0JhaHJhaW4nXG5cdHwgJ0J1cnVuZGknXG5cdHwgJ0JlbmluJ1xuXHR8ICdTYWludCBCYXJ0aMOpbGVteSdcblx0fCAnQmVybXVkYSdcblx0fCAnQnJ1bmVpJ1xuXHR8ICdCb2xpdmlhJ1xuXHR8ICdCb25haXJlJ1xuXHR8ICdCcmF6aWwnXG5cdHwgJ0JhaGFtYXMnXG5cdHwgJ0JodXRhbidcblx0fCAnQm91dmV0IElzbGFuZCdcblx0fCAnQm90c3dhbmEnXG5cdHwgJ0JlbGFydXMnXG5cdHwgJ0JlbGl6ZSdcblx0fCAnQ2FuYWRhJ1xuXHR8ICdDb2NvcyBbS2VlbGluZ10gSXNsYW5kcydcblx0fCAnRGVtb2NyYXRpYyBSZXB1YmxpYyBvZiB0aGUgQ29uZ28nXG5cdHwgJ0NlbnRyYWwgQWZyaWNhbiBSZXB1YmxpYydcblx0fCAnUmVwdWJsaWMgb2YgdGhlIENvbmdvJ1xuXHR8ICdTd2l0emVybGFuZCdcblx0fCAnSXZvcnkgQ29hc3QnXG5cdHwgJ0Nvb2sgSXNsYW5kcydcblx0fCAnQ2hpbGUnXG5cdHwgJ0NhbWVyb29uJ1xuXHR8ICdDaGluYSdcblx0fCAnQ29sb21iaWEnXG5cdHwgJ0Nvc3RhIFJpY2EnXG5cdHwgJ0N1YmEnXG5cdHwgJ0NhcGUgVmVyZGUnXG5cdHwgJ0N1cmFjYW8nXG5cdHwgJ0NocmlzdG1hcyBJc2xhbmQnXG5cdHwgJ0N5cHJ1cydcblx0fCAnQ3plY2ggUmVwdWJsaWMnXG5cdHwgJ0dlcm1hbnknXG5cdHwgJ0RqaWJvdXRpJ1xuXHR8ICdEZW5tYXJrJ1xuXHR8ICdEb21pbmljYSdcblx0fCAnRG9taW5pY2FuIFJlcHVibGljJ1xuXHR8ICdBbGdlcmlhJ1xuXHR8ICdFY3VhZG9yJ1xuXHR8ICdFc3RvbmlhJ1xuXHR8ICdFZ3lwdCdcblx0fCAnV2VzdGVybiBTYWhhcmEnXG5cdHwgJ0VyaXRyZWEnXG5cdHwgJ1NwYWluJ1xuXHR8ICdFdGhpb3BpYSdcblx0fCAnRmlubGFuZCdcblx0fCAnRmlqaSdcblx0fCAnRmFsa2xhbmQgSXNsYW5kcydcblx0fCAnTWljcm9uZXNpYSdcblx0fCAnRmFyb2UgSXNsYW5kcydcblx0fCAnRnJhbmNlJ1xuXHR8ICdHYWJvbidcblx0fCAnVW5pdGVkIEtpbmdkb20nXG5cdHwgJ0dyZW5hZGEnXG5cdHwgJ0dlb3JnaWEnXG5cdHwgJ0ZyZW5jaCBHdWlhbmEnXG5cdHwgJ0d1ZXJuc2V5J1xuXHR8ICdHaGFuYSdcblx0fCAnR2licmFsdGFyJ1xuXHR8ICdHcmVlbmxhbmQnXG5cdHwgJ0dhbWJpYSdcblx0fCAnR3VpbmVhJ1xuXHR8ICdHdWFkZWxvdXBlJ1xuXHR8ICdFcXVhdG9yaWFsIEd1aW5lYSdcblx0fCAnR3JlZWNlJ1xuXHR8ICdTb3V0aCBHZW9yZ2lhIGFuZCB0aGUgU291dGggU2FuZHdpY2ggSXNsYW5kcydcblx0fCAnR3VhdGVtYWxhJ1xuXHR8ICdHdWFtJ1xuXHR8ICdHdWluZWEtQmlzc2F1J1xuXHR8ICdHdXlhbmEnXG5cdHwgJ0hvbmcgS29uZydcblx0fCAnSGVhcmQgSXNsYW5kIGFuZCBNY0RvbmFsZCBJc2xhbmRzJ1xuXHR8ICdIb25kdXJhcydcblx0fCAnQ3JvYXRpYSdcblx0fCAnSGFpdGknXG5cdHwgJ0h1bmdhcnknXG5cdHwgJ0luZG9uZXNpYSdcblx0fCAnSXJlbGFuZCdcblx0fCAnSXNyYWVsJ1xuXHR8ICdJc2xlIG9mIE1hbidcblx0fCAnSW5kaWEnXG5cdHwgJ0JyaXRpc2ggSW5kaWFuIE9jZWFuIFRlcnJpdG9yeSdcblx0fCAnSXJhcSdcblx0fCAnSXJhbidcblx0fCAnSWNlbGFuZCdcblx0fCAnSXRhbHknXG5cdHwgJ0plcnNleSdcblx0fCAnSmFtYWljYSdcblx0fCAnSm9yZGFuJ1xuXHR8ICdKYXBhbidcblx0fCAnS2VueWEnXG5cdHwgJ0t5cmd5enN0YW4nXG5cdHwgJ0NhbWJvZGlhJ1xuXHR8ICdLaXJpYmF0aSdcblx0fCAnQ29tb3Jvcydcblx0fCAnU2FpbnQgS2l0dHMgYW5kIE5ldmlzJ1xuXHR8ICdOb3J0aCBLb3JlYSdcblx0fCAnU291dGggS29yZWEnXG5cdHwgJ0t1d2FpdCdcblx0fCAnQ2F5bWFuIElzbGFuZHMnXG5cdHwgJ0themFraHN0YW4nXG5cdHwgJ0xhb3MnXG5cdHwgJ0xlYmFub24nXG5cdHwgJ1NhaW50IEx1Y2lhJ1xuXHR8ICdMaWVjaHRlbnN0ZWluJ1xuXHR8ICdTcmkgTGFua2EnXG5cdHwgJ0xpYmVyaWEnXG5cdHwgJ0xlc290aG8nXG5cdHwgJ0xpdGh1YW5pYSdcblx0fCAnTHV4ZW1ib3VyZydcblx0fCAnTGF0dmlhJ1xuXHR8ICdMaWJ5YSdcblx0fCAnTW9yb2Njbydcblx0fCAnTW9uYWNvJ1xuXHR8ICdNb2xkb3ZhJ1xuXHR8ICdNb250ZW5lZ3JvJ1xuXHR8ICdTYWludCBNYXJ0aW4nXG5cdHwgJ01hZGFnYXNjYXInXG5cdHwgJ01hcnNoYWxsIElzbGFuZHMnXG5cdHwgJ01hY2Vkb25pYSdcblx0fCAnTWFsaSdcblx0fCAnTXlhbm1hciBbQnVybWFdJ1xuXHR8ICdNb25nb2xpYSdcblx0fCAnTWFjYW8nXG5cdHwgJ05vcnRoZXJuIE1hcmlhbmEgSXNsYW5kcydcblx0fCAnTWFydGluaXF1ZSdcblx0fCAnTWF1cml0YW5pYSdcblx0fCAnTW9udHNlcnJhdCdcblx0fCAnTWFsdGEnXG5cdHwgJ01hdXJpdGl1cydcblx0fCAnTWFsZGl2ZXMnXG5cdHwgJ01hbGF3aSdcblx0fCAnTWV4aWNvJ1xuXHR8ICdNYWxheXNpYSdcblx0fCAnTW96YW1iaXF1ZSdcblx0fCAnTmFtaWJpYSdcblx0fCAnTmV3IENhbGVkb25pYSdcblx0fCAnTmlnZXInXG5cdHwgJ05vcmZvbGsgSXNsYW5kJ1xuXHR8ICdOaWdlcmlhJ1xuXHR8ICdOaWNhcmFndWEnXG5cdHwgJ05ldGhlcmxhbmRzJ1xuXHR8ICdOb3J3YXknXG5cdHwgJ05lcGFsJ1xuXHR8ICdOYXVydSdcblx0fCAnTml1ZSdcblx0fCAnTmV3IFplYWxhbmQnXG5cdHwgJ09tYW4nXG5cdHwgJ1BhbmFtYSdcblx0fCAnUGVydSdcblx0fCAnRnJlbmNoIFBvbHluZXNpYSdcblx0fCAnUGFwdWEgTmV3IEd1aW5lYSdcblx0fCAnUGhpbGlwcGluZXMnXG5cdHwgJ1Bha2lzdGFuJ1xuXHR8ICdQb2xhbmQnXG5cdHwgJ1NhaW50IFBpZXJyZSBhbmQgTWlxdWVsb24nXG5cdHwgJ1BpdGNhaXJuIElzbGFuZHMnXG5cdHwgJ1B1ZXJ0byBSaWNvJ1xuXHR8ICdQYWxlc3RpbmUnXG5cdHwgJ1BvcnR1Z2FsJ1xuXHR8ICdQYWxhdSdcblx0fCAnUGFyYWd1YXknXG5cdHwgJ1FhdGFyJ1xuXHR8ICdSw6l1bmlvbidcblx0fCAnUm9tYW5pYSdcblx0fCAnU2VyYmlhJ1xuXHR8ICdSdXNzaWEnXG5cdHwgJ1J3YW5kYSdcblx0fCAnU2F1ZGkgQXJhYmlhJ1xuXHR8ICdTb2xvbW9uIElzbGFuZHMnXG5cdHwgJ1NleWNoZWxsZXMnXG5cdHwgJ1N1ZGFuJ1xuXHR8ICdTd2VkZW4nXG5cdHwgJ1NpbmdhcG9yZSdcblx0fCAnU2FpbnQgSGVsZW5hJ1xuXHR8ICdTbG92ZW5pYSdcblx0fCAnU3ZhbGJhcmQgYW5kIEphbiBNYXllbidcblx0fCAnU2xvdmFraWEnXG5cdHwgJ1NpZXJyYSBMZW9uZSdcblx0fCAnU2FuIE1hcmlubydcblx0fCAnU2VuZWdhbCdcblx0fCAnU29tYWxpYSdcblx0fCAnU3VyaW5hbWUnXG5cdHwgJ1NvdXRoIFN1ZGFuJ1xuXHR8ICdTw6NvIFRvbcOpIGFuZCBQcsOtbmNpcGUnXG5cdHwgJ0VsIFNhbHZhZG9yJ1xuXHR8ICdTaW50IE1hYXJ0ZW4nXG5cdHwgJ1N5cmlhJ1xuXHR8ICdTd2F6aWxhbmQnXG5cdHwgJ1R1cmtzIGFuZCBDYWljb3MgSXNsYW5kcydcblx0fCAnQ2hhZCdcblx0fCAnRnJlbmNoIFNvdXRoZXJuIFRlcnJpdG9yaWVzJ1xuXHR8ICdUb2dvJ1xuXHR8ICdUaGFpbGFuZCdcblx0fCAnVGFqaWtpc3Rhbidcblx0fCAnVG9rZWxhdSdcblx0fCAnRWFzdCBUaW1vcidcblx0fCAnVHVya21lbmlzdGFuJ1xuXHR8ICdUdW5pc2lhJ1xuXHR8ICdUb25nYSdcblx0fCAnVHVya2V5J1xuXHR8ICdUcmluaWRhZCBhbmQgVG9iYWdvJ1xuXHR8ICdUdXZhbHUnXG5cdHwgJ1RhaXdhbidcblx0fCAnVGFuemFuaWEnXG5cdHwgJ1VrcmFpbmUnXG5cdHwgJ1VnYW5kYSdcblx0fCAnVS5TLiBNaW5vciBPdXRseWluZyBJc2xhbmRzJ1xuXHR8ICdVbml0ZWQgU3RhdGVzJ1xuXHR8ICdVcnVndWF5J1xuXHR8ICdVemJla2lzdGFuJ1xuXHR8ICdWYXRpY2FuIENpdHknXG5cdHwgJ1NhaW50IFZpbmNlbnQgYW5kIHRoZSBHcmVuYWRpbmVzJ1xuXHR8ICdWZW5lenVlbGEnXG5cdHwgJ0JyaXRpc2ggVmlyZ2luIElzbGFuZHMnXG5cdHwgJ1UuUy4gVmlyZ2luIElzbGFuZHMnXG5cdHwgJ1ZpZXRuYW0nXG5cdHwgJ1ZhbnVhdHUnXG5cdHwgJ1dhbGxpcyBhbmQgRnV0dW5hJ1xuXHR8ICdTYW1vYSdcblx0fCAnS29zb3ZvJ1xuXHR8ICdZZW1lbidcblx0fCAnTWF5b3R0ZSdcblx0fCAnU291dGggQWZyaWNhJ1xuXHR8ICdaYW1iaWEnXG5cdHwgJ1ppbWJhYndlJ1xuXHR8IG51bGw7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb3VudHJ5TmFtZShjb3VudHJ5OiBudWxsKTogbnVsbDtcbmV4cG9ydCBmdW5jdGlvbiBnZXRDb3VudHJ5TmFtZShjb3VudHJ5OiBDb3VudHJ5KTogQ291bnRyeU5hbWU7XG5leHBvcnQgZnVuY3Rpb24gZ2V0Q291bnRyeU5hbWUoY291bnRyeTogQ291bnRyeSB8IG51bGwpOiBDb3VudHJ5TmFtZSB8IG51bGw7XG5leHBvcnQgZnVuY3Rpb24gZ2V0Q291bnRyeU5hbWUoY291bnRyeTogQ291bnRyeSB8IG51bGwpOiBDb3VudHJ5TmFtZSB8IG51bGwge1xuXHRyZXR1cm4gY291bnRyaWVzW0NvdW50cnlbY291bnRyeV1dIHx8IG51bGw7XG59XG5cbmV4cG9ydCBjb25zdCBjb3VudHJpZXNJZHNUb05hbWVzQXJyYXk6IEFycmF5PHtcblx0aWQ6IENvdW50cnk7XG5cdG5hbWU6IENvdW50cnlOYW1lO1xufT4gPSBPYmplY3Qua2V5cyhjb3VudHJpZXMpLm1hcCgoYWJicikgPT4ge1xuXHRyZXR1cm4geyBpZDogQ291bnRyeVthYmJyXSwgbmFtZTogZ2V0Q291bnRyeU5hbWUoK0NvdW50cnlbYWJicl0pIH07XG59KTtcbiIsImltcG9ydCBHZW9Mb2NhdGlvbiBmcm9tICcuL0dlb0xvY2F0aW9uJztcbmltcG9ydCB7IERCT2JqZWN0LCBTY2hlbWEsIE1vZGVsTmFtZSwgVHlwZXMsIGdldFNjaGVtYSB9IGZyb20gJy4uL0BweXJvL2RiJztcbmltcG9ydCBJSW52aXRlIGZyb20gJy4uL2ludGVyZmFjZXMvSUludml0ZSc7XG5pbXBvcnQgeyBJSW52aXRlQ3JlYXRlT2JqZWN0IH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9JSW52aXRlJztcbmltcG9ydCB7IEVudGl0eSwgQ29sdW1uIH0gZnJvbSAndHlwZW9ybSc7XG5cbi8qKlxuICogSW52aXRlIGZvciBwb3RlbnRpYWwgQ3VzdG9tZXJcbiAqIENyZWF0ZWQgYXMgcmVzdWx0IG9mIGFwcm92YWwgb2YgdGhlIEludml0ZSBSZXF1ZXN0XG4gKlxuICogQGNsYXNzIEludml0ZVxuICogQGV4dGVuZHMge0RCT2JqZWN0PElJbnZpdGUsIElJbnZpdGVDcmVhdGVPYmplY3Q+fVxuICogQGltcGxlbWVudHMge0lJbnZpdGV9XG4gKi9cbkBNb2RlbE5hbWUoJ0ludml0ZScpXG5ARW50aXR5KHsgbmFtZTogJ2ludml0ZXMnIH0pXG5jbGFzcyBJbnZpdGUgZXh0ZW5kcyBEQk9iamVjdDxJSW52aXRlLCBJSW52aXRlQ3JlYXRlT2JqZWN0PiBpbXBsZW1lbnRzIElJbnZpdGUge1xuXHRjb25zdHJ1Y3RvcihpbnZpdGU6IElJbnZpdGUpIHtcblx0XHRzdXBlcihpbnZpdGUpO1xuXG5cdFx0aWYgKGludml0ZSAmJiBpbnZpdGUuZ2VvTG9jYXRpb24pIHtcblx0XHRcdHRoaXMuZ2VvTG9jYXRpb24gPSBuZXcgR2VvTG9jYXRpb24oaW52aXRlLmdlb0xvY2F0aW9uKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogSW52aXRlIGNvZGUgKHVzdWFsbHkganVzdCA0IGRpZ2l0IG51bWJlciksIHdoaWNoIEN1c3RvbWVyIGNhbiB1c2UgdG8gY29udGludWUgcmVnaXN0cmF0aW9uXG5cdCAqIE5vdGU6IGludml0ZSBjb2RlIHdvcmtzIG9ubHkgd2l0aGluIHNwZWNpZmljIHJhZGl1cyBsb2NhdGlvbiBhcm91bmQgY3VzdG9tZXIgYWRkcmVzcyFcblx0ICpcblx0ICogQHR5cGUge3N0cmluZ31cblx0ICogQG1lbWJlcm9mIEludml0ZVxuXHQgKi9cblx0QFR5cGVzLlN0cmluZygpXG5cdEBDb2x1bW4oKVxuXHRjb2RlOiBzdHJpbmc7XG5cblx0LyoqXG5cdCAqIEFwYXJ0bWVudCAob3B0aW9uYWwpIGZvciB3aGljaCBpbnZpdGUgd2lsbCB3b3JrXG5cdCAqXG5cdCAqIEB0eXBlIHtzdHJpbmd9XG5cdCAqIEBtZW1iZXJvZiBJbnZpdGVcblx0ICovXG5cdEBUeXBlcy5TdHJpbmcoKVxuXHRAQ29sdW1uKClcblx0YXBhcnRtZW50OiBzdHJpbmc7XG5cblx0LyoqXG5cdCAqIExvY2F0aW9uIChBZGRyZXNzKSBvZiBpbnZpdGVkIEN1c3RvbWVyXG5cdCAqXG5cdCAqIEB0eXBlIHtHZW9Mb2NhdGlvbn1cblx0ICogQG1lbWJlcm9mIEludml0ZVxuXHQgKi9cblx0QFNjaGVtYShnZXRTY2hlbWEoR2VvTG9jYXRpb24pKVxuXHRnZW9Mb2NhdGlvbjogR2VvTG9jYXRpb247XG5cblx0QFR5cGVzLkJvb2xlYW4oZmFsc2UpXG5cdEBDb2x1bW4oKVxuXHRpc0RlbGV0ZWQ6IGJvb2xlYW47XG5cblx0dG9JbnZpdGVSZXF1ZXN0RmluZE9iamVjdCgpOiB7XG5cdFx0Z2VvTG9jYXRpb246IEdlb0xvY2F0aW9uO1xuXHRcdGFwYXJ0bWVudDogc3RyaW5nO1xuXHR9IHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Z2VvTG9jYXRpb246IHRoaXMuZ2VvTG9jYXRpb24sXG5cdFx0XHRhcGFydG1lbnQ6IHRoaXMuYXBhcnRtZW50LFxuXHRcdH07XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSW52aXRlO1xuIiwiaW1wb3J0IHsgREJPYmplY3QsIFNjaGVtYSwgTW9kZWxOYW1lLCBUeXBlcywgZ2V0U2NoZW1hIH0gZnJvbSAnLi4vQHB5cm8vZGInO1xuaW1wb3J0IHtcblx0SUludml0ZVJlcXVlc3RDcmVhdGVPYmplY3QsXG5cdElJbnZpdGVSZXF1ZXN0UmF3T2JqZWN0LFxufSBmcm9tICcuLi9pbnRlcmZhY2VzL0lJbnZpdGVSZXF1ZXN0JztcbmltcG9ydCB7IGRlZmF1bHQgYXMgR2VvTG9jYXRpb24gfSBmcm9tICcuL0dlb0xvY2F0aW9uJztcbmltcG9ydCBJRW50ZXJCeUxvY2F0aW9uIGZyb20gJy4uL2ludGVyZmFjZXMvSUVudGVyQnlMb2NhdGlvbic7XG5pbXBvcnQgeyBFbnRpdHksIENvbHVtbiB9IGZyb20gJ3R5cGVvcm0nO1xuXG4vKipcbiAqIFJlcXVlc3RzIGZvciBpbnZpdGUgZnJvbSBwb3RlbnRpYWwgQ3VzdG9tZXJzXG4gKiBDdXN0b21lcnMgYXNrIHRvIGJlIGludml0ZWQgKG9wdGlvbmFsbHksIGlmIGludml0ZXMgc3lzdGVtIGVuYWJsZWQpIGZvciBnaXZlbiBsb2NhdGlvbiAoYWRkcmVzcykuXG4gKiBMYXRlciwgU3RvcmUgb3duZXIgZGVjaWRlIGlmIGhlIHdhbnRzIHRvIGFwcHJvdmUgaW52aXRlIHJlcXVlc3QgKGJ5IGdlbmVyYXRpbmcgaW52aXRlIHJlY29yZCkuXG4gKlxuICogQGNsYXNzIEludml0ZVJlcXVlc3RcbiAqIEBleHRlbmRzIHtEQk9iamVjdDxJSW52aXRlUmVxdWVzdFJhd09iamVjdCwgSUludml0ZVJlcXVlc3RDcmVhdGVPYmplY3Q+fVxuICogQGltcGxlbWVudHMge0lJbnZpdGVSZXF1ZXN0UmF3T2JqZWN0fVxuICovXG5ATW9kZWxOYW1lKCdJbnZpdGVSZXF1ZXN0JylcbkBFbnRpdHkoeyBuYW1lOiAnaW52aXRlcmVxdWVzdHMnIH0pXG5jbGFzcyBJbnZpdGVSZXF1ZXN0XG5cdGV4dGVuZHMgREJPYmplY3Q8SUludml0ZVJlcXVlc3RSYXdPYmplY3QsIElJbnZpdGVSZXF1ZXN0Q3JlYXRlT2JqZWN0PlxuXHRpbXBsZW1lbnRzIElJbnZpdGVSZXF1ZXN0UmF3T2JqZWN0IHtcblx0Y29uc3RydWN0b3IoaW52aXRlUmVxdWVzdDogSUludml0ZVJlcXVlc3RSYXdPYmplY3QpIHtcblx0XHRzdXBlcihpbnZpdGVSZXF1ZXN0KTtcblxuXHRcdGlmIChpbnZpdGVSZXF1ZXN0ICYmIGludml0ZVJlcXVlc3QuZ2VvTG9jYXRpb24pIHtcblx0XHRcdHRoaXMuZ2VvTG9jYXRpb24gPSBuZXcgR2VvTG9jYXRpb24oaW52aXRlUmVxdWVzdC5nZW9Mb2NhdGlvbik7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEN1cnJlbnQgbG9jYXRpb24gKGFkZHJlc3MpIG9mIHBlcnNvbiB3aG8gcmVxdWVzdCBpbnZpdGVcblx0ICpcblx0ICogQHR5cGUge0dlb0xvY2F0aW9ufVxuXHQgKiBAbWVtYmVyb2YgSW52aXRlUmVxdWVzdFxuXHQgKi9cblx0QFNjaGVtYShnZXRTY2hlbWEoR2VvTG9jYXRpb24pKVxuXHRnZW9Mb2NhdGlvbjogR2VvTG9jYXRpb247XG5cblx0LyoqXG5cdCAqIElEIG9mIHBvdGVudGlhbCBjdXN0b21lciBkZXZpY2Vcblx0ICogTm90ZTogdXNlZCB0byBzZW5kIHB1c2ggbm90aWZpY2F0aW9uIHRvIGN1c3RvbWVyIHdoZW4gc3RvcmUgb3duZXIgZGVjaWRlIHRvIGludml0ZSBoZXIvaGltXG5cdCAqXG5cdCAqIEB0eXBlIHtzdHJpbmd9XG5cdCAqIEBtZW1iZXJvZiBJbnZpdGVSZXF1ZXN0XG5cdCAqL1xuXHRAU2NoZW1hKHsgcmVxdWlyZWQ6IGZhbHNlLCB0eXBlOiBTdHJpbmcgfSlcblx0QENvbHVtbigpXG5cdGRldmljZUlkPzogc3RyaW5nO1xuXG5cdC8qKlxuXHQgKiBBcGFydG1lbnQgb2YgcG90ZW50aWFsIEN1c3RvbWVyIChvcHRpb25hbGx5KVxuXHQgKlxuXHQgKiBAdHlwZSB7c3RyaW5nfVxuXHQgKiBAbWVtYmVyb2YgSW52aXRlUmVxdWVzdFxuXHQgKi9cblx0QFR5cGVzLlN0cmluZygpXG5cdEBDb2x1bW4oKVxuXHRhcGFydG1lbnQ6IHN0cmluZztcblxuXHRAU2NoZW1hKHsgcmVxdWlyZWQ6IGZhbHNlLCB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9KVxuXHRAQ29sdW1uKClcblx0aXNNYW51YWw/OiBib29sZWFuO1xuXG5cdEBUeXBlcy5Cb29sZWFuKGZhbHNlKVxuXHRAQ29sdW1uKClcblx0aXNEZWxldGVkOiBib29sZWFuO1xuXG5cdC8qKlxuXHQgKiBJZiB0aGlzIHJlcXVpcmUgaW52aXRlIGFwcHJvdmVkLCBpc0ludml0ZWQgZmllbGQgc2V0IHRvIHRydWVcblx0ICpcblx0ICogQHR5cGUge2Jvb2xlYW59XG5cdCAqIEBtZW1iZXJvZiBJbnZpdGVSZXF1ZXN0XG5cdCAqL1xuXHRAVHlwZXMuQm9vbGVhbihmYWxzZSlcblx0QENvbHVtbigpXG5cdGlzSW52aXRlZDogYm9vbGVhbjtcblxuXHQvKipcblx0ICogVGhlIGRhdGUgd2hlbiBpbnZpdGUgd2FzIHNlbnQgdG8gdGhlIHBvdGVudGlhbCBjdXN0b21lclxuXHQgKlxuXHQgKiBAdHlwZSB7RGF0ZX1cblx0ICogQG1lbWJlcm9mIEludml0ZVJlcXVlc3Rcblx0ICovXG5cdEBTY2hlbWEoeyB0eXBlOiBEYXRlLCByZXF1aXJlZDogZmFsc2UgfSlcblx0QENvbHVtbigpXG5cdGludml0ZWREYXRlOiBEYXRlO1xuXG5cdHRvQWRkcmVzc1N0cmluZygpOiBzdHJpbmcgfCBudWxsIHtcblx0XHRpZiAoIXRoaXMuZ2VvTG9jYXRpb24pIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblxuXHRcdGxldCBhZGRyZXNzID0gYCR7dGhpcy5nZW9Mb2NhdGlvbi5zdHJlZXRBZGRyZXNzfSAke3RoaXMuZ2VvTG9jYXRpb24uaG91c2V9YDtcblxuXHRcdGlmICh0aGlzLmFwYXJ0bWVudCkge1xuXHRcdFx0YWRkcmVzcyArPSBgLyR7dGhpcy5hcGFydG1lbnR9YDtcblx0XHR9XG5cblx0XHRhZGRyZXNzICs9IGAsICR7dGhpcy5nZW9Mb2NhdGlvbi5jaXR5fWA7XG5cblx0XHRyZXR1cm4gYWRkcmVzcztcblx0fVxuXG5cdHRvRW50ZXJCeUxvY2F0aW9uVG9rZW4oKTogSUVudGVyQnlMb2NhdGlvbiB7XG5cdFx0aWYgKFxuXHRcdFx0dGhpcy5nZW9Mb2NhdGlvbi5ob3VzZSAhPSBudWxsICYmXG5cdFx0XHR0aGlzLmdlb0xvY2F0aW9uLnN0cmVldEFkZHJlc3MgIT0gbnVsbCAmJlxuXHRcdFx0dGhpcy5nZW9Mb2NhdGlvbi5jaXR5ICE9IG51bGwgJiZcblx0XHRcdHRoaXMuZ2VvTG9jYXRpb24uY291bnRyeUlkICE9IG51bGxcblx0XHQpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGFwYXJ0bWVudDogdGhpcy5hcGFydG1lbnQsXG5cdFx0XHRcdGhvdXNlOiB0aGlzLmdlb0xvY2F0aW9uLmhvdXNlLFxuXHRcdFx0XHRzdHJlZXRBZGRyZXNzOiB0aGlzLmdlb0xvY2F0aW9uLnN0cmVldEFkZHJlc3MsXG5cdFx0XHRcdGNpdHk6IHRoaXMuZ2VvTG9jYXRpb24uY2l0eSxcblx0XHRcdFx0cG9zdGNvZGU6IHRoaXMuZ2VvTG9jYXRpb24ucG9zdGNvZGUsXG5cdFx0XHRcdGNvdW50cnlJZDogdGhpcy5nZW9Mb2NhdGlvbi5jb3VudHJ5SWQsXG5cdFx0XHR9O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0dlb0xvY2F0aW9uIGlzIG5vdCBmdWxsIScpO1xuXHRcdH1cblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBJbnZpdGVSZXF1ZXN0O1xuIiwiaW1wb3J0IFVzZXJPcmRlciBmcm9tICcuL1VzZXJPcmRlcic7XG5pbXBvcnQgV2FyZWhvdXNlIGZyb20gJy4vV2FyZWhvdXNlJztcbmltcG9ydCBPcmRlclByb2R1Y3QgZnJvbSAnLi9PcmRlclByb2R1Y3QnO1xuaW1wb3J0IENhcnJpZXIgZnJvbSAnLi9DYXJyaWVyJztcbmltcG9ydCB7XG5cdERCT2JqZWN0LFxuXHRTY2hlbWEsXG5cdEluZGV4LFxuXHRNb2RlbE5hbWUsXG5cdFR5cGVzLFxuXHRnZXRTY2hlbWEsXG59IGZyb20gJy4uL0BweXJvL2RiJztcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5cbmltcG9ydCBPcmRlcldhcmVob3VzZVN0YXR1cywge1xuXHR3YXJlaG91c2VTdGF0dXNUb1N0cmluZyxcbn0gZnJvbSAnLi4vZW51bXMvT3JkZXJXYXJlaG91c2VTdGF0dXMnO1xuaW1wb3J0IE9yZGVyQ2FycmllclN0YXR1cywge1xuXHRjYXJyaWVyU3RhdHVzVG9TdHJpbmcsXG59IGZyb20gJy4uL2VudW1zL09yZGVyQ2FycmllclN0YXR1cyc7XG5pbXBvcnQgSU9yZGVyLCB7IElPcmRlckNyZWF0ZU9iamVjdCB9IGZyb20gJy4uL2ludGVyZmFjZXMvSU9yZGVyJztcbmltcG9ydCBJV2FyZWhvdXNlIGZyb20gJy4uL2ludGVyZmFjZXMvSVdhcmVob3VzZSc7XG5pbXBvcnQgSUNhcnJpZXIgZnJvbSAnLi4vaW50ZXJmYWNlcy9JQ2Fycmllcic7XG5pbXBvcnQgT3JkZXJTdGF0dXMgZnJvbSAnLi4vZW51bXMvT3JkZXJTdGF0dXMnO1xuaW1wb3J0IElMYW5ndWFnZSBmcm9tICcuLi9pbnRlcmZhY2VzL0lMYW5ndWFnZSc7XG5pbXBvcnQgeyBFbnRpdHksIENvbHVtbiB9IGZyb20gJ3R5cGVvcm0nO1xuaW1wb3J0IElPcmRlclByb2R1Y3QgZnJvbSAnLi4vaW50ZXJmYWNlcy9JT3JkZXJQcm9kdWN0JztcbmltcG9ydCBEZWxpdmVyeVR5cGUgZnJvbSAnLi4vZW51bXMvRGVsaXZlcnlUeXBlJztcblxuLyoqXG4gKiBDdXN0b21lciBPcmRlciAoZm9yIHNvbWUgcHJvZHVjdHMgb3Igc2VydmljZXMpXG4gKlxuICogQGNsYXNzIE9yZGVyXG4gKiBAZXh0ZW5kcyB7REJPYmplY3Q8SU9yZGVyLCBJT3JkZXJDcmVhdGVPYmplY3Q+fVxuICogQGltcGxlbWVudHMge0lPcmRlcn1cbiAqL1xuQE1vZGVsTmFtZSgnT3JkZXInKVxuQEVudGl0eSh7IG5hbWU6ICdvcmRlcnMnIH0pXG5jbGFzcyBPcmRlciBleHRlbmRzIERCT2JqZWN0PElPcmRlciwgSU9yZGVyQ3JlYXRlT2JqZWN0PiBpbXBsZW1lbnRzIElPcmRlciB7XG5cdGNvbnN0cnVjdG9yKG9yZGVyOiBJT3JkZXIpIHtcblx0XHRzdXBlcihvcmRlcik7XG5cblx0XHRpZiAob3JkZXIpIHtcblx0XHRcdGlmIChvcmRlci51c2VyKSB7XG5cdFx0XHRcdHRoaXMudXNlciA9IG5ldyBVc2VyT3JkZXIob3JkZXIudXNlcik7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChcblx0XHRcdFx0b3JkZXIud2FyZWhvdXNlICYmXG5cdFx0XHRcdG9yZGVyLndhcmVob3VzZSAhPSBudWxsICYmXG5cdFx0XHRcdHR5cGVvZiBvcmRlci53YXJlaG91c2UgIT09ICdzdHJpbmcnXG5cdFx0XHQpIHtcblx0XHRcdFx0dGhpcy53YXJlaG91c2UgPSBuZXcgV2FyZWhvdXNlKG9yZGVyLndhcmVob3VzZSBhcyBJV2FyZWhvdXNlKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKFxuXHRcdFx0XHRvcmRlci5jYXJyaWVyICYmXG5cdFx0XHRcdG9yZGVyLmNhcnJpZXIgIT0gbnVsbCAmJlxuXHRcdFx0XHR0eXBlb2Ygb3JkZXIuY2FycmllciAhPT0gJ3N0cmluZydcblx0XHRcdCkge1xuXHRcdFx0XHR0aGlzLmNhcnJpZXIgPSBuZXcgQ2FycmllcihvcmRlci5jYXJyaWVyIGFzIElDYXJyaWVyKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKG9yZGVyLnByb2R1Y3RzICYmIG9yZGVyLnByb2R1Y3RzICE9IG51bGwpIHtcblx0XHRcdFx0dGhpcy5wcm9kdWN0cyA9IF8ubWFwKFxuXHRcdFx0XHRcdG9yZGVyLnByb2R1Y3RzLFxuXHRcdFx0XHRcdChvcmRlclByb2R1Y3Q6IElPcmRlclByb2R1Y3QpID0+IHtcblx0XHRcdFx0XHRcdHJldHVybiBuZXcgT3JkZXJQcm9kdWN0KG9yZGVyUHJvZHVjdCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBVc2VyIHdobyBtYWtlIG9yZGVyLiBOb3RlOiB0aGlzIGlzIG5vdCBhIHJlZmVyZW5jZSxcblx0ICogYnV0IGluZm8gd2UgcHV0IGhlcmUgaW4gdGhlIG1vbWVudCB3aGVuIE9yZGVyIGlzIGNyZWF0aW5nLlxuXHQgKiBUaGlzIGlzIG5lZWRlZCBiZWNhdXNlIHdlIHdhbnQgdG8gbm90IGFsbG93IHVzZXIgdG8gY2hhbmdlXG5cdCAqIHRoaXMgZGF0YSBpbiBoaXMgcHJvZmlsZSBsYXRlciBzbyBpdCBlZmZlY3RzIGhpcyBvcmRlcnNcblx0ICpcblx0ICogQHR5cGUge1VzZXJPcmRlcn1cblx0ICogQG1lbWJlcm9mIE9yZGVyXG5cdCAqL1xuXHRASW5kZXgoMSlcblx0QFNjaGVtYShnZXRTY2hlbWEoVXNlck9yZGVyKSlcblx0dXNlcjogVXNlck9yZGVyO1xuXG5cdC8qKlxuXHQgKiBFdmVyeSBvcmRlciBnbyB0byBzaW5nbGUgbWVyY2hhbnQgb25seS5cblx0ICogQ3VycmVudGx5LCBpdCBpcyBub3QgcG9zc2libGUgdG8gaW5jbHVkZSBpdGVtcyBpbiB0aGUgb3JkZXIgZnJvbSBkaWZmZXJlbnQgbWVyY2hhbnRzIVxuXHQgKlxuXHQgKiBAdHlwZSB7KFdhcmVob3VzZSB8IHN0cmluZyl9XG5cdCAqIEBtZW1iZXJvZiBPcmRlclxuXHQgKi9cblx0QEluZGV4KDEpXG5cdEBUeXBlcy5SZWYoV2FyZWhvdXNlKVxuXHR3YXJlaG91c2U6IFdhcmVob3VzZSB8IHN0cmluZztcblxuXHRnZXQgd2FyZWhvdXNlSWQoKTogc3RyaW5nIHtcblx0XHRpZiAodHlwZW9mIHRoaXMud2FyZWhvdXNlID09PSAnc3RyaW5nJykge1xuXHRcdFx0cmV0dXJuIHRoaXMud2FyZWhvdXNlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gdGhpcy53YXJlaG91c2UuaWQ7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFNhbWUgYXMgZm9yIGN1c3RvbWVyLCBpdCdzIG5vdCBhIHJlZmVyZW5jZSBidXQgY29weSBvZiBkYXRhIGFib3V0IHByb2R1Y3RzXG5cdCAqXG5cdCAqIEB0eXBlIHtPcmRlclByb2R1Y3RbXX1cblx0ICogQG1lbWJlcm9mIE9yZGVyXG5cdCAqL1xuXHRAU2NoZW1hKFtnZXRTY2hlbWEoT3JkZXJQcm9kdWN0KV0pXG5cdHByb2R1Y3RzOiBPcmRlclByb2R1Y3RbXTtcblxuXHQvKipcblx0ICogQ2xpZW50IGNhbiBjb25maXJtIG9yZGVyIG9yIG9yZGVyIGNhbiBiZSBhdXRvLWNvbmZpcm1lZFxuXHQgKiBGb3IgZXhhbXBsZSwgY2xpZW50IG1ha2UgYW4gb3JkZXIgZnJvbSBtb2JpbGUgYXBwIChwcmVzcyBidXR0b24gXCJCdXlcIikuXG5cdCAqIE5leHQsIHdoZW4gaGUgcGF5IGJ5IENDIG1vYmlsZSBhcHAgc2VuZCBhbm90aGVyIHJlcXVlc3QgdG8gc2VydmVyIGFuZCBzZXQgdGhpcyBmaWVsZCB0byB0cnVlIChjb25maXJtIG9yZGVyKVxuXHQgKiBBbHRlcm5hdGl2ZSwgY291bGQgYmUgdG8gYXNrIGN1c3RvbWVyIGFnYWluIGxpa2UgXCJQbGVhc2UgY29uZmlybSB5b3VyIG9yZGVyXCIuXG5cdCAqIFNvbWUgc3RvcmVzIGhvd2V2ZXIsIG1heSB3YW50IG9yZGVycyB0byBiZSBhdXRvbWF0aWNhbGx5IGNvbmZpcm1lZCwgZS5nLiB3aGVuIHVzZXIgY2xpY2sgXCJCdXlcIiBidXR0b24uXG5cdCAqIFRoZXkgc3RpbGwgd2lsbCBzZXQgc2VwYXJhdGUgcmVxdWVzdCB0byBzZXQgdGhpcyBmaWVsZCB0byBcInRydWVcIiBpbiBzdWNoIGNhc2VzLCBidXQgZG8gbm90IGFzayBjdXN0b21lclxuXHQgKiB0byBleHBsaWNpdGx5IGNvbmZpcm0gb3JkZXJcblx0ICpcblx0ICogTm90ZTogdGhpcyBmaWVsZCBoYXZlIG5vdGhpbmcgdG8gZG8gd2l0aCBXYXJlaG91c2UgXCJSZWFkeUZvclByb2Nlc3NpbmdcIlxuXHQgKiB3aGljaCBpcyBzZXQgd2hlbiB3YXJlaG91c2UgQ29uZmlybXMgYW4gb3JkZXIsIG5vdCB3aGVuIGNsaWVudCAoY3VzdG9tZXIpIGNvbmZpcm1zIGl0XG5cdCAqXG5cdCAqIEB0eXBlIHtib29sZWFufVxuXHQgKiBAbWVtYmVyb2YgT3JkZXJcblx0ICovXG5cdEBUeXBlcy5Cb29sZWFuKGZhbHNlKVxuXHRAQ29sdW1uKClcblx0aXNDb25maXJtZWQ6IGJvb2xlYW47XG5cblx0LyoqXG5cdCAqIElzIE9yZGVyIENhbmNlbGxlZFxuXHQgKlxuXHQgKiBAdHlwZSB7Ym9vbGVhbn1cblx0ICogQG1lbWJlcm9mIE9yZGVyXG5cdCAqL1xuXHRAVHlwZXMuQm9vbGVhbihmYWxzZSlcblx0QENvbHVtbigpXG5cdGlzQ2FuY2VsbGVkOiBib29sZWFuO1xuXG5cdC8qKlxuXHQgKiBJcyBPcmRlciBQYWlkIGJ5IEN1c3RvbWVyXG5cdCAqXG5cdCAqIEB0eXBlIHtib29sZWFufVxuXHQgKiBAbWVtYmVyb2YgT3JkZXJcblx0ICovXG5cdEBUeXBlcy5Cb29sZWFuKGZhbHNlKVxuXHRAQ29sdW1uKClcblx0aXNQYWlkOiBib29sZWFuO1xuXG5cdC8qKlxuXHQgKiBDb21wbGV0ZWQgbWF5IG1lYW4gaXQncyBwYWlkIGFuZCBjdXN0b21lciBnZXQgaXRcblx0ICogT1IgY3VzdG9tZXIgZG9uJ3QgdGFrZSBvcmRlciBhbmQgaXQgZ2V0IGJhY2sgdG8gd2FyZWhvdXNlLiBJdCdzIEZJTkFMIGluIHRoZSBmbG93LlxuXHQgKlxuXHQgKiBAcmVhZG9ubHlcblx0ICogQHR5cGUge2Jvb2xlYW59XG5cdCAqIEBtZW1iZXJvZiBPcmRlclxuXHQgKi9cblx0Z2V0IGlzQ29tcGxldGVkKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiAoXG5cdFx0XHQodGhpcy5pc1BhaWQgJiYgdGhpcy5zdGF0dXMgPT09IE9yZGVyU3RhdHVzLkRlbGl2ZXJlZCkgfHxcblx0XHRcdHRoaXMuaXNDYW5jZWxsZWRcblx0XHQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIERlbGl2ZXIgdGltZSBmb3Igb3JkZXIgKERhdGVUaW1lIHdoZW4gb3JkZXIgd2FzIGFjdHVhbGx5IGRlbGl2ZXJlZCB0byBjdXN0b21lcilcblx0ICpcblx0ICogQHR5cGUge0RhdGV9XG5cdCAqIEBtZW1iZXJvZiBPcmRlclxuXHQgKi9cblx0QFNjaGVtYSh7IHR5cGU6IERhdGUsIHJlcXVpcmVkOiBmYWxzZSB9KVxuXHRAQ29sdW1uKClcblx0ZGVsaXZlcnlUaW1lPzogRGF0ZTtcblxuXHQvKipcblx0ICogVGltZSB3aGVuIG9yZGVyIHByb2Nlc3NpbmcgaXMgZmluaXNoZWRcblx0ICogaS5lIG9yZGVyIGJlY29tZSBjYW5jZWxlZCBmcm9tIGN1c3RvbWVyIG9yIGdldCBmYWlsZWQgZHVyaW5nIFN0b3JlIHByZXBhcmluZyBldGMuXG5cdCAqXG5cdCAqIEB0eXBlIHtEYXRlfVxuXHQgKiBAbWVtYmVyb2YgT3JkZXJcblx0ICovXG5cdEBTY2hlbWEoeyB0eXBlOiBEYXRlLCByZXF1aXJlZDogZmFsc2UgfSlcblx0QENvbHVtbigpXG5cdGZpbmlzaGVkUHJvY2Vzc2luZ1RpbWU/OiBEYXRlO1xuXG5cdC8qKlxuXHQgKiBUaGUgdGltZSB3aGVuIHNvbWUgY2FycmllciBzdGFydCBkZWxpdmVyeSB0aGUgb3JkZXJcblx0ICpcblx0ICogQHR5cGUge0RhdGV9XG5cdCAqIEBtZW1iZXJvZiBPcmRlclxuXHQgKi9cblx0QFNjaGVtYSh7IHR5cGU6IERhdGUsIHJlcXVpcmVkOiBmYWxzZSB9KVxuXHRAQ29sdW1uKClcblx0c3RhcnREZWxpdmVyeVRpbWU/OiBEYXRlO1xuXG5cdC8qKlxuXHQgKiBIb3cgbWFueSBzZWNvbmRzIG1vcmUgaXQgc2hvdWxkIHRha2UgdG8gZGVsaXZlcnkgb3JkZXIgdG8gY3VzdG9tZXJcblx0ICogKHJlc2V0IHRvIDAgd2hlbiBvcmRlciBpcyBkZWxpdmVyZWQgb3Igd2hlbiBjYXJyaWVyIGlzIG5vdCBkZWxpdmVyIGFueSBvcmRlciB0byB0aGUgY3VzdG9tZXIpXG5cdCAqXG5cdCAqIEB0eXBlIHtudW1iZXJ9XG5cdCAqIEBtZW1iZXJvZiBPcmRlclxuXHQgKi9cblx0QFR5cGVzLk51bWJlcigwKVxuXHRAQ29sdW1uKClcblx0ZGVsaXZlcnlUaW1lRXN0aW1hdGU6IG51bWJlcjtcblxuXHQvKipcblx0ICogQ3VycmVudCBXYXJlaG91c2Ugc3RhdHVzIG9mIHRoZSBvcmRlclxuXHQgKlxuXHQgKiBAdHlwZSB7T3JkZXJXYXJlaG91c2VTdGF0dXN9XG5cdCAqIEBtZW1iZXJvZiBPcmRlclxuXHQgKi9cblx0QFR5cGVzLk51bWJlcihPcmRlcldhcmVob3VzZVN0YXR1cy5Ob1N0YXR1cylcblx0QENvbHVtbigpXG5cdHdhcmVob3VzZVN0YXR1czogT3JkZXJXYXJlaG91c2VTdGF0dXM7XG5cblx0LyoqXG5cdCAqIEN1cnJlbnQgQ2FycmllciBzdGF0dXMgb2YgdGhlIG9yZGVyXG5cdCAqXG5cdCAqIEB0eXBlIHtPcmRlckNhcnJpZXJTdGF0dXN9XG5cdCAqIEBtZW1iZXJvZiBPcmRlclxuXHQgKi9cblx0QFR5cGVzLk51bWJlcihPcmRlckNhcnJpZXJTdGF0dXMuTm9DYXJyaWVyKVxuXHRAQ29sdW1uKClcblx0Y2FycmllclN0YXR1czogT3JkZXJDYXJyaWVyU3RhdHVzO1xuXG5cdC8qKlxuXHQgKiBTb21lIGNhcnJpZXIgd2hpY2ggcmVzcG9uc2libGUgdG8gZGVsaXZlciBvcmRlciB0byB0aGUgY2xpZW50XG5cdCAqIChjYW4gYmUgZW1wdHkgaWYgb3JkZXIgaXMgbm90IHBsYW5lZCBmb3IgZGVsaXZlcnkgeWV0KVxuXHQgKlxuXHQgKiBAdHlwZSB7KENhcnJpZXIgfCBzdHJpbmcgfCBudWxsKX1cblx0ICogQG1lbWJlcm9mIE9yZGVyXG5cdCAqL1xuXHRAVHlwZXMuUmVmKENhcnJpZXIsIHsgcmVxdWlyZWQ6IGZhbHNlIH0pXG5cdGNhcnJpZXI/OiBDYXJyaWVyIHwgc3RyaW5nIHwgbnVsbDtcblxuXHRAVHlwZXMuQm9vbGVhbihmYWxzZSlcblx0QENvbHVtbigpXG5cdGlzRGVsZXRlZDogYm9vbGVhbjtcblxuXHRAU2NoZW1hKHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogZmFsc2UgfSlcblx0QENvbHVtbigpXG5cdHN0cmlwZUNoYXJnZUlkPzogc3RyaW5nO1xuXG5cdC8qKlxuXHQgKiBIdW1hbiByZWFkYWJsZSBPcmRlciBOdW1iZXIgaW4gdGhlIFN0b3JlIChzaG9ydCBpZCBvZiBvcmRlciwgdW5pcXVlIGluIHRoZSBnaXZlbiBzdG9yZSBvbmx5KVxuXHQgKlxuXHQgKiBAdHlwZSB7bnVtYmVyfVxuXHQgKiBAbWVtYmVyb2YgT3JkZXJcblx0ICovXG5cdEBUeXBlcy5OdW1iZXIoKVxuXHRAQ29sdW1uKClcblx0b3JkZXJOdW1iZXI6IG51bWJlcjtcblxuXHQvKipcblx0ICogVHlwZSBvZiB0aGUgb3JkZXI6IERlbGl2ZXJ5IG9yIFRha2Vhd2F5XG5cdCAqXG5cdCAqIEB0eXBlIHtEZWxpdmVyeVR5cGV9XG5cdCAqIEBtZW1iZXJvZiBPcmRlclxuXHQgKi9cblx0QFR5cGVzLk51bWJlcihEZWxpdmVyeVR5cGUuRGVsaXZlcnkpXG5cdEBDb2x1bW4oKVxuXHRvcmRlclR5cGU6IERlbGl2ZXJ5VHlwZTtcblxuXHRnZXQgY2FycmllcklkKCk6IHN0cmluZyB8IG51bGwge1xuXHRcdGlmICh0aGlzLmNhcnJpZXIgPT0gbnVsbCkge1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fSBlbHNlIGlmICh0eXBlb2YgdGhpcy5jYXJyaWVyID09PSAnc3RyaW5nJykge1xuXHRcdFx0cmV0dXJuIHRoaXMuY2Fycmllcjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHRoaXMuY2Fycmllci5pZDtcblx0XHR9XG5cdH1cblxuXHRnZXQgd2FyZWhvdXNlU3RhdHVzVGV4dCgpOiBzdHJpbmcge1xuXHRcdHJldHVybiB3YXJlaG91c2VTdGF0dXNUb1N0cmluZyh0aGlzLndhcmVob3VzZVN0YXR1cyk7XG5cdH1cblxuXHRnZXQgY2FycmllclN0YXR1c1RleHQoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gY2FycmllclN0YXR1c1RvU3RyaW5nKHRoaXMuY2FycmllclN0YXR1cyk7XG5cdH1cblxuXHQvKipcblx0ICogR2V0IFRvdGFsIFByaWNlIGZvciBhbiBvcmRlclxuXHQgKlxuXHQgKiBAcmVhZG9ubHlcblx0ICogQHR5cGUge251bWJlcn1cblx0ICogQG1lbWJlcm9mIE9yZGVyXG5cdCAqL1xuXHRnZXQgdG90YWxQcmljZSgpOiBudW1iZXIge1xuXHRcdHJldHVybiBfLnN1bShcblx0XHRcdF8ubWFwKFxuXHRcdFx0XHR0aGlzLnByb2R1Y3RzLFxuXHRcdFx0XHQocHJvZHVjdDogT3JkZXJQcm9kdWN0KSA9PiBwcm9kdWN0LmNvdW50ICogcHJvZHVjdC5wcmljZVxuXHRcdFx0KVxuXHRcdCk7XG5cdH1cblxuXHQvKipcblx0ICogVE9ETzogd2Ugc2hvdWxkIHJlZmFjdG9yIGFuZCBhZGQgc3VwcG9ydCBmb3IgYWxsIGxvY2FsZXNcblx0ICpcblx0ICogQHBhcmFtIHtJTGFuZ3VhZ2V9IGxhbmd1YWdlXG5cdCAqIEByZXR1cm5zIHtzdHJpbmd9XG5cdCAqIEBtZW1iZXJvZiBPcmRlclxuXHQgKi9cblx0Z2V0U3RhdHVzVGV4dChsYW5ndWFnZTogSUxhbmd1YWdlKTogc3RyaW5nIHtcblx0XHRzd2l0Y2ggKGxhbmd1YWdlKSB7XG5cdFx0XHRjYXNlICdlbi1VUyc6XG5cdFx0XHRcdHJldHVybiB0aGlzLl9nZXRTdGF0dXNUZXh0RW5nbGlzaCgpO1xuXHRcdFx0Y2FzZSAnaGUtSUwnOlxuXHRcdFx0XHRyZXR1cm4gdGhpcy5fZ2V0U3RhdHVzVGV4dEhlYnJldygpO1xuXHRcdFx0Y2FzZSAncnUtUlUnOlxuXHRcdFx0XHRyZXR1cm4gdGhpcy5fZ2V0U3RhdHVzVGV4dFJ1c3NpYW4oKTtcblx0XHRcdGNhc2UgJ2JnLUJHJzpcblx0XHRcdFx0cmV0dXJuIHRoaXMuX2dldFN0YXR1c1RleHRCdWxnYXJpYW4oKTtcblx0XHRcdGNhc2UgJ2VzLUVTJzpcblx0XHRcdFx0cmV0dXJuIHRoaXMuX2dldFN0YXR1c1RleHRTcGFuaXNoKCk7XG5cdFx0XHRjYXNlICdpdC1JVCc6XG5cdFx0XHRcdHJldHVybiB0aGlzLl9nZXRTdGF0dXNUZXh0SXRhbGlhbigpO1xuXHRcdFx0Y2FzZSAnZnItRlInOlxuXHRcdFx0XHRyZXR1cm4gdGhpcy5fZ2V0U3RhdHVzVGV4dEZyZW5jaCgpO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0cmV0dXJuICdCQURfU1RBVFVTJztcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogT3JkZXIgU3RhdHVzIGJhc2VkIG9uIFdhcmVob3VzZSBhbmQgQ2FycmllciBTdGF0dXNlcyB0b2dldGhlclxuXHQgKlxuXHQgKiBAcmVhZG9ubHlcblx0ICogQHR5cGUge09yZGVyU3RhdHVzfVxuXHQgKiBAbWVtYmVyb2YgT3JkZXJcblx0ICovXG5cdGdldCBzdGF0dXMoKTogT3JkZXJTdGF0dXMge1xuXHRcdGlmIChcblx0XHRcdHRoaXMuY2FycmllciA9PSBudWxsIHx8XG5cdFx0XHR0aGlzLmNhcnJpZXJTdGF0dXMgPD0gT3JkZXJDYXJyaWVyU3RhdHVzLkNhcnJpZXJQaWNrZWRVcE9yZGVyXG5cdFx0KSB7XG5cdFx0XHRpZiAodGhpcy53YXJlaG91c2VTdGF0dXMgPj0gMjAwKSB7XG5cdFx0XHRcdHJldHVybiBPcmRlclN0YXR1cy5XYXJlaG91c2VJc3N1ZTtcblx0XHRcdH0gZWxzZSBpZiAodGhpcy5pc0NhbmNlbGxlZCkge1xuXHRcdFx0XHRyZXR1cm4gT3JkZXJTdGF0dXMuQ2FuY2VsZWRXaGlsZVdhcmVob3VzZVByZXBhcmF0aW9uO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIE9yZGVyU3RhdHVzLldhcmVob3VzZVByZXBhcmF0aW9uO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAodGhpcy5jYXJyaWVyU3RhdHVzID49IDIwMCkge1xuXHRcdFx0XHRyZXR1cm4gT3JkZXJTdGF0dXMuQ2Fycmllcklzc3VlO1xuXHRcdFx0fSBlbHNlIGlmICh0aGlzLmlzQ2FuY2VsbGVkKSB7XG5cdFx0XHRcdHJldHVybiBPcmRlclN0YXR1cy5DYW5jZWxlZFdoaWxlSW5EZWxpdmVyeTtcblx0XHRcdH0gZWxzZSBpZiAoXG5cdFx0XHRcdHRoaXMuaXNQYWlkICYmXG5cdFx0XHRcdHRoaXMuY2FycmllclN0YXR1cyA9PT0gT3JkZXJDYXJyaWVyU3RhdHVzLkRlbGl2ZXJ5Q29tcGxldGVkXG5cdFx0XHQpIHtcblx0XHRcdFx0cmV0dXJuIE9yZGVyU3RhdHVzLkRlbGl2ZXJlZDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBPcmRlclN0YXR1cy5JbkRlbGl2ZXJ5O1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgX2dldFN0YXR1c1RleHRFbmdsaXNoKCk6IHN0cmluZyB7XG5cdFx0c3dpdGNoICh0aGlzLnN0YXR1cykge1xuXHRcdFx0Y2FzZSBPcmRlclN0YXR1cy5XYXJlaG91c2VQcmVwYXJhdGlvbjpcblx0XHRcdFx0cmV0dXJuICdQcmVwYXJhdGlvbic7XG5cdFx0XHRjYXNlIE9yZGVyU3RhdHVzLkluRGVsaXZlcnk6XG5cdFx0XHRcdHJldHVybiAnSW4gRGVsaXZlcnknO1xuXHRcdFx0Y2FzZSBPcmRlclN0YXR1cy5EZWxpdmVyZWQ6XG5cdFx0XHRcdHJldHVybiAnRGVsaXZlcmVkJztcblx0XHRcdGNhc2UgT3JkZXJTdGF0dXMuQ2FuY2VsZWRXaGlsZVdhcmVob3VzZVByZXBhcmF0aW9uOlxuXHRcdFx0Y2FzZSBPcmRlclN0YXR1cy5DYW5jZWxlZFdoaWxlSW5EZWxpdmVyeTpcblx0XHRcdFx0cmV0dXJuICdDYW5jZWxsZWQnO1xuXHRcdFx0Y2FzZSBPcmRlclN0YXR1cy5XYXJlaG91c2VJc3N1ZTpcblx0XHRcdFx0cmV0dXJuICdQcmVwYXJhdGlvbiBJc3N1ZSc7XG5cdFx0XHRjYXNlIE9yZGVyU3RhdHVzLkNhcnJpZXJJc3N1ZTpcblx0XHRcdFx0cmV0dXJuICdEZWxpdmVyeSBJc3N1ZSc7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRyZXR1cm4gJ0JBRF9TVEFUVVMnO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgX2dldFN0YXR1c1RleHRCdWxnYXJpYW4oKTogc3RyaW5nIHtcblx0XHRzd2l0Y2ggKHRoaXMuc3RhdHVzKSB7XG5cdFx0XHRjYXNlIE9yZGVyU3RhdHVzLldhcmVob3VzZVByZXBhcmF0aW9uOlxuXHRcdFx0XHRyZXR1cm4gJ9Cf0L7QtNCz0L7RgtC+0LLQutCwJztcblx0XHRcdGNhc2UgT3JkZXJTdGF0dXMuSW5EZWxpdmVyeTpcblx0XHRcdFx0cmV0dXJuICfQlNC+0YHRgtCw0LLRjyDRgdC1Jztcblx0XHRcdGNhc2UgT3JkZXJTdGF0dXMuRGVsaXZlcmVkOlxuXHRcdFx0XHRyZXR1cm4gJ9CU0L7RgdGC0LDQstC10L3Qvic7XG5cdFx0XHRjYXNlIE9yZGVyU3RhdHVzLkNhbmNlbGVkV2hpbGVXYXJlaG91c2VQcmVwYXJhdGlvbjpcblx0XHRcdGNhc2UgT3JkZXJTdGF0dXMuQ2FuY2VsZWRXaGlsZUluRGVsaXZlcnk6XG5cdFx0XHRcdHJldHVybiAn0J7RgtC60LDQt9Cw0L3QsCc7XG5cdFx0XHRjYXNlIE9yZGVyU3RhdHVzLldhcmVob3VzZUlzc3VlOlxuXHRcdFx0XHRyZXR1cm4gJ9Cf0YDQvtCx0LvQtdC8INC/0YDQuCDQv9C+0LTQs9C+0YLQvtCy0LrQsNGC0LAnO1xuXHRcdFx0Y2FzZSBPcmRlclN0YXR1cy5DYXJyaWVySXNzdWU6XG5cdFx0XHRcdHJldHVybiAn0J/RgNC+0LHQu9C10Lwg0L/RgNC4INC00L7RgdGC0LDQstC60LDRgtCwJztcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdHJldHVybiAn0J/RgNC+0LHQu9C10Lwg0YEg0L/QvtGA0YrRh9C60LDRgtCwJztcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIF9nZXRTdGF0dXNUZXh0SGVicmV3KCk6IHN0cmluZyB7XG5cdFx0c3dpdGNoICh0aGlzLnN0YXR1cykge1xuXHRcdFx0Y2FzZSBPcmRlclN0YXR1cy5XYXJlaG91c2VQcmVwYXJhdGlvbjpcblx0XHRcdFx0cmV0dXJuICfXkdeU15vXoNeUJztcblx0XHRcdGNhc2UgT3JkZXJTdGF0dXMuSW5EZWxpdmVyeTpcblx0XHRcdFx0cmV0dXJuICfXkdee16nXnNeV15cnO1xuXHRcdFx0Y2FzZSBPcmRlclN0YXR1cy5EZWxpdmVyZWQ6XG5cdFx0XHRcdHJldHVybiAn15TXodeq15nXmdedINeR16bXnNeX15QnO1xuXHRcdFx0Y2FzZSBPcmRlclN0YXR1cy5DYW5jZWxlZFdoaWxlV2FyZWhvdXNlUHJlcGFyYXRpb246XG5cdFx0XHRjYXNlIE9yZGVyU3RhdHVzLkNhbmNlbGVkV2hpbGVJbkRlbGl2ZXJ5OlxuXHRcdFx0XHRyZXR1cm4gJ9eU16rXkdeY15wnO1xuXHRcdFx0Y2FzZSBPcmRlclN0YXR1cy5XYXJlaG91c2VJc3N1ZTpcblx0XHRcdFx0cmV0dXJuICfXkdei15nXmdeUINeR15TXm9eg15QnO1xuXHRcdFx0Y2FzZSBPcmRlclN0YXR1cy5DYXJyaWVySXNzdWU6XG5cdFx0XHRcdHJldHVybiAn15HXoteZ15nXlCDXkdee16nXnNeV15cnO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0cmV0dXJuICdCQURfU1RBVFVTJztcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIF9nZXRTdGF0dXNUZXh0UnVzc2lhbigpOiBzdHJpbmcge1xuXHRcdHN3aXRjaCAodGhpcy5zdGF0dXMpIHtcblx0XHRcdGNhc2UgT3JkZXJTdGF0dXMuV2FyZWhvdXNlUHJlcGFyYXRpb246XG5cdFx0XHRcdHJldHVybiAn0JIg0L/QvtC00LPQvtGC0L7QstC60LUnO1xuXHRcdFx0Y2FzZSBPcmRlclN0YXR1cy5JbkRlbGl2ZXJ5OlxuXHRcdFx0XHRyZXR1cm4gJ9CSINC00L7RgdGC0LDQstC60LgnO1xuXHRcdFx0Y2FzZSBPcmRlclN0YXR1cy5EZWxpdmVyZWQ6XG5cdFx0XHRcdHJldHVybiAn0JTQvtGB0YLQsNCy0LvQtdC90L4nO1xuXHRcdFx0Y2FzZSBPcmRlclN0YXR1cy5DYW5jZWxlZFdoaWxlV2FyZWhvdXNlUHJlcGFyYXRpb246XG5cdFx0XHRjYXNlIE9yZGVyU3RhdHVzLkNhbmNlbGVkV2hpbGVJbkRlbGl2ZXJ5OlxuXHRcdFx0XHRyZXR1cm4gJ9Ce0YLQvNC10L3QtdC90L4nO1xuXHRcdFx0Y2FzZSBPcmRlclN0YXR1cy5XYXJlaG91c2VJc3N1ZTpcblx0XHRcdFx0cmV0dXJuICfQn9GA0L7QsdC70LXQvNCwINGBINC/0L7QtNCz0L7RgtC+0LLQutC+0LknO1xuXHRcdFx0Y2FzZSBPcmRlclN0YXR1cy5DYXJyaWVySXNzdWU6XG5cdFx0XHRcdHJldHVybiAn0J/RgNC+0LHQu9C10LzQsCDRgSDQtNC+0YHRgtCw0LLQutC+0LknO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0cmV0dXJuICdCQURfU1RBVFVTJztcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIF9nZXRTdGF0dXNUZXh0U3BhbmlzaCgpIHtcblx0XHRzd2l0Y2ggKHRoaXMuc3RhdHVzKSB7XG5cdFx0XHRjYXNlIE9yZGVyU3RhdHVzLldhcmVob3VzZVByZXBhcmF0aW9uOlxuXHRcdFx0XHRyZXR1cm4gJ1ByZXBhcmFjacOzbic7XG5cdFx0XHRjYXNlIE9yZGVyU3RhdHVzLkluRGVsaXZlcnk6XG5cdFx0XHRcdHJldHVybiAnRW4gbGEgZW50cmVnYSc7XG5cdFx0XHRjYXNlIE9yZGVyU3RhdHVzLkRlbGl2ZXJlZDpcblx0XHRcdFx0cmV0dXJuICdFbnRyZWdhZG8nO1xuXHRcdFx0Y2FzZSBPcmRlclN0YXR1cy5DYW5jZWxlZFdoaWxlV2FyZWhvdXNlUHJlcGFyYXRpb246XG5cdFx0XHRjYXNlIE9yZGVyU3RhdHVzLkNhbmNlbGVkV2hpbGVJbkRlbGl2ZXJ5OlxuXHRcdFx0XHRyZXR1cm4gJ0NhbmNlbGFkbyc7XG5cdFx0XHRjYXNlIE9yZGVyU3RhdHVzLldhcmVob3VzZUlzc3VlOlxuXHRcdFx0XHRyZXR1cm4gJ1Byb2JsZW1hIGRlIHByZXBhcmFjacOzbic7XG5cdFx0XHRjYXNlIE9yZGVyU3RhdHVzLkNhcnJpZXJJc3N1ZTpcblx0XHRcdFx0cmV0dXJuICdQcm9ibGVtYSBkZSBlbnZpbyc7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRyZXR1cm4gJ0JBRF9TVEFUVVMnO1xuXHRcdH1cblx0fVxuXHRwcml2YXRlIF9nZXRTdGF0dXNUZXh0SXRhbGlhbigpIHtcblx0XHRzd2l0Y2ggKHRoaXMuc3RhdHVzKSB7XG5cdFx0XHRjYXNlIE9yZGVyU3RhdHVzLldhcmVob3VzZVByZXBhcmF0aW9uOlxuXHRcdFx0XHRyZXR1cm4gJ1ByZXBhcmF6aW9uZSc7XG5cdFx0XHRjYXNlIE9yZGVyU3RhdHVzLkluRGVsaXZlcnk6XG5cdFx0XHRcdHJldHVybiAnSW4gY29uc2VnbmEnO1xuXHRcdFx0Y2FzZSBPcmRlclN0YXR1cy5EZWxpdmVyZWQ6XG5cdFx0XHRcdHJldHVybiAnY29uc2VnbmF0byc7XG5cdFx0XHRjYXNlIE9yZGVyU3RhdHVzLkNhbmNlbGVkV2hpbGVXYXJlaG91c2VQcmVwYXJhdGlvbjpcblx0XHRcdGNhc2UgT3JkZXJTdGF0dXMuQ2FuY2VsZWRXaGlsZUluRGVsaXZlcnk6XG5cdFx0XHRcdHJldHVybiAnQW5udWxsYXRvJztcblx0XHRcdGNhc2UgT3JkZXJTdGF0dXMuV2FyZWhvdXNlSXNzdWU6XG5cdFx0XHRcdHJldHVybiAnUHJvYmxlbWEgZGkgcHJlcGFyYXppb25lJztcblx0XHRcdGNhc2UgT3JkZXJTdGF0dXMuQ2Fycmllcklzc3VlOlxuXHRcdFx0XHRyZXR1cm4gJ1Byb2JsZW1hIGRpIGNvbnNlZ25hJztcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdHJldHVybiAnQkFEX1NUQVRVUyc7XG5cdFx0fVxuXHR9XG5cdHByaXZhdGUgX2dldFN0YXR1c1RleHRGcmVuY2goKSB7XG5cdFx0c3dpdGNoICh0aGlzLnN0YXR1cykge1xuXHRcdFx0Y2FzZSBPcmRlclN0YXR1cy5XYXJlaG91c2VQcmVwYXJhdGlvbjpcblx0XHRcdFx0cmV0dXJuICdQcsOpcGFyYXRpb24nO1xuXHRcdFx0Y2FzZSBPcmRlclN0YXR1cy5JbkRlbGl2ZXJ5OlxuXHRcdFx0XHRyZXR1cm4gJ0VuIGxpdnJhaXNvbic7XG5cdFx0XHRjYXNlIE9yZGVyU3RhdHVzLkRlbGl2ZXJlZDpcblx0XHRcdFx0cmV0dXJuICdMaXZyw6knO1xuXHRcdFx0Y2FzZSBPcmRlclN0YXR1cy5DYW5jZWxlZFdoaWxlV2FyZWhvdXNlUHJlcGFyYXRpb246XG5cdFx0XHRjYXNlIE9yZGVyU3RhdHVzLkNhbmNlbGVkV2hpbGVJbkRlbGl2ZXJ5OlxuXHRcdFx0XHRyZXR1cm4gJ0FubnVsw6knO1xuXHRcdFx0Y2FzZSBPcmRlclN0YXR1cy5XYXJlaG91c2VJc3N1ZTpcblx0XHRcdFx0cmV0dXJuICdQcm9ibMOobWUgZGUgcHLDqXBhcmF0aW9uJztcblx0XHRcdGNhc2UgT3JkZXJTdGF0dXMuQ2Fycmllcklzc3VlOlxuXHRcdFx0XHRyZXR1cm4gJ1Byb2Jsw6htZSBkZSBsaXZyYWlzb24nO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0cmV0dXJuICdCQURfU1RBVFVTJztcblx0XHR9XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgT3JkZXI7XG4iLCJpbXBvcnQgUHJvZHVjdCBmcm9tICcuL1Byb2R1Y3QnO1xuaW1wb3J0IHsgU2NoZW1hLCBEQk9iamVjdCwgTW9kZWxOYW1lLCBnZXRTY2hlbWEsIFR5cGVzIH0gZnJvbSAnLi4vQHB5cm8vZGInO1xuaW1wb3J0IElPcmRlclByb2R1Y3QgZnJvbSAnLi4vaW50ZXJmYWNlcy9JT3JkZXJQcm9kdWN0JztcbmltcG9ydCB7IElPcmRlclByb2R1Y3RDcmVhdGVPYmplY3QgfSBmcm9tICcuLi9pbnRlcmZhY2VzL0lPcmRlclByb2R1Y3QnO1xuaW1wb3J0IHsgQ29sdW1uIH0gZnJvbSAndHlwZW9ybSc7XG5cbi8qKlxuICogU3RvcmUgUHJvZHVjdCBpbmZvcm1hdGlvbiBpbnNpZGUgT3JkZXIgKHNpbWlsYXIgdG8gT3JkZXJMaW5lSXRlbSBjb25jZXB0KVxuICpcbiAqIEBjbGFzcyBPcmRlclByb2R1Y3RcbiAqIEBleHRlbmRzIHtEQk9iamVjdDxJT3JkZXJQcm9kdWN0LCBJT3JkZXJQcm9kdWN0Q3JlYXRlT2JqZWN0Pn1cbiAqIEBpbXBsZW1lbnRzIHtJT3JkZXJQcm9kdWN0fVxuICovXG5ATW9kZWxOYW1lKCdPcmRlclByb2R1Y3QnKVxuY2xhc3MgT3JkZXJQcm9kdWN0IGV4dGVuZHMgREJPYmplY3Q8SU9yZGVyUHJvZHVjdCwgSU9yZGVyUHJvZHVjdENyZWF0ZU9iamVjdD5cblx0aW1wbGVtZW50cyBJT3JkZXJQcm9kdWN0IHtcblx0Y29uc3RydWN0b3Iob3JkZXJQcm9kdWN0OiBJT3JkZXJQcm9kdWN0KSB7XG5cdFx0c3VwZXIob3JkZXJQcm9kdWN0KTtcblxuXHRcdGlmIChvcmRlclByb2R1Y3QgJiYgb3JkZXJQcm9kdWN0LnByb2R1Y3QpIHtcblx0XHRcdHRoaXMucHJvZHVjdCA9IG5ldyBQcm9kdWN0KG9yZGVyUHJvZHVjdC5wcm9kdWN0KTtcblx0XHR9XG5cdH1cblxuXHQvLyBjdXJyZW50IHByaWNlIG9mIHRoZSBQcm9kdWN0IChjb3VsZCBiZSBsb3dlciBvciBoaWdoZXIgY29tcGFyZWQgdG8gaW5pdGlhbCBwcmljZSlcblx0QFR5cGVzLk51bWJlcigpXG5cdEBDb2x1bW4oKVxuXHRwcmljZTogbnVtYmVyO1xuXG5cdC8vIGluaXRpYWwgcHJpY2Ugb2YgdGhlIFByb2R1Y3Rcblx0QFR5cGVzLk51bWJlcigpXG5cdEBDb2x1bW4oKVxuXHRpbml0aWFsUHJpY2U6IG51bWJlcjtcblxuXHQvKipcblx0ICogUXR5IG9mIHB1cmNoYXNlZCBwcm9kdWN0c1xuXHQgKlxuXHQgKiBAdHlwZSB7bnVtYmVyfVxuXHQgKiBAbWVtYmVyb2YgT3JkZXJQcm9kdWN0XG5cdCAqL1xuXHRAVHlwZXMuTnVtYmVyKDApXG5cdEBDb2x1bW4oKVxuXHRjb3VudDogbnVtYmVyO1xuXG5cdC8qKlxuXHQgKiBQcm9kdWN0IChub3QgcmVmKVxuXHQgKlxuXHQgKiBAdHlwZSB7UHJvZHVjdH1cblx0ICogQG1lbWJlcm9mIE9yZGVyUHJvZHVjdFxuXHQgKi9cblx0QFNjaGVtYShnZXRTY2hlbWEoUHJvZHVjdCkpXG5cdHByb2R1Y3Q6IFByb2R1Y3Q7XG5cblx0LyoqXG5cdCAqIElzIHByb2R1Y3QocykgcmVxdWlyZSBtYW51ZmFjdHVyaW5nXG5cdCAqXG5cdCAqIEB0eXBlIHtib29sZWFufVxuXHQgKiBAbWVtYmVyb2YgT3JkZXJQcm9kdWN0XG5cdCAqL1xuXHRAVHlwZXMuQm9vbGVhbih0cnVlKVxuXHRAQ29sdW1uKClcblx0aXNNYW51ZmFjdHVyaW5nOiBib29sZWFuO1xuXG5cdC8qKlxuXHQgKiBJcyBwcm9kdWN0KHMpIGJlY29tZXMgYXZhaWxhYmxlIGZvciBwdXJjaGFzZSBvbmx5IHdoZW4gY2FycmllciBmb3VuZFxuXHQgKlxuXHQgKiBAdHlwZSB7Ym9vbGVhbn1cblx0ICogQG1lbWJlcm9mIE9yZGVyUHJvZHVjdFxuXHQgKi9cblx0QFR5cGVzLkJvb2xlYW4odHJ1ZSlcblx0QENvbHVtbigpXG5cdGlzQ2FycmllclJlcXVpcmVkOiBib29sZWFuO1xuXG5cdC8qKlxuXHQgKiBTaG91bGQgcHJvZHVjdCBiZSBkZWxpdmVyZWQgYnkgY2FycmllciBvciBpdCdzIHBpY2t1cCAodGFrZWF3YXkpXG5cdCAqXG5cdCAqIEB0eXBlIHtib29sZWFufVxuXHQgKiBAbWVtYmVyb2YgT3JkZXJQcm9kdWN0XG5cdCAqL1xuXHRAVHlwZXMuQm9vbGVhbih0cnVlKVxuXHRAQ29sdW1uKClcblx0aXNEZWxpdmVyeVJlcXVpcmVkOiBib29sZWFuO1xuXG5cdC8qKlxuXHQgKiBJcyBpdCBUYWtlYXdheSBvcmRlciAoaW5jbHVkaW5nIGluLXN0b3JlIHB1cmNoYXNlKVxuXHQgKlxuXHQgKiBAdHlwZSB7Ym9vbGVhbn1cblx0ICogQG1lbWJlcm9mIE9yZGVyUHJvZHVjdFxuXHQgKi9cblx0QFNjaGVtYSh7IHJlcXVpcmVkOiBmYWxzZSwgdHlwZTogQm9vbGVhbiB9KVxuXHRAQ29sdW1uKClcblx0aXNUYWtlYXdheT86IGJvb2xlYW47XG5cblx0LyoqXG5cdCAqIE1pbiBkZWxpdmVyeSB0aW1lIChpbiBtaW51dGVzKVxuXHQgKlxuXHQgKiBAdHlwZSB7bnVtYmVyfVxuXHQgKiBAbWVtYmVyb2YgT3JkZXJQcm9kdWN0XG5cdCAqL1xuXHRAU2NoZW1hKHsgcmVxdWlyZWQ6IGZhbHNlLCB0eXBlOiBOdW1iZXIgfSlcblx0QENvbHVtbigpXG5cdGRlbGl2ZXJ5VGltZU1pbj86IG51bWJlcjtcblxuXHQvKipcblx0ICogTWF4IGRlbGl2ZXJ5IHRpbWUgKGluIG1pbnV0ZXMpXG5cdCAqXG5cdCAqIEB0eXBlIHtudW1iZXJ9XG5cdCAqIEBtZW1iZXJvZiBPcmRlclByb2R1Y3Rcblx0ICovXG5cdEBTY2hlbWEoeyByZXF1aXJlZDogZmFsc2UsIHR5cGU6IE51bWJlciB9KVxuXHRAQ29sdW1uKClcblx0ZGVsaXZlcnlUaW1lTWF4PzogbnVtYmVyO1xufVxuXG5leHBvcnQgZGVmYXVsdCBPcmRlclByb2R1Y3Q7XG4iLCJpbXBvcnQgeyBNb2RlbE5hbWUsIERCT2JqZWN0LCBUeXBlcywgU2NoZW1hIH0gZnJvbSAnQHB5cm8vZGInO1xuaW1wb3J0IElQYXltZW50R2F0ZXdheUNyZWF0ZU9iamVjdCwge1xuXHRJUGF5bWVudEdhdGV3YXksXG59IGZyb20gJy4uL2ludGVyZmFjZXMvSVBheW1lbnRHYXRld2F5JztcbmltcG9ydCBQYXltZW50R2F0ZXdheXMgZnJvbSAnLi4vZW51bXMvUGF5bWVudEdhdGV3YXlzJztcbmltcG9ydCB7IENvbHVtbiB9IGZyb20gJ3R5cGVvcm0nO1xuXG4vKipcbiAqIFN0b3JlcyB0eXBlIG9mIHBheW1lbnQgZ2F0ZXdheSBhbmQgY29uZmlndXJhdGlvbiBvYmplY3QgZm9yIHN1Y2ggcGF5bWVudCBnYXRld2F5XG4gKlxuICogQGNsYXNzIFBheW1lbnRHYXRld2F5XG4gKiBAZXh0ZW5kcyB7REJPYmplY3Q8SVBheW1lbnRHYXRld2F5LCBJUGF5bWVudEdhdGV3YXlDcmVhdGVPYmplY3Q+fVxuICogQGltcGxlbWVudHMge0lQYXltZW50R2F0ZXdheX1cbiAqL1xuQE1vZGVsTmFtZSgnUGF5bWVudEdhdGV3YXknKVxuY2xhc3MgUGF5bWVudEdhdGV3YXlcblx0ZXh0ZW5kcyBEQk9iamVjdDxJUGF5bWVudEdhdGV3YXksIElQYXltZW50R2F0ZXdheUNyZWF0ZU9iamVjdD5cblx0aW1wbGVtZW50cyBJUGF5bWVudEdhdGV3YXkge1xuXHQvKipcblx0ICogVHlwZSBvZiB0aGUgcGF5bWVudCBnYXRld2F5XG5cdCAqXG5cdCAqIEB0eXBlIHtQYXltZW50R2F0ZXdheXN9XG5cdCAqIEBtZW1iZXJvZiBQYXltZW50R2F0ZXdheVxuXHQgKi9cblx0QFR5cGVzLk51bWJlcigpXG5cdEBDb2x1bW4oKVxuXHRwYXltZW50R2F0ZXdheTogUGF5bWVudEdhdGV3YXlzO1xuXG5cdC8qKlxuXHQgKiBDb25maWd1cmF0aW9uIG9iamVjdCBmb3Igc3VjaCBwYXltZW50IGdhdGV3YXkuXG5cdCAqXG5cdCAqIE5vdGU6IHRoaXMgZmllbGQgaGFzIG5vIGNvbmNyZXRlIHR5cGUsIGJlY2F1c2UgZGlmZmVyZW50IHBheW1lbnQgZ2F0ZXdheXNcblx0ICogbWF5IGhhdmUgZGlmZmVyZW50IGZpZWxkcyBpbiB0aGUgY29uZmlndXJlIG9iamVjdFxuXHQgKlxuXHQgKiBAdHlwZSB7YW55fVxuXHQgKiBAbWVtYmVyb2YgUGF5bWVudEdhdGV3YXlcblx0ICovXG5cdEBTY2hlbWEoeyB0eXBlOiBPYmplY3QgfSlcblx0QENvbHVtbigpXG5cdGNvbmZpZ3VyZU9iamVjdDogYW55O1xufVxuXG5leHBvcnQgZGVmYXVsdCBQYXltZW50R2F0ZXdheTtcbiIsImltcG9ydCB7IERCT2JqZWN0LCBNb2RlbE5hbWUsIFNjaGVtYSwgVHlwZXMgfSBmcm9tICcuLi9AcHlyby9kYic7XG5pbXBvcnQgSVByb2R1Y3QsIHtcblx0SVByb2R1Y3RDcmVhdGVPYmplY3QsXG5cdElQcm9kdWN0RGVzY3JpcHRpb24sXG5cdElQcm9kdWN0RGVzY3JpcHRpb25IVE1MLFxuXHRJUHJvZHVjdERldGFpbHMsXG5cdElQcm9kdWN0RGV0YWlsc0hUTUwsXG5cdElQcm9kdWN0SW1hZ2UsXG5cdElQcm9kdWN0VGl0bGUsXG59IGZyb20gJy4uL2ludGVyZmFjZXMvSVByb2R1Y3QnO1xuaW1wb3J0IFByb2R1Y3RzQ2F0ZWdvcnkgZnJvbSAnLi9Qcm9kdWN0c0NhdGVnb3J5JztcbmltcG9ydCB7IElQcm9kdWN0c0NhdGVnb3J5IH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9JUHJvZHVjdHNDYXRlZ29yeSc7XG5pbXBvcnQgeyBFbnRpdHksIENvbHVtbiB9IGZyb20gJ3R5cGVvcm0nO1xuXG4vKipcbiAqIFByb2R1Y3QgSW5mb3JtYXRpb24gKG9yZ2FuaXplZCBhcyBhIGdsb2JhbCBQcm9kdWN0cyBDYXRhbG9nKVxuICpcbiAqIE5vdGU6IFByb2R1Y3RzIGluIHNwZWNpZmljIHdhcmVob3VzZSBhcmUgc3RvcmVkIGFzIGEgV2FyZWhvdXNlUHJvZHVjdCByZWNvcmRzIGluc3RlYWRcbiAqIChpbiBNb25nb0RCIGFzIHN1Yi1kb2N1bWVudHMgb2YgdGhlIFdhcmVob3VzZSBkb2N1bWVudClcbiAqXG4gKiBAY2xhc3MgUHJvZHVjdFxuICogQGV4dGVuZHMge0RCT2JqZWN0PElQcm9kdWN0LCBJUHJvZHVjdENyZWF0ZU9iamVjdD59XG4gKiBAaW1wbGVtZW50cyB7SVByb2R1Y3R9XG4gKi9cbkBNb2RlbE5hbWUoJ1Byb2R1Y3QnKVxuQEVudGl0eSh7IG5hbWU6ICdwcm9kdWN0cycgfSlcbmNsYXNzIFByb2R1Y3QgZXh0ZW5kcyBEQk9iamVjdDxJUHJvZHVjdCwgSVByb2R1Y3RDcmVhdGVPYmplY3Q+XG5cdGltcGxlbWVudHMgSVByb2R1Y3Qge1xuXHQvKipcblx0ICogVGl0bGUgb2YgUHJvZHVjdCAobm9ybWFsbHkgc2hvcnQgYW5kIGRpc3BsYXkgYXMgYSBib2xkIHRleHQpXG5cdCAqXG5cdCAqIEB0eXBlIHtJUHJvZHVjdFRpdGxlW119XG5cdCAqIEBtZW1iZXJvZiBQcm9kdWN0XG5cdCAqL1xuXHRAU2NoZW1hKHsgdHlwZTogQXJyYXkgfSlcblx0dGl0bGU6IElQcm9kdWN0VGl0bGVbXTtcblxuXHQvKipcblx0ICogU2hvcnQgZGVzY3JpcHRpb24gb2YgdGhlIHByb2R1Y3QgKG5vcm1hbGx5IGxvbmdlciB0aGFuIHRpdGxlKVxuXHQgKlxuXHQgKiBAdHlwZSB7SVByb2R1Y3REZXNjcmlwdGlvbltdfVxuXHQgKiBAbWVtYmVyb2YgUHJvZHVjdFxuXHQgKi9cblx0QFNjaGVtYSh7IHR5cGU6IEFycmF5IH0pXG5cdGRlc2NyaXB0aW9uOiBJUHJvZHVjdERlc2NyaXB0aW9uW107XG5cblx0LyoqXG5cdCAqIEhUTUwgY29udGVudCBmb3IgU2hvcnQgZGVzY3JpcHRpb24gb2YgdGhlIHByb2R1Y3QgKG5vcm1hbGx5IGxvbmdlciB0aGFuIHRpdGxlKVxuXHQgKlxuXHQgKiBAdHlwZSB7SVByb2R1Y3REZXNjcmlwdGlvbkhUTUxbXX1cblx0ICogQG1lbWJlcm9mIFByb2R1Y3Rcblx0ICovXG5cdEBTY2hlbWEoeyB0eXBlOiBBcnJheSB9KVxuXHRkZXNjcmlwdGlvbkhUTUw6IElQcm9kdWN0RGVzY3JpcHRpb25IVE1MW107XG5cblx0LyoqXG5cdCAqIExvbmcgZGVzY3JpcHRpb24gb2YgdGhlIHByb2R1Y3QgKG5vcm1hbGx5IGxvbmdlciB0aGFuIHByb2R1Y3QgZGVzY3JpcHRpb24pXG5cdCAqXG5cdCAqIEB0eXBlIHtJUHJvZHVjdERldGFpbHNbXX1cblx0ICogQG1lbWJlcm9mIFByb2R1Y3Rcblx0ICovXG5cdEBTY2hlbWEoeyB0eXBlOiBBcnJheSB9KVxuXHRkZXRhaWxzOiBJUHJvZHVjdERldGFpbHNbXTtcblxuXHQvKipcblx0ICogSFRNTCBjb250ZW50IGZvciBMb25nIGRlc2NyaXB0aW9uIG9mIHRoZSBwcm9kdWN0IChub3JtYWxseSBsb25nZXIgdGhhbiBwcm9kdWN0IGRlc2NyaXB0aW9uKVxuXHQgKlxuXHQgKiBAdHlwZSB7SVByb2R1Y3REZXRhaWxzSFRNTFtdfVxuXHQgKiBAbWVtYmVyb2YgUHJvZHVjdFxuXHQgKi9cblx0QFNjaGVtYSh7IHR5cGU6IEFycmF5IH0pXG5cdGRldGFpbHNIVE1MOiBJUHJvZHVjdERldGFpbHNIVE1MW107XG5cblx0LyoqXG5cdCAqIFByb2R1Y3QgSW1hZ2VzXG5cdCAqXG5cdCAqIEB0eXBlIHtJUHJvZHVjdEltYWdlW119XG5cdCAqIEBtZW1iZXJvZiBQcm9kdWN0XG5cdCAqL1xuXHRAU2NoZW1hKHsgdHlwZTogQXJyYXkgfSlcblx0aW1hZ2VzOiBJUHJvZHVjdEltYWdlW107XG5cblx0LyoqXG5cdCAqIENhdGVnb3JpZXMgdG8gd2hpY2ggcHJvZHVjdCBiZWxvbmdcblx0ICpcblx0ICogQHR5cGUge0lQcm9kdWN0c0NhdGVnb3J5W119XG5cdCAqIEBtZW1iZXJvZiBQcm9kdWN0XG5cdCAqL1xuXHRAVHlwZXMuUmVmKFtQcm9kdWN0c0NhdGVnb3J5XSlcblx0Y2F0ZWdvcmllczogSVByb2R1Y3RzQ2F0ZWdvcnlbXTtcblxuXHRAVHlwZXMuQm9vbGVhbihmYWxzZSlcblx0QENvbHVtbigpXG5cdGlzRGVsZXRlZDogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgUHJvZHVjdDtcbiIsImltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgSVByb2R1Y3RJbmZvIGZyb20gJy4uL2ludGVyZmFjZXMvSVByb2R1Y3RJbmZvJztcbmltcG9ydCBQcm9kdWN0IGZyb20gJy4vUHJvZHVjdCc7XG5pbXBvcnQgeyBJT3JkZXJQcm9kdWN0Q3JlYXRlT2JqZWN0IH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9JT3JkZXJQcm9kdWN0JztcbmltcG9ydCBXYXJlaG91c2VQcm9kdWN0IGZyb20gJy4vV2FyZWhvdXNlUHJvZHVjdCc7XG5cbi8qKlxuICogUHJvZHVjdCBJbmZvcm1hdGlvblxuICogTm90ZTogVGhhdCBlbnRpdHkgZG9lc24ndCBoYXZlIHNjaGVtYSwgc28gaXRzIG5vdCBzdG9yZWQgaW4gZGJcbiAqXG4gKiBAY2xhc3MgUHJvZHVjdEluZm9cbiAqIEBpbXBsZW1lbnRzIHtJUHJvZHVjdEluZm99XG4gKi9cbmNsYXNzIFByb2R1Y3RJbmZvIGltcGxlbWVudHMgSVByb2R1Y3RJbmZvIHtcblx0Y29uc3RydWN0b3IocHJvZHVjdEluZm86IElQcm9kdWN0SW5mbykge1xuXHRcdGlmIChwcm9kdWN0SW5mbykge1xuXHRcdFx0Xy5hc3NpZ24odGhpcywgcHJvZHVjdEluZm8pO1xuXG5cdFx0XHRpZiAocHJvZHVjdEluZm8ud2FyZWhvdXNlUHJvZHVjdCkge1xuXHRcdFx0XHR0aGlzLndhcmVob3VzZVByb2R1Y3QgPSBuZXcgV2FyZWhvdXNlUHJvZHVjdChcblx0XHRcdFx0XHRwcm9kdWN0SW5mby53YXJlaG91c2VQcm9kdWN0XG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFByb2R1Y3QgZmllbGQgaXMgcG9wdWxhdGVkIGluc2lkZSB0aGlzIHByb3BlcnR5XG5cdCAqXG5cdCAqIEB0eXBlIHtXYXJlaG91c2VQcm9kdWN0fVxuXHQgKiBAbWVtYmVyb2YgUHJvZHVjdEluZm9cblx0ICovXG5cdHdhcmVob3VzZVByb2R1Y3Q6IFdhcmVob3VzZVByb2R1Y3Q7XG5cblx0LyoqXG5cdCAqIElkIG9mIG1lcmNoYW50L3N0b3JlL3dhcmVob3VzZSB3aGVyZSBwcm9kdWN0IGlzIGF2YWlsYWJsZVxuXHQgKlxuXHQgKiBAdHlwZSB7c3RyaW5nfVxuXHQgKiBAbWVtYmVyb2YgUHJvZHVjdEluZm9cblx0ICovXG5cdHdhcmVob3VzZUlkOiBzdHJpbmc7XG5cblx0LyoqXG5cdCAqIFVybCBvZiBpbWFnZSBmb3IgbWVyY2hhbnQvc3RvcmUvd2FyZWhvdXNlXG5cdCAqXG5cdCAqIEB0eXBlIHtzdHJpbmd9XG5cdCAqIEBtZW1iZXJvZiBQcm9kdWN0SW5mb1xuXHQgKi9cblx0d2FyZWhvdXNlTG9nbzogc3RyaW5nO1xuXG5cdGRpc3RhbmNlOiBudW1iZXI7XG5cblx0Z2V0IHByb2R1Y3QoKTogUHJvZHVjdCB7XG5cdFx0cmV0dXJuIHRoaXMud2FyZWhvdXNlUHJvZHVjdC5wcm9kdWN0IGFzIFByb2R1Y3Q7XG5cdH1cblxuXHRnZXRPcmRlclByb2R1Y3RDcmVhdGVPYmplY3QoY291bnQ6IG51bWJlcik6IElPcmRlclByb2R1Y3RDcmVhdGVPYmplY3Qge1xuXHRcdHJldHVybiB7XG5cdFx0XHRpbml0aWFsUHJpY2U6IHRoaXMud2FyZWhvdXNlUHJvZHVjdC5pbml0aWFsUHJpY2UsXG5cdFx0XHRwcmljZTogdGhpcy53YXJlaG91c2VQcm9kdWN0LnByaWNlLFxuXHRcdFx0ZGVsaXZlcnlUaW1lTWluOiB0aGlzLndhcmVob3VzZVByb2R1Y3QuZGVsaXZlcnlUaW1lTWluLFxuXHRcdFx0ZGVsaXZlcnlUaW1lTWF4OiB0aGlzLndhcmVob3VzZVByb2R1Y3QuZGVsaXZlcnlUaW1lTWF4LFxuXHRcdFx0Y291bnQsXG5cdFx0XHRwcm9kdWN0OiB0aGlzLndhcmVob3VzZVByb2R1Y3QucHJvZHVjdCBhcyBQcm9kdWN0LFxuXHRcdH07XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUHJvZHVjdEluZm87XG4iLCJpbXBvcnQgeyBEQk9iamVjdCwgTW9kZWxOYW1lLCBTY2hlbWEsIFR5cGVzIH0gZnJvbSAnLi4vQHB5cm8vZGInO1xuaW1wb3J0IHtcblx0SVByb2R1Y3RzQ2F0ZWdvcnksXG5cdElQcm9kdWN0c0NhdGVnb3J5Q3JlYXRlT2JqZWN0LFxuXHRJUHJvZHVjdHNDYXRlZ29yeU5hbWUsXG59IGZyb20gJy4uL2ludGVyZmFjZXMvSVByb2R1Y3RzQ2F0ZWdvcnknO1xuaW1wb3J0IHsgRW50aXR5LCBDb2x1bW4gfSBmcm9tICd0eXBlb3JtJztcblxuLyoqXG4gKiBQcm9kdWN0IENhdGVnb3J5XG4gKlxuICogQGNsYXNzIFByb2R1Y3RzQ2F0ZWdvcnlcbiAqIEBleHRlbmRzIHtEQk9iamVjdDxJUHJvZHVjdHNDYXRlZ29yeSwgSVByb2R1Y3RzQ2F0ZWdvcnlDcmVhdGVPYmplY3Q+fVxuICogQGltcGxlbWVudHMge0lQcm9kdWN0c0NhdGVnb3J5fVxuICovXG5ATW9kZWxOYW1lKCdQcm9kdWN0Q2F0ZWdvcnknKVxuQEVudGl0eSh7IG5hbWU6ICdwcm9kdWN0Y2F0ZWdvcmllcycgfSlcbmNsYXNzIFByb2R1Y3RzQ2F0ZWdvcnlcblx0ZXh0ZW5kcyBEQk9iamVjdDxJUHJvZHVjdHNDYXRlZ29yeSwgSVByb2R1Y3RzQ2F0ZWdvcnlDcmVhdGVPYmplY3Q+XG5cdGltcGxlbWVudHMgSVByb2R1Y3RzQ2F0ZWdvcnkge1xuXHQvKipcblx0ICogUHJvZHVjdCBDYXRlZ29yeSBOYW1lXG5cdCAqXG5cdCAqIEB0eXBlIHtJUHJvZHVjdHNDYXRlZ29yeU5hbWVbXX1cblx0ICogQG1lbWJlcm9mIFByb2R1Y3RzQ2F0ZWdvcnlcblx0ICovXG5cdEBTY2hlbWEoeyB0eXBlOiBBcnJheSB9KVxuXHRuYW1lOiBJUHJvZHVjdHNDYXRlZ29yeU5hbWVbXTtcblxuXHQvKipcblx0ICogUHJvZHVjdCBDYXRlZ29yeSBJbWFnZSBVUkwgKG9wdGlvbmFsKVxuXHQgKlxuXHQgKiBAdHlwZSB7c3RyaW5nfVxuXHQgKiBAbWVtYmVyb2YgUHJvZHVjdHNDYXRlZ29yeVxuXHQgKi9cblx0QFNjaGVtYSh7XG5cdFx0dHlwZTogU3RyaW5nLFxuXHRcdHJlcXVpcmVkOiBmYWxzZSxcblx0fSlcblx0QENvbHVtbigpXG5cdGltYWdlOiBzdHJpbmc7XG5cblx0QFR5cGVzLkJvb2xlYW4oZmFsc2UpXG5cdEBDb2x1bW4oKVxuXHRpc0RlbGV0ZWQ6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBkZWZhdWx0IFByb2R1Y3RzQ2F0ZWdvcnk7XG4iLCJpbXBvcnQgR2VvTG9jYXRpb24gZnJvbSAnLi9HZW9Mb2NhdGlvbic7XG5pbXBvcnQgeyBEQk9iamVjdCwgZ2V0U2NoZW1hLCBNb2RlbE5hbWUsIFNjaGVtYSwgVHlwZXMgfSBmcm9tICcuLi9AcHlyby9kYic7XG5pbXBvcnQgSVVzZXIsIHsgSVVzZXJDcmVhdGVPYmplY3QgfSBmcm9tICcuLi9pbnRlcmZhY2VzL0lVc2VyJztcbmltcG9ydCB7IEVudGl0eSwgQ29sdW1uIH0gZnJvbSAndHlwZW9ybSc7XG5cbi8qKlxuICogQ3VzdG9tZXIgd2hvIG1ha2Ugb3JkZXJzXG4gKiBUT0RPOiBoaXN0b3JpY2FsbHkgY2FsbGVkICdVc2VyJywgYnV0IHdlIHdpbGwgcmVuYW1lIHRvICdDdXN0b21lcidcbiAqXG4gKiBAY2xhc3MgVXNlclxuICogQGV4dGVuZHMge0RCT2JqZWN0PElVc2VyLCBJVXNlckNyZWF0ZU9iamVjdD59XG4gKiBAaW1wbGVtZW50cyB7SVVzZXJ9XG4gKi9cbkBNb2RlbE5hbWUoJ1VzZXInKVxuQEVudGl0eSh7IG5hbWU6ICd1c2VycycgfSlcbmNsYXNzIFVzZXIgZXh0ZW5kcyBEQk9iamVjdDxJVXNlciwgSVVzZXJDcmVhdGVPYmplY3Q+IGltcGxlbWVudHMgSVVzZXIge1xuXHRjb25zdHJ1Y3Rvcih1c2VyOiBJVXNlcikge1xuXHRcdHN1cGVyKHVzZXIpO1xuXG5cdFx0aWYgKHVzZXIgJiYgdXNlci5nZW9Mb2NhdGlvbikge1xuXHRcdFx0dGhpcy5nZW9Mb2NhdGlvbiA9IG5ldyBHZW9Mb2NhdGlvbih1c2VyLmdlb0xvY2F0aW9uKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogRmlyc3QgTmFtZVxuXHQgKlxuXHQgKiBAdHlwZSB7c3RyaW5nfVxuXHQgKiBAbWVtYmVyb2YgVXNlclxuXHQgKi9cblx0QFNjaGVtYSh7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IGZhbHNlIH0pXG5cdEBDb2x1bW4oKVxuXHRmaXJzdE5hbWU/OiBzdHJpbmc7XG5cblx0LyoqXG5cdCAqIExhc3QgTmFtZVxuXHQgKlxuXHQgKiBAdHlwZSB7c3RyaW5nfVxuXHQgKiBAbWVtYmVyb2YgVXNlclxuXHQgKi9cblx0QFNjaGVtYSh7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IGZhbHNlIH0pXG5cdEBDb2x1bW4oKVxuXHRsYXN0TmFtZT86IHN0cmluZztcblxuXHQvKipcblx0ICogQ3VzdG9tZXIgSW1hZ2UgKFBob3RvL0F2YXRhcikgVVJMXG5cdCAqIChvcHRpb25hbClcblx0ICpcblx0ICogQHR5cGUge3N0cmluZ31cblx0ICogQG1lbWJlcm9mIFVzZXJcblx0ICovXG5cdEBTY2hlbWEoeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiBmYWxzZSB9KVxuXHRAQ29sdW1uKClcblx0aW1hZ2U6IHN0cmluZztcblxuXHQvKipcblx0ICogUHJpbWFyeSBFbWFpbCBBZGRyZXNzXG5cdCAqXG5cdCAqIEB0eXBlIHtzdHJpbmd9XG5cdCAqIEBtZW1iZXJvZiBVc2VyT3JkZXJcblx0ICovXG5cdEBTY2hlbWEoe1xuXHRcdHR5cGU6IFN0cmluZyxcblx0XHRyZXF1aXJlZDogZmFsc2UsXG5cdFx0c3BhcnNlOiB0cnVlLFxuXHRcdHVuaXF1ZTogdHJ1ZSxcblx0fSlcblx0QENvbHVtbigpXG5cdGVtYWlsPzogc3RyaW5nO1xuXG5cdC8qKlxuXHQgKiBQYXNzd29yZCBoYXNoXG5cdCAqXG5cdCAqIEB0eXBlIHtzdHJpbmd9XG5cdCAqIEBtZW1iZXJvZiBVc2VyXG5cdCAqL1xuXHRAU2NoZW1hKHtcblx0XHR0eXBlOiBTdHJpbmcsXG5cdFx0cmVxdWlyZWQ6IGZhbHNlLFxuXHRcdHNlbGVjdDogZmFsc2UsXG5cdH0pXG5cdEBDb2x1bW4oKVxuXHRoYXNoPzogc3RyaW5nO1xuXG5cdC8qKlxuXHQgKiBDdXJyZW50IGN1c3RvbWVyIGxvY2F0aW9uIChjdXN0b21lciBhZGRyZXNzLCBsYXN0IGtub3duIGxvY2F0aW9uIG9mIHRoZSBjdXN0b21lcilcblx0ICpcblx0ICogQHR5cGUge0dlb0xvY2F0aW9ufVxuXHQgKiBAbWVtYmVyb2YgVXNlclxuXHQgKi9cblx0QFNjaGVtYShnZXRTY2hlbWEoR2VvTG9jYXRpb24pKVxuXHRnZW9Mb2NhdGlvbjogR2VvTG9jYXRpb247XG5cblx0LyoqXG5cdCAqIEFwYXJ0bWVudCAoc3RvcmVkIHNlcGFyYXRlbHkgZnJvbSBnZW9sb2NhdGlvbi9hZGRyZXNzIGZvciBlZmZpY2llbmN5KVxuXHQgKlxuXHQgKiBAdHlwZSB7c3RyaW5nfVxuXHQgKiBAbWVtYmVyb2YgVXNlclxuXHQgKi9cblx0QFNjaGVtYShTdHJpbmcpXG5cdEBDb2x1bW4oKVxuXHRhcGFydG1lbnQ6IHN0cmluZztcblxuXHQvKipcblx0ICogQ3VzdG9tZXJJZCBpbiB0aGUgU3RyaXBlIHBheW1lbnQgZ2F0ZXdheSAoaWYgY3VzdG9tZXIgYWRkZWQgdG8gU3RyaXBlLCBvcHRpb25hbClcblx0ICpcblx0ICogQHR5cGUge3N0cmluZ31cblx0ICogQG1lbWJlcm9mIFVzZXJcblx0ICovXG5cdEBTY2hlbWEoeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiBmYWxzZSB9KVxuXHRAQ29sdW1uKClcblx0c3RyaXBlQ3VzdG9tZXJJZD86IHN0cmluZztcblxuXHQvKipcblx0ICogSURzIG9mIGN1c3RvbWVyIG1vYmlsZSBkZXZpY2VzIC8gYnJvd3NlciAoc2VlIERldmljZSBlbnRpdHkpXG5cdCAqXG5cdCAqIEB0eXBlIHtzdHJpbmdbXX1cblx0ICogQG1lbWJlcm9mIFVzZXJcblx0ICovXG5cdEBTY2hlbWEoW1N0cmluZ10pXG5cdGRldmljZXNJZHM6IHN0cmluZ1tdO1xuXG5cdC8qKlxuXHQgKiBJRHMgb2YgY3VzdG9tZXIgaW4gc29jaWFsIG5ldHdvcmtzIC8gT0F1dGggcHJvdmlkZXJzXG5cdCAqXG5cdCAqIEB0eXBlIHtzdHJpbmdbXX1cblx0ICogQG1lbWJlcm9mIFVzZXJcblx0ICovXG5cdEBTY2hlbWEoW1N0cmluZ10pXG5cdHNvY2lhbElkczogc3RyaW5nW107XG5cblx0LyoqXG5cdCAqIEN1c3RvbWVyIFByaW1hcnkgUGhvbmUgTnVtYmVyXG5cdCAqXG5cdCAqIEB0eXBlIHtzdHJpbmd9XG5cdCAqIEBtZW1iZXJvZiBVc2VyXG5cdCAqL1xuXHRAU2NoZW1hKFN0cmluZylcblx0QENvbHVtbigpXG5cdHBob25lPzogc3RyaW5nO1xuXG5cdC8qKlxuXHQgKiBJcyBjdXN0b21lciBjb21wbGV0ZWQgcmVnaXN0cmF0aW9uXG5cdCAqXG5cdCAqIEB0eXBlIHtib29sZWFufVxuXHQgKiBAbWVtYmVyb2YgVXNlclxuXHQgKi9cblx0QFNjaGVtYShCb29sZWFuKVxuXHRAQ29sdW1uKClcblx0aXNSZWdpc3RyYXRpb25Db21wbGV0ZWQ6IGJvb2xlYW47XG5cblx0LyoqXG5cdCAqIElzIGN1c3RvbWVyIGJhbm5lZFxuXHQgKlxuXHQgKiBAdHlwZSB7Ym9vbGVhbn1cblx0ICogQG1lbWJlcm9mIFVzZXJcblx0ICovXG5cdEBUeXBlcy5Cb29sZWFuKGZhbHNlKVxuXHRAQ29sdW1uKClcblx0aXNCYW5uZWQ6IGJvb2xlYW47XG5cblx0QFR5cGVzLkJvb2xlYW4oZmFsc2UpXG5cdEBDb2x1bW4oKVxuXHRpc0RlbGV0ZWQ6IGJvb2xlYW47XG5cblx0LyoqXG5cdCAqIEdldCBmdWxsIGFkZHJlc3Mgb2YgY3VzdG9tZXIgKGluY2x1ZGluZyBhcGFydG1lbnQpXG5cdCAqIE5vdGU6IGRvZXMgbm90IGluY2x1ZGUgY291bnRyeVxuXHQgKlxuXHQgKiBAcmVhZG9ubHlcblx0ICogQG1lbWJlcm9mIFVzZXJcblx0ICovXG5cdGdldCBmdWxsQWRkcmVzcygpOiBzdHJpbmcge1xuXHRcdHJldHVybiAoXG5cdFx0XHRgJHt0aGlzLmdlb0xvY2F0aW9uLmNpdHl9LCAke3RoaXMuZ2VvTG9jYXRpb24uc3RyZWV0QWRkcmVzc30gYCArXG5cdFx0XHRgJHt0aGlzLmFwYXJ0bWVudH0vJHt0aGlzLmdlb0xvY2F0aW9uLmhvdXNlfWBcblx0XHQpO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFVzZXI7XG4iLCJpbXBvcnQgR2VvTG9jYXRpb24gZnJvbSAnLi9HZW9Mb2NhdGlvbic7XG5pbXBvcnQgeyBEQk9iamVjdCwgZ2V0U2NoZW1hLCBNb2RlbE5hbWUsIFNjaGVtYSB9IGZyb20gJy4uL0BweXJvL2RiJztcbmltcG9ydCBJVXNlck9yZGVyLCB7IElVc2VyT3JkZXJDcmVhdGVPYmplY3QgfSBmcm9tICcuLi9pbnRlcmZhY2VzL0lVc2VyT3JkZXInO1xuaW1wb3J0IHsgQ29sdW1uIH0gZnJvbSAndHlwZW9ybSc7XG5cbi8qKlxuICogU3RvcmUgaW5mb3JtYXRpb24gYWJvdXQgQ3VzdG9tZXIgaW5zaWRlIChlbWJlZGVkIGludG8pIE9yZGVyXG4gKiBUaGUgZGF0YSBpcyB1c3VhbGx5IGNvcGllZCBmcm9tIHRoZSBDdXN0b21lciByZWNvcmQgaW4gREIgcmlnaHQgYWZ0ZXIgb3JkZXIgY3JlYXRlZFxuICogVE9ETzogcmVuYW1lIHRvIEN1c3RvbWVyT3JkZXJcbiAqXG4gKiBAY2xhc3MgVXNlck9yZGVyXG4gKiBAZXh0ZW5kcyB7REJPYmplY3Q8SVVzZXJPcmRlciwgSVVzZXJPcmRlckNyZWF0ZU9iamVjdD59XG4gKiBAaW1wbGVtZW50cyB7SVVzZXJPcmRlcn1cbiAqL1xuQE1vZGVsTmFtZSgnVXNlck9yZGVyJylcbmNsYXNzIFVzZXJPcmRlciBleHRlbmRzIERCT2JqZWN0PElVc2VyT3JkZXIsIElVc2VyT3JkZXJDcmVhdGVPYmplY3Q+XG5cdGltcGxlbWVudHMgSVVzZXJPcmRlciB7XG5cdGNvbnN0cnVjdG9yKHVzZXJPcmRlcjogSVVzZXJPcmRlcikge1xuXHRcdHN1cGVyKHVzZXJPcmRlcik7XG5cblx0XHRpZiAodXNlck9yZGVyICYmIHVzZXJPcmRlci5nZW9Mb2NhdGlvbikge1xuXHRcdFx0dGhpcy5nZW9Mb2NhdGlvbiA9IG5ldyBHZW9Mb2NhdGlvbih1c2VyT3JkZXIuZ2VvTG9jYXRpb24pO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBGaXJzdCBOYW1lXG5cdCAqXG5cdCAqIEB0eXBlIHtzdHJpbmd9XG5cdCAqIEBtZW1iZXJvZiBVc2VyT3JkZXJcblx0ICovXG5cdEBTY2hlbWEoeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiBmYWxzZSB9KVxuXHRAQ29sdW1uKClcblx0Zmlyc3ROYW1lPzogc3RyaW5nO1xuXG5cdC8qKlxuXHQgKiBMYXN0IE5hbWVcblx0ICpcblx0ICogQHR5cGUge3N0cmluZ31cblx0ICogQG1lbWJlcm9mIFVzZXJPcmRlclxuXHQgKi9cblx0QFNjaGVtYSh7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IGZhbHNlIH0pXG5cdEBDb2x1bW4oKVxuXHRsYXN0TmFtZT86IHN0cmluZztcblxuXHQvKipcblx0ICogQ3VzdG9tZXIgSW1hZ2UgKFBob3RvL0F2YXRhcikgVVJMXG5cdCAqIChvcHRpb25hbClcblx0ICpcblx0ICogQHR5cGUge3N0cmluZ31cblx0ICogQG1lbWJlcm9mIFVzZXJPcmRlclxuXHQgKi9cblx0QFNjaGVtYSh7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IGZhbHNlIH0pXG5cdEBDb2x1bW4oKVxuXHRpbWFnZTogc3RyaW5nO1xuXG5cdC8qKlxuXHQgKiBQcmltYXJ5IEVtYWlsIEFkZHJlc3Ncblx0ICpcblx0ICogQHR5cGUge3N0cmluZ31cblx0ICogQG1lbWJlcm9mIFVzZXJPcmRlclxuXHQgKi9cblx0QFNjaGVtYSh7XG5cdFx0dHlwZTogU3RyaW5nLFxuXHRcdHJlcXVpcmVkOiBmYWxzZSxcblx0XHRzcGFyc2U6IHRydWUsXG5cdH0pXG5cdEBDb2x1bW4oKVxuXHRlbWFpbD86IHN0cmluZztcblxuXHQvKipcblx0ICogUGFzc3dvcmQgSGFzaFxuXHQgKlxuXHQgKiBAdHlwZSB7c3RyaW5nfVxuXHQgKiBAbWVtYmVyb2YgVXNlck9yZGVyXG5cdCAqL1xuXHRAU2NoZW1hKHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogZmFsc2UsIHNlbGVjdDogZmFsc2UgfSlcblx0QENvbHVtbigpXG5cdGhhc2g/OiBzdHJpbmc7XG5cblx0LyoqXG5cdCAqIEN1cnJlbnQgY3VzdG9tZXIgbG9jYXRpb24gKGN1c3RvbWVyIGFkZHJlc3MsIGxhc3Qga25vd24gbG9jYXRpb24gb2YgdGhlIGN1c3RvbWVyKVxuXHQgKlxuXHQgKiBAdHlwZSB7R2VvTG9jYXRpb259XG5cdCAqIEBtZW1iZXJvZiBVc2VyT3JkZXJcblx0ICovXG5cdEBTY2hlbWEoZ2V0U2NoZW1hKEdlb0xvY2F0aW9uKSlcblx0Z2VvTG9jYXRpb246IEdlb0xvY2F0aW9uO1xuXG5cdC8qKlxuXHQgKiBBcGFydG1lbnQgKHN0b3JlZCBzZXBhcmF0ZWx5IGZyb20gZ2VvbG9jYXRpb24vYWRkcmVzcyBmb3IgZWZmaWNpZW5jeSlcblx0ICpcblx0ICogQHR5cGUge3N0cmluZ31cblx0ICogQG1lbWJlcm9mIFVzZXJPcmRlclxuXHQgKi9cblx0QFNjaGVtYShTdHJpbmcpXG5cdEBDb2x1bW4oKVxuXHRhcGFydG1lbnQ6IHN0cmluZztcblxuXHQvKipcblx0ICogQ3VzdG9tZXJJZCBpbiB0aGUgU3RyaXBlIHBheW1lbnQgZ2F0ZXdheSAoaWYgY3VzdG9tZXIgYWRkZWQgdG8gU3RyaXBlLCBvcHRpb25hbClcblx0ICpcblx0ICogQHR5cGUge3N0cmluZ31cblx0ICogQG1lbWJlcm9mIFVzZXJPcmRlclxuXHQgKi9cblx0QFNjaGVtYSh7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IGZhbHNlIH0pXG5cdEBDb2x1bW4oKVxuXHRzdHJpcGVDdXN0b21lcklkPzogc3RyaW5nO1xuXG5cdC8qKlxuXHQgKiBJRHMgb2YgY3VzdG9tZXIgbW9iaWxlIGRldmljZXMgLyBicm93c2VyXG5cdCAqXG5cdCAqIEB0eXBlIHtzdHJpbmdbXX1cblx0ICogQG1lbWJlcm9mIFVzZXJPcmRlclxuXHQgKi9cblx0QFNjaGVtYShbU3RyaW5nXSlcblx0ZGV2aWNlc0lkczogc3RyaW5nW107XG5cblx0LyoqXG5cdCAqIElEcyBvZiBjdXN0b21lciBpbiBzb2NpYWwgbmV0d29ya3MgLyBPQXV0aCBwcm92aWRlcnNcblx0ICpcblx0ICogQHR5cGUge3N0cmluZ1tdfVxuXHQgKiBAbWVtYmVyb2YgVXNlck9yZGVyXG5cdCAqL1xuXHRAU2NoZW1hKFtTdHJpbmddKVxuXHRzb2NpYWxJZHM6IHN0cmluZ1tdO1xuXG5cdC8qKlxuXHQgKiBDdXN0b21lciBQcmltYXJ5IFBob25lIE51bWJlclxuXHQgKlxuXHQgKiBAdHlwZSB7c3RyaW5nfVxuXHQgKiBAbWVtYmVyb2YgVXNlck9yZGVyXG5cdCAqL1xuXHRAU2NoZW1hKFN0cmluZylcblx0QENvbHVtbigpXG5cdHBob25lPzogc3RyaW5nO1xuXG5cdC8qKlxuXHQgKiBJcyBjdXN0b21lciBjb21wbGV0ZWQgcmVnaXN0cmF0aW9uXG5cdCAqXG5cdCAqIEB0eXBlIHtib29sZWFufVxuXHQgKiBAbWVtYmVyb2YgVXNlck9yZGVyXG5cdCAqL1xuXHRAU2NoZW1hKEJvb2xlYW4pXG5cdEBDb2x1bW4oKVxuXHRpc1JlZ2lzdHJhdGlvbkNvbXBsZXRlZDogYm9vbGVhbjtcblxuXHQvKipcblx0ICogR2V0IGZ1bGwgYWRkcmVzcyBvZiBjdXN0b21lciAoaW5jbHVkaW5nIGFwYXJ0bWVudClcblx0ICogTm90ZTogZG9lcyBub3QgaW5jbHVkZSBjb3VudHJ5XG5cdCAqXG5cdCAqIEByZWFkb25seVxuXHQgKiBAbWVtYmVyb2YgVXNlck9yZGVyXG5cdCAqL1xuXHRnZXQgZnVsbEFkZHJlc3MoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0YCR7dGhpcy5nZW9Mb2NhdGlvbi5jaXR5fSwgJHt0aGlzLmdlb0xvY2F0aW9uLnN0cmVldEFkZHJlc3N9IGAgK1xuXHRcdFx0YCR7dGhpcy5hcGFydG1lbnR9LyR7dGhpcy5nZW9Mb2NhdGlvbi5ob3VzZX1gXG5cdFx0KTtcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBVc2VyT3JkZXI7XG4iLCJpbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgREJPYmplY3QsIGdldFNjaGVtYSwgTW9kZWxOYW1lLCBTY2hlbWEsIFR5cGVzIH0gZnJvbSAnLi4vQHB5cm8vZGInO1xuaW1wb3J0IEdlb0xvY2F0aW9uIGZyb20gJy4vR2VvTG9jYXRpb24nO1xuaW1wb3J0IFdhcmVob3VzZVByb2R1Y3QsIHsgV2l0aFBvcHVsYXRlZFByb2R1Y3QgfSBmcm9tICcuL1dhcmVob3VzZVByb2R1Y3QnO1xuaW1wb3J0IElXYXJlaG91c2UsIHsgSVdhcmVob3VzZUNyZWF0ZU9iamVjdCB9IGZyb20gJy4uL2ludGVyZmFjZXMvSVdhcmVob3VzZSc7XG5pbXBvcnQgRm9yd2FyZE9yZGVyc01ldGhvZCBmcm9tICcuLi9lbnVtcy9Gb3J3YXJkT3JkZXJzTWV0aG9kJztcbmltcG9ydCB7IEVudGl0eSwgQ29sdW1uIH0gZnJvbSAndHlwZW9ybSc7XG5pbXBvcnQgSVdhcmVob3VzZVByb2R1Y3QgZnJvbSAnLi4vaW50ZXJmYWNlcy9JV2FyZWhvdXNlUHJvZHVjdCc7XG5pbXBvcnQgT3JkZXJCYXJjb2RlVHlwZXMgZnJvbSAnLi4vZW51bXMvT3JkZXJCYXJjb2RlVHlwZXMnO1xuaW1wb3J0IFBheW1lbnRHYXRld2F5IGZyb20gJy4vUGF5bWVudEdhdGV3YXknO1xuXG4vKipcbiAqIFdhcmVob3VzZSAvIE1lcmNoYW50IC8gU3RvcmVcbiAqIFdlIGFyZSB1c2luZyBhbGwgb2YgYWJvdmUgYXMgc3lub255bXMgdG9kYXksIGhvd2V2ZXIgYXQgc29tZSBwb2ludCB3ZSB3aWxsIGhhdmVcbiAqIG11bHRpcGxlIHdhcmVob3VzZXMgcGVyIGVhY2ggc3RvcmUgT1IgbXVsdGlwbGUgc3RvcmVzIHVzaW5nIHNhbWUgd2FyZWhvdXNlLlxuICogU28sIHdoaWxlIHdlIHRoaW5rIE1lcmNoYW50IGFuZCBTdG9yZSBhcmUgaW50ZXJjaGFuZ2FibGUsXG4gKiBpbiB0aGUgZnV0dXJlIHZlcnNpb25zIG9mIEV2ZXIgUGxhdGZvcm0sIHdlIHdpbGwgaGF2ZSBNZXJjaGFudHMgYW5kIFdhcmVob3VzZXMgYXMgc2VwYXJhdGVkIGVudGl0aWVzXG4gKlxuICogQGNsYXNzIFdhcmVob3VzZVxuICogQGV4dGVuZHMge0RCT2JqZWN0PElXYXJlaG91c2UsIElXYXJlaG91c2VDcmVhdGVPYmplY3Q+fVxuICogQGltcGxlbWVudHMge0lXYXJlaG91c2V9XG4gKi9cbkBNb2RlbE5hbWUoJ1dhcmVob3VzZScpXG5ARW50aXR5KHsgbmFtZTogJ3dhcmVob3VzZXMnIH0pXG5jbGFzcyBXYXJlaG91c2UgZXh0ZW5kcyBEQk9iamVjdDxJV2FyZWhvdXNlLCBJV2FyZWhvdXNlQ3JlYXRlT2JqZWN0PlxuXHRpbXBsZW1lbnRzIElXYXJlaG91c2Uge1xuXHRjb25zdHJ1Y3Rvcih3YXJlaG91c2U6IElXYXJlaG91c2UpIHtcblx0XHRzdXBlcih3YXJlaG91c2UpO1xuXG5cdFx0aWYgKHdhcmVob3VzZSkge1xuXHRcdFx0aWYgKHdhcmVob3VzZS5nZW9Mb2NhdGlvbikge1xuXHRcdFx0XHR0aGlzLmdlb0xvY2F0aW9uID0gbmV3IEdlb0xvY2F0aW9uKHdhcmVob3VzZS5nZW9Mb2NhdGlvbik7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh3YXJlaG91c2UucHJvZHVjdHMpIHtcblx0XHRcdFx0dGhpcy5wcm9kdWN0cyA9IF8ubWFwKFxuXHRcdFx0XHRcdHdhcmVob3VzZS5wcm9kdWN0cyxcblx0XHRcdFx0XHQod2FyZWhvdXNlUHJvZHVjdDogSVdhcmVob3VzZVByb2R1Y3QpID0+IHtcblx0XHRcdFx0XHRcdHJldHVybiBuZXcgV2FyZWhvdXNlUHJvZHVjdCh3YXJlaG91c2VQcm9kdWN0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICghd2FyZWhvdXNlLmJhcmNvZGVEYXRhKSB7XG5cdFx0XHRcdHRoaXMuYmFyY29kZURhdGEgPSB3YXJlaG91c2UuX2lkLnRvU3RyaW5nKCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIElzIFdhcmVob3VzZSB3b3JraW5nIHJpZ2h0IG5vd1xuXHQgKlxuXHQgKiBAdHlwZSB7Ym9vbGVhbn1cblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZVxuXHQgKi9cblx0QFR5cGVzLkJvb2xlYW4oZmFsc2UpXG5cdEBDb2x1bW4oKVxuXHRpc0FjdGl2ZTogYm9vbGVhbjtcblxuXHQvKipcblx0ICogSXMgb25saW5lIHBheW1lbnQgZW5hYmxlZD9cblx0ICogSWYgZGlzYWJsZWQsIHNhbGVzIG9ubHkgcG9zc2libGUgdXNpbmcgY2FzaCBvbiBkZWxpdmVyeSBvciB0YWtlYXdheSBhbmQgbm8gb25saW5lIHBheW1lbnRzIGFsbG93ZWRcblx0ICpcblx0ICogQHR5cGUge2Jvb2xlYW59XG5cdCAqIEBtZW1iZXJvZiBXYXJlaG91c2Vcblx0ICovXG5cdEBUeXBlcy5Cb29sZWFuKHRydWUpXG5cdEBDb2x1bW4oKVxuXHRpc1BheW1lbnRFbmFibGVkOiBib29sZWFuO1xuXG5cdC8qKlxuXHQgKiBXYXJlaG91c2UgY3VycmVudCBsb2NhdGlvbiAoYWRkcmVzcylcblx0ICogTm90ZTogd2UgZG8gc3VwcG9ydCBcIm1vdmluZ1wiIHdhcmVob3VzZXMgKGUuZy4gY2FyIHdpdGggcHJvZHVjdHMpXG5cdCAqXG5cdCAqIEB0eXBlIHtHZW9Mb2NhdGlvbn1cblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZVxuXHQgKi9cblx0QFNjaGVtYShnZXRTY2hlbWEoR2VvTG9jYXRpb24pKVxuXHRnZW9Mb2NhdGlvbjogR2VvTG9jYXRpb247XG5cblx0LyoqXG5cdCAqIFdhcmVob3VzZSBkZWxpdmVyeSBhcmVhcyBpbiBHZW9KU09OIGZvcm1hdFxuXHQgKlxuXHQgKiBAdHlwZSB7T2JqZWN0fVxuXHQgKiBAbWVtYmVyb2YgV2FyZWhvdXNlXG5cdCAqL1xuXHRAU2NoZW1hKHsgdHlwZTogT2JqZWN0IH0pXG5cdGRlbGl2ZXJ5QXJlYXM6IG9iamVjdDtcblxuXHQvKipcblx0ICogUHJvZHVjdHMgYXZhaWxhYmxlIGF0IHRoaXMgd2FyZWhvdXNlIGZvciBjdXN0b21lciB0byBwdXJjaGFzZVxuXHQgKlxuXHQgKiBAdHlwZSB7V2FyZWhvdXNlUHJvZHVjdFtdfVxuXHQgKiBAbWVtYmVyb2YgV2FyZWhvdXNlXG5cdCAqL1xuXHRAU2NoZW1hKFtnZXRTY2hlbWEoV2FyZWhvdXNlUHJvZHVjdCldKVxuXHRwcm9kdWN0czogV2FyZWhvdXNlUHJvZHVjdFtdO1xuXG5cdC8qKlxuXHQgKiBUaGUgbmFtZSBvZiBTdG9yZS9NZXJjaGFudFxuXHQgKlxuXHQgKiBAdHlwZSB7c3RyaW5nfVxuXHQgKiBAbWVtYmVyb2YgV2FyZWhvdXNlXG5cdCAqL1xuXHRAVHlwZXMuU3RyaW5nKClcblx0QENvbHVtbigpXG5cdG5hbWU6IHN0cmluZztcblxuXHQvKipcblx0ICogVGhlIFVSTCBvZiBzdG9yZSBicmFuZCBsb2dvXG5cdCAqXG5cdCAqIEB0eXBlIHtzdHJpbmd9XG5cdCAqIEBtZW1iZXJvZiBXYXJlaG91c2Vcblx0ICovXG5cdEBTY2hlbWEoeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiBmYWxzZSB9KVxuXHRAQ29sdW1uKClcblx0bG9nbzogc3RyaW5nO1xuXG5cdC8qKlxuXHQgKiBEZWZhdWx0IGFkbWluaXN0cmF0b3IgdXNlciBmb3IgdGhlIHN0b3JlXG5cdCAqICh1c2VkIGZvciBhdXRoZW50aWNhdGlvbiBkdXJpbmcgbG9naW4gaW50byBNZXJjaGFudCBhcHAgdG9nZXRoZXIgd2l0aCBoYXNoZWQgcGFzc3dvcmQpXG5cdCAqXG5cdCAqIEB0eXBlIHtzdHJpbmd9XG5cdCAqIEBtZW1iZXJvZiBXYXJlaG91c2Vcblx0ICovXG5cdEBTY2hlbWEoeyB0eXBlOiBTdHJpbmcsIHVuaXF1ZTogdHJ1ZSB9KVxuXHRAQ29sdW1uKClcblx0dXNlcm5hbWU6IHN0cmluZztcblxuXHQvKipcblx0ICogSGFzaGVkIHBhc3N3b3JkIG9mIGRlZmF1bHQgc3RvcmUgYWRtaW5pc3RyYXRvclxuXHQgKlxuXHQgKiBAdHlwZSB7c3RyaW5nfVxuXHQgKiBAbWVtYmVyb2YgV2FyZWhvdXNlXG5cdCAqL1xuXHRAU2NoZW1hKHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogZmFsc2UsIHNlbGVjdDogZmFsc2UgfSlcblx0QENvbHVtbigpXG5cdGhhc2g/OiBzdHJpbmc7XG5cblx0LyoqXG5cdCAqIFByaW1hcnkgY29udGFjdCBlbWFpbCBmb3IgdGhlIHN0b3JlXG5cdCAqXG5cdCAqIEB0eXBlIHsoc3RyaW5nIHwgbnVsbCl9XG5cdCAqIEBtZW1iZXJvZiBXYXJlaG91c2Vcblx0ICovXG5cdEBTY2hlbWEoeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiBmYWxzZSB9KVxuXHRAQ29sdW1uKClcblx0Y29udGFjdEVtYWlsOiBzdHJpbmcgfCBudWxsO1xuXG5cdC8qKlxuXHQgKiBQcmltYXJ5IGNvbnRhY3QgcGhvbmUgZm9yIHRoZSBzdG9yZVxuXHQgKlxuXHQgKiBAdHlwZSB7KHN0cmluZyB8IG51bGwpfVxuXHQgKiBAbWVtYmVyb2YgV2FyZWhvdXNlXG5cdCAqL1xuXHRAU2NoZW1hKHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogZmFsc2UgfSlcblx0QENvbHVtbigpXG5cdGNvbnRhY3RQaG9uZTogc3RyaW5nIHwgbnVsbDtcblxuXHQvKipcblx0ICogUGhvbmUgbnVtYmVyLCB3aGljaCBzaG91bGQgYmUgdXNlZCB0byBhY2NlcHQgb3JkZXJzIGJ5IHBob25lIGNhbGxzXG5cdCAqIElmIG51bGwsIFN0b3JlIGRpZCBub3QgYWNjZXB0IG9yZGVycyBieSBwaG9uZSBjYWxsc1xuXHQgKlxuXHQgKiBAdHlwZSB7KHN0cmluZyB8IG51bGwpfVxuXHQgKiBAbWVtYmVyb2YgV2FyZWhvdXNlXG5cdCAqL1xuXHRAU2NoZW1hKHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogZmFsc2UgfSlcblx0QENvbHVtbigpXG5cdG9yZGVyc1Bob25lOiBzdHJpbmcgfCBudWxsO1xuXG5cdC8qKlxuXHQgKiBFbWFpbCBhZGRyZXNzLCB3aGljaCBzaG91bGQgYmUgdXNlZCB0byBhY2NlcHQgb3JkZXJzIGJ5IGluY29taW5nIGVtYWlsc1xuXHQgKiBJZiBudWxsLCBTdG9yZSBkaWQgbm90IGFjY2VwdCBvcmRlcnMgYnkgaW5jb21pbmcgZW1haWxzXG5cdCAqXG5cdCAqIEB0eXBlIHsoc3RyaW5nIHwgbnVsbCl9XG5cdCAqIEBtZW1iZXJvZiBXYXJlaG91c2Vcblx0ICovXG5cdEBTY2hlbWEoeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiBmYWxzZSB9KVxuXHRAQ29sdW1uKClcblx0b3JkZXJzRW1haWw6IHN0cmluZyB8IG51bGw7XG5cblx0LyoqXG5cdCAqIFByZWZlcmFibGUgd2F5IHRvIGZvcndhcmQgb3JkZXJzIHRvIHRoZSBTdG9yZSAoZW1haWwsIHBob25lLCBldGMpXG5cdCAqXG5cdCAqIEB0eXBlIHtGb3J3YXJkT3JkZXJzTWV0aG9kfVxuXHQgKiBAbWVtYmVyb2YgV2FyZWhvdXNlXG5cdCAqL1xuXHRAU2NoZW1hKFtOdW1iZXJdKVxuXHRAQ29sdW1uKClcblx0Zm9yd2FyZE9yZGVyc1VzaW5nOiBGb3J3YXJkT3JkZXJzTWV0aG9kW107XG5cblx0LyoqXG5cdCAqIElzIFdhcmVob3VzZSBwcm9kdWN0cyBieSBkZWZhdWx0IHJlcXVpcmUgbWFudWZhY3R1cmluZ1xuXHQgKiAoZS5nLiBwaXp6YSByZXF1aXJlcyBtYW51ZmFjdHVyaW5nLCBidXQgYm90dGxlIG9mIGJlZXIgdXN1YWxseSBkb24ndClcblx0ICpcblx0ICogQHR5cGUge2Jvb2xlYW59XG5cdCAqIEBtZW1iZXJvZiBXYXJlaG91c2Vcblx0ICovXG5cdEBUeXBlcy5Cb29sZWFuKHRydWUpXG5cdEBDb2x1bW4oKVxuXHRpc01hbnVmYWN0dXJpbmc6IGJvb2xlYW47XG5cblx0LyoqXG5cdCAqIElzIHdhcmVob3VzZSBwcm9kdWN0cyBieSBkZWZhdWx0IGJlY29tZSBhdmFpbGFibGUgb25seSB3aGVuIGNhcnJpZXIgZm91bmRcblx0ICogKFNob3VsZCB3ZSBzZWFyY2ggZm9yIGNhcnJpZXIgYmVmb3JlIG9yIGFmdGVyIGN1c3RvbWVyIHB1cmNoYXNlcyBwcm9kdWN0KVxuXHQgKlxuXHQgKiBAdHlwZSB7Ym9vbGVhbn1cblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZVxuXHQgKi9cblx0QFR5cGVzLkJvb2xlYW4odHJ1ZSlcblx0QENvbHVtbigpXG5cdGlzQ2FycmllclJlcXVpcmVkOiBib29sZWFuO1xuXG5cdC8qKlxuXHQgKiBJRHMgb2YgZGV2aWNlcyB1c2VkIHRvIGFjY2VzcyBXYXJlaG91c2UgYXBwICh3aGVyZSBhcHAgaW5zdGFsbGVkIG9yIHJ1bm5pbmcpXG5cdCAqIE5vdGU6IHVzZWQgdG8gc2VuZCBwdXNoIG5vdGlmaWNhdGlvbnNcblx0ICpcblx0ICogQHR5cGUge3N0cmluZ1tdfVxuXHQgKiBAbWVtYmVyb2YgV2FyZWhvdXNlXG5cdCAqL1xuXHRAU2NoZW1hKFtTdHJpbmddKVxuXHRkZXZpY2VzSWRzOiBzdHJpbmdbXTtcblxuXHQvKipcblx0ICogSURzIG9mIGNhcnJpZXJzIHdoaWNoIHVzZWQgYnkgU3RvcmVcblx0ICpcblx0ICogQHR5cGUge3N0cmluZ1tdfVxuXHQgKiBAbWVtYmVyb2YgV2FyZWhvdXNlXG5cdCAqL1xuXHRAU2NoZW1hKFtTdHJpbmddKVxuXHR1c2VkQ2FycmllcnNJZHM6IHN0cmluZ1tdO1xuXG5cdC8qKlxuXHQgKiBpZiB0cnVlLCBoYXMgc29tZSBjYXJyaWVycyBhc3NpZ25lZCB0byB0aGUgU3RvcmVcblx0ICpcblx0ICogQHR5cGUge2Jvb2xlYW59XG5cdCAqIEBtZW1iZXJvZiBXYXJlaG91c2Vcblx0ICovXG5cdEBUeXBlcy5Cb29sZWFuKGZhbHNlKVxuXHRAQ29sdW1uKClcblx0aGFzUmVzdHJpY3RlZENhcnJpZXJzOiBib29sZWFuO1xuXG5cdC8qKlxuXHQgKiBJRHMgb2YgY2FycmllcnMgd2hpY2ggYXJlIFwiY29ubmVjdGVkXCIgKGFzc2lnbmVkKSB0byB0aGUgU3RvcmUgKFwib3duIGNhcnJpZXJzXCIpLlxuXHQgKlxuXHQgKiBAdHlwZSB7c3RyaW5nW119XG5cdCAqIEBtZW1iZXJvZiBXYXJlaG91c2Vcblx0ICovXG5cdEBTY2hlbWEoW1N0cmluZ10pXG5cdGNhcnJpZXJzSWRzOiBzdHJpbmdbXTtcblxuXHRAVHlwZXMuQm9vbGVhbihmYWxzZSlcblx0QENvbHVtbigpXG5cdGlzRGVsZXRlZDogYm9vbGVhbjtcblxuXHQvKipcblx0ICogSXMgU3RvcmUgYWxsb3dzIGRlbGl2ZXJpZXMgZm9yIHB1cmNoYXNlc1xuXHQgKlxuXHQgKiBAdHlwZSB7Ym9vbGVhbn1cblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZVxuXHQgKi9cblx0QFNjaGVtYSh7IHR5cGU6IEJvb2xlYW4sIHJlcXVpcmVkOiBmYWxzZSB9KVxuXHRAQ29sdW1uKClcblx0cHJvZHVjdHNEZWxpdmVyeT86IGJvb2xlYW47XG5cblx0LyoqXG5cdCAqIElzIFN0b3JlIGFsbG93cyB0YWtlYXdheSBwdXJjaGFzZXNcblx0ICpcblx0ICogQHR5cGUge2Jvb2xlYW59XG5cdCAqIEBtZW1iZXJvZiBXYXJlaG91c2Vcblx0ICovXG5cdEBTY2hlbWEoeyB0eXBlOiBCb29sZWFuLCByZXF1aXJlZDogZmFsc2UgfSlcblx0QENvbHVtbigpXG5cdHByb2R1Y3RzVGFrZWF3YXk/OiBib29sZWFuO1xuXG5cdC8qKlxuXHQgKiBUaGUgdHlwZSBvZiBvcmRlciBiYXJjb2RlXG5cdCAqXG5cdCAqIEB0eXBlIHtOdW1iZXJ9XG5cdCAqIEBtZW1iZXJvZiBXYXJlaG91c2Vcblx0ICovXG5cdEBTY2hlbWEoeyB0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiBmYWxzZSB9KVxuXHRAQ29sdW1uKClcblx0b3JkZXJCYXJjb2RlVHlwZT86IE9yZGVyQmFyY29kZVR5cGVzO1xuXG5cdC8qKlxuXHQgKiBVbmlxdWUgZGF0YSBmb3IgZ2VuZXJhdGUgb24gYmFyY29kZVxuXHQgKlxuXHQgKiBAdHlwZSB7c3RyaW5nfVxuXHQgKiBAbWVtYmVyb2YgV2FyZWhvdXNlXG5cdCAqL1xuXHRAU2NoZW1hKHsgdHlwZTogU3RyaW5nLCB1bmlxdWU6IHRydWUsIHNwYXJzZTogdHJ1ZSB9KVxuXHRAQ29sdW1uKClcblx0YmFyY29kZURhdGE6IHN0cmluZztcblxuXHQvKipcblx0ICogUGF5bWVudCBnYXRld2F5c1xuXHQgKlxuXHQgKiBAdHlwZSB7UGF5bWVudEdhdGV3YXlbXX1cblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZVxuXHQgKi9cblx0QFNjaGVtYShbZ2V0U2NoZW1hKFBheW1lbnRHYXRld2F5KV0pXG5cdHBheW1lbnRHYXRld2F5cz86IFBheW1lbnRHYXRld2F5W107XG5cblx0LyoqXG5cdCAqIGlmIHRydWUsIG9ubHkgYXNzaWduZWQgY2FycmllcnMgKGluIGNhcnJpZXJzSWRzKSBjYW4gYmUgdXNlZCBmb3IgZGVsaXZlcnlcblx0ICpcblx0ICogQHR5cGUge2Jvb2xlYW59XG5cdCAqIEBtZW1iZXJvZiBXYXJlaG91c2Vcblx0ICovXG5cdEBTY2hlbWEoeyB0eXBlOiBCb29sZWFuLCByZXF1aXJlZDogZmFsc2UgfSlcblx0QENvbHVtbigpXG5cdHVzZU9ubHlSZXN0cmljdGVkQ2FycmllcnNGb3JEZWxpdmVyeT86IGJvb2xlYW47XG5cblx0LyoqXG5cdCAqIGlmIHRydWUsIGFzc2lnbmVkIGNhcnJpZXJzIChpbiBjYXJyaWVyc0lkcykgd2lsbCBiZSBwcmVmZXIgZm9yIGRlbGl2ZXJ5XG5cdCAqXG5cdCAqIEB0eXBlIHtib29sZWFufVxuXHQgKiBAbWVtYmVyb2YgV2FyZWhvdXNlXG5cdCAqL1xuXHRAU2NoZW1hKHsgdHlwZTogQm9vbGVhbiwgcmVxdWlyZWQ6IGZhbHNlIH0pXG5cdEBDb2x1bW4oKVxuXHRwcmVmZXJSZXN0cmljdGVkQ2FycmllcnNGb3JEZWxpdmVyeT86IGJvb2xlYW47XG59XG5cbmV4cG9ydCB0eXBlIFdpdGhGdWxsUHJvZHVjdHMgPSBXYXJlaG91c2UgJiB7XG5cdHByb2R1Y3RzOiBXaXRoUG9wdWxhdGVkUHJvZHVjdFtdO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgV2FyZWhvdXNlO1xuIiwiaW1wb3J0IFByb2R1Y3QgZnJvbSAnLi9Qcm9kdWN0JztcbmltcG9ydCB7IERCT2JqZWN0LCBNb2RlbE5hbWUsIFNjaGVtYSwgVHlwZXMgfSBmcm9tICcuLi9AcHlyby9kYic7XG5pbXBvcnQgSVdhcmVob3VzZVByb2R1Y3QsIHtcblx0SVdhcmVob3VzZVByb2R1Y3RDcmVhdGVPYmplY3QsXG59IGZyb20gJy4uL2ludGVyZmFjZXMvSVdhcmVob3VzZVByb2R1Y3QnO1xuaW1wb3J0IElQcm9kdWN0IGZyb20gJy4uL2ludGVyZmFjZXMvSVByb2R1Y3QnO1xuaW1wb3J0IHsgQ29sdW1uIH0gZnJvbSAndHlwZW9ybSc7XG5cbi8qKlxuICogUmVwcmVzZW50IFdhcmVob3VzZSAoTWVyY2hhbnQpIGludmVudG9yeSBpdGVtIChzb21lIHByb2R1Y3QgLyBzZXJ2aWNlKSBmb3Igc2FsZVxuICogRWFjaCB3YXJlaG91c2UgbWF5IGhhdmUgc29tZSBxdHkgb2YgaXRlbXMgb2Ygc29tZSBwcm9kdWN0IGFuZCBwcmljZSBjYW4gY2hhbmdlIGZvciBhbGwgb2ZcbiAqIHRoZW0gb25seSAoaS5lLiBzYXkgcHJpY2UgZGVjcmVhc2UgZXZlcnkgMSBtaW4gZm9yIDEkIGJ1dCBmb3IgYWxsIDQgcHJvZHVjdHMgaW4gd2FyZWhvdXNlKVxuICogSW4gTW9uZ29EQiBzdG9yZWQgYXMgc3ViLWRvY3VtZW50cyBpbnNpZGUgV2FyZWhvdXNlIGRvY3VtZW50IChub3QgYXMgYSBzZXBhcmF0ZSBjb2xsZWN0aW9uKVxuICpcbiAqIEBjbGFzcyBXYXJlaG91c2VQcm9kdWN0XG4gKiBAZXh0ZW5kcyB7REJPYmplY3Q8SVdhcmVob3VzZVByb2R1Y3QsIElXYXJlaG91c2VQcm9kdWN0Q3JlYXRlT2JqZWN0Pn1cbiAqIEBpbXBsZW1lbnRzIHtJV2FyZWhvdXNlUHJvZHVjdH1cbiAqL1xuQE1vZGVsTmFtZSgnV2FyZWhvdXNlUHJvZHVjdCcpXG5jbGFzcyBXYXJlaG91c2VQcm9kdWN0XG5cdGV4dGVuZHMgREJPYmplY3Q8SVdhcmVob3VzZVByb2R1Y3QsIElXYXJlaG91c2VQcm9kdWN0Q3JlYXRlT2JqZWN0PlxuXHRpbXBsZW1lbnRzIElXYXJlaG91c2VQcm9kdWN0IHtcblx0Y29uc3RydWN0b3Iod2FyZWhvdXNlUHJvZHVjdDogSVdhcmVob3VzZVByb2R1Y3QpIHtcblx0XHRzdXBlcih3YXJlaG91c2VQcm9kdWN0KTtcblxuXHRcdGlmICh0eXBlb2Ygd2FyZWhvdXNlUHJvZHVjdC5wcm9kdWN0ICE9PSAnc3RyaW5nJykge1xuXHRcdFx0dGhpcy5wcm9kdWN0ID0gbmV3IFByb2R1Y3Qod2FyZWhvdXNlUHJvZHVjdC5wcm9kdWN0IGFzIElQcm9kdWN0KTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogQ3VycmVudCBQcmljZSBvZiBwcm9kdWN0IChyZWFsLXRpbWUpXG5cdCAqIE5vdGU6IHNvbWUgd2FyZWhvdXNlcyBtYXkgaGF2ZSBkaWZmZXJlbnQgcHJpY2VzIGZvciB0aGUgc2FtZSBwcm9kdWN0XG5cdCAqIGNvbXBhcmVkIHRvIG90aGVyIHdhcmVob3VzZXMuICBJdCBpcyBlc3BlY2lhbGx5IHRydWUsIHdoZW4gcHJpY2VzIGdvIGRvd24vdXAgaW4gc29tZVxuXHQgKiB3YXJlaG91c2VzIG1vcmUgcXVpY2tseSBjb21wYXJlZCB0byBvdGhlcnMgZXRjXG5cdCAqXG5cdCAqIEB0eXBlIHtudW1iZXJ9XG5cdCAqIEBtZW1iZXJvZiBXYXJlaG91c2VQcm9kdWN0XG5cdCAqL1xuXHRAVHlwZXMuTnVtYmVyKClcblx0QENvbHVtbigpXG5cdHByaWNlOiBudW1iZXI7XG5cblx0LyoqXG5cdCAqIFN0YXJ0IHByaWNlIGZvciBwcm9kdWN0LlxuXHQgKiBJbml0aWFsbHkgZXF1YWxzIHRvIHRoZSB2YWx1ZSBmcm9tIHByaWNlIGZpZWxkLCBidXQgb3ZlciB0aGUgdGltZSBwcmljZSBjYW4gZ28gZG93bi91cCxcblx0ICogd2hpbGUgaW5pdGlhbFByaWNlIHdpbGwgYWx3YXlzIHJlbWFpbiB0aGUgc2FtZS5cblx0ICogV2UgY2FsY3VsYXRlICUgb2YgZGlzY291bnQgdXNpbmcgcHJpY2UgYW5kIGluaXRpYWxQcmljZSB2YWx1ZXNcblx0ICpcblx0ICogQHR5cGUge251bWJlcn1cblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZVByb2R1Y3Rcblx0ICovXG5cdEBUeXBlcy5OdW1iZXIoKVxuXHRAQ29sdW1uKClcblx0aW5pdGlhbFByaWNlOiBudW1iZXI7XG5cblx0LyoqXG5cdCAqIEhvdyBtYW55IHByb2R1Y3RzIGF2YWlsYWJsZSBjdXJyZW50bHkgZm9yIHB1cmNoYXNlXG5cdCAqXG5cdCAqIEB0eXBlIHtudW1iZXJ9XG5cdCAqIEBtZW1iZXJvZiBXYXJlaG91c2VQcm9kdWN0XG5cdCAqL1xuXHRAVHlwZXMuTnVtYmVyKDApXG5cdEBDb2x1bW4oKVxuXHRjb3VudDogbnVtYmVyO1xuXG5cdC8qKlxuXHQgKiBIb3cgbWFueSBwcm9kdWN0cyBhcmUgc29sZFxuXHQgKlxuXHQgKiBAdHlwZSB7bnVtYmVyfVxuXHQgKiBAbWVtYmVyb2YgV2FyZWhvdXNlUHJvZHVjdFxuXHQgKi9cblx0QFR5cGVzLk51bWJlcigwKVxuXHRAQ29sdW1uKClcblx0c29sZENvdW50OiBudW1iZXI7XG5cblx0LyoqXG5cdCAqIFJlZiB0byBQcm9kdWN0XG5cdCAqXG5cdCAqIEB0eXBlIHsoUHJvZHVjdCB8IHN0cmluZyl9XG5cdCAqIEBtZW1iZXJvZiBXYXJlaG91c2VQcm9kdWN0XG5cdCAqL1xuXHRAVHlwZXMuUmVmKFByb2R1Y3QpXG5cdHByb2R1Y3Q6IFByb2R1Y3QgfCBzdHJpbmc7XG5cblx0LyoqXG5cdCAqIElzIHByb2R1Y3QocykgcmVxdWlyZSBtYW51ZmFjdHVyaW5nXG5cdCAqXG5cdCAqIEB0eXBlIHtib29sZWFufVxuXHQgKiBAbWVtYmVyb2YgV2FyZWhvdXNlUHJvZHVjdFxuXHQgKi9cblx0QENvbHVtbigpXG5cdEBUeXBlcy5Cb29sZWFuKHRydWUpXG5cdGlzTWFudWZhY3R1cmluZzogYm9vbGVhbjtcblxuXHQvKipcblx0ICogSXMgcHJvZHVjdChzKSBiZWNvbWUgYXZhaWxhYmxlIG9ubHkgd2hlbiBjYXJyaWVyIGZvdW5kXG5cdCAqXG5cdCAqIEB0eXBlIHtib29sZWFufVxuXHQgKiBAbWVtYmVyb2YgV2FyZWhvdXNlUHJvZHVjdFxuXHQgKi9cblx0QENvbHVtbigpXG5cdEBUeXBlcy5Cb29sZWFuKHRydWUpXG5cdGlzQ2FycmllclJlcXVpcmVkOiBib29sZWFuO1xuXG5cdC8qKlxuXHQgKiBJcyBwcm9kdWN0KHMpIHJlcXVpcmUgZGVsaXZlcnkgdG8gY3VzdG9tZXIgb3IgYXZhaWxhYmxlIGZvciBwaWNrdXBcblx0ICpcblx0ICogQHR5cGUge2Jvb2xlYW59XG5cdCAqIEBtZW1iZXJvZiBXYXJlaG91c2VQcm9kdWN0XG5cdCAqL1xuXHRAQ29sdW1uKClcblx0QFR5cGVzLkJvb2xlYW4odHJ1ZSlcblx0aXNEZWxpdmVyeVJlcXVpcmVkOiBib29sZWFuO1xuXG5cdEBTY2hlbWEoeyByZXF1aXJlZDogZmFsc2UsIHR5cGU6IEJvb2xlYW4gfSlcblx0QENvbHVtbigpXG5cdGlzVGFrZWF3YXk/OiBib29sZWFuO1xuXG5cdC8qKlxuXHQgKiBNaW4gZGVsaXZlcnkgdGltZSAoaW4gbWludXRlcylcblx0ICpcblx0ICogQHR5cGUge251bWJlcn1cblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZVByb2R1Y3Rcblx0ICovXG5cdEBTY2hlbWEoeyByZXF1aXJlZDogZmFsc2UsIHR5cGU6IE51bWJlciB9KVxuXHRAQ29sdW1uKClcblx0ZGVsaXZlcnlUaW1lTWluPzogbnVtYmVyO1xuXG5cdC8qKlxuXHQgKiBNYXggZGVsaXZlcnkgdGltZSAoaW4gbWludXRlcylcblx0ICpcblx0ICogQHR5cGUge251bWJlcn1cblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZVByb2R1Y3Rcblx0ICovXG5cdEBTY2hlbWEoeyByZXF1aXJlZDogZmFsc2UsIHR5cGU6IE51bWJlciB9KVxuXHRAQ29sdW1uKClcblx0ZGVsaXZlcnlUaW1lTWF4PzogbnVtYmVyO1xuXG5cdC8qKlxuXHQgKiBHZXQgUHJvZHVjdElkXG5cdCAqXG5cdCAqIEByZWFkb25seVxuXHQgKiBAdHlwZSB7c3RyaW5nfVxuXHQgKiBAbWVtYmVyb2YgV2FyZWhvdXNlUHJvZHVjdFxuXHQgKi9cblx0Z2V0IHByb2R1Y3RJZCgpOiBzdHJpbmcge1xuXHRcdGlmICh0eXBlb2YgdGhpcy5wcm9kdWN0ID09PSAnc3RyaW5nJykge1xuXHRcdFx0cmV0dXJuIHRoaXMucHJvZHVjdCBhcyBzdHJpbmc7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiAodGhpcy5wcm9kdWN0IGFzIFByb2R1Y3QpLmlkO1xuXHRcdH1cblx0fVxufVxuXG5leHBvcnQgdHlwZSBXaXRoUG9wdWxhdGVkUHJvZHVjdCA9IFdhcmVob3VzZVByb2R1Y3QgJiB7IHByb2R1Y3Q6IFByb2R1Y3QgfTtcblxuZXhwb3J0IGRlZmF1bHQgV2FyZWhvdXNlUHJvZHVjdDtcbiIsIi8qKlxuICogQ3VycmVudCBDYXJyaWVyIHN0YXR1c1xuICogVGhpcyBzdGF0dXMgaXMgc2V0IGJ5IGNhcnJpZXIgaXRzZWxmIGluIGhpcyBtb2JpbGUgYXBwIHRvIGluZGljYXRlIGlmIGhlIHdvcmtpbmcgbm93IG9yIGNhbid0IHdvcmsgbm93XG4gKlxuICogQGVudW0ge251bWJlcn1cbiAqL1xuZW51bSBDYXJyaWVyU3RhdHVzIHtcblx0LyoqXG5cdCAqIENhcnJpZXIgb25saW5lIGFuZCByZWFkeSB0byBhY2NlcHQgbmV3IGpvYnMgb3IgYWxyZWFkeSBwcm9jZXNzaW5nIHRoZW1cblx0ICogKGNoZWNrIG9yZGVycyBjb2xsZWN0aW9uIGZvciBjYXJyaWVyIHRvIGtub3cgd2hhdCBqb2JzIGhlIHByb2Nlc3NpbmcgaWYgYW55KVxuXHQgKi9cblx0T25saW5lID0gMCxcblxuXHQvKipcblx0ICogQ2FycmllciBvZmZsaW5lIGFuZCBkaWQgbm90IGFjY2VwdCBqb2JzIHJpZ2h0IG5vdyAobm90IHdvcmtpbmcgYXQgdGhlIG1vbWVudCwgZS5nLiBzbGVlcClcblx0ICovXG5cdE9mZmxpbmUgPSAxLFxuXG5cdC8qKlxuXHQgKiBDYXJyaWVyIGlzIGJsb2NrZWQgKHRlbXBvcmFyeSBvciBwZXJtYW5lbnRseSBmcm9tIHdvcmspLCBlLmcuIGJhbm5lZCBmcm9tIG91ciBwbGF0Zm9ybVxuXHQgKi9cblx0QmxvY2tlZCA9IDIsXG59XG5cbmV4cG9ydCBkZWZhdWx0IENhcnJpZXJTdGF0dXM7XG4iLCIvKipcbiAqIFN1cHBvcnRlZCBQdXJjaGFzZSB0eXBlczogRGVsaXZlcnkgb3IgVGFrZWF3YXlcbiAqIFRPRE86IHJlbmFtZSB0byBzb21ldGhpbmcgbGlrZSBcIlB1cmNoYXNlVHlwZVwiXG4gKlxuICogQGVudW0ge251bWJlcn1cbiAqL1xuZW51bSBEZWxpdmVyeVR5cGUge1xuXHREZWxpdmVyeSA9IDAsXG5cdFRha2Vhd2F5ID0gMSxcbn1cblxuZXhwb3J0IGRlZmF1bHQgRGVsaXZlcnlUeXBlO1xuIiwiLyoqXG4gKiBPcmRlciBCYXJjb2RlIFR5cGVzXG4gKlxuICogQGVudW0ge251bWJlcn1cbiAqL1xuZW51bSBPcmRlckJhcmNvZGVUeXBlcyB7XG5cdFFSID0gMCxcblx0Q09ERTEyOCA9IDEsXG5cdENPREUzOSA9IDIsXG5cdHBoYXJtYWNvZGUgPSAzLFxuXHRNU0kgPSA0LFxufVxuXG5leHBvcnQgZnVuY3Rpb24gb3JkZXJCYXJjb2RlVHlwZXNUb1N0cmluZyhzdGF0dXM6IE9yZGVyQmFyY29kZVR5cGVzKTogc3RyaW5nIHtcblx0c3dpdGNoIChzdGF0dXMpIHtcblx0XHRjYXNlIE9yZGVyQmFyY29kZVR5cGVzLlFSOlxuXHRcdFx0cmV0dXJuICdRUiBjb2RlJztcblx0XHRjYXNlIE9yZGVyQmFyY29kZVR5cGVzLkNPREUxMjg6XG5cdFx0XHRyZXR1cm4gJ0NPREUxMjgnO1xuXHRcdGNhc2UgT3JkZXJCYXJjb2RlVHlwZXMuQ09ERTM5OlxuXHRcdFx0cmV0dXJuICdDT0RFMzknO1xuXHRcdGNhc2UgT3JkZXJCYXJjb2RlVHlwZXMucGhhcm1hY29kZTpcblx0XHRcdHJldHVybiAncGhhcm1hY29kZSc7XG5cdFx0Y2FzZSBPcmRlckJhcmNvZGVUeXBlcy5NU0k6XG5cdFx0XHRyZXR1cm4gJ01TSSc7XG5cdFx0ZGVmYXVsdDpcblx0XHRcdHJldHVybiAnQkFEX1NUQVRVUyc7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgT3JkZXJCYXJjb2RlVHlwZXM7XG4iLCIvKipcbiAqIFN0YXR1cyBvZiBDYXJyaWVyIGFzc2lnbmVkIHRvIGFuIE9yZGVyXG4gKlxuICogQGVudW0ge251bWJlcn1cbiAqL1xuZW51bSBPcmRlckNhcnJpZXJTdGF0dXMge1xuXHQvKipcblx0ICogTm8gU3RhdHVzXG5cdCAqIFNoaXBwaW5nIHdhcyBub3QgcGxhbmVkIG9yIHN0YXJ0ZWQgeWV0IGZvciB0aGlzIE9yZGVyIGJ5IGFueSBjYXJyaWVyLCBpLmUuIG5vIGNhcnJpZXIgYXNzaWduZWQgdG8gYW4gb3JkZXJcblx0ICovXG5cdE5vQ2FycmllciA9IDAsXG5cblx0LyoqXG5cdCAqIFNvbWUgY2FycmllciBkZWNpZGUgdG8gcGljayB1cCB0aGlzIG9yZGVyIGFuZCB3aWxsIHN0YXJ0IG1vdmluZyB0byB3YXJlaG91c2Ugc29vbi5cblx0ICogQ2FycmllciBjaGFuZ2Ugb3JkZXIgc3RhdHVzIHRvIHRoaXMgd2hlbiBzZWUgcGFja2FnZWQgb3JkZXIgaXMgd2FpdGluZyBoaW0gaW4gd2FyZWhvdXNlXG5cdCAqL1xuXHRDYXJyaWVyU2VsZWN0ZWRPcmRlciA9IDEsXG5cblx0LyoqXG5cdCAqIFNvbWUgY2FycmllciBhcnJpdmVkIHRvIFdhcmVob3VzZSBhbmQgcGlja2VkIHVwIGFuIG9yZGVyIHByb2R1Y3RzIGZvciBkZWxpdmVyeVxuXHQgKiAoY2FycmllciBjaGFuZ2Ugb3JkZXIgc3RhdHVzIHRvIHRoaXMpXG5cdCAqL1xuXHRDYXJyaWVyUGlja2VkVXBPcmRlciA9IDIsXG5cblx0LyoqXG5cdCAqIFNvbWUgY2FycmllciBzdGFydCBkZWxpdmVyeSBvZiBvcmRlciBwcm9kdWN0cyB0byBjdXN0b21lclxuXHQgKi9cblx0Q2FycmllclN0YXJ0RGVsaXZlcnkgPSAzLFxuXG5cdC8qKlxuXHQgKiBTb21lIGNhcnJpZXIgYXJyaXZlZCB0byBjdXN0b21lciBsb2NhdGlvblxuXHQgKi9cblx0Q2FycmllckFycml2ZWRUb0N1c3RvbWVyID0gNCxcblxuXHQvKipcblx0ICogT3JkZXIgaXMgZ2l2ZW4gdG8gdGhlIGNsaWVudCAoZGVsaXZlcnkgY29tcGxldGVkKVxuXHQgKi9cblx0RGVsaXZlcnlDb21wbGV0ZWQgPSA1LFxuXG5cdC8qKlxuXHQgKiBDYXJyaWVyIGhhdmUgaXNzdWVzIGR1cmluZyBkZWxpdmVyeSAoZS5nLiBpbmNpZGVudCBoYXBwZW5zIG9yIGNhcnJpZXIgY2FuJ3QgZm91bmQgYWRkcmVzcywgZXRjKVxuXHQgKi9cblx0SXNzdWVzRHVyaW5nRGVsaXZlcnkgPSAyMDQsXG5cblx0LyoqXG5cdCAqIENhcnJpZXIgYXJyaXZlcyB0byBjdXN0b21lciBsb2NhdGlvbiBhbmQgY2xpZW50IHJlZnVzZSB0byB0YWtlIG9yZGVyXG5cdCAqL1xuXHRDbGllbnRSZWZ1c2VUYWtpbmdPcmRlciA9IDIwNSxcbn1cblxuLy8gVE9ETzogdGhpcyBzaG91bGQgYmUgdHJhbnNsYXRlZFxuZXhwb3J0IGZ1bmN0aW9uIGNhcnJpZXJTdGF0dXNUb1N0cmluZyhzdGF0dXM6IE9yZGVyQ2FycmllclN0YXR1cyk6IHN0cmluZyB7XG5cdHN3aXRjaCAoc3RhdHVzKSB7XG5cdFx0Y2FzZSBPcmRlckNhcnJpZXJTdGF0dXMuTm9DYXJyaWVyOlxuXHRcdFx0cmV0dXJuICdObyBDYXJyaWVyJztcblxuXHRcdGNhc2UgT3JkZXJDYXJyaWVyU3RhdHVzLkNhcnJpZXJTZWxlY3RlZE9yZGVyOlxuXHRcdFx0cmV0dXJuICdPcmRlciBTZWxlY3RlZCBGb3IgRGVsaXZlcnknO1xuXG5cdFx0Y2FzZSBPcmRlckNhcnJpZXJTdGF0dXMuQ2FycmllclBpY2tlZFVwT3JkZXI6XG5cdFx0XHRyZXR1cm4gJ09yZGVyIFBpY2tlZCBVcCc7XG5cblx0XHRjYXNlIE9yZGVyQ2FycmllclN0YXR1cy5DYXJyaWVyU3RhcnREZWxpdmVyeTpcblx0XHRcdHJldHVybiAnT3JkZXIgSW4gRGVsaXZlcnknO1xuXG5cdFx0Y2FzZSBPcmRlckNhcnJpZXJTdGF0dXMuQ2FycmllckFycml2ZWRUb0N1c3RvbWVyOlxuXHRcdFx0cmV0dXJuICdBcnJpdmVkIFRvIENsaWVudCc7XG5cblx0XHRjYXNlIE9yZGVyQ2FycmllclN0YXR1cy5EZWxpdmVyeUNvbXBsZXRlZDpcblx0XHRcdHJldHVybiAnRGVsaXZlcmVkJztcblxuXHRcdGNhc2UgT3JkZXJDYXJyaWVyU3RhdHVzLklzc3Vlc0R1cmluZ0RlbGl2ZXJ5OlxuXHRcdFx0cmV0dXJuICdEZWxpdmVyeSBJc3N1ZXMnO1xuXG5cdFx0Y2FzZSBPcmRlckNhcnJpZXJTdGF0dXMuQ2xpZW50UmVmdXNlVGFraW5nT3JkZXI6XG5cdFx0XHRyZXR1cm4gJ0NsaWVudCBSZWZ1c2UgdG8gVGFrZSBPcmRlcic7XG5cblx0XHRkZWZhdWx0OlxuXHRcdFx0cmV0dXJuICdCQURfU1RBVFVTJztcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBPcmRlckNhcnJpZXJTdGF0dXM7XG4iLCIvKipcbiAqIFN0YXR1cyBvZiBPcmRlclxuICogKHVzZWQgdXN1YWxseSBhcyBjb21iaW5lZCB2YWx1ZSBmcm9tIENhcnJpZXIgc3RhdHVzIGFuZCBXYXJlaG91c2Ugc3RhdHVzKVxuICpcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cbmVudW0gT3JkZXJTdGF0dXMge1xuXHRXYXJlaG91c2VQcmVwYXJhdGlvbiA9IDAsXG5cdEluRGVsaXZlcnkgPSAxLFxuXHREZWxpdmVyZWQgPSAyLFxuXHRDYW5jZWxlZFdoaWxlV2FyZWhvdXNlUHJlcGFyYXRpb24gPSAyMDAsXG5cdENhbmNlbGVkV2hpbGVJbkRlbGl2ZXJ5ID0gMjAxLFxuXHRXYXJlaG91c2VJc3N1ZSA9IDIwMixcblx0Q2Fycmllcklzc3VlID0gMjAzLFxufVxuXG5leHBvcnQgZGVmYXVsdCBPcmRlclN0YXR1cztcbiIsIi8qKlxuICogV2FyZWhvdXNlIFN0YXR1c2VzXG4gKlxuICogQGVudW0ge251bWJlcn1cbiAqL1xuZW51bSBPcmRlcldhcmVob3VzZVN0YXR1cyB7XG5cdC8qKlxuXHQgKiBObyBTdGF0dXMgKG9yZGVyIGp1c3QgY3JlYXRlZClcblx0ICovXG5cdE5vU3RhdHVzID0gMCxcblxuXHQvKipcblx0ICogT3JkZXIganVzdCByZWNlaXZlZCBmcm9tIGNsaWVudCAoT3BlcmF0aW9uTW9kZS5XYXJlaG91c2UpXG5cdCAqIG9yIGluaXRpYWxpemVkIGJ5IHdhcmVob3VzZSAoT3BlcmF0aW9uTW9kZS5PcmRlcikgYW5kIGNvbmZpcm1lZCAoXCJyZWFkeVwiIGZvciB3YXJlaG91c2UgcHJvY2Vzc2luZylcblx0ICogVGhpcyBmaWVsZCBpcyB1c2VmdWwgdG8gaW5kaWNhdGUgdGhhdCBXYXJlaG91c2UgQ29uZmlybXMgYW4gb3JkZXJcblx0ICogKGUuZy4gdG8gbGV0IGNsaWVudC9jdXN0b21lciBrbm93IHRoYXQgV2FyZWhvdXNlIHdpbGwgc2hpcC9zZWxsIHByb2R1Y3QpXG5cdCAqXG5cdCAqIE5vdGU6IHNvbWUgd2FyZWhvdXNlcyB3YW50IHRvIGF1dG9tYXRpY2FsbHkgY29uZmlybSBhbGwgb3JkZXJzLFxuXHQgKiBidXQgc29tZSB3YW50IGZpcnN0IHRvIHJldmlldyB0aGVtIGFuZCBjb25maXJtIGVhY2ggb25lIG1hbnVhbGx5LCBvbmUgYnkgb25lXG5cdCAqL1xuXHRSZWFkeUZvclByb2Nlc3NpbmcgPSAxLFxuXG5cdC8vIFdhcmVob3VzZSBzdGFydCB3b3JrIG9uIHRoZSBvcmRlclxuXHQvLyBFLmcuIHRha2Ugb3JkZXIgdG8gaGltc2VsZiBmb3IgT3BlcmF0aW9uTW9kZS5XYXJlaG91c2Ugb3IganVzdCBzdGFydCB3b3JraW5nIG9uIG9yZGVyIGZvciBPcGVyYXRpb25Nb2RlLk9yZGVyXG5cdFdhcmVob3VzZVN0YXJ0ZWRQcm9jZXNzaW5nID0gMixcblxuXHQvLyBQcm9kdWN0cyBhbGxvY2F0aW9uIHN0YXJ0ZWQgKHdhcmVob3VzZSlcblx0QWxsb2NhdGlvblN0YXJ0ZWQgPSAzLFxuXG5cdC8vIFdhcmVob3VzZSBmaW5pc2ggYWxsb2NhdGlvbiBvZiBwcm9kdWN0cyBmb3IgcGFja2FnaW5nXG5cdC8vICh3YXJlaG91c2UgY2hhbmdlIG9yZGVyIHRvIHRoaXMgc3RhdHVzKVxuXHRBbGxvY2F0aW9uRmluaXNoZWQgPSA0LFxuXG5cdC8vIFByb2R1Y3RzIHBhY2thZ2luZyBzdGFydGVkICh3YXJlaG91c2UpXG5cdFBhY2thZ2luZ1N0YXJ0ZWQgPSA1LFxuXG5cdC8vIFByb2R1Y3RzIGFyZSBwYWNrZWQgZm9yIHNoaXBwaW5nIGJ5IHdhcmVob3VzZVxuXHQvLyBXYXJlaG91c2UgY2hhbmdlIG9yZGVyIHRvIHRoaXMgc3RhdHVzIGFuZCBjYXJyaWVycyBzZWUgcGFja2FnZWQgb3JkZXJzIGluIHdhcmVob3VzZXNcblx0Ly8gYW5kIG1vdmUgdG8gY2xvc2VzdCB3YXJlaG91c2UgdG8gcGljayBvcmRlclxuXHRQYWNrYWdpbmdGaW5pc2hlZCA9IDYsXG5cblx0Ly8gT3JkZXIgaXMgZ2l2ZW4gdG8gc29tZSBjYXJyaWVyIGZvciBkZWxpdmVyeVxuXHRHaXZlblRvQ2FycmllciA9IDcsXG5cblx0Ly8gT3JkZXIgaXMgZ2l2ZW4gdG8gY3VzdG9tZXJcblx0R2l2ZW5Ub0N1c3RvbWVyID0gOCxcblxuXHQvLyBGYWlsIHRvIGFsbG9jYXRlIHByb2R1Y3RzXG5cdC8vIChzb21lIHByb2R1Y3RzIGFyZSBtaXNzaW5nIGluIHN0b2NrL3dhcmVob3VzZSlcblx0QWxsb2NhdGlvbkZhaWxlZCA9IDIwMCxcblxuXHQvLyBGYWlsIHRvIHBhY2sgcHJvZHVjdHNcblx0Ly8gKHNvbWV0aGluZyB3YXMgd3JvbmcgZHVyaW5nIHBhY2thZ2luZyBvciBtYXliZSBwYWNrIGJyb2tlbiBldGMpXG5cdFBhY2thZ2luZ0ZhaWxlZCA9IDIwMSxcbn1cblxuLy8gVE9ETzogdGhpcyBzaG91bGQgYmUgdHJhbnNsYXRlZFxuZXhwb3J0IGZ1bmN0aW9uIHdhcmVob3VzZVN0YXR1c1RvU3RyaW5nKHN0YXR1czogT3JkZXJXYXJlaG91c2VTdGF0dXMpOiBzdHJpbmcge1xuXHRzd2l0Y2ggKHN0YXR1cykge1xuXHRcdGNhc2UgT3JkZXJXYXJlaG91c2VTdGF0dXMuTm9TdGF0dXM6XG5cdFx0XHRyZXR1cm4gJ0NyZWF0ZWQnO1xuXG5cdFx0Y2FzZSBPcmRlcldhcmVob3VzZVN0YXR1cy5SZWFkeUZvclByb2Nlc3Npbmc6XG5cdFx0XHRyZXR1cm4gJ0NvbmZpcm1lZCc7XG5cblx0XHRjYXNlIE9yZGVyV2FyZWhvdXNlU3RhdHVzLldhcmVob3VzZVN0YXJ0ZWRQcm9jZXNzaW5nOlxuXHRcdFx0cmV0dXJuICdQcm9jZXNzaW5nJztcblxuXHRcdGNhc2UgT3JkZXJXYXJlaG91c2VTdGF0dXMuQWxsb2NhdGlvblN0YXJ0ZWQ6XG5cdFx0XHRyZXR1cm4gJ0FsbG9jYXRpb24gU3RhcnRlZCc7XG5cblx0XHRjYXNlIE9yZGVyV2FyZWhvdXNlU3RhdHVzLkFsbG9jYXRpb25GaW5pc2hlZDpcblx0XHRcdHJldHVybiAnQWxsb2NhdGlvbiBGaW5pc2hlZCc7XG5cblx0XHRjYXNlIE9yZGVyV2FyZWhvdXNlU3RhdHVzLlBhY2thZ2luZ1N0YXJ0ZWQ6XG5cdFx0XHRyZXR1cm4gJ1BhY2thZ2luZyBTdGFydGVkJztcblxuXHRcdGNhc2UgT3JkZXJXYXJlaG91c2VTdGF0dXMuUGFja2FnaW5nRmluaXNoZWQ6XG5cdFx0XHRyZXR1cm4gJ1BhY2thZ2VkJztcblxuXHRcdGNhc2UgT3JkZXJXYXJlaG91c2VTdGF0dXMuR2l2ZW5Ub0NhcnJpZXI6XG5cdFx0XHRyZXR1cm4gJ0dpdmVuIHRvIENhcnJpZXInO1xuXG5cdFx0Y2FzZSBPcmRlcldhcmVob3VzZVN0YXR1cy5HaXZlblRvQ3VzdG9tZXI6XG5cdFx0XHRyZXR1cm4gJ0dpdmVuIHRvIEN1c3RvbWVyJztcblxuXHRcdGNhc2UgT3JkZXJXYXJlaG91c2VTdGF0dXMuQWxsb2NhdGlvbkZhaWxlZDpcblx0XHRcdHJldHVybiAnQWxsb2NhdGlvbiBGYWlsZWQnO1xuXG5cdFx0Y2FzZSBPcmRlcldhcmVob3VzZVN0YXR1cy5QYWNrYWdpbmdGYWlsZWQ6XG5cdFx0XHRyZXR1cm4gJ1BhY2thZ2luZyBGYWlsZWQnO1xuXG5cdFx0ZGVmYXVsdDpcblx0XHRcdHJldHVybiAnQkFEX1NUQVRVUyc7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgT3JkZXJXYXJlaG91c2VTdGF0dXM7XG4iLCIvKipcbiAqIFBheW1lbnQgR2F0ZXdheXNcbiAqXG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5lbnVtIFBheW1lbnRHYXRld2F5cyB7XG5cdFN0cmlwZSxcblx0UGF5UGFsLFxufVxuXG5leHBvcnQgZnVuY3Rpb24gcGF5bWVudEdhdGV3YXlzVG9TdHJpbmcoXG5cdHBheW1lbnRHYXRld2F5OiBQYXltZW50R2F0ZXdheXNcbik6IHN0cmluZyB7XG5cdHN3aXRjaCAocGF5bWVudEdhdGV3YXkpIHtcblx0XHRjYXNlIFBheW1lbnRHYXRld2F5cy5TdHJpcGU6XG5cdFx0XHRyZXR1cm4gJ1N0cmlwZSc7XG5cdFx0Y2FzZSBQYXltZW50R2F0ZXdheXMuUGF5UGFsOlxuXHRcdFx0cmV0dXJuICdQYXlQYWwnO1xuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gJ0JBRF9QQVlNRU5UX0dBVEVXQVknO1xuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXltZW50R2F0ZXdheXNMb2dvKHBheW1lbnRHYXRld2F5OiBQYXltZW50R2F0ZXdheXMpOiBzdHJpbmcge1xuXHRzd2l0Y2ggKHBheW1lbnRHYXRld2F5KSB7XG5cdFx0Y2FzZSBQYXltZW50R2F0ZXdheXMuU3RyaXBlOlxuXHRcdFx0cmV0dXJuICdodHRwczovL3N0cmlwZS5jb20vaW1nL3YzL2hvbWUvdHdpdHRlci5wbmcnO1xuXHRcdGNhc2UgUGF5bWVudEdhdGV3YXlzLlBheVBhbDpcblx0XHRcdHJldHVybiAnaHR0cHM6Ly9hdmF0YXJzMS5naXRodWJ1c2VyY29udGVudC5jb20vdS80NzY2NzU/cz0yMDAmdj00Jztcblx0XHRkZWZhdWx0OlxuXHRcdFx0cmV0dXJuICdCQURfUEFZTUVOVF9HQVRFV0FZJztcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBQYXltZW50R2F0ZXdheXM7XG4iLCJleHBvcnQgY2xhc3MgTm90SW52aXRlZEVycm9yIHtcblx0cmVhZG9ubHkgY29kZSA9ICdub3QtaW52aXRlZCc7XG5cdHJlYWRvbmx5IG1lc3NhZ2UgPSAnTm90IGludml0ZWQhJztcbn1cbiIsImV4cG9ydCBjbGFzcyBXcm9uZ1Bhc3N3b3JkRXJyb3Ige1xuXHRyZWFkb25seSBjb2RlID0gJ3dyb25nLXBhc3N3b3JkJztcblx0cmVhZG9ubHkgbWVzc2FnZSA9ICdXcm9uZyBwYXNzd29yZCEnO1xufVxuIiwiaW1wb3J0IEludml0ZSBmcm9tICcuL2VudGl0aWVzL0ludml0ZSc7XG5cbmV4cG9ydCBjb25zdCBsYXVuY2hlZCA9ICdsYXVuY2hlZF9ub3RpZmljYXRpb24nO1xuZXhwb3J0IHR5cGUgbGF1bmNoZWQgPSAnbGF1bmNoZWRfbm90aWZpY2F0aW9uJztcblxuZXhwb3J0IGludGVyZmFjZSBJTm90aWZpY2F0aW9uIHtcblx0ZXZlbnQ6IGxhdW5jaGVkO1xuXG5cdFtrZXk6IHN0cmluZ106IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJTGF1bmNoZWROb3RpZmljYXRpb24gZXh0ZW5kcyBJTm90aWZpY2F0aW9uIHtcblx0ZXZlbnQ6IGxhdW5jaGVkO1xuXHRpbnZpdGU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJTGF1bmNoZWROb3RpZmljYXRpb25QYXJzZWQge1xuXHRldmVudDogbGF1bmNoZWQ7XG5cdGludml0ZTogSW52aXRlO1xufVxuIiwiaW1wb3J0IEdlb0xvY2F0aW9uIGZyb20gJy4vZW50aXRpZXMvR2VvTG9jYXRpb24nO1xuaW1wb3J0IHsgSUxvY2F0aW9uIH0gZnJvbSAnLi9pbnRlcmZhY2VzL0lHZW9Mb2NhdGlvbic7XG5pbXBvcnQgeyBzYW1wbGUgfSBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IE9yZGVyIGZyb20gJy4vZW50aXRpZXMvT3JkZXInO1xuXG5uYW1lc3BhY2UgVXRpbHMge1xuXHQvKipcblx0ICogVGhpcyBmdW5jdGlvbiB0YWtlcyBpbiBsYXRpdHVkZSBhbmQgbG9uZ2l0dWRlIG9mIHR3byBsb2NhdGlvbiBhbmQgcmV0dXJucyB0aGUgZGlzdGFuY2Vcblx0ICogYmV0d2VlbiB0aGVtIGFzIHRoZSBjcm93IGZsaWVzIChpbiBrbSlcblx0ICogWW91IGFyZSBub3QgbWVhbnQgdG8gdW5kZXJzdGFuZCB0aGlzLi4uIDopXG5cdCAqIFNlZSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xODg4MzYwMS9mdW5jdGlvbi10by1jYWxjdWxhdGUtZGlzdGFuY2UtYmV0d2Vlbi10d28tY29vcmRpbmF0ZXMtc2hvd3Mtd3Jvbmdcblx0ICpcblx0ICogQGV4cG9ydFxuXHQgKiBAcGFyYW0ge251bWJlcn0gbGF0MVxuXHQgKiBAcGFyYW0ge251bWJlcn0gbG9uMVxuXHQgKiBAcGFyYW0ge251bWJlcn0gbGF0MlxuXHQgKiBAcGFyYW0ge251bWJlcn0gbG9uMlxuXHQgKiBAcmV0dXJucyB7bnVtYmVyfVxuXHQgKi9cblx0ZXhwb3J0IGZ1bmN0aW9uIGNhbGNDcm93KFxuXHRcdGxhdDE6IG51bWJlcixcblx0XHRsb24xOiBudW1iZXIsXG5cdFx0bGF0MjogbnVtYmVyLFxuXHRcdGxvbjI6IG51bWJlclxuXHQpOiBudW1iZXIge1xuXHRcdGNvbnN0IFI6IG51bWJlciA9IDYzNzE7IC8vIGttXG5cdFx0Y29uc3QgZExhdDogbnVtYmVyID0gVXRpbHMuX3RvUmFkKGxhdDIgLSBsYXQxKTtcblx0XHRjb25zdCBkTG9uOiBudW1iZXIgPSBVdGlscy5fdG9SYWQobG9uMiAtIGxvbjEpO1xuXG5cdFx0bGF0MSA9IFV0aWxzLl90b1JhZChsYXQxKTtcblx0XHRsYXQyID0gVXRpbHMuX3RvUmFkKGxhdDIpO1xuXG5cdFx0Y29uc3QgYSA9XG5cdFx0XHRNYXRoLnBvdyhNYXRoLnNpbihkTGF0IC8gMiksIDIpICtcblx0XHRcdE1hdGgucG93KE1hdGguc2luKGRMb24gLyAyKSwgMikgKiBNYXRoLmNvcyhsYXQxKSAqIE1hdGguY29zKGxhdDIpO1xuXG5cdFx0Y29uc3QgYyA9IDIgKiBNYXRoLmF0YW4yKE1hdGguc3FydChhKSwgTWF0aC5zcXJ0KDEgLSBhKSk7XG5cblx0XHRjb25zdCBkID0gUiAqIGM7XG5cblx0XHRyZXR1cm4gZDtcblx0fVxuXG5cdC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1zaGFkb3dlZC12YXJpYWJsZVxuXHRleHBvcnQgZnVuY3Rpb24gZ2V0RGlzdGFuY2UoXG5cdFx0Z2VvTG9jYXRpb24xOiBHZW9Mb2NhdGlvbixcblx0XHRnZW9Mb2NhdGlvbjI6IEdlb0xvY2F0aW9uXG5cdCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIGdldExvY0Rpc3RhbmNlKGdlb0xvY2F0aW9uMS5sb2MsIGdlb0xvY2F0aW9uMi5sb2MpO1xuXHR9XG5cblx0ZXhwb3J0IGZ1bmN0aW9uIGdldExvY0Rpc3RhbmNlKGxvYzE6IElMb2NhdGlvbiwgbG9jMjogSUxvY2F0aW9uKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gY2FsY0Nyb3coXG5cdFx0XHRsb2MxLmNvb3JkaW5hdGVzWzBdLFxuXHRcdFx0bG9jMS5jb29yZGluYXRlc1sxXSxcblx0XHRcdGxvYzIuY29vcmRpbmF0ZXNbMF0sXG5cdFx0XHRsb2MyLmNvb3JkaW5hdGVzWzFdXG5cdFx0KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBudW1lcmljIGRlZ3JlZXMgdG8gcmFkaWFuc1xuXHQgKlxuXHQgKiBAZXhwb3J0XG5cdCAqIEBwYXJhbSB7bnVtYmVyfSB2XG5cdCAqIEByZXR1cm5zIHtudW1iZXJ9XG5cdCAqL1xuXHRleHBvcnQgZnVuY3Rpb24gX3RvUmFkKHY6IG51bWJlcik6IG51bWJlciB7XG5cdFx0cmV0dXJuICh2ICogTWF0aC5QSSkgLyAxODA7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyBhIHJhbmRvbSBpbnRlZ2VyIGJldHdlZW4gbWluIChpbmNsdWRlZCkgYW5kIG1heCAoZXhjbHVkZWQpXG5cdCAqIFVzaW5nIE1hdGgucm91bmQoKSB3aWxsIGdpdmUgeW91IGEgbm9uLXVuaWZvcm0gZGlzdHJpYnV0aW9uIVxuXHQgKlxuXHQgKiBAZXhwb3J0XG5cdCAqIEBwYXJhbSB7Kn0gbWluXG5cdCAqIEBwYXJhbSB7Kn0gbWF4XG5cdCAqIEByZXR1cm5zIHtudW1iZXJ9XG5cdCAqL1xuXHRleHBvcnQgZnVuY3Rpb24gZ2V0UmFuZG9tSW50KG1pbiwgbWF4KTogbnVtYmVyIHtcblx0XHRyZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikpICsgbWluO1xuXHR9XG5cblx0Ly8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLXNoYWRvd2VkLXZhcmlhYmxlXG5cdGV4cG9ydCBmdW5jdGlvbiB0b0RhdGUoZGF0ZTogc3RyaW5nIHwgRGF0ZSkge1xuXHRcdGlmIChkYXRlIGluc3RhbmNlb2YgRGF0ZSkge1xuXHRcdFx0cmV0dXJuIGRhdGU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBuZXcgRGF0ZShkYXRlKTtcblx0XHR9XG5cdH1cblxuXHRleHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVkTG9nb0NvbG9yKCkge1xuXHRcdHJldHVybiBzYW1wbGUoWycjMjY5YWZmJywgJyNmZmFmMjYnLCAnIzhiNzJmZicsICcjMGVjYzlEJ10pLnJlcGxhY2UoXG5cdFx0XHQnIycsXG5cdFx0XHQnJ1xuXHRcdCk7XG5cdH1cbn1cblxuZXhwb3J0IGNvbnN0IGdldERpc3RhbmNlID0gVXRpbHMuZ2V0RGlzdGFuY2U7XG5leHBvcnQgY29uc3QgdG9EYXRlID0gVXRpbHMudG9EYXRlO1xuZXhwb3J0IGNvbnN0IGdldER1bW15SW1hZ2UgPSAoXG5cdHdpZHRoOiBudW1iZXIsXG5cdGhlaWdodDogbnVtYmVyLFxuXHRsZXR0ZXI6IHN0cmluZ1xuKSA9PiB7XG5cdHJldHVybiBgaHR0cHM6Ly9kdW1teWltYWdlLmNvbS8ke3dpZHRofXgke2hlaWdodH0vJHtVdGlscy5nZW5lcmF0ZWRMb2dvQ29sb3IoKX0vZmZmZmZmLmpwZyZ0ZXh0PSR7bGV0dGVyfWA7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0UGxhY2Vob2xkaXRJbWdpeCA9IChcblx0d2lkdGg6IG51bWJlcixcblx0aGVpZ2h0OiBudW1iZXIsXG5cdGZvbnRTaXplOiBudW1iZXIsXG5cdG5hbWU6IHN0cmluZ1xuKSA9PiB7XG5cdHJldHVybiBgaHR0cHM6Ly9wbGFjZWhvbGRpdC5pbWdpeC5uZXQvfnRleHQ/dHh0c2l6ZT0ke2ZvbnRTaXplfSZ0eHQ9JHtuYW1lfSZ3PSR7d2lkdGh9Jmg9JHtoZWlnaHR9YDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRGYWtlSW1nID0gKFxuXHR3aWR0aDogbnVtYmVyLFxuXHRoZWlnaHQ6IG51bWJlcixcblx0Zm9udFNpemU6IG51bWJlcixcblx0bmFtZTogc3RyaW5nXG4pID0+IHtcblx0cmV0dXJuIGBodHRwczovL2Zha2VpbWcucGwvJHt3aWR0aH14JHtoZWlnaHR9L0ZGRDg5MCUyQzEyOC8wMDAvP3RleHQ9JHtuYW1lfSZmb250X3NpemU9JHtmb250U2l6ZX1gO1xufTtcblxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlT2JqZWN0SWRTdHJpbmcgPSAoXG5cdG0gPSBNYXRoLFxuXHRkID0gRGF0ZSxcblx0aCA9IDE2LFxuXHRzID0gKHgpID0+IG0uZmxvb3IoeCkudG9TdHJpbmcoaClcbikgPT4ge1xuXHRyZXR1cm4gKFxuXHRcdHMoZC5ub3coKSAvIDEwMDApICsgJyAnLnJlcGVhdChoKS5yZXBsYWNlKC8uL2csICgpID0+IHMobS5yYW5kb20oKSAqIGgpKVxuXHQpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldElkRnJvbVRoZURhdGUob3JkZXI6IE9yZGVyKTogc3RyaW5nIHtcblx0aWYgKCFvcmRlclsnY3JlYXRlZEF0J10gfHwgIW9yZGVyLm9yZGVyTnVtYmVyKSB7XG5cdFx0dGhyb3cgYENhbid0IHVzZSBnZXRJZEZyb21UaGVEYXRlIGZ1bmN0aW9uLiBQcm9wZXJ0eSAke1xuXHRcdFx0IW9yZGVyWydjcmVhdGVkQXQnXSA/ICdjcmVhdGVkQXQnIDogJ29yZGVyTnVtYmVyJ1xuXHRcdH0gaXMgbWlzc2luZyFgO1xuXHR9XG5cdGNvbnN0IFtkYXksIG1vbnRoLCB5ZWFyXSA9IG5ldyBEYXRlKG9yZGVyWydjcmVhdGVkQXQnXSlcblx0XHQudG9Mb2NhbGVEYXRlU3RyaW5nKClcblx0XHQuc3BsaXQoJy8nKTtcblxuXHRsZXQgZCA9ICgnMCcgKyBkYXkpLnNsaWNlKC0yKTtcblx0ZCA9IGQuc3Vic3RyKC0yKTtcblx0bGV0IG0gPSAoJzAnICsgbW9udGgpLnNsaWNlKC0yKTtcblx0bSA9IG0uc3Vic3RyKC0yKTtcblxuXHRyZXR1cm4gYCR7ZH0ke219JHt5ZWFyfS0ke29yZGVyLm9yZGVyTnVtYmVyfWA7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFV0aWxzO1xuIiwiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJ2J1bnlhbic7XG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBTdWJqZWN0IH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBpbmplY3RhYmxlIH0gZnJvbSAnaW52ZXJzaWZ5JztcbmltcG9ydCB7IEV4aXN0ZW5jZUV2ZW50LCBFeGlzdGVuY2VFdmVudFR5cGUgfSBmcm9tICcuL2V4aXN0ZW5jZSc7XG5pbXBvcnQgeyBmcm9tIH0gZnJvbSAncnhqcy9vYnNlcnZhYmxlL2Zyb20nO1xuaW1wb3J0IHsgY29uY2F0LCBleGhhdXN0TWFwLCBmaWx0ZXIsIG1hcCwgc2hhcmUsIHRhcCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IG9mIH0gZnJvbSAncnhqcy9vYnNlcnZhYmxlL29mJztcbmltcG9ydCB7IHYxIGFzIHV1aWQgfSBmcm9tICd1dWlkJztcbmltcG9ydCB7IElEYlNlcnZpY2UgfSBmcm9tICdAcHlyby9kYi1zZXJ2ZXIvaS1kYi1zZXJ2aWNlJztcbmltcG9ydCB7IERCT2JqZWN0IH0gZnJvbSAnQHB5cm8vZGInO1xuaW1wb3J0IHsgUmF3T2JqZWN0IH0gZnJvbSAnQHB5cm8vZGIvZGItcmF3LW9iamVjdCc7XG5pbXBvcnQgeyBDcmVhdGVPYmplY3QgfSBmcm9tICdAcHlyby9kYi9kYi1jcmVhdGUtb2JqZWN0JztcbmltcG9ydCB7IEZpbmRPYmplY3QgfSBmcm9tICdAcHlyby9kYi9kYi1maW5kLW9iamVjdCc7XG5pbXBvcnQgeyBVcGRhdGVPYmplY3QgfSBmcm9tICdAcHlyby9kYi9kYi11cGRhdGUtb2JqZWN0JztcbmltcG9ydCB7IEVudGl0eVNlcnZpY2UgfSBmcm9tICdAcHlyby9kYi1zZXJ2ZXIvZW50aXR5LXNlcnZpY2UnO1xuXG5AaW5qZWN0YWJsZSgpXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgREJTZXJ2aWNlPFQgZXh0ZW5kcyBEQk9iamVjdDxhbnksIGFueT4+XG5cdGV4dGVuZHMgRW50aXR5U2VydmljZTxUPlxuXHRpbXBsZW1lbnRzIElEYlNlcnZpY2U8VD4ge1xuXHRwdWJsaWMgYWJzdHJhY3QgcmVhZG9ubHkgREJPYmplY3Q6IHtcblx0XHRuZXcgKGFyZzogUmF3T2JqZWN0PFQ+KTogVDtcblx0XHRtb2RlbE5hbWU6IHN0cmluZztcblx0fTtcblxuXHRwdWJsaWMgcmVhZG9ubHkgZXhpc3RlbmNlOiBTdWJqZWN0PEV4aXN0ZW5jZUV2ZW50PFQ+PjtcblxuXHRwcm90ZWN0ZWQgYWJzdHJhY3QgcmVhZG9ubHkgbG9nOiBMb2dnZXI7XG5cblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0c3VwZXIoKTtcblx0XHR0aGlzLmV4aXN0ZW5jZSA9IG5ldyBTdWJqZWN0PEV4aXN0ZW5jZUV2ZW50PFQ+PigpO1xuXHR9XG5cblx0Z2V0KGlkOiBUWydpZCddKTogT2JzZXJ2YWJsZTxUIHwgbnVsbD4ge1xuXHRcdGNvbnN0IGNhbGxJZCA9IHV1aWQoKTtcblxuXHRcdHRoaXMubG9nLmluZm8oeyBvYmplY3RJZDogaWQsIGNhbGxJZCB9LCAnLmdldChpZCkgY2FsbGVkJyk7XG5cblx0XHRyZXR1cm4gZnJvbSh0aGlzLmdldEN1cnJlbnQoaWQpKS5waXBlKFxuXHRcdFx0Y29uY2F0KFxuXHRcdFx0XHR0aGlzLmV4aXN0ZW5jZS5waXBlKFxuXHRcdFx0XHRcdGZpbHRlcigoZXhpc3RlbmNlRXZlbnQpID0+IGlkID09PSBleGlzdGVuY2VFdmVudC5pZCksXG5cdFx0XHRcdFx0bWFwKChleGlzdGVuY2VFdmVudCkgPT4gZXhpc3RlbmNlRXZlbnQudmFsdWUpLFxuXHRcdFx0XHRcdHNoYXJlKClcblx0XHRcdFx0KVxuXHRcdFx0KSxcblx0XHRcdHRhcCh7XG5cdFx0XHRcdG5leHQ6IChvYmopID0+IHtcblx0XHRcdFx0XHR0aGlzLmxvZy5pbmZvKFxuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRvYmplY3RJZDogaWQsXG5cdFx0XHRcdFx0XHRcdG9iamVjdDogb2JqLFxuXHRcdFx0XHRcdFx0XHRjYWxsSWQsXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0Jy5nZXQoaWQpIGVtaXR0ZWQgbmV4dCB2YWx1ZSdcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRlcnJvcjogKGVycikgPT4ge1xuXHRcdFx0XHRcdHRoaXMubG9nLmVycm9yKFxuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRvYmplY3RJZDogaWQsXG5cdFx0XHRcdFx0XHRcdGVycixcblx0XHRcdFx0XHRcdFx0Y2FsbElkLFxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdCcuZ2V0KGlkKSwgZW1pdHRlZCBlcnJvciEnXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fSxcblx0XHRcdH0pXG5cdFx0KTtcblx0fVxuXG5cdGFzeW5jIGdldEN1cnJlbnQoaWQ6IFRbJ2lkJ10pOiBQcm9taXNlPFQgfCBudWxsPiB7XG5cdFx0Y29uc3QgY2FsbElkID0gdXVpZCgpO1xuXG5cdFx0dGhpcy5sb2cuaW5mbyh7IG9iamVjdElkOiBpZCwgY2FsbElkIH0sICcuZ2V0Q3VycmVudChpZCkgY2FsbGVkJyk7XG5cblx0XHRjb25zdCBvYmogPSBhd2FpdCB0aGlzLk1vZGVsLmZpbmRCeUlkKGlkKS5sZWFuKCkuZXhlYygpO1xuXG5cdFx0cmV0dXJuIHRoaXMucGFyc2Uob2JqIGFzIFJhd09iamVjdDxUPik7XG5cdH1cblxuXHRnZXRNdWx0aXBsZShpZHM6IFRbJ2lkJ11bXSk6IE9ic2VydmFibGU8VFtdPiB7XG5cdFx0Y29uc3QgY2FsbElkID0gdXVpZCgpO1xuXG5cdFx0dGhpcy5sb2cuaW5mbyh7IG9iamVjdElkczogaWRzLCBjYWxsSWQgfSwgJy5nZXRNdWx0aXBsZShpZHMpIGNhbGxlZCcpO1xuXG5cdFx0cmV0dXJuIG9mKG51bGwpLnBpcGUoXG5cdFx0XHRjb25jYXQoXG5cdFx0XHRcdHRoaXMuZXhpc3RlbmNlLnBpcGUoXG5cdFx0XHRcdFx0ZmlsdGVyKChldmVudCkgPT4gXy5pbmNsdWRlcyhpZHMsIGV2ZW50LmlkKSksXG5cdFx0XHRcdFx0c2hhcmUoKVxuXHRcdFx0XHQpXG5cdFx0XHQpLFxuXHRcdFx0ZXhoYXVzdE1hcCgoKSA9PiB0aGlzLmdldEN1cnJlbnRNdWx0aXBsZShpZHMpKSxcblx0XHRcdHRhcCh7XG5cdFx0XHRcdG5leHQ6IChvYmplY3RzKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5sb2cuaW5mbyhcblx0XHRcdFx0XHRcdHsgb2JqZWN0SWRzOiBpZHMsIG9iamVjdHMsIGNhbGxJZCB9LFxuXHRcdFx0XHRcdFx0Jy5nZXRNdWx0aXBsZShpZHMpIGVtaXR0ZWQgbmV4dCB2YWx1ZSdcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRlcnJvcjogKGVycikgPT4ge1xuXHRcdFx0XHRcdHRoaXMubG9nLmVycm9yKFxuXHRcdFx0XHRcdFx0eyBvYmplY3RJZHM6IGlkcywgZXJyLCBjYWxsSWQgfSxcblx0XHRcdFx0XHRcdCcuZ2V0TXVsdGlwbGUoaWRzKSwgZW1pdHRlZCBlcnJvciEnXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fSxcblx0XHRcdH0pXG5cdFx0KTtcblx0fVxuXG5cdGFzeW5jIGdldEN1cnJlbnRNdWx0aXBsZShpZHM6IFRbJ2lkJ11bXSk6IFByb21pc2U8VFtdPiB7XG5cdFx0Y29uc3QgY2FsbElkID0gdXVpZCgpO1xuXG5cdFx0dGhpcy5sb2cuaW5mbyhcblx0XHRcdHsgb2JqZWN0SWRzOiBpZHMsIGNhbGxJZCB9LFxuXHRcdFx0Jy5nZXRDdXJyZW50TXVsdGlwbGUoaWRzKSBjYWxsZWQnXG5cdFx0KTtcblxuXHRcdGNvbnN0IG9ianMgPSBhd2FpdCB0aGlzLk1vZGVsLmZpbmQoe1xuXHRcdFx0X2lkOiB7XG5cdFx0XHRcdCRpbjogXy5tYXAoaWRzLCAoaWQpID0+IHRoaXMuZ2V0T2JqZWN0SWQoaWQpKSxcblx0XHRcdH0sXG5cdFx0fSlcblx0XHRcdC5sZWFuKClcblx0XHRcdC5leGVjKCk7XG5cblx0XHRyZXR1cm4gXy5tYXAob2JqcyBhcyBSYXdPYmplY3Q8VD5bXSwgKG9iaikgPT4gdGhpcy5wYXJzZShvYmopKTtcblx0fVxuXG5cdGFzeW5jIGNyZWF0ZShjcmVhdGVPYmplY3Q6IENyZWF0ZU9iamVjdDxUPik6IFByb21pc2U8VD4ge1xuXHRcdGNvbnN0IGNhbGxJZCA9IHV1aWQoKTtcblxuXHRcdHRoaXMubG9nLmluZm8oeyBjYWxsSWQsIGNyZWF0ZU9iamVjdCB9LCAnLmNyZWF0ZShjcmVhdGVPYmplY3QpIGNhbGxlZCcpO1xuXG5cdFx0bGV0IG9iamVjdDtcblxuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBkb2N1bWVudCA9IGF3YWl0IHRoaXMuTW9kZWwuY3JlYXRlKGNyZWF0ZU9iamVjdCk7XG5cblx0XHRcdG9iamVjdCA9IHRoaXMucGFyc2UoZG9jdW1lbnQudG9PYmplY3QoKSBhcyBSYXdPYmplY3Q8VD4pO1xuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHR0aGlzLmxvZy5lcnJvcihcblx0XHRcdFx0eyBjYWxsSWQsIGNyZWF0ZU9iamVjdCwgZXJyb3IgfSxcblx0XHRcdFx0Jy5jcmVhdGUoY3JlYXRlT2JqZWN0KSB0aHJvd24gZXJyb3IhJ1xuXHRcdFx0KTtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHRoaXMuZXhpc3RlbmNlLm5leHQoe1xuXHRcdFx0aWQ6IG9iamVjdC5pZCxcblx0XHRcdHZhbHVlOiBvYmplY3QsXG5cdFx0XHRsYXN0VmFsdWU6IG51bGwsXG5cdFx0XHR0eXBlOiBFeGlzdGVuY2VFdmVudFR5cGUuQ3JlYXRlZCxcblx0XHR9KTtcblxuXHRcdHRoaXMubG9nLmluZm8oXG5cdFx0XHR7IGNhbGxJZCwgY3JlYXRlT2JqZWN0LCBvYmplY3QgfSxcblx0XHRcdCcuY3JlYXRlKGNyZWF0ZU9iamVjdCkgY3JlYXRlZCBvYmplY3QnXG5cdFx0KTtcblxuXHRcdHJldHVybiBvYmplY3Q7XG5cdH1cblxuXHQvKipcblx0ICogUmVtb3ZlcyBhbGwgcmVjb3JkcyBmcm9tIHRoZSBEQlxuXHQgKiBUT0RPOiBhZGQgR3VhcmRzIHRvIGF2b2lkIHJ1biBvbiBwcm9kdWN0aW9uXG5cdCAqXG5cdCAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuXHQgKiBAbWVtYmVyb2YgREJTZXJ2aWNlXG5cdCAqL1xuXHRhc3luYyByZW1vdmVBbGwoKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0Y29uc3QgY2FsbElkID0gdXVpZCgpO1xuXG5cdFx0dGhpcy5sb2cuaW5mbyh7IGNhbGxJZCB9LCAnLnJlbW92ZUFsbCgpIGNhbGxlZCEnKTtcblxuXHRcdHRyeSB7XG5cdFx0XHRhd2FpdCB0aGlzLk1vZGVsLnJlbW92ZSh7fSkuZXhlYygpO1xuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0dGhpcy5sb2cuZXJyb3IoeyBjYWxsSWQsIGVyciB9LCAnLnJlbW92ZUFsbCgpIHRocm93biBlcnJvciEnKTtcblx0XHRcdHRocm93IGVycjtcblx0XHR9XG5cblx0XHR0aGlzLmxvZy5pbmZvKHsgY2FsbElkIH0sICcucmVtb3ZlQWxsKCkgcmVtb3ZlZCBhbGwhJyk7XG5cdH1cblxuXHQvKipcblx0ICogUmVtb3ZlcyByZWNvcmQgZnJvbSB0aGUgREJcblx0ICogVE9ETzogd2Ugc2hvdWxkIGFkZCBhbm90aGVyIG1ldGhvZCB3aGljaCBzZXQgSXNEZXRlbGVkID0gdHJ1ZSBhbmQgZG8gbm90IGRlbGV0ZSByZWNvcmQgZnJvbSBEQiBpbiBtb3N0IGNhc2VzXG5cdCAqXG5cdCAqIEBwYXJhbSB7VFsnaWQnXX0gb2JqZWN0SWRcblx0ICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG5cdCAqIEBtZW1iZXJvZiBEQlNlcnZpY2Vcblx0ICovXG5cdGFzeW5jIHJlbW92ZShvYmplY3RJZDogVFsnaWQnXSk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGNvbnN0IGNhbGxJZCA9IHV1aWQoKTtcblxuXHRcdHRoaXMubG9nLmluZm8oeyBjYWxsSWQsIG9iamVjdElkIH0sICcucmVtb3ZlKG9iamVjdElkKSBjYWxsZWQnKTtcblxuXHRcdGxldCBsYXN0VmFsdWU6IFQgfCBudWxsO1xuXG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IGxhc3RWYWx1ZVJhdyA9IChhd2FpdCB0aGlzLk1vZGVsLmZpbmRCeUlkQW5kUmVtb3ZlKG9iamVjdElkKVxuXHRcdFx0XHQubGVhbigpXG5cdFx0XHRcdC5leGVjKCkpIGFzIFJhd09iamVjdDxUPjtcblxuXHRcdFx0bGFzdFZhbHVlID0gdGhpcy5wYXJzZShsYXN0VmFsdWVSYXcpO1xuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0dGhpcy5sb2cuZXJyb3IoXG5cdFx0XHRcdHsgY2FsbElkLCBvYmplY3RJZCwgZXJyIH0sXG5cdFx0XHRcdCcucmVtb3ZlKG9iamVjdElkKSB0aHJvd24gZXJyb3IhJ1xuXHRcdFx0KTtcblxuXHRcdFx0dGhyb3cgZXJyO1xuXHRcdH1cblxuXHRcdGlmIChsYXN0VmFsdWUgPT0gbnVsbCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiLnJlbW92ZShvYmplY3RJZCkgZXJyb3IgLSBPYmplY3QgZG9uJ3QgZXhpc3RcIik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuZXhpc3RlbmNlLm5leHQoe1xuXHRcdFx0XHRpZDogb2JqZWN0SWQsXG5cdFx0XHRcdHZhbHVlOiBudWxsLFxuXHRcdFx0XHRsYXN0VmFsdWUsXG5cdFx0XHRcdHR5cGU6IEV4aXN0ZW5jZUV2ZW50VHlwZS5SZW1vdmVkLFxuXHRcdFx0fSk7XG5cblx0XHRcdHRoaXMubG9nLmluZm8oXG5cdFx0XHRcdHsgY2FsbElkLCBvYmplY3RJZCwgbGFzdFZhbHVlIH0sXG5cdFx0XHRcdCcucmVtb3ZlKG9iamVjdElkKSByZW1vdmVkIG9iamVjdCdcblx0XHRcdCk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFJlbW92ZSBtdWx0aXBsZSByZWNvcmRzIGZyb20gREIgKGVmZmljaWVudCB3YXkpXG5cdCAqXG5cdCAqIEBwYXJhbSB7RmluZE9iamVjdDxUPn0gY29uZGl0aW9uc1xuXHQgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cblx0ICogQG1lbWJlcm9mIERCU2VydmljZVxuXHQgKi9cblx0YXN5bmMgcmVtb3ZlTXVsdGlwbGUoY29uZGl0aW9uczogRmluZE9iamVjdDxUPik6IFByb21pc2U8dm9pZD4ge1xuXHRcdGNvbnN0IGNhbGxJZCA9IHV1aWQoKTtcblxuXHRcdHRoaXMubG9nLmluZm8oXG5cdFx0XHR7IGNhbGxJZCwgY29uZGl0aW9ucyB9LFxuXHRcdFx0Jy5yZW1vdmVNdWx0aXBsZShjb25kaXRpb25zKSBjYWxsZWQnXG5cdFx0KTtcblxuXHRcdGxldCBsYXN0VmFsdWVzOiBUW107XG5cblx0XHR0cnkge1xuXHRcdFx0bGFzdFZhbHVlcyA9IGF3YWl0IHRoaXMuZmluZChjb25kaXRpb25zKTtcblxuXHRcdFx0YXdhaXQgdGhpcy5Nb2RlbC5kZWxldGVNYW55KHtcblx0XHRcdFx0X2lkOiB7ICRpbjogbGFzdFZhbHVlcy5tYXAoKG8pID0+IHRoaXMuZ2V0T2JqZWN0SWQoby5pZCkpIH0sXG5cdFx0XHR9KS5leGVjKCk7XG5cdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHR0aGlzLmxvZy5lcnJvcihcblx0XHRcdFx0eyBjYWxsSWQsIGNvbmRpdGlvbnMsIGVyciB9LFxuXHRcdFx0XHQnLnJlbW92ZU11bHRpcGxlKGNvbmRpdGlvbnMpIHRocm93biBlcnJvciEnXG5cdFx0XHQpO1xuXHRcdFx0dGhyb3cgZXJyO1xuXHRcdH1cblxuXHRcdF8uZWFjaChsYXN0VmFsdWVzLCAobGFzdFZhbHVlKSA9PiB7XG5cdFx0XHR0aGlzLmV4aXN0ZW5jZS5uZXh0KHtcblx0XHRcdFx0aWQ6IGxhc3RWYWx1ZS5pZCxcblx0XHRcdFx0bGFzdFZhbHVlLFxuXHRcdFx0XHR2YWx1ZTogbnVsbCxcblx0XHRcdFx0dHlwZTogRXhpc3RlbmNlRXZlbnRUeXBlLlJlbW92ZWQsXG5cdFx0XHR9KTtcblx0XHR9KTtcblxuXHRcdHRoaXMubG9nLmluZm8oXG5cdFx0XHR7XG5cdFx0XHRcdGNhbGxJZCxcblx0XHRcdFx0Y29uZGl0aW9ucyxcblx0XHRcdFx0bGFzdFZhbHVlcyxcblx0XHRcdH0sXG5cdFx0XHQnLnJlbW92ZU11bHRpcGxlKGNvbmRpdGlvbnMpIHJlbW92ZWQgb2JqZWN0cydcblx0XHQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJlbW92ZSBtdWx0aXBsZSByZWNvcmRzIGJ5IElkc1xuXHQgKlxuXHQgKiBAcGFyYW0ge0FycmF5PFRbJ2lkJ10+fSBpZHNcblx0ICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG5cdCAqIEBtZW1iZXJvZiBEQlNlcnZpY2Vcblx0ICovXG5cdGFzeW5jIHJlbW92ZU11bHRpcGxlQnlJZHMoaWRzOiBUWydpZCddW10pOiBQcm9taXNlPHZvaWQ+IHtcblx0XHR0aGlzLk1vZGVsLnVwZGF0ZShcblx0XHRcdHtcblx0XHRcdFx0X2lkOiB7ICRpbjogaWRzLm1hcCgoaWQpID0+IHRoaXMuZ2V0T2JqZWN0SWQoaWQpKSB9LFxuXHRcdFx0fSxcblx0XHRcdHsgaXNEZWxldGVkOiB0cnVlIH0sXG5cdFx0XHR7IG11bHRpOiB0cnVlIH1cblx0XHQpLmV4ZWMoKTtcblx0fVxuXG5cdGFzeW5jIGZpbmQoY29uZGl0aW9uczogRmluZE9iamVjdDxSYXdPYmplY3Q8VD4+KTogUHJvbWlzZTxUW10+IHtcblx0XHRjb25zdCBjYWxsSWQgPSB1dWlkKCk7XG5cblx0XHR0aGlzLmxvZy5pbmZvKHsgY2FsbElkLCBjb25kaXRpb25zIH0sICcuZmluZChjb25kaXRpb25zKSBjYWxsZWQnKTtcblxuXHRcdGxldCByZXN1bHRzOiBUW107XG5cblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgZG9jdW1lbnRzID0gKGF3YWl0IHRoaXMuTW9kZWwuZmluZChcblx0XHRcdFx0Y29uZGl0aW9ucyA9PSBudWxsID8ge30gOiBjb25kaXRpb25zXG5cdFx0XHQpXG5cdFx0XHRcdC5sZWFuKClcblx0XHRcdFx0LmV4ZWMoKSkgYXMgUmF3T2JqZWN0PFQ+W107XG5cblx0XHRcdHJlc3VsdHMgPSBfLm1hcChkb2N1bWVudHMsIChvYmopID0+IHRoaXMucGFyc2Uob2JqKSk7XG5cdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHR0aGlzLmxvZy5lcnJvcihcblx0XHRcdFx0eyBjYWxsSWQsIGNvbmRpdGlvbnMsIGVyciB9LFxuXHRcdFx0XHQnLmZpbmQoY29uZGl0aW9ucykgdGhyb3duIGVycm9yISdcblx0XHRcdCk7XG5cdFx0XHR0aHJvdyBlcnI7XG5cdFx0fVxuXG5cdFx0dGhpcy5sb2cuaW5mbyhcblx0XHRcdHsgY2FsbElkLCBjb25kaXRpb25zLCByZXN1bHRzIH0sXG5cdFx0XHQnLmZpbmQoY29uZGl0aW9ucykgZm91bmQgcmVzdWx0cydcblx0XHQpO1xuXG5cdFx0cmV0dXJuIHJlc3VsdHM7XG5cdH1cblxuXHRhc3luYyBmaW5kT25lKGNvbmRpdGlvbnM6IEZpbmRPYmplY3Q8UmF3T2JqZWN0PFQ+Pik6IFByb21pc2U8VD4ge1xuXHRcdGNvbnN0IGNhbGxJZCA9IHV1aWQoKTtcblxuXHRcdHRoaXMubG9nLmluZm8oeyBjYWxsSWQsIGNvbmRpdGlvbnMgfSwgJy5maW5kT25lKGNvbmRpdGlvbnMpIGNhbGxlZCcpO1xuXG5cdFx0bGV0IHJlc3VsdDogVDtcblxuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBvYmogPSAoYXdhaXQgdGhpcy5Nb2RlbC5maW5kT25lKGNvbmRpdGlvbnMpXG5cdFx0XHRcdC5sZWFuKClcblx0XHRcdFx0LmV4ZWMoKSkgYXMgUmF3T2JqZWN0PFQ+O1xuXG5cdFx0XHRyZXN1bHQgPSB0aGlzLnBhcnNlKG9iaik7XG5cdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHR0aGlzLmxvZy5lcnJvcihcblx0XHRcdFx0eyBjYWxsSWQsIGNvbmRpdGlvbnMsIGVyciB9LFxuXHRcdFx0XHQnLmZpbmRPbmUoY29uZGl0aW9ucykgdGhyb3duIGVycm9yISdcblx0XHRcdCk7XG5cdFx0XHR0aHJvdyBlcnI7XG5cdFx0fVxuXG5cdFx0dGhpcy5sb2cuaW5mbyhcblx0XHRcdHsgY2FsbElkLCBjb25kaXRpb25zLCByZXN1bHQgfSxcblx0XHRcdCcuZmluZE9uZShjb25kaXRpb25zKSBmb3VuZCByZXN1bHQnXG5cdFx0KTtcblxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH1cblxuXHRhc3luYyB1cGRhdGUob2JqZWN0SWQ6IFRbJ2lkJ10sIHVwZGF0ZU9iajogVXBkYXRlT2JqZWN0PFQ+KTogUHJvbWlzZTxUPiB7XG5cdFx0Y29uc3QgY2FsbElkID0gdXVpZCgpO1xuXHRcdHRoaXMubG9nLmluZm8oXG5cdFx0XHR7IGNhbGxJZCwgb2JqZWN0SWQsIHVwZGF0ZU9iaiB9LFxuXHRcdFx0Jy51cGRhdGUob2JqZWN0SWQsIHVwZGF0ZU9iaikgY2FsbGVkJ1xuXHRcdCk7XG5cblx0XHRsZXQgYmVmb3JlVXBkYXRlT2JqZWN0OiBUIHwgbnVsbDtcblxuXHRcdGxldCB1cGRhdGVkT2JqZWN0OiBUO1xuXG5cdFx0dHJ5IHtcblx0XHRcdGJlZm9yZVVwZGF0ZU9iamVjdCA9IGF3YWl0IHRoaXMuZ2V0Q3VycmVudChvYmplY3RJZCk7XG5cblx0XHRcdGlmIChiZWZvcmVVcGRhdGVPYmplY3QgIT0gbnVsbCkge1xuXHRcdFx0XHRjb25zdCBvYmogPSAoYXdhaXQgdGhpcy5Nb2RlbC5maW5kQnlJZEFuZFVwZGF0ZShcblx0XHRcdFx0XHRvYmplY3RJZCxcblx0XHRcdFx0XHR1cGRhdGVPYmogYXMgYW55LFxuXHRcdFx0XHRcdHsgbmV3OiB0cnVlIH1cblx0XHRcdFx0KVxuXHRcdFx0XHRcdC5sZWFuKClcblx0XHRcdFx0XHQuZXhlYygpKSBhcyBSYXdPYmplY3Q8VD47XG5cblx0XHRcdFx0dXBkYXRlZE9iamVjdCA9IHRoaXMucGFyc2Uob2JqKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0XHRgVGhlcmUgaXMgbm8gc3VjaCBvYmplY3Qgd2l0aCB0aGUgaWQgJHtiZWZvcmVVcGRhdGVPYmplY3R9YFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0dGhpcy5sb2cuZXJyb3IoXG5cdFx0XHRcdHsgY2FsbElkLCBvYmplY3RJZCwgdXBkYXRlT2JqLCBlcnIgfSxcblx0XHRcdFx0Jy51cGRhdGUob2JqZWN0SWQsIHVwZGF0ZU9iaikgdGhyb3duIGVycm9yISdcblx0XHRcdCk7XG5cdFx0XHR0aHJvdyBlcnI7XG5cdFx0fVxuXG5cdFx0dGhpcy5leGlzdGVuY2UubmV4dCh7XG5cdFx0XHRpZDogb2JqZWN0SWQsXG5cdFx0XHR2YWx1ZTogdXBkYXRlZE9iamVjdCxcblx0XHRcdGxhc3RWYWx1ZTogYmVmb3JlVXBkYXRlT2JqZWN0LFxuXHRcdFx0dHlwZTogRXhpc3RlbmNlRXZlbnRUeXBlLlVwZGF0ZWQsXG5cdFx0fSk7XG5cblx0XHR0aGlzLmxvZy5pbmZvKFxuXHRcdFx0e1xuXHRcdFx0XHRjYWxsSWQsXG5cdFx0XHRcdG9iamVjdElkLFxuXHRcdFx0XHR1cGRhdGVPYmosXG5cdFx0XHRcdHVwZGF0ZWRWYWx1ZTogdXBkYXRlZE9iamVjdCxcblx0XHRcdFx0bGFzdFZhbHVlOiBiZWZvcmVVcGRhdGVPYmplY3QsXG5cdFx0XHR9LFxuXHRcdFx0Jy51cGRhdGUob2JqZWN0SWQsIHVwZGF0ZU9iaikgdXBkYXRlZCBvYmplY3QnXG5cdFx0KTtcblxuXHRcdHJldHVybiB1cGRhdGVkT2JqZWN0O1xuXHR9XG5cblx0YXN5bmMgdXBkYXRlTXVsdGlwbGUoXG5cdFx0ZmluZE9iajogRmluZE9iamVjdDxUPixcblx0XHR1cGRhdGVPYmo6IFVwZGF0ZU9iamVjdDxUPlxuXHQpOiBQcm9taXNlPFRbXT4ge1xuXHRcdGNvbnN0IGNhbGxJZCA9IHV1aWQoKTtcblx0XHR0aGlzLmxvZy5pbmZvKFxuXHRcdFx0eyBjYWxsSWQsIGZpbmRPYmosIHVwZGF0ZU9iaiB9LFxuXHRcdFx0Jy51cGRhdGVNdWx0aXBsZShmaW5kT2JqLCB1cGRhdGVPYmopIGNhbGxlZCdcblx0XHQpO1xuXG5cdFx0bGV0IGxhc3RWYWx1ZXM6IFRbXTtcblx0XHRsZXQgdXBkYXRlZE9iamVjdHM6IFRbXTtcblxuXHRcdHRyeSB7XG5cdFx0XHRsYXN0VmFsdWVzID0gYXdhaXQgdGhpcy5maW5kKGZpbmRPYmopO1xuXG5cdFx0XHRhd2FpdCB0aGlzLk1vZGVsLnVwZGF0ZU1hbnkoZmluZE9iaiwgdXBkYXRlT2JqLCB7XG5cdFx0XHRcdG5ldzogdHJ1ZSxcblx0XHRcdH0pLmV4ZWMoKTtcblxuXHRcdFx0dXBkYXRlZE9iamVjdHMgPSBhd2FpdCB0aGlzLmdldEN1cnJlbnRNdWx0aXBsZShcblx0XHRcdFx0Xy5tYXAobGFzdFZhbHVlcywgKHZhbHVlKSA9PiB2YWx1ZS5pZClcblx0XHRcdCk7XG5cdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHR0aGlzLmxvZy5lcnJvcihcblx0XHRcdFx0eyBjYWxsSWQsIGZpbmRPYmosIHVwZGF0ZU9iaiwgZXJyIH0sXG5cdFx0XHRcdCcudXBkYXRlTXVsdGlwbGUoZmluZE9iaiwgdXBkYXRlT2JqKSB0aHJvd24gZXJyb3IhJ1xuXHRcdFx0KTtcblx0XHRcdHRocm93IGVycjtcblx0XHR9XG5cblx0XHRfLmVhY2gobGFzdFZhbHVlcywgKGxhc3RWYWx1ZSkgPT4ge1xuXHRcdFx0Y29uc3QgbmV3VmFsdWUgPSBfLmZpbmQoXG5cdFx0XHRcdHVwZGF0ZWRPYmplY3RzLFxuXHRcdFx0XHQob2JqKSA9PiBvYmouaWQgPT09IGxhc3RWYWx1ZS5pZFxuXHRcdFx0KSBhcyBUO1xuXG5cdFx0XHR0aGlzLmV4aXN0ZW5jZS5uZXh0KHtcblx0XHRcdFx0aWQ6IGxhc3RWYWx1ZS5pZCxcblx0XHRcdFx0bGFzdFZhbHVlLFxuXHRcdFx0XHR2YWx1ZTogbmV3VmFsdWUsXG5cdFx0XHRcdHR5cGU6IEV4aXN0ZW5jZUV2ZW50VHlwZS5VcGRhdGVkLFxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0XHR0aGlzLmxvZy5pbmZvKFxuXHRcdFx0e1xuXHRcdFx0XHRjYWxsSWQsXG5cdFx0XHRcdGZpbmRPYmosXG5cdFx0XHRcdHVwZGF0ZU9iaixcblx0XHRcdFx0bGFzdFZhbHVlcyxcblx0XHRcdFx0dXBkYXRlZE9iamVjdHMsXG5cdFx0XHR9LFxuXHRcdFx0Jy51cGRhdGVNdWx0aXBsZShvYmplY3RJZCwgdXBkYXRlT2JqKSB1cGRhdGVkIG9iamVjdHMnXG5cdFx0KTtcblxuXHRcdHJldHVybiB1cGRhdGVkT2JqZWN0cztcblx0fVxuXG5cdGFzeW5jIHVwZGF0ZU11bHRpcGxlQnlJZHMoXG5cdFx0aWRzOiBUWydpZCddW10sXG5cdFx0dXBkYXRlT2JqOiBVcGRhdGVPYmplY3Q8VD5cblx0KTogUHJvbWlzZTxUW10+IHtcblx0XHRjb25zdCBjYWxsSWQgPSB1dWlkKCk7XG5cblx0XHR0aGlzLmxvZy5pbmZvKFxuXHRcdFx0eyBjYWxsSWQsIGlkcywgdXBkYXRlT2JqIH0sXG5cdFx0XHQnLnVwZGF0ZU11bHRpcGxlQnlJZHMoaWRzLCB1cGRhdGVPYmopIGNhbGxlZCdcblx0XHQpO1xuXG5cdFx0bGV0IHVwZGF0ZWRPYmplY3RzOiBUW107XG5cblx0XHR0cnkge1xuXHRcdFx0dXBkYXRlZE9iamVjdHMgPSBhd2FpdCB0aGlzLnVwZGF0ZU11bHRpcGxlKFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0Ly8gVE9ETzogcmV3cml0ZSBiZWxvd1xuXHRcdFx0XHRcdC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1vYmplY3QtbGl0ZXJhbC10eXBlLWFzc2VydGlvblxuXHRcdFx0XHRcdF9pZDoge1xuXHRcdFx0XHRcdFx0JGluOiBfLm1hcChcblx0XHRcdFx0XHRcdFx0aWRzLFxuXHRcdFx0XHRcdFx0XHQoaWQpID0+IG5ldyBtb25nb29zZS5UeXBlcy5PYmplY3RJZChpZClcblx0XHRcdFx0XHRcdCksXG5cdFx0XHRcdFx0fSBhcyBGaW5kT2JqZWN0PFQ+LFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR1cGRhdGVPYmpcblx0XHRcdCk7XG5cdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHR0aGlzLmxvZy5lcnJvcihcblx0XHRcdFx0eyBjYWxsSWQsIGlkcywgdXBkYXRlT2JqLCBlcnIgfSxcblx0XHRcdFx0Jy51cGRhdGVNdWx0aXBsZUJ5SWRzKGlkcywgdXBkYXRlT2JqKSB0aHJvd24gZXJyb3IhJ1xuXHRcdFx0KTtcblx0XHRcdHRocm93IGVycjtcblx0XHR9XG5cblx0XHR0aGlzLmxvZy5pbmZvKFxuXHRcdFx0e1xuXHRcdFx0XHRjYWxsSWQsXG5cdFx0XHRcdGlkcyxcblx0XHRcdFx0dXBkYXRlT2JqLFxuXHRcdFx0XHR1cGRhdGVkT2JqZWN0cyxcblx0XHRcdH0sXG5cdFx0XHQnLnVwZGF0ZU11bHRpcGxlQnlJZHMoaWRzLCB1cGRhdGVPYmopIHVwZGF0ZWQgb2JqZWN0cydcblx0XHQpO1xuXG5cdFx0cmV0dXJuIHVwZGF0ZWRPYmplY3RzO1xuXHR9XG5cblx0YXN5bmMgY291bnQoZmluZE9iajogRmluZE9iamVjdDxUPik6IFByb21pc2U8bnVtYmVyPiB7XG5cdFx0Y29uc3QgY2FsbElkID0gdXVpZCgpO1xuXG5cdFx0dGhpcy5sb2cuaW5mbyh7IGNhbGxJZCwgZmluZE9iaiB9LCAnLmNvdW50RG9jdW1lbnRzKGZpbmRPYmopIGNhbGxlZCcpO1xuXG5cdFx0bGV0IGNvdW50OiBudW1iZXI7XG5cblx0XHR0cnkge1xuXHRcdFx0Y291bnQgPSAoYXdhaXQgdGhpcy5Nb2RlbC5jb3VudERvY3VtZW50cyhmaW5kT2JqKS5leGVjKCkpIGFzIG51bWJlcjtcblx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdHRoaXMubG9nLmVycm9yKFxuXHRcdFx0XHR7IGNhbGxJZCwgZmluZE9iaiwgZXJyIH0sXG5cdFx0XHRcdCcuY291bnREb2N1bWVudHMoZmluZE9iaikgdGhyb3duIGVycm9yISdcblx0XHRcdCk7XG5cdFx0XHR0aHJvdyBlcnI7XG5cdFx0fVxuXG5cdFx0dGhpcy5sb2cuaW5mbyhcblx0XHRcdHsgY2FsbElkLCBmaW5kT2JqLCBjb3VudCB9LFxuXHRcdFx0Jy5jb3VudERvY3VtZW50cyhmaW5kT2JqKSBjb3VudGVkIG9iamVjdHMnXG5cdFx0KTtcblxuXHRcdHJldHVybiBjb3VudDtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm4gYWxsIHN0b3JlIGRvY3VtZW50cyB3aXRoIHNwZWNpZmllZCBmaWVsZHNcblx0ICogQHBhcmFtIHNlbGVjdEZpZWxkcyBFeGFtcGxlIHsgZmllbGQ6IDEgfSA9IHRydWUsIHsgZmllbGQ6IDAgfSA9IGZhbHNlLlxuXHQgKi9cblx0YXN5bmMgZmluZEFsbChzZWxlY3RGaWVsZHM6IGFueSA9IHt9KSB7XG5cdFx0cmV0dXJuIHRoaXMuTW9kZWwuZmluZCh7fSkuc2VsZWN0KHNlbGVjdEZpZWxkcykubGVhbigpLmV4ZWMoKTtcblx0fVxufVxuIiwiaW1wb3J0IHsgZ2V0TW9kZWwgfSBmcm9tICdAcHlyby9kYi1zZXJ2ZXIvbW9kZWwnO1xuaW1wb3J0IHsgREJPYmplY3QgfSBmcm9tICdAcHlyby9kYic7XG5pbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuaW1wb3J0IHsgUmF3T2JqZWN0IH0gZnJvbSAnQHB5cm8vZGIvZGItcmF3LW9iamVjdCc7XG5pbXBvcnQgeyBpbmplY3RhYmxlIH0gZnJvbSAnaW52ZXJzaWZ5JztcblxuQGluamVjdGFibGUoKVxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEVudGl0eVNlcnZpY2U8VCBleHRlbmRzIERCT2JqZWN0PGFueSwgYW55Pj4ge1xuXHRwdWJsaWMgYWJzdHJhY3QgcmVhZG9ubHkgREJPYmplY3Q6IHtcblx0XHRuZXcgKGFyZzogUmF3T2JqZWN0PFQ+KTogVDtcblx0XHRtb2RlbE5hbWU6IHN0cmluZztcblx0fTtcblxuXHRnZXQgTW9kZWwoKTogYW55IHtcblx0XHRyZXR1cm4gZ2V0TW9kZWw8UmF3T2JqZWN0PFQ+ICYgbW9uZ29vc2UuRG9jdW1lbnQ+KHRoaXMuREJPYmplY3QpO1xuXHR9XG5cblx0cHJvdGVjdGVkIGdldE9iamVjdElkKGlkOiBUWydpZCddKSB7XG5cdFx0cmV0dXJuIG5ldyBtb25nb29zZS5UeXBlcy5PYmplY3RJZChpZCk7XG5cdH1cblxuXHRwcm90ZWN0ZWQgcGFyc2Uob2JqOiBSYXdPYmplY3Q8VD4pOiBUO1xuXG5cdHByb3RlY3RlZCBwYXJzZShvYmo6IG51bGwpOiBudWxsO1xuXG5cdHByb3RlY3RlZCBwYXJzZShvYmo6IFJhd09iamVjdDxUPiB8IG51bGwpOiBUIHwgbnVsbCB7XG5cdFx0aWYgKG9iaiA9PSBudWxsKSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIG5ldyB0aGlzLkRCT2JqZWN0KG9iaik7XG5cdFx0fVxuXHR9XG59XG4iLCJ0eXBlIEV4aXN0ZW5jZUV2ZW50VHlwZUNyZWF0ZWQgPSAnY3JlYXRlZCc7XG5jb25zdCBFeGlzdGVuY2VFdmVudFR5cGVDcmVhdGVkOiBFeGlzdGVuY2VFdmVudFR5cGVDcmVhdGVkID0gJ2NyZWF0ZWQnO1xuXG50eXBlIEV4aXN0ZW5jZUV2ZW50VHlwZVVwZGF0ZWQgPSAndXBkYXRlZCc7XG5jb25zdCBFeGlzdGVuY2VFdmVudFR5cGVVcGRhdGVkOiBFeGlzdGVuY2VFdmVudFR5cGVVcGRhdGVkID0gJ3VwZGF0ZWQnO1xuXG50eXBlIEV4aXN0ZW5jZUV2ZW50VHlwZVJlbW92ZWQgPSAncmVtb3ZlZCc7XG5jb25zdCBFeGlzdGVuY2VFdmVudFR5cGVSZW1vdmVkOiBFeGlzdGVuY2VFdmVudFR5cGVSZW1vdmVkID0gJ3JlbW92ZWQnO1xuXG5leHBvcnQgdHlwZSBFeGlzdGVuY2VFdmVudFR5cGUgPVxuXHR8IEV4aXN0ZW5jZUV2ZW50VHlwZUNyZWF0ZWRcblx0fCBFeGlzdGVuY2VFdmVudFR5cGVVcGRhdGVkXG5cdHwgRXhpc3RlbmNlRXZlbnRUeXBlUmVtb3ZlZDtcblxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLW5hbWVzcGFjZVxuZXhwb3J0IG5hbWVzcGFjZSBFeGlzdGVuY2VFdmVudFR5cGUge1xuXHRleHBvcnQgY29uc3QgQ3JlYXRlZCA9IEV4aXN0ZW5jZUV2ZW50VHlwZUNyZWF0ZWQ7XG5cdGV4cG9ydCBjb25zdCBVcGRhdGVkID0gRXhpc3RlbmNlRXZlbnRUeXBlVXBkYXRlZDtcblx0ZXhwb3J0IGNvbnN0IFJlbW92ZWQgPSBFeGlzdGVuY2VFdmVudFR5cGVSZW1vdmVkO1xufVxuXG5leHBvcnQgdHlwZSBFeGlzdGVuY2VFdmVudDxUPiA9XG5cdHwge1xuXHRcdFx0aWQ6IHN0cmluZztcblx0XHRcdHZhbHVlOiBUO1xuXHRcdFx0bGFzdFZhbHVlOiBudWxsO1xuXHRcdFx0dHlwZTogRXhpc3RlbmNlRXZlbnRUeXBlQ3JlYXRlZDtcblx0ICB9XG5cdHwge1xuXHRcdFx0aWQ6IHN0cmluZztcblx0XHRcdHZhbHVlOiBUO1xuXHRcdFx0bGFzdFZhbHVlOiBUO1xuXHRcdFx0dHlwZTogRXhpc3RlbmNlRXZlbnRUeXBlVXBkYXRlZDtcblx0ICB9XG5cdHwge1xuXHRcdFx0aWQ6IHN0cmluZztcblx0XHRcdHZhbHVlOiBudWxsO1xuXHRcdFx0bGFzdFZhbHVlOiBUO1xuXHRcdFx0dHlwZTogRXhpc3RlbmNlRXZlbnRUeXBlUmVtb3ZlZDtcblx0ICB9O1xuIiwiZXhwb3J0IHsgZ2V0TW9kZWwgfSBmcm9tICcuL21vZGVsJztcbmV4cG9ydCB7IEV4aXN0ZW5jZUV2ZW50LCBFeGlzdGVuY2VFdmVudFR5cGUgfSBmcm9tICcuL2V4aXN0ZW5jZSc7XG5leHBvcnQgeyBEQlNlcnZpY2UgfSBmcm9tICcuL2RiLXNlcnZpY2UnO1xuZXhwb3J0IHsgSURiU2VydmljZSB9IGZyb20gJy4vaS1kYi1zZXJ2aWNlJztcbiIsImltcG9ydCB7IGdldFNjaGVtYSB9IGZyb20gJ0BweXJvL2RiJztcbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5cbmV4cG9ydCBjb25zdCBtb2RlbE1ldGFkYXRhID0gJ2RiOm1vZGVsJztcblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1vZGVsPERvY3VtZW50IGV4dGVuZHMgbW9uZ29vc2UuRG9jdW1lbnQ+KFxuXHREQk9iamVjdFxuKTogbW9uZ29vc2UuTW9kZWw8RG9jdW1lbnQ+IHtcblx0bGV0IE1vZGVsID0gUmVmbGVjdC5nZXRNZXRhZGF0YShtb2RlbE1ldGFkYXRhLCBEQk9iamVjdCk7XG5cblx0aWYgKE1vZGVsID09IG51bGwpIHtcblx0XHRNb2RlbCA9IG1vbmdvb3NlLm1vZGVsPERvY3VtZW50Pihcblx0XHRcdERCT2JqZWN0Lm1vZGVsTmFtZSxcblx0XHRcdGdldFNjaGVtYShEQk9iamVjdClcblx0XHQpO1xuXHRcdFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEobW9kZWxNZXRhZGF0YSwgTW9kZWwsIERCT2JqZWN0KTtcblx0fVxuXG5cdHJldHVybiBNb2RlbDtcbn1cbiIsImltcG9ydCB7IGdldExpc3RlbmVycywgZ2V0Um91dGVyTmFtZSwgSVJvdXRlciB9IGZyb20gJy4vcm91dGVyL3JvdXRlcic7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJ2J1bnlhbic7XG5pbXBvcnQgeyBJTGlzdGVuZXJIYW5kbGVyIH0gZnJvbSAnLi9saXN0ZW5lci9oYW5kbGVyL2hhbmRsZXInO1xuaW1wb3J0IHsgQXN5bmNMaXN0ZW5lckhhbmRsZXIgfSBmcm9tICcuL2xpc3RlbmVyL2hhbmRsZXIvYXN5bmMnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZUxpc3RlbmVySGFuZGxlciB9IGZyb20gJy4vbGlzdGVuZXIvaGFuZGxlci9vYnNlcnZhYmxlJztcbmltcG9ydCB7IGdldExpc3RlbmVyVHlwZSwgTGlzdGVuZXIgfSBmcm9tICcuL2xpc3RlbmVyL2xpc3RlbmVyJztcbmltcG9ydCB7IExpc3RlbmVyVHlwZSB9IGZyb20gJy4vbGlzdGVuZXIvdHlwZXMnO1xuaW1wb3J0IHsgQXN5bmNMaXN0ZW5lciB9IGZyb20gJy4vbGlzdGVuZXIvYXN5bmMnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZUxpc3RlbmVyIH0gZnJvbSAnLi9saXN0ZW5lci9vYnNlcnZhYmxlJztcblxuZXhwb3J0IGNsYXNzIENvbm5lY3Rpb25IYW5kbGVyIHtcblx0cHJpdmF0ZSByZWFkb25seSBsaXN0ZW5lcnM6IEFycmF5PExpc3RlbmVyPGFueT4+ID0gZ2V0TGlzdGVuZXJzKFxuXHRcdHRoaXMucm91dGVyXG5cdCk7XG5cblx0cHJpdmF0ZSByZWFkb25seSByb3V0ZXJOYW1lOiBzdHJpbmcgPSBnZXRSb3V0ZXJOYW1lKHRoaXMucm91dGVyKTtcblxuXHRjb25zdHJ1Y3Rvcihcblx0XHRwcml2YXRlIHJlYWRvbmx5IHNvY2tldDogU29ja2V0SU8uU29ja2V0LFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgcm91dGVyOiBJUm91dGVyLFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgbG9nOiBMb2dnZXJcblx0KSB7fVxuXG5cdGhhbmRsZSgpIHtcblx0XHR0aGlzLmxvZy5pbmZvKFxuXHRcdFx0e1xuXHRcdFx0XHRzb2NrZXRJZDogdGhpcy5zb2NrZXQuaWQsXG5cdFx0XHRcdGxpc3RlbmVyczogdGhpcy5saXN0ZW5lcnMubWFwKChsaXN0ZW5lcikgPT4gbGlzdGVuZXIubmFtZSksXG5cdFx0XHRcdHJvdXRlck5hbWU6IHRoaXMucm91dGVyTmFtZSxcblx0XHRcdH0sXG5cdFx0XHRgU29ja2V0IGNvbm5lY3RlZCEgU3RhcnRpbmcgbGlzdGVuZXJzIGxpc3RlbmluZyFgXG5cdFx0KTtcblxuXHRcdHRyeSB7XG5cdFx0XHR0aGlzLmxpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcikgPT4ge1xuXHRcdFx0XHRjb25zdCBoYW5kbGVyID0gdGhpcy5saXN0ZW5lckhhbmRsZXJGYWN0b3J5KGxpc3RlbmVyKTtcblx0XHRcdFx0aGFuZGxlci5oYW5kbGUoKTtcblx0XHRcdH0pO1xuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0dGhpcy5sb2cuZmF0YWwoXCJDb3VsZG4ndCBzdGFydCBsaXN0ZW5lcnMgbGlzdGVuaW5nIVwiLCB7IGVyciB9KTtcblx0XHR9XG5cblx0XHR0aGlzLnNvY2tldC5vbignZGlzY29ubmVjdCcsICgpID0+IHtcblx0XHRcdHRoaXMub25EaXNjb25uZWN0aW9uKCk7XG5cdFx0fSk7XG5cdH1cblxuXHRwcm90ZWN0ZWQgbGlzdGVuZXJIYW5kbGVyRmFjdG9yeTxUPihcblx0XHRsaXN0ZW5lcjogTGlzdGVuZXI8VD5cblx0KTogSUxpc3RlbmVySGFuZGxlcjxUPiB7XG5cdFx0c3dpdGNoIChnZXRMaXN0ZW5lclR5cGUobGlzdGVuZXIpKSB7XG5cdFx0XHRjYXNlIExpc3RlbmVyVHlwZS5Bc3luYzpcblx0XHRcdFx0cmV0dXJuIG5ldyBBc3luY0xpc3RlbmVySGFuZGxlcihcblx0XHRcdFx0XHR0aGlzLnJvdXRlcixcblx0XHRcdFx0XHRsaXN0ZW5lciBhcyBBc3luY0xpc3RlbmVyPFQ+LFxuXHRcdFx0XHRcdHRoaXMuc29ja2V0LFxuXHRcdFx0XHRcdHRoaXMubG9nXG5cdFx0XHRcdCk7XG5cdFx0XHRjYXNlIExpc3RlbmVyVHlwZS5PYnNlcnZhYmxlOlxuXHRcdFx0XHRyZXR1cm4gbmV3IE9ic2VydmFibGVMaXN0ZW5lckhhbmRsZXIoXG5cdFx0XHRcdFx0dGhpcy5yb3V0ZXIsXG5cdFx0XHRcdFx0bGlzdGVuZXIgYXMgT2JzZXJ2YWJsZUxpc3RlbmVyPFQ+LFxuXHRcdFx0XHRcdHRoaXMuc29ja2V0LFxuXHRcdFx0XHRcdHRoaXMubG9nXG5cdFx0XHRcdCk7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdFx0YEJhZCBsaXN0ZW5lciB0eXBlISAke2dldExpc3RlbmVyVHlwZShsaXN0ZW5lcil9YFxuXHRcdFx0XHQpO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgb25EaXNjb25uZWN0aW9uKCkge1xuXHRcdHRoaXMubG9nLmluZm8oXG5cdFx0XHR7XG5cdFx0XHRcdHNvY2tldElkOiB0aGlzLnNvY2tldC5pZCxcblx0XHRcdFx0bGlzdGVuZXJzOiB0aGlzLmxpc3RlbmVycy5tYXAoKGxpc3RlbmVyKSA9PiBsaXN0ZW5lci5uYW1lKSxcblx0XHRcdFx0cm91dGVyTmFtZTogdGhpcy5yb3V0ZXJOYW1lLFxuXHRcdFx0fSxcblx0XHRcdGBTb2NrZXQgZGlzY29ubmVjdGVkIWBcblx0XHQpO1xuXHR9XG59XG4iLCJleHBvcnQgeyBSb3V0ZXJzTWFuYWdlciwgSVJvdXRlcnNNYW5hZ2VyIH0gZnJvbSAnLi9yb3V0ZXJzLW1hbmFnZXInO1xuZXhwb3J0IHsgYXN5bmNMaXN0ZW5lciB9IGZyb20gJy4vbGlzdGVuZXIvYXN5bmMnO1xuZXhwb3J0IHsgb2JzZXJ2YWJsZUxpc3RlbmVyIH0gZnJvbSAnLi9saXN0ZW5lci9vYnNlcnZhYmxlJztcbmV4cG9ydCB7IHNlcmlhbGl6YXRpb24gfSBmcm9tICcuL2xpc3RlbmVyL3NlcmlhbGl6YXRpb24nO1xuZXhwb3J0IHsgcm91dGVyTmFtZSwgUm91dGVyU3ltYm9sIH0gZnJvbSAnLi9yb3V0ZXIvcm91dGVyJztcbiIsImltcG9ydCB7IExpc3RlbmVyVHlwZSB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgbGlzdGVuZXJPZiB9IGZyb20gJy4vbGlzdGVuZXInO1xuXG5leHBvcnQgdHlwZSBBc3luY0xpc3RlbmVyPFQ+ID0gKC4uLmFyZ3M6IGFueVtdKSA9PiBQcm9taXNlPFQ+O1xuXG5leHBvcnQgY29uc3QgYXN5bmNMaXN0ZW5lciA9IGxpc3RlbmVyT2YoTGlzdGVuZXJUeXBlLkFzeW5jKTtcbiIsImltcG9ydCB7IElSb3V0ZXIgfSBmcm9tICcuLi8uLi9yb3V0ZXIvcm91dGVyJztcbmltcG9ydCB7IElMaXN0ZW5lckhhbmRsZXIgfSBmcm9tICcuL2hhbmRsZXInO1xuaW1wb3J0IHsgdjEgYXMgdXVpZCB9IGZyb20gJ3V1aWQnO1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnYnVueWFuJztcbmltcG9ydCB7IEJhc2VMaXN0ZW5lckhhbmRsZXIgfSBmcm9tICcuL2Jhc2UnO1xuaW1wb3J0IHsgQXN5bmNMaXN0ZW5lciB9IGZyb20gJy4uL2FzeW5jJztcblxuZXhwb3J0IGNsYXNzIEFzeW5jTGlzdGVuZXJIYW5kbGVyPFQ+IGV4dGVuZHMgQmFzZUxpc3RlbmVySGFuZGxlcjxUPlxuXHRpbXBsZW1lbnRzIElMaXN0ZW5lckhhbmRsZXI8VD4ge1xuXHRjb25zdHJ1Y3Rvcihcblx0XHRwcml2YXRlIHJlYWRvbmx5IHJvdXRlcjogSVJvdXRlcixcblx0XHRwcml2YXRlIHJlYWRvbmx5IGxpc3RlbmVyOiBBc3luY0xpc3RlbmVyPFQ+LFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgc29ja2V0OiBTb2NrZXRJTy5Tb2NrZXQsXG5cdFx0cHJpdmF0ZSByZWFkb25seSBsb2c6IExvZ2dlclxuXHQpIHtcblx0XHRzdXBlcihyb3V0ZXIsIGxpc3RlbmVyLCBzb2NrZXQsIGxvZyk7XG5cdH1cblxuXHRhc3luYyBoYW5kbGVSZXF1ZXN0KF9hcmdzOiBhbnlbXSk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGNvbnN0IGNhbGxJZCA9IHV1aWQoKTtcblxuXHRcdGNvbnN0IGNhbGxiYWNrOiAoZXJyOiBFcnJvciB8IG51bGwsIGRhdGE/KSA9PiB2b2lkID0gXy5sYXN0KF9hcmdzKTtcblxuXHRcdGNvbnN0IGFyZ3MgPSB0aGlzLnNlcmlhbGl6ZXIoXy5pbml0aWFsKF9hcmdzKSk7XG5cblx0XHR0aGlzLmxvZ0NhbGwoY2FsbElkLCBhcmdzKTtcblxuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBkYXRhOiBUID0gYXdhaXQgdGhpcy5saXN0ZW5lci5hcHBseSh0aGlzLnJvdXRlciwgYXJncyk7XG5cblx0XHRcdHRoaXMubG9nLmluZm8oXG5cdFx0XHRcdHtcblx0XHRcdFx0XHQuLi50aGlzLmJhc2VMb2dEZXRhaWxzLFxuXHRcdFx0XHRcdGNhbGxJZCxcblx0XHRcdFx0XHRyZXN1bHQ6IGRhdGEsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGBMaXN0ZW5lciBjb21wbGV0ZWRgXG5cdFx0XHQpO1xuXG5cdFx0XHRjYWxsYmFjayhudWxsLCBkYXRhKTtcblx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdHRoaXMubG9nLmVycm9yKFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0Li4udGhpcy5iYXNlTG9nRGV0YWlscyxcblx0XHRcdFx0XHRjYWxsSWQsXG5cdFx0XHRcdFx0ZXJyLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHRgTGlzdGVuZXIgdGhyb3duIGVycm9yIWBcblx0XHRcdCk7XG5cblx0XHRcdGNhbGxiYWNrKHRoaXMuc2VyaWFsaXplRXJyb3IoZXJyKSwgbnVsbCk7XG5cdFx0fVxuXHR9XG59XG4iLCJpbXBvcnQgeyBJTGlzdGVuZXJIYW5kbGVyIH0gZnJvbSAnLi9oYW5kbGVyJztcbmltcG9ydCB7IGdldFJvdXRlck5hbWUsIElSb3V0ZXIgfSBmcm9tICcuLi8uLi9yb3V0ZXIvcm91dGVyJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnYnVueWFuJztcbmltcG9ydCB7IGdldExpc3RlbmVyVHlwZSwgTGlzdGVuZXIgfSBmcm9tICcuLi9saXN0ZW5lcic7XG5pbXBvcnQgeyBMaXN0ZW5lclR5cGUgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBnZXRMaXN0ZW5lclNlcmlhbGl6ZXIgfSBmcm9tICcuLi9zZXJpYWxpemF0aW9uJztcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgZ2V0QXJnc05hbWVzIGZyb20gJ0BjYXB0ZW11bGF0aW9uL2dldC1wYXJhbWV0ZXItbmFtZXMnO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQmFzZUxpc3RlbmVySGFuZGxlcjxUPiBpbXBsZW1lbnRzIElMaXN0ZW5lckhhbmRsZXI8VD4ge1xuXHRwcm90ZWN0ZWQgcmVhZG9ubHkgc2VyaWFsaXplcjogKGFyZ3M6IGFueVtdKSA9PiBhbnlbXTtcblxuXHRwcm90ZWN0ZWQgcmVhZG9ubHkgcm91dGVyTmFtZTogc3RyaW5nID0gZ2V0Um91dGVyTmFtZSh0aGlzLl9yb3V0ZXIpO1xuXG5cdHByb3RlY3RlZCByZWFkb25seSBsaXN0ZW5lclR5cGU6IExpc3RlbmVyVHlwZSA9IGdldExpc3RlbmVyVHlwZShcblx0XHR0aGlzLl9saXN0ZW5lclxuXHQpO1xuXG5cdHByb3RlY3RlZCByZWFkb25seSBsaXN0ZW5lckFyZ3VtZW50c05hbWVzID0gZ2V0QXJnc05hbWVzKHRoaXMuX2xpc3RlbmVyKTtcblxuXHRjb25zdHJ1Y3Rvcihcblx0XHRwcml2YXRlIHJlYWRvbmx5IF9yb3V0ZXI6IElSb3V0ZXIsXG5cdFx0cHJpdmF0ZSByZWFkb25seSBfbGlzdGVuZXI6IExpc3RlbmVyPFQ+LFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgX3NvY2tldDogU29ja2V0SU8uU29ja2V0LFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgX2xvZzogTG9nZ2VyXG5cdCkge1xuXHRcdHRoaXMuc2VyaWFsaXplciA9IGdldExpc3RlbmVyU2VyaWFsaXplcihfbGlzdGVuZXIpO1xuXHR9XG5cblx0aGFuZGxlKCk6IHZvaWQge1xuXHRcdHRoaXMuX3NvY2tldC5vbih0aGlzLl9saXN0ZW5lci5uYW1lLCAoLi4uYXJnczogYW55W10pID0+IHtcblx0XHRcdHRoaXMuaGFuZGxlUmVxdWVzdChhcmdzKTtcblx0XHR9KTtcblx0fVxuXG5cdGFic3RyYWN0IGhhbmRsZVJlcXVlc3QoYXJnczogYW55W10pOiB2b2lkO1xuXG5cdHByb3RlY3RlZCBiYXNlTG9nRGV0YWlscyA9IHtcblx0XHRzb2NrZXRJZDogdGhpcy5fc29ja2V0LmlkLFxuXHRcdGxpc3RlbmVyTmFtZTogdGhpcy5fbGlzdGVuZXIubmFtZSxcblx0XHRsaXN0ZW5lclR5cGU6IHRoaXMubGlzdGVuZXJUeXBlLFxuXHRcdHJvdXRlck5hbWU6IHRoaXMucm91dGVyTmFtZSxcblx0fTtcblxuXHRwcm90ZWN0ZWQgbG9nQ2FsbChjYWxsSWQ6IHN0cmluZywgYXJnczogYW55W10pIHtcblx0XHR0aGlzLl9sb2cuaW5mbyhcblx0XHRcdHtcblx0XHRcdFx0Li4udGhpcy5iYXNlTG9nRGV0YWlscyxcblx0XHRcdFx0Y2FsbElkLFxuXHRcdFx0XHRhcmdzOiBfLnppcE9iamVjdCh0aGlzLmxpc3RlbmVyQXJndW1lbnRzTmFtZXMsIGFyZ3MpLFxuXHRcdFx0fSxcblx0XHRcdGBMaXN0ZW5lciBjYWxsZWRgXG5cdFx0KTtcblx0fVxuXG5cdHByb3RlY3RlZCBzZXJpYWxpemVFcnJvcihfZXJyb3IpIHtcblx0XHRpZiAoX2Vycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcblx0XHRcdGNvbnN0IGVycm9yOiBFcnJvciA9IF9lcnJvcjtcblxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0X19pc0Vycm9yX186IHRydWUsXG5cdFx0XHRcdG5hbWU6IGVycm9yLm5hbWUsXG5cdFx0XHRcdG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG5cdFx0XHR9O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gX2Vycm9yO1xuXHRcdH1cblx0fVxufVxuIiwiaW1wb3J0IHsgSVJvdXRlciB9IGZyb20gJy4uLy4uL3JvdXRlci9yb3V0ZXInO1xuaW1wb3J0IHsgSUxpc3RlbmVySGFuZGxlciB9IGZyb20gJy4vaGFuZGxlcic7XG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IExvZ2dlciBmcm9tICdidW55YW4nO1xuaW1wb3J0IHsgQmFzZUxpc3RlbmVySGFuZGxlciB9IGZyb20gJy4vYmFzZSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlTGlzdGVuZXIgfSBmcm9tICcuLi9vYnNlcnZhYmxlJztcblxuZXhwb3J0IGNsYXNzIE9ic2VydmFibGVMaXN0ZW5lckhhbmRsZXI8VD4gZXh0ZW5kcyBCYXNlTGlzdGVuZXJIYW5kbGVyPFQ+XG5cdGltcGxlbWVudHMgSUxpc3RlbmVySGFuZGxlcjxUPiB7XG5cdGNvbnN0cnVjdG9yKFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgcm91dGVyOiBJUm91dGVyLFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgbGlzdGVuZXI6IE9ic2VydmFibGVMaXN0ZW5lcjxUPixcblx0XHRwcml2YXRlIHJlYWRvbmx5IHNvY2tldDogU29ja2V0SU8uU29ja2V0LFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgbG9nOiBMb2dnZXJcblx0KSB7XG5cdFx0c3VwZXIocm91dGVyLCBsaXN0ZW5lciwgc29ja2V0LCBsb2cpO1xuXHR9XG5cblx0YXN5bmMgaGFuZGxlUmVxdWVzdChfYXJnczogYW55W10pOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRjb25zdCBjYWxsSWQ6IHN0cmluZyA9IF8ubGFzdChfYXJncyk7XG5cblx0XHRjb25zdCBhcmdzOiBhbnlbXSA9IHRoaXMuc2VyaWFsaXplcihfLmluaXRpYWwoX2FyZ3MpKTtcblxuXHRcdHRoaXMubG9nQ2FsbChjYWxsSWQsIGFyZ3MpO1xuXG5cdFx0Y29uc3Qgb2JzZXJ2YWJsZSA9IFJlZmxlY3QuYXBwbHkodGhpcy5saXN0ZW5lciwgdGhpcy5yb3V0ZXIsIGFyZ3MpO1xuXG5cdFx0dGhpcy5zb2NrZXQub24oYCR7Y2FsbElkfV9zdWJzY3JpYmVgLCAoc3Vic2NyaXB0aW9uSWQpID0+IHtcblx0XHRcdGNvbnN0IHN1YnNjcmlwdGlvbiA9IG9ic2VydmFibGUuc3Vic2NyaWJlKHtcblx0XHRcdFx0bmV4dDogKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5sb2cuaW5mbyhcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0Li4udGhpcy5iYXNlTG9nRGV0YWlscyxcblx0XHRcdFx0XHRcdFx0Y2FsbElkLFxuXHRcdFx0XHRcdFx0XHR2YWx1ZSxcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRgTGlzdGVuZXIgZW1pdHRlZCBuZXh0IHZhbHVlYFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0dGhpcy5zb2NrZXQuZW1pdChgJHtzdWJzY3JpcHRpb25JZH1fbmV4dGAsIHZhbHVlKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0ZXJyb3I6IChlcnIpID0+IHtcblx0XHRcdFx0XHR0aGlzLmxvZy5lcnJvcihcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0Li4udGhpcy5iYXNlTG9nRGV0YWlscyxcblx0XHRcdFx0XHRcdFx0Y2FsbElkLFxuXHRcdFx0XHRcdFx0XHRlcnIsXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0YExpc3RlbmVyIHRocm93biBlcnJvciFgXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR0aGlzLnNvY2tldC5lbWl0KFxuXHRcdFx0XHRcdFx0YCR7c3Vic2NyaXB0aW9uSWR9X2Vycm9yYCxcblx0XHRcdFx0XHRcdHRoaXMuc2VyaWFsaXplRXJyb3IoZXJyKVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGNvbXBsZXRlOiAoKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5sb2cuaW5mbyhcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0Li4udGhpcy5iYXNlTG9nRGV0YWlscyxcblx0XHRcdFx0XHRcdFx0Y2FsbElkLFxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdGBMaXN0ZW5lciBjb21wbGV0ZWRgXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR0aGlzLnNvY2tldC5lbWl0KGBfJHtzdWJzY3JpcHRpb25JZH1fY29tcGxldGVgKTtcblx0XHRcdFx0fSxcblx0XHRcdH0pO1xuXG5cdFx0XHR0aGlzLnNvY2tldC5vbihgJHtzdWJzY3JpcHRpb25JZH1fdW5zdWJzY3JpYmVgLCAoKSA9PlxuXHRcdFx0XHRzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKVxuXHRcdFx0KTtcblxuXHRcdFx0dGhpcy5zb2NrZXQub24oJ2Rpc2Nvbm5lY3QnLCAoKSA9PiBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKSk7XG5cdFx0fSk7XG5cdH1cbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGVMaXN0ZW5lciB9IGZyb20gJy4vb2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBBc3luY0xpc3RlbmVyIH0gZnJvbSAnLi9hc3luYyc7XG5pbXBvcnQgeyBMaXN0ZW5lclR5cGUgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IElSb3V0ZXIgfSBmcm9tICcuLi9yb3V0ZXIvcm91dGVyJztcbmltcG9ydCB7IHJvdXRlck1ldGFkYXRhIH0gZnJvbSAnLi4vcm91dGVyL21ldGFkYXRhJztcbmltcG9ydCB7IGxpc3RlbmVyTWV0YWRhdGEgfSBmcm9tICcuL21ldGFkYXRhJztcblxuZXhwb3J0IHR5cGUgTGlzdGVuZXI8VD4gPSBBc3luY0xpc3RlbmVyPFQ+IHwgT2JzZXJ2YWJsZUxpc3RlbmVyPFQ+O1xuXG5leHBvcnQgY29uc3QgbGlzdGVuZXJPZiA9IChcblx0bGlzdGVuZXJUeXBlOiBMaXN0ZW5lclR5cGVcbikgPT4gKCk6IE1ldGhvZERlY29yYXRvciA9PiAoXG5cdHJvdXRlcjogSVJvdXRlcixcblx0cHJvcGVydHlLZXk6IHN0cmluZyB8IHN5bWJvbCxcblx0ZGVzY3JpcHRvclxuKSA9PiB7XG5cdGNvbnN0IG1ldGhvZCA9IHJvdXRlcltwcm9wZXJ0eUtleV07XG5cblx0aWYgKCFSZWZsZWN0Lmhhc01ldGFkYXRhKHJvdXRlck1ldGFkYXRhLmxpc3RlbmVycywgcm91dGVyLmNvbnN0cnVjdG9yKSkge1xuXHRcdFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoXG5cdFx0XHRyb3V0ZXJNZXRhZGF0YS5saXN0ZW5lcnMsXG5cdFx0XHRbXSxcblx0XHRcdHJvdXRlci5jb25zdHJ1Y3RvclxuXHRcdCk7XG5cdH1cblxuXHRjb25zdCBsaXN0ZW5lcnMgPSBSZWZsZWN0LmdldE1ldGFkYXRhKFxuXHRcdHJvdXRlck1ldGFkYXRhLmxpc3RlbmVycyxcblx0XHRyb3V0ZXIuY29uc3RydWN0b3Jcblx0KTtcblxuXHRsaXN0ZW5lcnMucHVzaChtZXRob2QpO1xuXG5cdFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEobGlzdGVuZXJNZXRhZGF0YS50eXBlLCBsaXN0ZW5lclR5cGUsIG1ldGhvZCk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0TGlzdGVuZXJUeXBlID0gPFQ+KGxpc3RlbmVyOiBMaXN0ZW5lcjxUPikgPT4ge1xuXHRyZXR1cm4gUmVmbGVjdC5nZXRNZXRhZGF0YShsaXN0ZW5lck1ldGFkYXRhLnR5cGUsIGxpc3RlbmVyKTtcbn07XG4iLCJleHBvcnQgY29uc3QgbGlzdGVuZXJNZXRhZGF0YSA9IHtcblx0dHlwZTogJ3JvdXRlcjpsaXN0ZW5lcjp0eXBlJyxcblx0c2VyaWFsaXplcnM6ICdyb3V0ZXI6bGlzdGVuZXI6c2VyaWFsaXplcnMnLFxufTtcbiIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IExpc3RlbmVyVHlwZSB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgbGlzdGVuZXJPZiB9IGZyb20gJy4vbGlzdGVuZXInO1xuXG5leHBvcnQgdHlwZSBPYnNlcnZhYmxlTGlzdGVuZXI8VD4gPSAoLi4uYXJnczogYW55W10pID0+IE9ic2VydmFibGU8VD47XG5cbmV4cG9ydCBjb25zdCBvYnNlcnZhYmxlTGlzdGVuZXIgPSBsaXN0ZW5lck9mKExpc3RlbmVyVHlwZS5PYnNlcnZhYmxlKTtcbiIsImltcG9ydCB7IExpc3RlbmVyIH0gZnJvbSAnLi9saXN0ZW5lcic7XG5pbXBvcnQgeyBsaXN0ZW5lck1ldGFkYXRhIH0gZnJvbSAnLi9tZXRhZGF0YSc7XG5cbmV4cG9ydCB0eXBlIFNlcmlhbGl6ZXI8VCwgUj4gPSAoYXJnOiBUKSA9PiBSO1xuXG5leHBvcnQgY29uc3Qgc2VyaWFsaXphdGlvbiA9IDxULCBSPihcblx0c2VyaWFsaXplRnVuY3Rpb246IFNlcmlhbGl6ZXI8VCwgUj5cbik6IFBhcmFtZXRlckRlY29yYXRvciA9PiAoXG5cdHJvdXRlcjogb2JqZWN0LFxuXHRwcm9wZXJ0eUtleTogc3RyaW5nIHwgc3ltYm9sLFxuXHRwYXJhbWV0ZXJJbmRleDogbnVtYmVyXG4pID0+IHtcblx0Y29uc3QgbGlzdGVuZXI6IExpc3RlbmVyPFQ+ID0gcm91dGVyW3Byb3BlcnR5S2V5XTtcblxuXHRpZiAoIVJlZmxlY3QuaGFzTWV0YWRhdGEobGlzdGVuZXJNZXRhZGF0YS5zZXJpYWxpemVycywgbGlzdGVuZXIpKSB7XG5cdFx0UmVmbGVjdC5kZWZpbmVNZXRhZGF0YShsaXN0ZW5lck1ldGFkYXRhLnNlcmlhbGl6ZXJzLCBbXSwgbGlzdGVuZXIpO1xuXHR9XG5cblx0UmVmbGVjdC5nZXRNZXRhZGF0YShsaXN0ZW5lck1ldGFkYXRhLnNlcmlhbGl6ZXJzLCBsaXN0ZW5lcilbXG5cdFx0cGFyYW1ldGVySW5kZXhcblx0XSA9IHNlcmlhbGl6ZUZ1bmN0aW9uO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldExpc3RlbmVyU2VyaWFsaXplciA9IDxUPihcblx0bGlzdGVuZXI6IExpc3RlbmVyPFQ+XG4pOiAoKGFyZ3M6IGFueVtdKSA9PiBhbnlbXSkgPT4ge1xuXHRjb25zdCBzZXJpYWxpemVyczogQXJyYXk8U2VyaWFsaXplcjxhbnksIGFueT4+ID0gUmVmbGVjdC5nZXRNZXRhZGF0YShcblx0XHRsaXN0ZW5lck1ldGFkYXRhLnNlcmlhbGl6ZXJzLFxuXHRcdGxpc3RlbmVyXG5cdCk7XG5cdGlmIChzZXJpYWxpemVycyA9PSBudWxsKSB7XG5cdFx0cmV0dXJuIChhcmdzKSA9PiBhcmdzO1xuXHR9XG5cblx0cmV0dXJuIChhcmdzOiBhbnlbXSkgPT4ge1xuXHRcdHJldHVybiBhcmdzLm1hcCgoYXJnLCBpKSA9PlxuXHRcdFx0c2VyaWFsaXplcnNbaV0gIT0gbnVsbCA/IHNlcmlhbGl6ZXJzW2ldKGFyZykgOiBhcmdcblx0XHQpO1xuXHR9O1xufTtcbiIsImV4cG9ydCBlbnVtIExpc3RlbmVyVHlwZSB7XG5cdEFzeW5jID0gJ2FzeW5jJyxcblx0T2JzZXJ2YWJsZSA9ICdvYnNlcnZhYmxlJyxcbn1cbiIsImltcG9ydCB7IGdldExpc3RlbmVycywgZ2V0Um91dGVyTmFtZSwgSVJvdXRlciB9IGZyb20gJy4vcm91dGVyJztcbmltcG9ydCB7IENvbm5lY3Rpb25IYW5kbGVyIH0gZnJvbSAnLi4vY29ubmVjdGlvbi1oYW5kbGVyJztcbmltcG9ydCB7IExpc3RlbmVyIH0gZnJvbSAnLi4vbGlzdGVuZXIvbGlzdGVuZXInO1xuaW1wb3J0IExvZ2dlciBmcm9tICdidW55YW4nO1xuXG5leHBvcnQgY2xhc3MgUm91dGVySGFuZGxlciB7XG5cdHByaXZhdGUgcmVhZG9ubHkgcm91dGVyTmFtZTogc3RyaW5nO1xuXG5cdHByaXZhdGUgcmVhZG9ubHkgbGlzdGVuZXJzOiBBcnJheTxMaXN0ZW5lcjxhbnk+PjtcblxuXHRjb25zdHJ1Y3Rvcihcblx0XHRwcml2YXRlIHJlYWRvbmx5IGlvOiBTb2NrZXRJTy5TZXJ2ZXIsXG5cdFx0cHJpdmF0ZSByZWFkb25seSByb3V0ZXI6IElSb3V0ZXIsXG5cdFx0cHJpdmF0ZSByZWFkb25seSBsb2c6IExvZ2dlclxuXHQpIHtcblx0XHR0aGlzLnJvdXRlck5hbWUgPSBnZXRSb3V0ZXJOYW1lKHJvdXRlcik7XG5cdFx0dGhpcy5saXN0ZW5lcnMgPSBnZXRMaXN0ZW5lcnMocm91dGVyKTtcblx0fVxuXG5cdGFzeW5jIGxpc3RlbigpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHR0aGlzLmxvZy5pbmZvKGBTdGFydGluZyByb3V0ZXIgbGlzdGVuaW5nYCwge1xuXHRcdFx0cm91dGVyTmFtZTogdGhpcy5yb3V0ZXJOYW1lLFxuXHRcdFx0bGlzdGVuZXJzOiB0aGlzLmxpc3RlbmVyc1xuXHRcdFx0XHQ/IHRoaXMubGlzdGVuZXJzLm1hcCgobGlzdGVuZXIpID0+IGxpc3RlbmVyLm5hbWUpXG5cdFx0XHRcdDogbnVsbCxcblx0XHR9KTtcblxuXHRcdGNvbnN0IHJvdXRlck5hbWVzcGFjZTogU29ja2V0SU8uTmFtZXNwYWNlID0gdGhpcy5pby5vZihcblx0XHRcdGAvJHt0aGlzLnJvdXRlck5hbWV9YFxuXHRcdCk7XG5cblx0XHRyb3V0ZXJOYW1lc3BhY2Uuc2V0TWF4TGlzdGVuZXJzKDApO1xuXG5cdFx0cm91dGVyTmFtZXNwYWNlLm9uKCdjb25uZWN0aW9uJywgKHNvY2tldCkgPT4ge1xuXHRcdFx0Y29uc3QgY29ubmVjdGlvbkhhbmRsZXIgPSBuZXcgQ29ubmVjdGlvbkhhbmRsZXIoXG5cdFx0XHRcdHNvY2tldCxcblx0XHRcdFx0dGhpcy5yb3V0ZXIsXG5cdFx0XHRcdHRoaXMubG9nXG5cdFx0XHQpO1xuXHRcdFx0Y29ubmVjdGlvbkhhbmRsZXIuaGFuZGxlKCk7XG5cdFx0fSk7XG5cdH1cbn1cbiIsIi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1uYW1lc3BhY2VcbmV4cG9ydCBuYW1lc3BhY2Ugcm91dGVyTWV0YWRhdGEge1xuXHRleHBvcnQgY29uc3QgbmFtZSA9ICdyb3V0ZXI6bmFtZSc7XG5cdGV4cG9ydCBjb25zdCBsaXN0ZW5lcnMgPSAncm91dGVyOmxpc3RlbmVycyc7XG59XG4iLCJpbXBvcnQgeyByb3V0ZXJNZXRhZGF0YSB9IGZyb20gJy4vbWV0YWRhdGEnO1xuaW1wb3J0IHsgTGlzdGVuZXIgfSBmcm9tICcuLi9saXN0ZW5lci9saXN0ZW5lcic7XG5cbmV4cG9ydCBjb25zdCBSb3V0ZXJTeW1ib2wgPSBTeW1ib2woJ1JvdXRlcicpO1xuXG5leHBvcnQgaW50ZXJmYWNlIElSb3V0ZXIge31cblxuZXhwb3J0IGNvbnN0IHJvdXRlck5hbWUgPSAobmFtZTogc3RyaW5nKTogQ2xhc3NEZWNvcmF0b3IgPT5cblx0UmVmbGVjdC5tZXRhZGF0YShyb3V0ZXJNZXRhZGF0YS5uYW1lLCBuYW1lKTtcblxuZXhwb3J0IGNvbnN0IGdldFJvdXRlck5hbWUgPSAocm91dGVyOiBJUm91dGVyKTogc3RyaW5nID0+IHtcblx0cmV0dXJuIFJlZmxlY3QuZ2V0TWV0YWRhdGEocm91dGVyTWV0YWRhdGEubmFtZSwgcm91dGVyLmNvbnN0cnVjdG9yKTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRMaXN0ZW5lcnMgPSAocm91dGVyOiBJUm91dGVyKTogQXJyYXk8TGlzdGVuZXI8YW55Pj4gPT4ge1xuXHRyZXR1cm4gUmVmbGVjdC5nZXRNZXRhZGF0YShyb3V0ZXJNZXRhZGF0YS5saXN0ZW5lcnMsIHJvdXRlci5jb25zdHJ1Y3Rvcik7XG59O1xuIiwiaW1wb3J0IHsgY3JlYXRlRXZlckxvZ2dlciB9IGZyb20gJy4uLy4uL2hlbHBlcnMvTG9nJztcbmltcG9ydCB7IGluamVjdGFibGUsIG11bHRpSW5qZWN0IH0gZnJvbSAnaW52ZXJzaWZ5JztcbmltcG9ydCB7IElSb3V0ZXIsIFJvdXRlclN5bWJvbCB9IGZyb20gJy4vcm91dGVyL3JvdXRlcic7XG5pbXBvcnQgeyBSb3V0ZXJIYW5kbGVyIH0gZnJvbSAnLi9yb3V0ZXIvaGFuZGxlcic7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJ2J1bnlhbic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVJvdXRlcnNNYW5hZ2VyIHtcblx0c3RhcnRMaXN0ZW5pbmcoaW86IFNvY2tldElPLlNlcnZlcik7XG59XG5cbkBpbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBSb3V0ZXJzTWFuYWdlciBpbXBsZW1lbnRzIElSb3V0ZXJzTWFuYWdlciB7XG5cdGNvbnN0cnVjdG9yKEBtdWx0aUluamVjdChSb3V0ZXJTeW1ib2wpIHByb3RlY3RlZCByb3V0ZXJzOiBhbnlbXSkge31cblxuXHRwcm90ZWN0ZWQgbG9nOiBMb2dnZXIgPSBjcmVhdGVFdmVyTG9nZ2VyKHsgbmFtZTogJ2lvJyB9KTtcblxuXHRwcm90ZWN0ZWQgaW86IFNvY2tldElPLlNlcnZlcjtcblxuXHRhc3luYyBzdGFydExpc3RlbmluZyhpbzogU29ja2V0SU8uU2VydmVyKSB7XG5cdFx0dGhpcy5pbyA9IGlvO1xuXG5cdFx0dGhpcy5yb3V0ZXJzLmZvckVhY2goYXN5bmMgKHJvdXRlcikgPT4ge1xuXHRcdFx0YXdhaXQgdGhpcy5zdGFydFJvdXRlckxpc3RlbmluZyhyb3V0ZXIpO1xuXHRcdH0pO1xuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBzdGFydFJvdXRlckxpc3RlbmluZyhyb3V0ZXI6IElSb3V0ZXIpIHtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3Qgcm91dGVySGFuZGxlciA9IG5ldyBSb3V0ZXJIYW5kbGVyKHRoaXMuaW8sIHJvdXRlciwgdGhpcy5sb2cpO1xuXHRcdFx0YXdhaXQgcm91dGVySGFuZGxlci5saXN0ZW4oKTtcblx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdHRoaXMubG9nLmZhdGFsKFwiQ291bGRuJ3Qgc3RhcnQgcm91dGVyIGxpc3RlbmluZyFcIiwgeyBlcnIgfSk7XG5cdFx0fVxuXHR9XG59XG4iLCJpbXBvcnQge1xuXHRNaWRkbGV3YXJlQ29uc3VtZXIsXG5cdE1vZHVsZSxcblx0TmVzdE1vZHVsZSxcblx0T25Nb2R1bGVJbml0LFxuXHRIdHRwU2VydmVyLFxuXHRJbmplY3QsXG59IGZyb20gJ0BuZXN0anMvY29tbW9uJztcbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5pbXBvcnQgeyBHcmFwaFFMU2NoZW1hIH0gZnJvbSAnZ3JhcGhxbCc7XG5pbXBvcnQgeyBHcmFwaFFMTW9kdWxlIH0gZnJvbSAnQG5lc3Rqcy9ncmFwaHFsJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbnNNb2R1bGUgfSBmcm9tICcuL2dyYXBocWwvc3Vic2NyaXB0aW9ucy9zdWJzY3JpcHRpb25zLm1vZHVsZSc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb25zU2VydmljZSB9IGZyb20gJy4vZ3JhcGhxbC9zdWJzY3JpcHRpb25zL3N1YnNjcmlwdGlvbnMuc2VydmljZSc7XG5pbXBvcnQgeyBJbnZpdGVzTW9kdWxlIH0gZnJvbSAnLi9ncmFwaHFsL2ludml0ZXMvaW52aXRlcy5tb2R1bGUnO1xuaW1wb3J0IHsgRGV2aWNlc01vZHVsZSB9IGZyb20gJy4vZ3JhcGhxbC9kZXZpY2VzL2RldmljZXMubW9kdWxlJztcbmltcG9ydCB7IENvbmZpZ01vZHVsZSB9IGZyb20gJy4vY29uZmlnL2NvbmZpZy5tb2R1bGUnO1xuaW1wb3J0IHsgUHJvZHVjdE1vZHVsZSB9IGZyb20gJy4vY29udHJvbGxlcnMvcHJvZHVjdC9wcm9kdWN0Lm1vZHVsZSc7XG5pbXBvcnQgeyBVc2Vyc01vZHVsZSB9IGZyb20gJy4vZ3JhcGhxbC91c2Vycy91c2Vycy5tb2R1bGUnO1xuaW1wb3J0IHsgV2FyZWhvdXNlc01vZHVsZSB9IGZyb20gJy4vZ3JhcGhxbC93YXJlaG91c2VzL3dhcmVob3VzZXMubW9kdWxlJztcbmltcG9ydCB7IE9yZGVyc01vZHVsZSB9IGZyb20gJy4vZ3JhcGhxbC9vcmRlcnMvb3JkZXJzLm1vZHVsZSc7XG5pbXBvcnQgeyBDYXJyaWVyc01vZHVsZSB9IGZyb20gJy4vZ3JhcGhxbC9jYXJyaWVycy9jYXJyaWVycy5tb2R1bGUnO1xuaW1wb3J0IHsgUHJvZHVjdHNNb2R1bGUgfSBmcm9tICcuL2dyYXBocWwvcHJvZHVjdHMvcHJvZHVjdHMubW9kdWxlJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnYnVueWFuJztcbmltcG9ydCB7IGVudiB9IGZyb20gJy4vZW52JztcbmltcG9ydCB7IGNyZWF0ZUV2ZXJMb2dnZXIgfSBmcm9tICcuL2hlbHBlcnMvTG9nJztcbmltcG9ydCB7IENvbW1hbmRCdXMsIEV2ZW50QnVzLCBDcXJzTW9kdWxlIH0gZnJvbSAnQG5lc3Rqcy9jcXJzJztcbmltcG9ydCB7IFRlc3RDb250cm9sbGVyIH0gZnJvbSAnLi9jb250cm9sbGVycy90ZXN0LmNvbnRyb2xsZXInO1xuaW1wb3J0IHsgTW9kdWxlUmVmIH0gZnJvbSAnQG5lc3Rqcy9jb3JlJztcbmltcG9ydCB7IEdlb0xvY2F0aW9uc01vZHVsZSB9IGZyb20gJy4vZ3JhcGhxbC9nZW8tbG9jYXRpb25zL2dlby1sb2NhdGlvbnMubW9kdWxlJztcbmltcG9ydCB7IFNDQUxBUlMgfSBmcm9tICcuL2dyYXBocWwvc2NhbGFycyc7XG5pbXBvcnQgeyBXYXJlaG91c2VzUHJvZHVjdHNNb2R1bGUgfSBmcm9tICcuL2dyYXBocWwvd2FyZWhvdXNlcy1wcm9kdWN0cy93YXJlaG91c2VzLXByb2R1Y3RzLm1vZHVsZXMnO1xuaW1wb3J0IHsgV2FyZWhvdXNlc0NhcnJpZXJzTW9kdWxlIH0gZnJvbSAnLi9ncmFwaHFsL3dhcmVob3VzZXMtY2FycmllcnMvd2FyZWhvdXNlcy1jYXJyaWVycy5tb2R1bGUnO1xuaW1wb3J0IHsgV2FyZWhvdXNlc09yZGVyc01vZHVsZSB9IGZyb20gJy4vZ3JhcGhxbC93YXJlaG91c2VzLW9yZGVycy93YXJlaG91c2VzLW9yZGVycy5tb2R1bGUnO1xuaW1wb3J0IHsgSW52aXRlc1JlcXVlc3RzTW9kdWxlIH0gZnJvbSAnLi9ncmFwaHFsL2ludml0ZXMtcmVxdWVzdHMvaW52aXRlcy1yZXF1ZXN0cy5tb2R1bGUnO1xuaW1wb3J0IHsgQXV0aE1vZHVsZSB9IGZyb20gJy4vYXV0aC9hdXRoLm1vZHVsZSc7XG5pbXBvcnQgeyBBZG1pbnNNb2R1bGUgfSBmcm9tICcuL2dyYXBocWwvYWRtaW4vYWRtaW5zLm1vZHVsZSc7XG5pbXBvcnQgeyBEYXRhTW9kdWxlIH0gZnJvbSAnLi9ncmFwaHFsL2RhdGEvZGF0YS5tb2R1bGUnO1xuaW1wb3J0IHsgQ2FycmllcnNPcmRlcnNNb2R1bGUgfSBmcm9tICcuL2dyYXBocWwvY2FycmllcnMtb3JkZXJzL2NhcnJpZXJzLW9yZGVycy5tb2R1bGUnO1xuaW1wb3J0IHsgR2VvTG9jYXRpb25PcmRlcnNNb2R1bGUgfSBmcm9tICcuL2dyYXBocWwvZ2VvLWxvY2F0aW9ucy9vcmRlcnMvZ2VvLWxvY2F0aW9uLW9yZGVycy5tb2R1bGUnO1xuaW1wb3J0IHsgR2VvTG9jYXRpb25NZXJjaGFudHNNb2R1bGUgfSBmcm9tICcuL2dyYXBocWwvZ2VvLWxvY2F0aW9ucy9tZXJjaGFudHMvZ2VvLWxvY2F0aW9uLW1lcmNoYW50cy5tb2R1bGUnO1xuaW1wb3J0IHsgQXBvbGxvU2VydmVyLCBtYWtlRXhlY3V0YWJsZVNjaGVtYSB9IGZyb20gJ2Fwb2xsby1zZXJ2ZXItZXhwcmVzcyc7XG5pbXBvcnQgeyBmaWxlTG9hZGVyLCBtZXJnZVR5cGVzIH0gZnJvbSAnbWVyZ2UtZ3JhcGhxbC1zY2hlbWFzJztcbmltcG9ydCB7IEdldEFib3V0VXNIYW5kbGVyIH0gZnJvbSAnLi9zZXJ2aWNlcy91c2Vycyc7XG5pbXBvcnQgeyBUeXBlT3JtTW9kdWxlIH0gZnJvbSAnQG5lc3Rqcy90eXBlb3JtJztcbmltcG9ydCB7IFNlcnZpY2VzTW9kdWxlIH0gZnJvbSAnLi9zZXJ2aWNlcy9zZXJ2aWNlcy5tb2R1bGUnO1xuaW1wb3J0IHsgU2VydmljZXNBcHAgfSBmcm9tICcuL3NlcnZpY2VzL3NlcnZpY2VzLmFwcCc7XG5pbXBvcnQgeyBDdXJyZW5jeU1vZHVsZSB9IGZyb20gJy4vZ3JhcGhxbC9jdXJyZW5jeS9jdXJyZW5jeS5tb2R1bGUnO1xuXG5jb25zdCBwb3J0ID0gZW52LkdRTFBPUlQ7XG5cbmNvbnN0IGxvZzogTG9nZ2VyID0gY3JlYXRlRXZlckxvZ2dlcih7XG5cdG5hbWU6ICdBcHBsaWNhdGlvbk1vZHVsZSBmcm9tIE5lc3RKUycsXG59KTtcblxuLy8gQWRkIGhlcmUgYWxsIENRUlMgY29tbWFuZCBoYW5kbGVyc1xuZXhwb3J0IGNvbnN0IENvbW1hbmRIYW5kbGVycyA9IFtHZXRBYm91dFVzSGFuZGxlcl07XG5cbi8vIEFkZCBoZXJlIGFsbCBDUVJTIGV2ZW50IGhhbmRsZXJzXG5leHBvcnQgY29uc3QgRXZlbnRIYW5kbGVycyA9IFtdO1xuXG5jb25zdCBlbnRpdGllcyA9IFNlcnZpY2VzQXBwLmdldEVudGl0aWVzKCk7XG5cbkBNb2R1bGUoe1xuXHRjb250cm9sbGVyczogW1Rlc3RDb250cm9sbGVyXSxcblx0cHJvdmlkZXJzOiBbLi4uQ29tbWFuZEhhbmRsZXJzLCAuLi5FdmVudEhhbmRsZXJzXSxcblx0aW1wb3J0czogW1xuXHRcdERhdGFNb2R1bGUsXG5cdFx0U2VydmljZXNNb2R1bGUsXG5cdFx0Q3Fyc01vZHVsZSxcblx0XHRBdXRoTW9kdWxlLFxuXHRcdEFkbWluc01vZHVsZSxcblx0XHRDb25maWdNb2R1bGUsXG5cdFx0Ly8gY29uZmlndXJlIFR5cGVPUk0gQ29ubmVjdGlvbiB3aGljaCB3aWxsIGJlIHBvc3NpYmxlIHRvIHVzZSBpbnNpZGUgTmVzdEpTIChlLmcuIHJlc29sdmVycylcblx0XHRUeXBlT3JtTW9kdWxlLmZvclJvb3Qoe1xuXHRcdFx0dHlwZTogJ21vbmdvZGInLFxuXHRcdFx0aG9zdDogJ2xvY2FsaG9zdCcsXG5cdFx0XHRkYXRhYmFzZTogJ3Rlc3QnLFxuXHRcdFx0ZW50aXRpZXMsXG5cdFx0XHRzeW5jaHJvbml6ZTogdHJ1ZSxcblx0XHRcdHVzZU5ld1VybFBhcnNlcjogdHJ1ZSxcblx0XHRcdGF1dG9SZWNvbm5lY3Q6IHRydWUsXG5cdFx0XHRsb2dnaW5nOiB0cnVlLFxuXHRcdH0pLFxuXHRcdC8vIGRlZmluZSB3aGljaCByZXBvc2l0b3JpZXMgc2hhbGwgYmUgcmVnaXN0ZXJlZCBpbiB0aGUgY3VycmVudCBzY29wZSAoZWFjaCBlbnRpdHkgd2lsbCBoYXZlIG93biByZXBvc2l0b3J5KS5cblx0XHQvLyBUaGFua3MgdG8gdGhhdCB3ZSBjYW4gaW5qZWN0IHRoZSBYWFhYUmVwb3NpdG9yeSB0byB0aGUgTmVzdEpTIHVzaW5nIHRoZSBASW5qZWN0UmVwb3NpdG9yeSgpIGRlY29yYXRvclxuXHRcdC8vIE5PVEU6IHRoaXMgY291bGQgYmUgdXNlZCBpbnNpZGUgTmVzdEpTIG9ubHksIG5vdCBpbnNpZGUgb3VyIHNlcnZpY2VzXG5cdFx0VHlwZU9ybU1vZHVsZS5mb3JGZWF0dXJlKGVudGl0aWVzKSxcblx0XHRTdWJzY3JpcHRpb25zTW9kdWxlLmZvclJvb3QoZW52LkdRTFBPUlRfU1VCU0NSSVBUSU9OUyksXG5cdFx0R3JhcGhRTE1vZHVsZS5mb3JSb290KHtcblx0XHRcdHR5cGVQYXRoczogWycuLyoqLyouZ3JhcGhxbCddLFxuXHRcdFx0aW5zdGFsbFN1YnNjcmlwdGlvbkhhbmRsZXJzOiB0cnVlLFxuXHRcdFx0ZGVidWc6IHRydWUsXG5cdFx0XHRwbGF5Z3JvdW5kOiB0cnVlLFxuXHRcdFx0Y29udGV4dDogKHsgcmVxLCByZXMgfSkgPT4gKHtcblx0XHRcdFx0cmVxLFxuXHRcdFx0fSksXG5cdFx0fSksXG5cdFx0SW52aXRlc01vZHVsZSxcblx0XHREZXZpY2VzTW9kdWxlLFxuXHRcdFByb2R1Y3RNb2R1bGUsXG5cdFx0V2FyZWhvdXNlc01vZHVsZSxcblx0XHRHZW9Mb2NhdGlvbnNNb2R1bGUsXG5cdFx0VXNlcnNNb2R1bGUsXG5cdFx0T3JkZXJzTW9kdWxlLFxuXHRcdENhcnJpZXJzTW9kdWxlLFxuXHRcdENhcnJpZXJzT3JkZXJzTW9kdWxlLFxuXHRcdFByb2R1Y3RzTW9kdWxlLFxuXHRcdFdhcmVob3VzZXNQcm9kdWN0c01vZHVsZSxcblx0XHRXYXJlaG91c2VzT3JkZXJzTW9kdWxlLFxuXHRcdFdhcmVob3VzZXNDYXJyaWVyc01vZHVsZSxcblx0XHRJbnZpdGVzUmVxdWVzdHNNb2R1bGUsXG5cdFx0R2VvTG9jYXRpb25PcmRlcnNNb2R1bGUsXG5cdFx0R2VvTG9jYXRpb25NZXJjaGFudHNNb2R1bGUsXG5cdFx0Q3VycmVuY3lNb2R1bGUsXG5cdF0sXG59KVxuZXhwb3J0IGNsYXNzIEFwcGxpY2F0aW9uTW9kdWxlIGltcGxlbWVudHMgTmVzdE1vZHVsZSwgT25Nb2R1bGVJbml0IHtcblx0Y29uc3RydWN0b3IoXG5cdFx0Ly8gQEluamVjdChIVFRQX1NFUlZFUl9SRUYpXG5cdFx0Ly8gcHJpdmF0ZSByZWFkb25seSBodHRwU2VydmVyUmVmOiBIdHRwU2VydmVyLFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgc3Vic2NyaXB0aW9uc1NlcnZpY2U6IFN1YnNjcmlwdGlvbnNTZXJ2aWNlLFxuXHRcdC8vIE5leHQgcmVxdWlyZWQgZm9yIE5lc3RKUyBDUVJTIChzZWUgaHR0cHM6Ly9kb2NzLm5lc3Rqcy5jb20vcmVjaXBlcy9jcXJzKVxuXHRcdHByaXZhdGUgcmVhZG9ubHkgbW9kdWxlUmVmOiBNb2R1bGVSZWYsXG5cdFx0cHJpdmF0ZSByZWFkb25seSBjb21tYW5kJDogQ29tbWFuZEJ1cyxcblx0XHRwcml2YXRlIHJlYWRvbmx5IGV2ZW50JDogRXZlbnRCdXNcblx0KSB7IH1cblxuXHRvbk1vZHVsZUluaXQoKSB7XG5cdFx0Ly8gaW5pdGlhbGl6ZSBDUVJTXG5cdFx0dGhpcy5ldmVudCQucmVnaXN0ZXIoRXZlbnRIYW5kbGVycyk7XG5cdFx0dGhpcy5jb21tYW5kJC5yZWdpc3RlcihDb21tYW5kSGFuZGxlcnMpO1xuXHR9XG5cblx0Y29uZmlndXJlKGNvbnN1bWVyOiBNaWRkbGV3YXJlQ29uc3VtZXIpIHtcblx0XHQvLyB0cmljayBmb3IgR3JhcGhRTCB2cyBNb25nb0RCIE9iamVjdElkIHR5cGUuXG5cdFx0Ly8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hcG9sbG9ncmFwaHFsL2Fwb2xsby1zZXJ2ZXIvaXNzdWVzLzE2MzMgYW5kXG5cdFx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL2Fwb2xsb2dyYXBocWwvYXBvbGxvLXNlcnZlci9pc3N1ZXMvMTY0OSNpc3N1ZWNvbW1lbnQtNDIwODQwMjg3XG5cdFx0Y29uc3QgeyBPYmplY3RJZCB9ID0gbW9uZ29vc2UuVHlwZXM7XG5cblx0XHRPYmplY3RJZC5wcm90b3R5cGUudmFsdWVPZiA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiB0aGlzLnRvU3RyaW5nKCk7XG5cdFx0fTtcblxuXHRcdC8qIE5leHQgaXMgY29kZSB3aGljaCBjb3VsZCBiZSB1c2VkIHRvIG1hbnVhbGx5IGNyZWF0ZSBHcmFwaFFMIFNlcnZlciBpbnN0ZWFkIG9mIHVzaW5nIEdyYXBoUUxNb2R1bGUuZm9yUm9vdCguLi4pXG5cblx0XHRjb25zdCBzY2hlbWE6IEdyYXBoUUxTY2hlbWEgPSB0aGlzLmNyZWF0ZVNjaGVtYSgpO1xuXHRcdGNvbnN0IHNlcnZlcjogQXBvbGxvU2VydmVyID0gdGhpcy5jcmVhdGVTZXJ2ZXIoc2NoZW1hKTtcblxuXHRcdC8vIHRoaXMgY3JlYXRlcyBtYW51YWxseSBHcmFwaFFMIHN1YnNjcmlwdGlvbnMgc2VydmVyIChvdmVyIHdzIGNvbm5lY3Rpb24pXG5cdFx0dGhpcy5zdWJzY3JpcHRpb25zU2VydmljZS5jcmVhdGVTdWJzY3JpcHRpb25TZXJ2ZXIoc2VydmVyKTtcblxuXHRcdGNvbnN0IGFwcDogYW55ID0gdGhpcy5odHRwU2VydmVyUmVmO1xuXG5cdFx0Y29uc3QgZ3JhcGhxbFBhdGggPSAnL2dyYXBocWwnO1xuXG5cdFx0c2VydmVyLmFwcGx5TWlkZGxld2FyZSh7YXBwLCBwYXRoOiBncmFwaHFsUGF0aH0pO1xuXG5cdFx0Ki9cblxuXHRcdGxvZy5pbmZvKFxuXHRcdFx0YEdyYXBoUUwgcGxheWdyb3VuZCBhdmFpbGFibGUgYXQgaHR0cDovL2xvY2FsaG9zdC9ncmFwaHFsYFxuXHRcdCk7XG5cdH1cblxuXHQvKlxuXHRcdENyZWF0ZXMgR3JhcGhRTCBBcG9sbG8gU2VydmVyIG1hbnVhbGx5XG5cdCovXG5cdGNyZWF0ZVNlcnZlcihzY2hlbWE6IEdyYXBoUUxTY2hlbWEpOiBBcG9sbG9TZXJ2ZXIge1xuXHRcdHJldHVybiBuZXcgQXBvbGxvU2VydmVyKHtcblx0XHRcdHNjaGVtYSxcblx0XHRcdGNvbnRleHQ6ICh7IHJlcSwgcmVzIH0pID0+ICh7XG5cdFx0XHRcdHJlcSxcblx0XHRcdH0pLFxuXHRcdFx0cGxheWdyb3VuZDoge1xuXHRcdFx0XHRlbmRwb2ludDogYGh0dHA6Ly9sb2NhbGhvc3QvZ3JhcGhxbGAsXG5cdFx0XHRcdHN1YnNjcmlwdGlvbkVuZHBvaW50OiBgd3M6Ly9sb2NhbGhvc3Qvc3Vic2NyaXB0aW9uc2AsXG5cdFx0XHRcdHNldHRpbmdzOiB7XG5cdFx0XHRcdFx0J2VkaXRvci50aGVtZSc6ICdkYXJrJyxcblx0XHRcdFx0fSxcblx0XHRcdH0sXG5cdFx0fSk7XG5cdH1cblxuXHQvKlxuXHRcdENyZWF0ZXMgR3JhcGhRTCBTY2hlbWEgbWFudWFsbHkuXG5cdFx0U2VlIGFsc28gY29kZSBpbiBodHRwczovL2dpdGh1Yi5jb20vbmVzdGpzL2dyYXBocWwvYmxvYi9tYXN0ZXIvbGliL2dyYXBocWwubW9kdWxlLnRzIGhvdyBpdCdzIGRvbmUgYnkgTmVzdFxuXHQqL1xuXHRjcmVhdGVTY2hlbWEoKTogR3JhcGhRTFNjaGVtYSB7XG5cdFx0Y29uc3QgZ3JhcGhxbFBhdGggPSAnLi8qKi8qLmdyYXBocWwnO1xuXG5cdFx0Y29uc29sZS5sb2coYFNlYXJjaGluZyBmb3IgKi5ncmFwaHFsIGZpbGVzYCk7XG5cblx0XHRjb25zdCB0eXBlc0FycmF5ID0gZmlsZUxvYWRlcihncmFwaHFsUGF0aCk7XG5cblx0XHRjb25zdCB0eXBlRGVmcyA9IG1lcmdlVHlwZXModHlwZXNBcnJheSwgeyBhbGw6IHRydWUgfSk7XG5cblx0XHQvLyB3ZSBjYW4gc2F2ZSBhbGwgR3JhcGhRTCB0eXBlcyBpbnRvIG9uZSBmaWxlIGZvciBsYXRlciB1c2FnZSBieSBvdGhlciBzeXN0ZW1zXG5cdFx0Ly8gaW1wb3J0IHsgd3JpdGVGaWxlU3luYyB9IGZyb20gJ2ZzJztcblx0XHQvLyB3cml0ZUZpbGVTeW5jKCcuL2FsbC5ncmFwaHFsJywgdHlwZURlZnMpO1xuXG5cdFx0Y29uc3Qgc2NoZW1hID0gbWFrZUV4ZWN1dGFibGVTY2hlbWEoe1xuXHRcdFx0dHlwZURlZnMsXG5cdFx0XHRyZXNvbHZlcnM6IHtcblx0XHRcdFx0Li4uU0NBTEFSUyxcblx0XHRcdH0sXG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gc2NoZW1hO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBNb2R1bGUgfSBmcm9tICdAbmVzdGpzL2NvbW1vbic7XG5pbXBvcnQgeyBKd3RTdHJhdGVneSB9IGZyb20gJy4vand0LnN0cmF0ZWd5JztcblxuQE1vZHVsZSh7XG5cdGltcG9ydHM6IFtdLFxuXHRwcm92aWRlcnM6IFtKd3RTdHJhdGVneV0sXG5cdGV4cG9ydHM6IFtdLFxufSlcbmV4cG9ydCBjbGFzcyBBdXRoTW9kdWxlIHt9XG4iLCJpbXBvcnQgeyBTdHJhdGVneSB9IGZyb20gJ3Bhc3Nwb3J0LWp3dCc7XG5pbXBvcnQgeyBQYXNzcG9ydFN0cmF0ZWd5IH0gZnJvbSAnQG5lc3Rqcy9wYXNzcG9ydCc7XG5pbXBvcnQgeyBJbmplY3RhYmxlLCBVbmF1dGhvcml6ZWRFeGNlcHRpb24gfSBmcm9tICdAbmVzdGpzL2NvbW1vbic7XG5pbXBvcnQge1xuXHRBdXRoZW50aWNhdGlvblNlcnZpY2UsXG5cdGNyZWF0ZUp3dERhdGEsXG5cdEp3dFBheWxvYWQsXG59IGZyb20gJy4uL3NlcnZpY2VzL2F1dGgnO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgSnd0U3RyYXRlZ3kgZXh0ZW5kcyBQYXNzcG9ydFN0cmF0ZWd5KFN0cmF0ZWd5KSB7XG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgYXV0aFNlcnZpY2U6IEF1dGhlbnRpY2F0aW9uU2VydmljZSkge1xuXHRcdHN1cGVyKGNyZWF0ZUp3dERhdGEpO1xuXHR9XG5cblx0YXN5bmMgdmFsaWRhdGUocGF5bG9hZDogSnd0UGF5bG9hZCwgZG9uZTogYW55KSB7XG5cdFx0Y29uc3QgdXNlciA9IGF3YWl0IHRoaXMuYXV0aFNlcnZpY2UudmFsaWRhdGVVc2VyKHBheWxvYWQpO1xuXG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4gZG9uZShuZXcgVW5hdXRob3JpemVkRXhjZXB0aW9uKCksIGZhbHNlKTtcblx0XHR9XG5cblx0XHRkb25lKG51bGwsIHVzZXIpO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBNb2R1bGUgfSBmcm9tICdAbmVzdGpzL2NvbW1vbic7XG5pbXBvcnQgeyBDb25maWdTZXJ2aWNlIH0gZnJvbSAnLi9jb25maWcuc2VydmljZSc7XG5cbkBNb2R1bGUoe1xuXHRwcm92aWRlcnM6IFtcblx0XHR7XG5cdFx0XHRwcm92aWRlOiBDb25maWdTZXJ2aWNlLFxuXHRcdFx0dXNlVmFsdWU6IG5ldyBDb25maWdTZXJ2aWNlKCksXG5cdFx0fSxcblx0XSxcblx0ZXhwb3J0czogW0NvbmZpZ1NlcnZpY2VdLFxufSlcbmV4cG9ydCBjbGFzcyBDb25maWdNb2R1bGUge31cbiIsImltcG9ydCB7IGluamVjdGFibGUgfSBmcm9tICdpbnZlcnNpZnknO1xuaW1wb3J0IHsgcm91dGVyTmFtZSB9IGZyb20gJ0BweXJvL2lvJztcbmltcG9ydCB7IGVudiwgRW52aXJvbm1lbnRzLCBFbnYgfSBmcm9tICcuLi9lbnYnO1xuXG5AaW5qZWN0YWJsZSgpXG5Acm91dGVyTmFtZSgnY29uZmlnU2VydmljZScpXG5leHBvcnQgY2xhc3MgQ29uZmlnU2VydmljZSB7XG5cdC8qKlxuXHQgKiBHZXQgdGhlIGNvbmZpZyBzZXR0aW5nLlxuXHQgKiBJbiBtYW55IGNhc2VzLCBpdCBnZXQncyBlbnZpcm9ubWVudCB2YXJpYWJsZXMgYnkgJ2tleScgZnJvbSAnLmVudicgZmlsZVxuXHQgKiBAcGFyYW0ga2V5IFRoaXMgaXMgc2V0dGluZ3MgbmFtZSBvciB0aGUgZW52aXJvbmVtbnQgdmFyaWFibGUgKEhUVFBQT1JULCBIVFRQU1BPUlQuLi4pIGV0Yy5cblx0ICogQHJldHVybnMgUmV0dXJucyBhIHZhbHVlIGZvciB0aGUgZ2l2ZW4gc2V0dGluZ3Mga2V5XG5cdCAqL1xuXHRnZXQoa2V5OiBzdHJpbmcpOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgRW52aXJvbm1lbnRzIHtcblx0XHRyZXR1cm4gZW52W2tleV07XG5cdH1cblxuXHQvKipcblx0ICogR2V0IEFsbCBFbnYgc2V0dGluZ3Ncblx0ICovXG5cdGdldCBFbnYoKTogRW52IHtcblx0XHRyZXR1cm4gZW52O1xuXHR9XG59XG4iLCJpbXBvcnQgeyBBcGlNb2RlbFByb3BlcnR5IH0gZnJvbSAnQG5lc3Rqcy9zd2FnZ2VyJztcbmltcG9ydCB7XG5cdElQcm9kdWN0VGl0bGUsXG5cdElQcm9kdWN0RGVzY3JpcHRpb24sXG5cdElQcm9kdWN0SW1hZ2UsXG59IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JUHJvZHVjdCc7XG5cbmV4cG9ydCBjbGFzcyBVcGRhdGVQcm9kdWN0RHRvIHtcblx0QEFwaU1vZGVsUHJvcGVydHkoKVxuXHRyZWFkb25seSBuYW1lPzogc3RyaW5nO1xuXG5cdEBBcGlNb2RlbFByb3BlcnR5KClcblx0cmVhZG9ubHkgcHJpY2U/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBjbGFzcyBDcmVhdGVQcm9kdWN0RHRvIHtcblx0QEFwaU1vZGVsUHJvcGVydHkoKVxuXHRyZWFkb25seSB0aXRsZTogSVByb2R1Y3RUaXRsZVtdO1xuXG5cdEBBcGlNb2RlbFByb3BlcnR5KClcblx0cmVhZG9ubHkgZGVzY3JpcHRpb246IElQcm9kdWN0RGVzY3JpcHRpb25bXTtcblxuXHRAQXBpTW9kZWxQcm9wZXJ0eSgpXG5cdHJlYWRvbmx5IGltYWdlczogSVByb2R1Y3RJbWFnZVtdO1xufVxuIiwiaW1wb3J0IHtcblx0Qm9keSxcblx0Q29udHJvbGxlcixcblx0RGVsZXRlLFxuXHRHZXQsXG5cdEhlYWRlcixcblx0UGFyYW0sXG5cdFBvc3QsXG5cdFB1dCxcblx0UmVxLFxuXHRVc2VHdWFyZHMsXG59IGZyb20gJ0BuZXN0anMvY29tbW9uJztcblxuaW1wb3J0IHsgQXBpQmVhcmVyQXV0aCwgQXBpVXNlVGFncyB9IGZyb20gJ0BuZXN0anMvc3dhZ2dlcic7XG5pbXBvcnQgeyBDcmVhdGVQcm9kdWN0RHRvLCBVcGRhdGVQcm9kdWN0RHRvIH0gZnJvbSAnLi9Qcm9kdWN0c0R0byc7XG5pbXBvcnQgeyBBdXRoR3VhcmQgfSBmcm9tICdAbmVzdGpzL3Bhc3Nwb3J0JztcbmltcG9ydCB7IFByb2R1Y3RzU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL3Byb2R1Y3RzJztcblxuQEFwaVVzZVRhZ3MoJ3Byb2R1Y3QnKVxuQENvbnRyb2xsZXIoJ3Byb2R1Y3QnKVxuZXhwb3J0IGNsYXNzIFByb2R1Y3RDb250cm9sbGVyIHtcblx0Y29uc3RydWN0b3IocHJpdmF0ZSBwcm9kdWN0c1NlcnZpY2U6IFByb2R1Y3RzU2VydmljZSkge31cblxuXHRAR2V0KClcblx0QEhlYWRlcignQ2FjaGUtQ29udHJvbCcsICdub25lJylcblx0QFVzZUd1YXJkcyhBdXRoR3VhcmQoJ2p3dCcpKVxuXHRAQXBpQmVhcmVyQXV0aCgpXG5cdGZpbmRBbGwoQFJlcSgpIHJlcXVlc3QpIHtcblx0XHRyZXR1cm4gdGhpcy5wcm9kdWN0c1NlcnZpY2UuZmluZCh7fSk7XG5cdH1cblxuXHRAR2V0KCc6aWQnKVxuXHRhc3luYyBmaW5kT25lKEBQYXJhbSgnaWQnKSBpZDogc3RyaW5nKSB7XG5cdFx0Y29uc3QgcHJvZCA9IGF3YWl0IHRoaXMucHJvZHVjdHNTZXJ2aWNlLmdldEN1cnJlbnQoaWQpO1xuXHRcdHJldHVybiBwcm9kO1xuXHR9XG5cblx0QFBvc3QoJzppZCcpXG5cdGFzeW5jIGNyZWF0ZShAQm9keSgpIGNyZWF0ZUluZm86IENyZWF0ZVByb2R1Y3REdG8pIHtcblx0XHRyZXR1cm4gdGhpcy5wcm9kdWN0c1NlcnZpY2UuY3JlYXRlKGNyZWF0ZUluZm8pO1xuXHR9XG5cblx0QFB1dCgnOmlkJylcblx0dXBkYXRlKEBQYXJhbSgnaWQnKSBpZDogc3RyaW5nLCBAQm9keSgpIHVwZGF0ZUluZm86IFVwZGF0ZVByb2R1Y3REdG8pIHtcblx0XHRyZXR1cm4gYEhlcmUgdXBkYXRlcyBhICMke2lkfSBwcm9kdWN0YDtcblx0fVxuXG5cdEBEZWxldGUoJ2lkJylcblx0cmVtb3ZlKEBQYXJhbSgnaWQnKSBpZDogc3RyaW5nKSB7XG5cdFx0cmV0dXJuIGBIZXJlIHJlbW92ZXMgYSAjJHtpZH0gcHJvZHVjdGA7XG5cdH1cbn1cbiIsImltcG9ydCB7IE1vZHVsZSB9IGZyb20gJ0BuZXN0anMvY29tbW9uJztcbmltcG9ydCB7IFByb2R1Y3RDb250cm9sbGVyIH0gZnJvbSAnLi9wcm9kdWN0LmNvbnRyb2xsZXInO1xuXG5ATW9kdWxlKHtcblx0Y29udHJvbGxlcnM6IFtQcm9kdWN0Q29udHJvbGxlcl0sXG59KVxuZXhwb3J0IGNsYXNzIFByb2R1Y3RNb2R1bGUge31cbiIsImltcG9ydCB7IENvbnRyb2xsZXIsIEdldCB9IGZyb20gJ0BuZXN0anMvY29tbW9uJztcbmltcG9ydCB7IFVzZXJDb21tYW5kU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL3VzZXJzJztcbmltcG9ydCB7IEFwaVVzZVRhZ3MgfSBmcm9tICdAbmVzdGpzL3N3YWdnZXInO1xuXG5AQXBpVXNlVGFncygndGVzdCcpXG5AQ29udHJvbGxlcigndGVzdCcpXG5leHBvcnQgY2xhc3MgVGVzdENvbnRyb2xsZXIge1xuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IF91c2VyQ29tbWFuZFNlcnZpY2U6IFVzZXJDb21tYW5kU2VydmljZSkge31cblxuXHRAR2V0KCdpbmRleCcpXG5cdGFzeW5jIGluZGV4KCkge1xuXHRcdGNvbnN0IHVzZXJJZCA9ICcxJztcblx0XHRjb25zdCBkZXZpY2VJZCA9ICcyJztcblxuXHRcdGF3YWl0IHRoaXMuX3VzZXJDb21tYW5kU2VydmljZS5leGVjKHVzZXJJZCwgZGV2aWNlSWQpO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBjbGVhbkVudiwgbnVtLCBwb3J0LCBzdHIsIFZhbGlkYXRvclNwZWMsIGJvb2wgfSBmcm9tICdlbnZhbGlkJztcblxuZXhwb3J0IHR5cGUgRW52aXJvbm1lbnRzID0gJ3Byb2R1Y3Rpb24nIHwgJ2RldmVsb3BtZW50JyB8ICd0ZXN0JztcblxuZXhwb3J0IHR5cGUgRW52ID0gUmVhZG9ubHk8e1xuXHRpc0RldjogYm9vbGVhbjtcblx0aXNUZXN0OiBib29sZWFuO1xuXHRpc1Byb2Q6IGJvb2xlYW47XG5cblx0Tk9ERV9FTlY6IEVudmlyb25tZW50cztcblxuXHRXRUJfQ09OQ1VSUkVOQ1k6IG51bWJlcjtcblx0V0VCX01FTU9SWTogbnVtYmVyO1xuXG5cdEhUVFBTUE9SVDogbnVtYmVyO1xuXHRIVFRQUE9SVDogbnVtYmVyO1xuXHRHUUxQT1JUOiBudW1iZXI7XG5cdEdRTFBPUlRfU1VCU0NSSVBUSU9OUzogbnVtYmVyO1xuXG5cdEhUVFBTX0NFUlRfUEFUSDogc3RyaW5nO1xuXHRIVFRQU19LRVlfUEFUSDogc3RyaW5nO1xuXG5cdExPR1NfUEFUSDogc3RyaW5nO1xuXG5cdERCX1VSSTogc3RyaW5nO1xuXHRURVNUSU5HX0RCX1VSSTogc3RyaW5nO1xuXG5cdFNUUklQRV9TRUNSRVRfS0VZOiBzdHJpbmc7XG5cblx0VVJCQU5fQUlSU0hJUF9LRVk6IHN0cmluZztcblx0VVJCQU5fQUlSU0hJUF9TRUNSRVQ6IHN0cmluZztcblxuXHRBV1NfQUNDRVNTX0tFWV9JRDogc3RyaW5nO1xuXHRBV1NfU0VDUkVUX0FDQ0VTU19LRVk6IHN0cmluZztcblxuXHRLRVlNRVRSSUNTX01BQ0hJTkVfTkFNRTogc3RyaW5nO1xuXHRLRVlNRVRSSUNTX1NFQ1JFVF9LRVk6IHN0cmluZztcblx0S0VZTUVUUklDU19QVUJMSUNfS0VZOiBzdHJpbmc7XG5cblx0R09PR0xFX0FQUF9JRDogc3RyaW5nO1xuXHRHT09HTEVfQVBQX1NFQ1JFVDogc3RyaW5nO1xuXG5cdEZBQ0VCT09LX0FQUF9JRDogc3RyaW5nO1xuXHRGQUNFQk9PS19BUFBfU0VDUkVUOiBzdHJpbmc7XG5cblx0SldUX1NFQ1JFVDogc3RyaW5nO1xuXG5cdEFETUlOX1BBU1NXT1JEX0JDUllQVF9TQUxUX1JPVU5EUzogbnVtYmVyO1xuXHRXQVJFSE9VU0VfUEFTU1dPUkRfQkNSWVBUX1NBTFRfUk9VTkRTOiBudW1iZXI7XG5cdENBUlJJRVJfUEFTU1dPUkRfQkNSWVBUX1NBTFRfUk9VTkRTOiBudW1iZXI7XG5cdFVTRVJfUEFTU1dPUkRfQkNSWVBUX1NBTFRfUk9VTkRTOiBudW1iZXI7XG5cblx0U0VUVElOR19JTlZJVEVTX0VOQUJMRUQ/OiBib29sZWFuO1xuXHRTRVRUSU5HU19SRUdJU1RSQVRJT05TX1JFUVVJUkVEX09OX1NUQVJUPzogYm9vbGVhbjtcblxuXHRGQUtFX0lOVklURV9DT0RFOiBudW1iZXI7XG5cblx0QVJDR0lTX0NMSUVOVF9JRDogc3RyaW5nO1xuXHRBUkNHSVNfQ0xJRU5UX1NFQ1JFVDogc3RyaW5nO1xuXHRJUF9TVEFDS19BUElfS0VZPzogc3RyaW5nO1xuXG5cdExPR19MRVZFTD86IHN0cmluZztcblxuXHRFTkdJTkVfQVBJX0tFWT86IHN0cmluZztcblxuXHRNQVhfU09DS0VUUz86IG51bWJlcjtcbn0+O1xuXG5leHBvcnQgY29uc3QgZW52OiBFbnYgPSBjbGVhbkVudihcblx0cHJvY2Vzcy5lbnYsXG5cdHtcblx0XHROT0RFX0VOVjogc3RyKHtcblx0XHRcdGNob2ljZXM6IFsncHJvZHVjdGlvbicsICdkZXZlbG9wbWVudCcsICd0ZXN0J10sXG5cdFx0XHRkZWZhdWx0OiAnZGV2ZWxvcG1lbnQnLFxuXHRcdH0pIGFzIFZhbGlkYXRvclNwZWM8RW52WydOT0RFX0VOViddPixcblxuXHRcdFdFQl9DT05DVVJSRU5DWTogbnVtKHsgZGVmYXVsdDogMSB9KSxcblx0XHRXRUJfTUVNT1JZOiBudW0oeyBkZWZhdWx0OiAyMDQ4IH0pLFxuXG5cdFx0SFRUUFNQT1JUOiBwb3J0KHsgZGVmYXVsdDogNTUwMSB9KSxcblx0XHRIVFRQUE9SVDogcG9ydCh7IGRlZmF1bHQ6IDU1MDAgfSksXG5cdFx0R1FMUE9SVDogcG9ydCh7IGRlZmF1bHQ6IDU1NTUgfSksXG5cdFx0R1FMUE9SVF9TVUJTQ1JJUFRJT05TOiBwb3J0KHsgZGVmYXVsdDogNTA1MCB9KSxcblxuXHRcdEhUVFBTX0NFUlRfUEFUSDogc3RyKHsgZGVmYXVsdDogJ2NlcnRpZmljYXRlcy9odHRwcy9jZXJ0LnBlbScgfSksXG5cdFx0SFRUUFNfS0VZX1BBVEg6IHN0cih7IGRlZmF1bHQ6ICdjZXJ0aWZpY2F0ZXMvaHR0cHMva2V5LnBlbScgfSksXG5cblx0XHRMT0dTX1BBVEg6IHN0cih7IGRlZmF1bHQ6ICcuL3RtcC9sb2dzJyB9KSxcblxuXHRcdERCX1VSSTogc3RyKHsgZGVmYXVsdDogJ21vbmdvZGI6Ly9sb2NhbGhvc3QvZXZlcl9kZXZlbG9wbWVudCcgfSksXG5cdFx0VEVTVElOR19EQl9VUkk6IHN0cih7IGRlZmF1bHQ6ICdtb25nb2RiOi8vbG9jYWxob3N0L2V2ZXJfdGVzdGluZycgfSksXG5cblx0XHRTVFJJUEVfU0VDUkVUX0tFWTogc3RyKHsgZGVmYXVsdDogJycgfSksXG5cblx0XHRVUkJBTl9BSVJTSElQX0tFWTogc3RyKHsgZGVmYXVsdDogJycgfSksXG5cdFx0VVJCQU5fQUlSU0hJUF9TRUNSRVQ6IHN0cih7IGRlZmF1bHQ6ICcnIH0pLFxuXG5cdFx0QVdTX0FDQ0VTU19LRVlfSUQ6IHN0cih7IGRlZmF1bHQ6ICcnIH0pLFxuXHRcdEFXU19TRUNSRVRfQUNDRVNTX0tFWTogc3RyKHsgZGVmYXVsdDogJycgfSksXG5cblx0XHRLRVlNRVRSSUNTX01BQ0hJTkVfTkFNRTogc3RyKHsgZGVmYXVsdDogJycgfSksXG5cdFx0S0VZTUVUUklDU19TRUNSRVRfS0VZOiBzdHIoeyBkZWZhdWx0OiAnJyB9KSxcblx0XHRLRVlNRVRSSUNTX1BVQkxJQ19LRVk6IHN0cih7IGRlZmF1bHQ6ICcnIH0pLFxuXG5cdFx0R09PR0xFX0FQUF9JRDogc3RyKHsgZGVmYXVsdDogJycgfSksXG5cdFx0R09PR0xFX0FQUF9TRUNSRVQ6IHN0cih7IGRlZmF1bHQ6ICcnIH0pLFxuXG5cdFx0RkFDRUJPT0tfQVBQX0lEOiBzdHIoeyBkZWZhdWx0OiAnJyB9KSxcblx0XHRGQUNFQk9PS19BUFBfU0VDUkVUOiBzdHIoeyBkZWZhdWx0OiAnJyB9KSxcblxuXHRcdEpXVF9TRUNSRVQ6IHN0cih7IGRlZmF1bHQ6ICdkZWZhdWx0JyB9KSxcblxuXHRcdEFETUlOX1BBU1NXT1JEX0JDUllQVF9TQUxUX1JPVU5EUzogbnVtKHtcblx0XHRcdGRlc2M6ICdVc2VkIGZvciBwYXNzd29yZHMgZW5jcnlwdGlvbiwgcmVjb21tZW5kZWQgdmFsdWU6IDEyJyxcblx0XHRcdGRvY3M6XG5cdFx0XHRcdCdodHRwczovL3NlY3VyaXR5LnN0YWNrZXhjaGFuZ2UuY29tL3F1ZXN0aW9ucy8xNzIwNy9yZWNvbW1lbmRlZC1vZi1yb3VuZHMtZm9yLWJjcnlwdCcsXG5cdFx0XHRkZWZhdWx0OiAxMixcblx0XHR9KSxcblxuXHRcdFdBUkVIT1VTRV9QQVNTV09SRF9CQ1JZUFRfU0FMVF9ST1VORFM6IG51bSh7XG5cdFx0XHRkZXNjOiAnVXNlZCBmb3IgcGFzc3dvcmRzIGVuY3J5cHRpb24sIHJlY29tbWVuZGVkIHZhbHVlOiAxMicsXG5cdFx0XHRkb2NzOlxuXHRcdFx0XHQnaHR0cHM6Ly9zZWN1cml0eS5zdGFja2V4Y2hhbmdlLmNvbS9xdWVzdGlvbnMvMTcyMDcvcmVjb21tZW5kZWQtb2Ytcm91bmRzLWZvci1iY3J5cHQnLFxuXHRcdFx0ZGVmYXVsdDogMTIsXG5cdFx0fSksXG5cblx0XHRDQVJSSUVSX1BBU1NXT1JEX0JDUllQVF9TQUxUX1JPVU5EUzogbnVtKHtcblx0XHRcdGRlc2M6ICdVc2VkIGZvciBwYXNzd29yZHMgZW5jcnlwdGlvbiwgcmVjb21tZW5kZWQgdmFsdWU6IDEyJyxcblx0XHRcdGRvY3M6XG5cdFx0XHRcdCdodHRwczovL3NlY3VyaXR5LnN0YWNrZXhjaGFuZ2UuY29tL3F1ZXN0aW9ucy8xNzIwNy9yZWNvbW1lbmRlZC1vZi1yb3VuZHMtZm9yLWJjcnlwdCcsXG5cdFx0XHRkZWZhdWx0OiAxMixcblx0XHR9KSxcblxuXHRcdFVTRVJfUEFTU1dPUkRfQkNSWVBUX1NBTFRfUk9VTkRTOiBudW0oe1xuXHRcdFx0ZGVzYzogJ1VzZWQgZm9yIHBhc3N3b3JkcyBlbmNyeXB0aW9uLCByZWNvbW1lbmRlZCB2YWx1ZTogMTAnLFxuXHRcdFx0ZG9jczpcblx0XHRcdFx0J2h0dHBzOi8vc2VjdXJpdHkuc3RhY2tleGNoYW5nZS5jb20vcXVlc3Rpb25zLzE3MjA3L3JlY29tbWVuZGVkLW9mLXJvdW5kcy1mb3ItYmNyeXB0Jyxcblx0XHRcdGRlZmF1bHQ6IDEwLFxuXHRcdH0pLFxuXG5cdFx0U0VUVElOR19JTlZJVEVTX0VOQUJMRUQ6IGJvb2woeyBkZWZhdWx0OiBmYWxzZSB9KSxcblx0XHRTRVRUSU5HU19SRUdJU1RSQVRJT05TX1JFUVVJUkVEX09OX1NUQVJUOiBib29sKHsgZGVmYXVsdDogZmFsc2UgfSksXG5cblx0XHRGQUtFX0lOVklURV9DT0RFOiBudW0oeyBkZWZhdWx0OiAwIH0pLFxuXG5cdFx0QVJDR0lTX0NMSUVOVF9JRDogc3RyKHsgZGVmYXVsdDogJycgfSksXG5cdFx0QVJDR0lTX0NMSUVOVF9TRUNSRVQ6IHN0cih7IGRlZmF1bHQ6ICcnIH0pLFxuXHRcdElQX1NUQUNLX0FQSV9LRVk6IHN0cih7IGRlZmF1bHQ6ICcnIH0pLFxuXHRcdExPR19MRVZFTDogc3RyKHtcblx0XHRcdGNob2ljZXM6IFsndHJhY2UnLCAnZGVidWcnLCAnaW5mbycsICd3YXJuJywgJ2Vycm9yJywgJ2ZhdGFsJ10sXG5cdFx0XHRkZWZhdWx0OiAnZXJyb3InLFxuXHRcdH0pLFxuXHRcdEVOR0lORV9BUElfS0VZOiBzdHIoe1xuXHRcdFx0ZGVzYzpcblx0XHRcdFx0J0Fwb2xsbyBFbmdpbmUgS2V5IChvcHRpb25hbCwgc2VlIGh0dHBzOi8vd3d3LmFwb2xsb2dyYXBocWwuY29tL2RvY3MvcGxhdGZvcm0vc2NoZW1hLXJlZ2lzdHJ5KScsXG5cdFx0XHRkZWZhdWx0OiAnJyxcblx0XHR9KSxcblx0XHRNQVhfU09DS0VUUzogbnVtKHsgZGVmYXVsdDogSW5maW5pdHkgfSksXG5cdH0sXG5cdHsgc3RyaWN0OiB0cnVlLCBkb3RFbnZQYXRoOiBfX2Rpcm5hbWUgKyAnLy4uLy5lbnYnIH1cbik7XG4iLCJpbXBvcnQgeyBNdXRhdGlvbiwgUXVlcnksIFJlc29sdmVyIH0gZnJvbSAnQG5lc3Rqcy9ncmFwaHFsJztcbmltcG9ydCB7IGZpcnN0IH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHsgQWRtaW5zU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2FkbWlucyc7XG5pbXBvcnQge1xuXHRJQWRtaW5SZWdpc3RyYXRpb25JbnB1dCxcblx0SUFkbWluTG9naW5SZXNwb25zZSxcbn0gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9yb3V0ZXJzL0lBZG1pblJvdXRlcic7XG5pbXBvcnQgeyBFeHRyYWN0Snd0IH0gZnJvbSAncGFzc3BvcnQtand0JztcbmltcG9ydCBBZG1pbiBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL0FkbWluJztcblxuQFJlc29sdmVyKCdBZG1pbicpXG5leHBvcnQgY2xhc3MgQWRtaW5SZXNvbHZlciB7XG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgX2FkbWluc1NlcnZpY2U6IEFkbWluc1NlcnZpY2UpIHt9XG5cblx0QFF1ZXJ5KCdhZG1pbicpXG5cdGFzeW5jIGdldEFkbWluKF8sIHsgaWQgfTogeyBpZDogc3RyaW5nIH0pOiBQcm9taXNlPEFkbWluPiB7XG5cdFx0cmV0dXJuIHRoaXMuX2FkbWluc1NlcnZpY2UuZ2V0KGlkKS5waXBlKGZpcnN0KCkpLnRvUHJvbWlzZSgpO1xuXHR9XG5cblx0QFF1ZXJ5KCdhZG1pbkJ5RW1haWwnKVxuXHRhc3luYyBnZXRCeUVtYWlsKF8sIHsgZW1haWwgfTogeyBlbWFpbDogc3RyaW5nIH0pOiBQcm9taXNlPEFkbWluPiB7XG5cdFx0cmV0dXJuIHRoaXMuX2FkbWluc1NlcnZpY2UuZ2V0QnlFbWFpbChlbWFpbCk7XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHRhc3luYyByZWdpc3RlckFkbWluKFxuXHRcdF8sXG5cdFx0eyByZWdpc3RlcklucHV0IH06IHsgcmVnaXN0ZXJJbnB1dDogSUFkbWluUmVnaXN0cmF0aW9uSW5wdXQgfVxuXHQpOiBQcm9taXNlPEFkbWluPiB7XG5cdFx0cmV0dXJuIHRoaXMuX2FkbWluc1NlcnZpY2UucmVnaXN0ZXIocmVnaXN0ZXJJbnB1dCk7XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHRhc3luYyB1cGRhdGVBZG1pbihcblx0XHRfLFxuXHRcdHsgaWQsIHVwZGF0ZUlucHV0IH06IHsgaWQ6IHN0cmluZzsgdXBkYXRlSW5wdXQgfVxuXHQpOiBQcm9taXNlPEFkbWluPiB7XG5cdFx0YXdhaXQgdGhpcy5fYWRtaW5zU2VydmljZS50aHJvd0lmTm90RXhpc3RzKGlkKTtcblx0XHRyZXR1cm4gdGhpcy5fYWRtaW5zU2VydmljZS51cGRhdGUoaWQsIHVwZGF0ZUlucHV0KTtcblx0fVxuXG5cdEBNdXRhdGlvbigpXG5cdGFzeW5jIGFkbWluTG9naW4oXG5cdFx0Xyxcblx0XHR7IGVtYWlsLCBwYXNzd29yZCB9OiB7IGVtYWlsOiBzdHJpbmc7IHBhc3N3b3JkOiBzdHJpbmcgfVxuXHQpOiBQcm9taXNlPElBZG1pbkxvZ2luUmVzcG9uc2U+IHtcblx0XHRyZXR1cm4gdGhpcy5fYWRtaW5zU2VydmljZS5sb2dpbihlbWFpbCwgcGFzc3dvcmQpO1xuXHR9XG5cblx0QFF1ZXJ5KClcblx0YXN5bmMgYWRtaW5BdXRoZW50aWNhdGVkKF8sIF9fLCBjb250ZXh0OiBhbnkpOiBQcm9taXNlPGJvb2xlYW4+IHtcblx0XHRyZXR1cm4gdGhpcy5fYWRtaW5zU2VydmljZS5pc0F1dGhlbnRpY2F0ZWQoXG5cdFx0XHRFeHRyYWN0Snd0LmZyb21BdXRoSGVhZGVyQXNCZWFyZXJUb2tlbigpKGNvbnRleHQucmVxKVxuXHRcdCk7XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHRhc3luYyB1cGRhdGVBZG1pblBhc3N3b3JkKFxuXHRcdF8sXG5cdFx0e1xuXHRcdFx0aWQsXG5cdFx0XHRwYXNzd29yZCxcblx0XHR9OiB7IGlkOiBBZG1pblsnaWQnXTsgcGFzc3dvcmQ6IHsgY3VycmVudDogc3RyaW5nOyBuZXc6IHN0cmluZyB9IH1cblx0KTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0cmV0dXJuIHRoaXMuX2FkbWluc1NlcnZpY2UudXBkYXRlUGFzc3dvcmQoaWQsIHBhc3N3b3JkKTtcblx0fVxufVxuIiwiaW1wb3J0IHsgTW9kdWxlIH0gZnJvbSAnQG5lc3Rqcy9jb21tb24nO1xuaW1wb3J0IHsgQWRtaW5SZXNvbHZlciB9IGZyb20gJy4vYWRtaW4ucmVzb2x2ZXInO1xuXG5ATW9kdWxlKHtcblx0cHJvdmlkZXJzOiBbQWRtaW5SZXNvbHZlcl0sXG59KVxuZXhwb3J0IGNsYXNzIEFkbWluc01vZHVsZSB7fVxuIiwiaW1wb3J0IHsgTW9kdWxlIH0gZnJvbSAnQG5lc3Rqcy9jb21tb24nO1xuaW1wb3J0IHsgQ2FycmllcnNPcmRlcnNSZXNvbHZlciB9IGZyb20gJy4vY2FycmllcnMtb3JkZXJzLnJlc29sdmVyJztcblxuQE1vZHVsZSh7XG5cdHByb3ZpZGVyczogW0NhcnJpZXJzT3JkZXJzUmVzb2x2ZXJdLFxufSlcbmV4cG9ydCBjbGFzcyBDYXJyaWVyc09yZGVyc01vZHVsZSB7fVxuIiwiaW1wb3J0IHsgUXVlcnksIFJlc29sdmVyIH0gZnJvbSAnQG5lc3Rqcy9ncmFwaHFsJztcbmltcG9ydCB7IENhcnJpZXJzT3JkZXJzU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2NhcnJpZXJzJztcbmltcG9ydCB7IElDYXJyaWVyT3JkZXJzUm91dGVyR2V0T3B0aW9ucyB9IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vcm91dGVycy9JQ2Fycmllck9yZGVyc1JvdXRlcic7XG5pbXBvcnQgT3JkZXIgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9PcmRlcic7XG5pbXBvcnQgSU9yZGVyIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JT3JkZXInO1xuaW1wb3J0IHsgR2VvTG9jYXRpb25PcmRlcnNPcHRpb25zIH0gZnJvbSAnc2VydmljZXMvZ2VvLWxvY2F0aW9ucyc7XG5cbkBSZXNvbHZlcignQ2FycmllcnNPcmRlcnMnKVxuZXhwb3J0IGNsYXNzIENhcnJpZXJzT3JkZXJzUmVzb2x2ZXIge1xuXHRjb25zdHJ1Y3Rvcihcblx0XHRwcml2YXRlIHJlYWRvbmx5IF9jYXJyaWVyc09yZGVyc1NlcnZpY2U6IENhcnJpZXJzT3JkZXJzU2VydmljZVxuXHQpIHt9XG5cblx0QFF1ZXJ5KCdnZXRDYXJyaWVyT3JkZXJzJylcblx0YXN5bmMgZ2V0Q2Fycmllck9yZGVycyhcblx0XHRfLFxuXHRcdHtcblx0XHRcdGNhcnJpZXJJZCxcblx0XHRcdG9wdGlvbnMsXG5cdFx0fTogeyBjYXJyaWVySWQ6IHN0cmluZzsgb3B0aW9uczogSUNhcnJpZXJPcmRlcnNSb3V0ZXJHZXRPcHRpb25zIH1cblx0KTogUHJvbWlzZTxJT3JkZXJbXT4ge1xuXHRcdHJldHVybiB0aGlzLl9jYXJyaWVyc09yZGVyc1NlcnZpY2UuZ2V0Q2Fycmllck9yZGVycyhjYXJyaWVySWQsIG9wdGlvbnMpO1xuXHR9XG5cblx0QFF1ZXJ5KCdnZXRDYXJyaWVyQ3VycmVudE9yZGVyJylcblx0YXN5bmMgZ2V0Q2FycmllckN1cnJlbnRPcmRlcihcblx0XHRfLFxuXHRcdHsgY2FycmllcklkIH06IHsgY2FycmllcklkOiBzdHJpbmcgfVxuXHQpOiBQcm9taXNlPE9yZGVyPiB7XG5cdFx0Y29uc3QgZGJPcmRlciA9IGF3YWl0IHRoaXMuX2NhcnJpZXJzT3JkZXJzU2VydmljZS5nZXRDYXJyaWVyQ3VycmVudE9yZGVyKFxuXHRcdFx0Y2FycmllcklkXG5cdFx0KTtcblx0XHRyZXR1cm4gZGJPcmRlciAhPT0gbnVsbCA/IG5ldyBPcmRlcihkYk9yZGVyKSA6IG51bGw7XG5cdH1cblxuXHRAUXVlcnkoJ2dldENhcnJpZXJPcmRlcnNIaXN0b3J5Jylcblx0YXN5bmMgZ2V0Q2Fycmllck9yZGVyc0hpc3RvcnkoXG5cdFx0Xyxcblx0XHR7XG5cdFx0XHRjYXJyaWVySWQsXG5cdFx0XHRvcHRpb25zLFxuXHRcdH06IHsgY2FycmllcklkOiBzdHJpbmc7IG9wdGlvbnM6IEdlb0xvY2F0aW9uT3JkZXJzT3B0aW9ucyB9XG5cdCk6IFByb21pc2U8T3JkZXJbXT4ge1xuXHRcdHJldHVybiB0aGlzLl9jYXJyaWVyc09yZGVyc1NlcnZpY2UuZ2V0Q2Fycmllck9yZGVyc0hpc3RvcnkoXG5cdFx0XHRjYXJyaWVySWQsXG5cdFx0XHRvcHRpb25zXG5cdFx0KTtcblx0fVxuXG5cdEBRdWVyeSgnZ2V0Q291bnRPZkNhcnJpZXJPcmRlcnNIaXN0b3J5Jylcblx0YXN5bmMgZ2V0Q291bnRPZkNhcnJpZXJPcmRlcnNIaXN0b3J5KFxuXHRcdF8sXG5cdFx0eyBjYXJyaWVySWQgfTogeyBjYXJyaWVySWQ6IHN0cmluZyB9XG5cdCk6IFByb21pc2U8bnVtYmVyPiB7XG5cdFx0cmV0dXJuIHRoaXMuX2NhcnJpZXJzT3JkZXJzU2VydmljZS5nZXRDb3VudE9mQ2Fycmllck9yZGVyc0hpc3RvcnkoXG5cdFx0XHRjYXJyaWVySWRcblx0XHQpO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBNdXRhdGlvbiwgUXVlcnksIFJlc29sdmVQcm9wZXJ0eSwgUmVzb2x2ZXIgfSBmcm9tICdAbmVzdGpzL2dyYXBocWwnO1xuaW1wb3J0IHsgQ2FycmllcnNTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvY2FycmllcnMnO1xuaW1wb3J0IHsgZGVmYXVsdCBhcyBJQ2FycmllciB9IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JQ2Fycmllcic7XG5pbXBvcnQgQ2FycmllciBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL0NhcnJpZXInO1xuaW1wb3J0IHsgZmlyc3QsIG1hcCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IERldmljZXNTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvZGV2aWNlcyc7XG5pbXBvcnQge1xuXHRJQ2FycmllclJlZ2lzdHJhdGlvbklucHV0LFxuXHRJQ2FycmllckxvZ2luUmVzcG9uc2UsXG59IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vcm91dGVycy9JQ2FycmllclJvdXRlcic7XG5pbXBvcnQgQ2FycmllclN0YXR1cyBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudW1zL0NhcnJpZXJTdGF0dXMnO1xuaW1wb3J0IERldmljZSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL0RldmljZSc7XG5cbkBSZXNvbHZlcignQ2FycmllcicpXG5leHBvcnQgY2xhc3MgQ2FycmllclJlc29sdmVyIHtcblx0Y29uc3RydWN0b3IoXG5cdFx0cHJpdmF0ZSByZWFkb25seSBfY2FycmllcnNTZXJ2aWNlOiBDYXJyaWVyc1NlcnZpY2UsXG5cdFx0cHJpdmF0ZSByZWFkb25seSBfZGV2aWNlc1NlcnZpY2U6IERldmljZXNTZXJ2aWNlXG5cdCkge31cblxuXHRAUXVlcnkoJ2dldEFjdGl2ZUNhcnJpZXJzJylcblx0YXN5bmMgZ2V0QWN0aXZlQ2FycmllcnMoKTogUHJvbWlzZTxDYXJyaWVyW10+IHtcblx0XHRyZXR1cm4gdGhpcy5fY2FycmllcnNTZXJ2aWNlLmdldEFsbEFjdGl2ZSgpLnBpcGUoZmlyc3QoKSkudG9Qcm9taXNlKCk7XG5cdH1cblxuXHRAUXVlcnkoJ2dldENhcnJpZXJzJylcblx0YXN5bmMgZ2V0Q2FycmllcnMoXG5cdFx0Xyxcblx0XHR7IGNhcnJpZXJzRmluZElucHV0LCBwYWdpbmdPcHRpb25zID0ge30gfVxuXHQpOiBQcm9taXNlPENhcnJpZXJbXT4ge1xuXHRcdC8vIHNldCBkZWZhdWx0IHBhZ2luZyBvcHRpb25zXG5cdFx0aWYgKCFwYWdpbmdPcHRpb25zIHx8IChwYWdpbmdPcHRpb25zICYmICFwYWdpbmdPcHRpb25zWydzb3J0J10pKSB7XG5cdFx0XHRwYWdpbmdPcHRpb25zWydzb3J0J10gPSB7IGZpZWxkOiAnX2NyZWF0ZWRBdCcsIHNvcnRCeTogJ2Rlc2MnIH07XG5cdFx0fVxuXG5cdFx0Y29uc3QgY2FycmllcnMgPSBhd2FpdCB0aGlzLl9jYXJyaWVyc1NlcnZpY2UuZ2V0Q2FycmllcnMoXG5cdFx0XHRjYXJyaWVyc0ZpbmRJbnB1dCxcblx0XHRcdHBhZ2luZ09wdGlvbnNcblx0XHQpO1xuXG5cdFx0cmV0dXJuIGNhcnJpZXJzLm1hcCgoYzogSUNhcnJpZXIpID0+IG5ldyBDYXJyaWVyKGMpKTtcblx0fVxuXG5cdEBRdWVyeSgnZ2V0Q2FycmllckJ5VXNlcm5hbWUnKVxuXHRhc3luYyBnZXRDYXJyaWVyQnlVc2VybmFtZShcblx0XHRfLFxuXHRcdHsgdXNlcm5hbWUgfTogeyB1c2VybmFtZTogc3RyaW5nIH1cblx0KTogUHJvbWlzZTxDYXJyaWVyPiB7XG5cdFx0cmV0dXJuIHRoaXMuX2NhcnJpZXJzU2VydmljZS5maW5kT25lKHtcblx0XHRcdHVzZXJuYW1lLFxuXHRcdFx0aXNEZWxldGVkOiB7ICRlcTogZmFsc2UgfSxcblx0XHR9KTtcblx0fVxuXG5cdEBRdWVyeSgnZ2V0Q2FycmllcicpXG5cdGFzeW5jIGdldENhcnJpZXIoXywgeyBpZCB9OiB7IGlkOiBzdHJpbmcgfSk6IFByb21pc2U8Q2Fycmllcj4ge1xuXHRcdHJldHVybiB0aGlzLl9jYXJyaWVyc1NlcnZpY2UuZ2V0KGlkKS5waXBlKGZpcnN0KCkpLnRvUHJvbWlzZSgpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldCB0b3RhbCBhbW91bnQgb2YgQ2FycmllcnMgaW4gdGhlIHN5c3RlbSAobm90IGRlbGV0ZWQpXG5cdCAqXG5cdCAqIEByZXR1cm5zIHtQcm9taXNlPG51bWJlcj59XG5cdCAqIEBtZW1iZXJvZiBDYXJyaWVyUmVzb2x2ZXJcblx0ICovXG5cdEBRdWVyeSgnZ2V0Q291bnRPZkNhcnJpZXJzJylcblx0YXN5bmMgZ2V0Q291bnRPZkNhcnJpZXJzKF8sIHsgY2FycmllcnNGaW5kSW5wdXQgfSk6IFByb21pc2U8bnVtYmVyPiB7XG5cdFx0cmV0dXJuIHRoaXMuX2NhcnJpZXJzU2VydmljZS5Nb2RlbC5maW5kKHtcblx0XHRcdC4uLmNhcnJpZXJzRmluZElucHV0LFxuXHRcdFx0aXNEZWxldGVkOiB7ICRlcTogZmFsc2UgfSxcblx0XHR9KVxuXHRcdFx0LmNvdW50RG9jdW1lbnRzKClcblx0XHRcdC5leGVjKCk7XG5cdH1cblxuXHRATXV0YXRpb24oJ3VwZGF0ZUNhcnJpZXJFbWFpbCcpXG5cdGFzeW5jIHVwZGF0ZUNhcnJpZXJFbWFpbChcblx0XHRfLFxuXHRcdHsgY2FycmllcklkLCBlbWFpbCB9OiB7IGNhcnJpZXJJZDogc3RyaW5nOyBlbWFpbDogc3RyaW5nIH1cblx0KSB7XG5cdFx0cmV0dXJuIHRoaXMuX2NhcnJpZXJzU2VydmljZS51cGRhdGVFbWFpbChjYXJyaWVySWQsIGVtYWlsKTtcblx0fVxuXG5cdEBNdXRhdGlvbigncmVnaXN0ZXJDYXJyaWVyJylcblx0YXN5bmMgcmVnaXN0ZXJDYXJyaWVyKFxuXHRcdF8sXG5cdFx0eyByZWdpc3RlcklucHV0IH06IHsgcmVnaXN0ZXJJbnB1dDogSUNhcnJpZXJSZWdpc3RyYXRpb25JbnB1dCB9XG5cdCk6IFByb21pc2U8Q2Fycmllcj4ge1xuXHRcdHJldHVybiB0aGlzLl9jYXJyaWVyc1NlcnZpY2UucmVnaXN0ZXIocmVnaXN0ZXJJbnB1dCk7XG5cdH1cblxuXHRATXV0YXRpb24oJ3VwZGF0ZUNhcnJpZXJTdGF0dXMnKVxuXHRhc3luYyB1cGRhdGVDYXJyaWVyU3RhdHVzKFxuXHRcdF8sXG5cdFx0eyBpZCwgc3RhdHVzIH06IHsgaWQ6IHN0cmluZzsgc3RhdHVzOiBzdHJpbmcgfVxuXHQpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHR0aGlzLl9jYXJyaWVyc1NlcnZpY2UudXBkYXRlU3RhdHVzKGlkLCBDYXJyaWVyU3RhdHVzW3N0YXR1c10pO1xuXHR9XG5cblx0QE11dGF0aW9uKCd1cGRhdGVDYXJyaWVyJylcblx0YXN5bmMgdXBkYXRlQ2Fycmllcihcblx0XHRfLFxuXHRcdHsgaWQsIHVwZGF0ZUlucHV0IH06IHsgaWQ6IHN0cmluZzsgdXBkYXRlSW5wdXQgfVxuXHQpOiBQcm9taXNlPENhcnJpZXI+IHtcblx0XHRhd2FpdCB0aGlzLl9jYXJyaWVyc1NlcnZpY2UudGhyb3dJZk5vdEV4aXN0cyhpZCk7XG5cdFx0cmV0dXJuIHRoaXMuX2NhcnJpZXJzU2VydmljZS51cGRhdGUoaWQsIHVwZGF0ZUlucHV0KTtcblx0fVxuXG5cdEBNdXRhdGlvbigncmVtb3ZlQ2FycmllcicpXG5cdGFzeW5jIHJlbW92ZUNhcnJpZXIoXywgeyBpZCB9OiB7IGlkOiBzdHJpbmcgfSk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGF3YWl0IHRoaXMuX2NhcnJpZXJzU2VydmljZS50aHJvd0lmTm90RXhpc3RzKGlkKTtcblx0XHRyZXR1cm4gdGhpcy5fY2FycmllcnNTZXJ2aWNlLnJlbW92ZShpZCk7XG5cdH1cblxuXHRATXV0YXRpb24oJ3JlbW92ZUNhcnJpZXJzQnlJZHMnKVxuXHRhc3luYyByZW1vdmVDYXJyaWVyc0J5SWRzKF8sIHsgaWRzIH06IHsgaWRzOiBzdHJpbmdbXSB9KTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0Y29uc3QgY2FycmllcnMgPSBhd2FpdCB0aGlzLl9jYXJyaWVyc1NlcnZpY2UuZmluZCh7XG5cdFx0XHRfaWQ6IHsgJGluOiBpZHMgfSxcblx0XHRcdGlzRGVsZXRlZDogeyAkZXE6IGZhbHNlIH0sXG5cdFx0fSk7XG5cblx0XHRjb25zdCBjYXJyaWVyc0lkcyA9IGNhcnJpZXJzLm1hcCgoZCkgPT4gZC5pZCk7XG5cblx0XHRyZXR1cm4gdGhpcy5fY2FycmllcnNTZXJ2aWNlLnJlbW92ZU11bHRpcGxlQnlJZHMoY2FycmllcnNJZHMpO1xuXHR9XG5cblx0QFJlc29sdmVQcm9wZXJ0eSgnZGV2aWNlcycpXG5cdGFzeW5jIGdldERldmljZXMoX2NhcnJpZXI6IElDYXJyaWVyKTogUHJvbWlzZTxEZXZpY2VbXT4ge1xuXHRcdGNvbnN0IGNhcnJpZXIgPSBuZXcgQ2FycmllcihfY2Fycmllcik7XG5cblx0XHRyZXR1cm4gdGhpcy5fZGV2aWNlc1NlcnZpY2Vcblx0XHRcdC5nZXRNdWx0aXBsZShjYXJyaWVyLmRldmljZXNJZHMpXG5cdFx0XHQucGlwZShcblx0XHRcdFx0bWFwKChkZXZpY2VzKSA9PiBkZXZpY2VzLmZpbHRlcigoZCkgPT4gIWQuaXNEZWxldGVkKSksXG5cdFx0XHRcdGZpcnN0KClcblx0XHRcdClcblx0XHRcdC50b1Byb21pc2UoKTtcblx0fVxuXG5cdEBNdXRhdGlvbignY2FycmllckxvZ2luJylcblx0YXN5bmMgY2FycmllckxvZ2luKFxuXHRcdF8sXG5cdFx0eyB1c2VybmFtZSwgcGFzc3dvcmQgfTogeyB1c2VybmFtZTogc3RyaW5nOyBwYXNzd29yZDogc3RyaW5nIH1cblx0KTogUHJvbWlzZTxJQ2FycmllckxvZ2luUmVzcG9uc2U+IHtcblx0XHRyZXR1cm4gdGhpcy5fY2FycmllcnNTZXJ2aWNlLmxvZ2luKHVzZXJuYW1lLCBwYXNzd29yZCk7XG5cdH1cblxuXHRATXV0YXRpb24oJ3VwZGF0ZUNhcnJpZXJQYXNzd29yZCcpXG5cdGFzeW5jIHVwZGF0ZUNhcnJpZXJQYXNzd29yZChcblx0XHRfLFxuXHRcdHtcblx0XHRcdGlkLFxuXHRcdFx0cGFzc3dvcmQsXG5cdFx0fTogeyBpZDogQ2FycmllclsnaWQnXTsgcGFzc3dvcmQ6IHsgY3VycmVudDogc3RyaW5nOyBuZXc6IHN0cmluZyB9IH1cblx0KTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0cmV0dXJuIHRoaXMuX2NhcnJpZXJzU2VydmljZS51cGRhdGVQYXNzd29yZChpZCwgcGFzc3dvcmQpO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBNb2R1bGUgfSBmcm9tICdAbmVzdGpzL2NvbW1vbic7XG5pbXBvcnQgeyBDYXJyaWVyUmVzb2x2ZXIgfSBmcm9tICcuL2NhcnJpZXIucmVzb2x2ZXInO1xuXG5ATW9kdWxlKHtcblx0cHJvdmlkZXJzOiBbQ2FycmllclJlc29sdmVyXSxcbn0pXG5leHBvcnQgY2xhc3MgQ2FycmllcnNNb2R1bGUge31cbiIsImltcG9ydCB7IE1vZHVsZSB9IGZyb20gJ0BuZXN0anMvY29tbW9uJztcbmltcG9ydCB7IEN1cnJlbmN5UmVzb2x2ZXIgfSBmcm9tICcuL2N1cnJlbmN5LnJlc29sdmVyJztcblxuQE1vZHVsZSh7XG5cdHByb3ZpZGVyczogW0N1cnJlbmN5UmVzb2x2ZXJdLFxufSlcbmV4cG9ydCBjbGFzcyBDdXJyZW5jeU1vZHVsZSB7fVxuIiwiaW1wb3J0IHsgUmVzb2x2ZXIsIFF1ZXJ5LCBNdXRhdGlvbiB9IGZyb20gJ0BuZXN0anMvZ3JhcGhxbCc7XG5pbXBvcnQgeyBJQ3VycmVuY3lDcmVhdGVPYmplY3QgfSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2ludGVyZmFjZXMvSUN1cnJlbmN5JztcbmltcG9ydCB7IEN1cnJlbmNpZXNTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvY3VycmVuY3kvQ3VycmVuY3lTZXJ2aWNlJztcblxuQFJlc29sdmVyKCdDdXJyZW5jeScpXG5leHBvcnQgY2xhc3MgQ3VycmVuY3lSZXNvbHZlciB7XG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgX2N1cnJlbmNpZXNTZXJ2aWNlOiBDdXJyZW5jaWVzU2VydmljZSkge31cblxuXHRAUXVlcnkoJ2N1cnJlbmNpZXMnKVxuXHRhc3luYyBnZXRDdXJyZW5jaWVzKF8pIHtcblx0XHRyZXR1cm4gdGhpcy5fY3VycmVuY2llc1NlcnZpY2UuZ2V0QWxsQ3VycmVuY2llcygpO1xuXHR9XG5cblx0QE11dGF0aW9uKClcblx0YXN5bmMgY3JlYXRlQ3VycmVuY3koXG5cdFx0Xyxcblx0XHR7IGNyZWF0ZUlucHV0IH06IHsgY3JlYXRlSW5wdXQ6IElDdXJyZW5jeUNyZWF0ZU9iamVjdCB9XG5cdCkge1xuXHRcdHJldHVybiB0aGlzLl9jdXJyZW5jaWVzU2VydmljZS5jcmVhdGVDdXJyZW5jeShjcmVhdGVJbnB1dCk7XG5cdH1cbn1cbiIsImltcG9ydCB7IE1vZHVsZSB9IGZyb20gJ0BuZXN0anMvY29tbW9uJztcbmltcG9ydCB7IERhdGFSZXNvbHZlciB9IGZyb20gJy4vZGF0YS5yZXNvbHZlcic7XG5cbkBNb2R1bGUoe1xuXHRwcm92aWRlcnM6IFtEYXRhUmVzb2x2ZXJdLFxufSlcbmV4cG9ydCBjbGFzcyBEYXRhTW9kdWxlIHt9XG4iLCJpbXBvcnQgeyBRdWVyeSwgUmVzb2x2ZXIgfSBmcm9tICdAbmVzdGpzL2dyYXBocWwnO1xuaW1wb3J0IHsgSW52aXRlc1NlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9pbnZpdGVzL0ludml0ZXNTZXJ2aWNlJztcbmltcG9ydCB7IEFkbWluc1NlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9hZG1pbnMnO1xuaW1wb3J0IHsgQ2FycmllcnNTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvY2FycmllcnMnO1xuaW1wb3J0IHsgSW52aXRlc1JlcXVlc3RzU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2ludml0ZXMnO1xuaW1wb3J0IHsgT3JkZXJzU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL29yZGVycyc7XG5pbXBvcnQgeyBVc2Vyc1NlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy91c2Vycyc7XG5pbXBvcnQgeyBXYXJlaG91c2VzU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL3dhcmVob3VzZXMnO1xuaW1wb3J0IHsgRGV2aWNlc1NlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9kZXZpY2VzJztcbmltcG9ydCB7XG5cdFByb2R1Y3RzU2VydmljZSxcblx0UHJvZHVjdHNDYXRlZ29yaWVzU2VydmljZSxcbn0gZnJvbSAnLi4vLi4vc2VydmljZXMvcHJvZHVjdHMnO1xuXG5AUmVzb2x2ZXIoJ0RhdGEnKVxuZXhwb3J0IGNsYXNzIERhdGFSZXNvbHZlciB7XG5cdC8vXG5cdGNvbnN0cnVjdG9yKFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgX2FkbWluc1NlcnZpY2U6IEFkbWluc1NlcnZpY2UsXG5cdFx0cHJpdmF0ZSByZWFkb25seSBfY2FycmllcnNTZXJ2aWNlOiBDYXJyaWVyc1NlcnZpY2UsXG5cdFx0cHJpdmF0ZSByZWFkb25seSBfaW52aXRlUmVxdWVzdHNTZXJ2aWNlOiBJbnZpdGVzUmVxdWVzdHNTZXJ2aWNlLFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgX2ludml0ZXNTZXJ2aWNlOiBJbnZpdGVzU2VydmljZSxcblx0XHRwcml2YXRlIHJlYWRvbmx5IF9vcmRlcnNTZXJ2aWNlOiBPcmRlcnNTZXJ2aWNlLFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgX3VzZXJzU2VydmljZTogVXNlcnNTZXJ2aWNlLFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgX3N0b3Jlc1NlcnZpY2U6IFdhcmVob3VzZXNTZXJ2aWNlLFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgX2RldmljZXNTZXJ2aWNlOiBEZXZpY2VzU2VydmljZSxcblx0XHRwcml2YXRlIHJlYWRvbmx5IF9wcm9kdWN0c1NlcnZpY2U6IFByb2R1Y3RzU2VydmljZSxcblx0XHRwcml2YXRlIHJlYWRvbmx5IF9wcm9kdWN0c0NhdGVnb3JpZXNTZXJ2aWNlOiBQcm9kdWN0c0NhdGVnb3JpZXNTZXJ2aWNlXG5cdCkge31cblxuXHRAUXVlcnkoJ2NsZWFyQWxsJylcblx0YXN5bmMgY2xlYXJBbGwoKSB7XG5cdFx0W1xuXHRcdFx0dGhpcy5fYWRtaW5zU2VydmljZSxcblx0XHRcdHRoaXMuX2NhcnJpZXJzU2VydmljZSxcblx0XHRcdHRoaXMuX2RldmljZXNTZXJ2aWNlLFxuXHRcdFx0dGhpcy5faW52aXRlc1NlcnZpY2UsXG5cdFx0XHR0aGlzLl9pbnZpdGVSZXF1ZXN0c1NlcnZpY2UsXG5cdFx0XHR0aGlzLl9vcmRlcnNTZXJ2aWNlLFxuXHRcdFx0dGhpcy5fcHJvZHVjdHNTZXJ2aWNlLFxuXHRcdFx0dGhpcy5fcHJvZHVjdHNDYXRlZ29yaWVzU2VydmljZSxcblx0XHRcdHRoaXMuX3VzZXJzU2VydmljZSxcblx0XHRcdHRoaXMuX3N0b3Jlc1NlcnZpY2UsXG5cdFx0XS5mb3JFYWNoKChzZXJ2aWNlKSA9PiB7XG5cdFx0XHRzZXJ2aWNlLk1vZGVsLnVwZGF0ZU1hbnkoe30sIHsgaXNEZWxldGVkOiB0cnVlIH0sIChlcnIsIHJhdykgPT4ge1xuXHRcdFx0XHRpZiAoZXJyICE9PSBudWxsKSB7XG5cdFx0XHRcdFx0Y29uc3QgY29sbGVjdGlvbk5hbWUgPSBzZXJ2aWNlLmNvbnN0cnVjdG9yLm5hbWUucmVwbGFjZShcblx0XHRcdFx0XHRcdCdTZXJ2aWNlJyxcblx0XHRcdFx0XHRcdCcnXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdFx0XHRgQ2Fubm90IHVwZGF0ZSAnJHtjb2xsZWN0aW9uTmFtZX0nIGNvbGxlY3Rpb25gXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxufVxuIiwiaW1wb3J0IHsgTXV0YXRpb24sIFF1ZXJ5LCBSZXNvbHZlciwgU3Vic2NyaXB0aW9uIH0gZnJvbSAnQG5lc3Rqcy9ncmFwaHFsJztcbmltcG9ydCB7IFVzZUd1YXJkcyB9IGZyb20gJ0BuZXN0anMvY29tbW9uJztcbmltcG9ydCB7IEF1dGhHdWFyZCB9IGZyb20gJ0BuZXN0anMvcGFzc3BvcnQnO1xuaW1wb3J0IHsgUHViU3ViIH0gZnJvbSAnZ3JhcGhxbC1zdWJzY3JpcHRpb25zJztcbmltcG9ydCB7IERldmljZXNTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvZGV2aWNlcyc7XG5pbXBvcnQgeyBJRGV2aWNlQ3JlYXRlT2JqZWN0IH0gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9pbnRlcmZhY2VzL0lEZXZpY2UnO1xuaW1wb3J0IHsgZmlyc3QgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgSUxhbmd1YWdlIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JTGFuZ3VhZ2UnO1xuXG5jb25zdCBwdWJTdWIgPSBuZXcgUHViU3ViKCk7XG5cbkBSZXNvbHZlcignRGV2aWNlJylcbmV4cG9ydCBjbGFzcyBEZXZpY2VSZXNvbHZlciB7XG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgX2RldmljZXNTZXJ2aWNlOiBEZXZpY2VzU2VydmljZSkge31cblxuXHRAUXVlcnkoJ2RldmljZScpXG5cdGFzeW5jIGdldERldmljZShfLCB7IGlkIH06IHsgaWQ6IHN0cmluZyB9KSB7XG5cdFx0cmV0dXJuIHRoaXMuX2RldmljZXNTZXJ2aWNlLmdldChpZCkucGlwZShmaXJzdCgpKS50b1Byb21pc2UoKTtcblx0fVxuXG5cdEBRdWVyeSgnZGV2aWNlcycpXG5cdC8vIEBVc2VHdWFyZHMoQXV0aEd1YXJkKCdqd3QnKSlcblx0YXN5bmMgZ2V0RGV2aWNlcyhfLCB7IGZpbmRJbnB1dCB9KSB7XG5cdFx0cmV0dXJuIHRoaXMuX2RldmljZXNTZXJ2aWNlLmZpbmQoe1xuXHRcdFx0Li4uZmluZElucHV0LFxuXHRcdFx0aXNEZWxldGVkOiB7ICRlcTogZmFsc2UgfSxcblx0XHR9KTtcblx0fVxuXG5cdEBNdXRhdGlvbigpXG5cdGFzeW5jIHVwZGF0ZURldmljZUxhbmd1YWdlKFxuXHRcdF8sXG5cdFx0e1xuXHRcdFx0ZGV2aWNlSWQsXG5cdFx0XHRsYW5ndWFnZSxcblx0XHR9OiB7XG5cdFx0XHRkZXZpY2VJZDogc3RyaW5nO1xuXHRcdFx0bGFuZ3VhZ2U6IElMYW5ndWFnZTtcblx0XHR9XG5cdCkge1xuXHRcdHJldHVybiB0aGlzLl9kZXZpY2VzU2VydmljZS51cGRhdGVMYW5ndWFnZShkZXZpY2VJZCwgbGFuZ3VhZ2UpO1xuXHR9XG5cblx0QE11dGF0aW9uKClcblx0QFVzZUd1YXJkcyhBdXRoR3VhcmQoJ2p3dCcpKVxuXHRhc3luYyBjcmVhdGVEZXZpY2UoXG5cdFx0Xyxcblx0XHR7IGNyZWF0ZUluZm8gfTogeyBpZDogc3RyaW5nOyBjcmVhdGVJbmZvOiBJRGV2aWNlQ3JlYXRlT2JqZWN0IH1cblx0KSB7XG5cdFx0cmV0dXJuIHRoaXMuX2RldmljZXNTZXJ2aWNlLmNyZWF0ZShjcmVhdGVJbmZvKTtcblx0fVxuXG5cdEBNdXRhdGlvbigpXG5cdC8vIEBVc2VHdWFyZHMoQXV0aEd1YXJkKCdqd3QnKSlcblx0YXN5bmMgdXBkYXRlRGV2aWNlKF8sIHsgaWQsIHVwZGF0ZUlucHV0IH06IHsgaWQ6IHN0cmluZzsgdXBkYXRlSW5wdXQgfSkge1xuXHRcdGF3YWl0IHRoaXMuX2RldmljZXNTZXJ2aWNlLnRocm93SWZOb3RFeGlzdHMoaWQpO1xuXG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IGRldmljZSA9IGF3YWl0IHRoaXMuX2RldmljZXNTZXJ2aWNlLnVwZGF0ZShpZCwgdXBkYXRlSW5wdXQpO1xuXHRcdFx0cHViU3ViLnB1Ymxpc2goJ2RldmljZUNyZWF0ZWQnLCB7IGRldmljZUNyZWF0ZWQ6IGRldmljZSB9KTtcblx0XHRcdHJldHVybiBkZXZpY2U7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdGNvbnNvbGUubG9nKGVycm9yKTtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0fVxuXG5cdEBNdXRhdGlvbigpXG5cdGFzeW5jIHJlbW92ZURldmljZShfLCB7IGlkIH06IHsgaWQ6IHN0cmluZyB9KSB7XG5cdFx0YXdhaXQgdGhpcy5fZGV2aWNlc1NlcnZpY2UudGhyb3dJZk5vdEV4aXN0cyhpZCk7XG5cdFx0cmV0dXJuIHRoaXMuX2RldmljZXNTZXJ2aWNlLnJlbW92ZShpZCk7XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHRhc3luYyByZW1vdmVEZXZpY2VCeUlkcyhfLCB7IGlkcyB9OiB7IGlkczogc3RyaW5nW10gfSkge1xuXHRcdGNvbnN0IGRldmljZXMgPSBhd2FpdCB0aGlzLl9kZXZpY2VzU2VydmljZS5maW5kKHtcblx0XHRcdF9pZDogeyAkaW46IGlkcyB9LFxuXHRcdFx0aXNEZWxldGVkOiB7ICRlcTogZmFsc2UgfSxcblx0XHR9KTtcblxuXHRcdGNvbnN0IGRldmljZXNJZHMgPSBkZXZpY2VzLm1hcCgoZCkgPT4gZC5pZCk7XG5cblx0XHRyZXR1cm4gdGhpcy5fZGV2aWNlc1NlcnZpY2UucmVtb3ZlTXVsdGlwbGVCeUlkcyhkZXZpY2VzSWRzKTtcblx0fVxuXG5cdEBTdWJzY3JpcHRpb24oKSAvLyBUT0RPIHJlbmFtZSB0byBkZXZpY2VVcGRhdGVkXG5cdGRldmljZUNyZWF0ZWQoKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1YnNjcmliZTogKCkgPT4gcHViU3ViLmFzeW5jSXRlcmF0b3IoJ2RldmljZUNyZWF0ZWQnKSxcblx0XHR9O1xuXHR9XG59XG4iLCJpbXBvcnQgeyBNb2R1bGUgfSBmcm9tICdAbmVzdGpzL2NvbW1vbic7XG5pbXBvcnQgeyBEZXZpY2VSZXNvbHZlciB9IGZyb20gJy4vZGV2aWNlLnJlc29sdmVyJztcblxuQE1vZHVsZSh7XG5cdHByb3ZpZGVyczogW0RldmljZVJlc29sdmVyXSxcbn0pXG5leHBvcnQgY2xhc3MgRGV2aWNlc01vZHVsZSB7fVxuIiwiaW1wb3J0IHsgUXVlcnksIFJlc29sdmVyIH0gZnJvbSAnQG5lc3Rqcy9ncmFwaHFsJztcbmltcG9ydCB7IEdlb0xvY2F0aW9uc1Byb2R1Y3RzU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2dlby1sb2NhdGlvbnMnO1xuaW1wb3J0IEdlb0xvY2F0aW9uIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvR2VvTG9jYXRpb24nO1xuaW1wb3J0IHsgZmlyc3QgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgSUdlb0xvY2F0aW9uIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JR2VvTG9jYXRpb24nO1xuXG5leHBvcnQgaW50ZXJmYWNlIElHZXRHZW9Mb2NhdGlvblByb2R1Y3RzT3B0aW9ucyB7XG5cdGlzRGVsaXZlcnlSZXF1aXJlZD86IGJvb2xlYW47XG5cdGlzVGFrZWF3YXk/OiBib29sZWFuO1xuXHRtZXJjaGFudElkcz86IHN0cmluZ1tdO1xuXHRpbWFnZU9yaWVudGF0aW9uPzogbnVtYmVyO1xuXHRsb2NhbGU/OiBzdHJpbmc7XG5cdHdpdGhvdXRDb3VudD86IGJvb2xlYW47XG59XG5cbkBSZXNvbHZlcignR2VvTG9jYXRpb24nKVxuZXhwb3J0IGNsYXNzIEdlb0xvY2F0aW9uUmVzb2x2ZXIge1xuXHRjb25zdHJ1Y3Rvcihcblx0XHRwcml2YXRlIHJlYWRvbmx5IGdlb0xvY2F0aW9uc1Byb2R1Y3RzU2VydmljZTogR2VvTG9jYXRpb25zUHJvZHVjdHNTZXJ2aWNlXG5cdCkge31cblxuXHRAUXVlcnkoJ2dlb0xvY2F0aW9uUHJvZHVjdHMnKVxuXHRhc3luYyBnZXRHZW9Mb2NhdGlvblByb2R1Y3RzKFxuXHRcdF8sXG5cdFx0eyBnZW9Mb2NhdGlvbiB9OiB7IGdlb0xvY2F0aW9uOiBHZW9Mb2NhdGlvbiB9XG5cdCkge1xuXHRcdHJldHVybiB0aGlzLmdlb0xvY2F0aW9uc1Byb2R1Y3RzU2VydmljZVxuXHRcdFx0LmdldChnZW9Mb2NhdGlvbilcblx0XHRcdC5waXBlKGZpcnN0KCkpXG5cdFx0XHQudG9Qcm9taXNlKCk7XG5cdH1cblxuXHRAUXVlcnkoKVxuXHRhc3luYyBnZW9Mb2NhdGlvblByb2R1Y3RzQnlQYWdpbmcoXG5cdFx0Xyxcblx0XHR7XG5cdFx0XHRnZW9Mb2NhdGlvbixcblx0XHRcdG9wdGlvbnMsXG5cdFx0XHRwYWdpbmdPcHRpb25zID0ge30sXG5cdFx0XHRzZWFyY2hUZXh0LFxuXHRcdH06IHtcblx0XHRcdGdlb0xvY2F0aW9uO1xuXHRcdFx0b3B0aW9ucz86IElHZXRHZW9Mb2NhdGlvblByb2R1Y3RzT3B0aW9ucztcblx0XHRcdHBhZ2luZ09wdGlvbnM7XG5cdFx0XHRzZWFyY2hUZXh0Pzogc3RyaW5nO1xuXHRcdH1cblx0KSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2VvTG9jYXRpb25zUHJvZHVjdHNTZXJ2aWNlLmdlb0xvY2F0aW9uUHJvZHVjdHNCeVBhZ2luZyhcblx0XHRcdGdlb0xvY2F0aW9uLFxuXHRcdFx0cGFnaW5nT3B0aW9ucyxcblx0XHRcdG9wdGlvbnMsXG5cdFx0XHRzZWFyY2hUZXh0XG5cdFx0KTtcblx0fVxuXHRAUXVlcnkoKVxuXHRhc3luYyBnZXRDb3VudE9mR2VvTG9jYXRpb25Qcm9kdWN0cyhcblx0XHRfLFxuXHRcdHtcblx0XHRcdGdlb0xvY2F0aW9uLFxuXHRcdFx0b3B0aW9ucyxcblx0XHRcdHNlYXJjaFRleHQsXG5cdFx0fToge1xuXHRcdFx0Z2VvTG9jYXRpb246IElHZW9Mb2NhdGlvbjtcblx0XHRcdG9wdGlvbnM/OiBJR2V0R2VvTG9jYXRpb25Qcm9kdWN0c09wdGlvbnM7XG5cdFx0XHRzZWFyY2hUZXh0Pzogc3RyaW5nO1xuXHRcdH1cblx0KSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2VvTG9jYXRpb25zUHJvZHVjdHNTZXJ2aWNlLmdldENvdW50T2ZHZW9Mb2NhdGlvblByb2R1Y3RzKFxuXHRcdFx0Z2VvTG9jYXRpb24sXG5cdFx0XHRvcHRpb25zLFxuXHRcdFx0c2VhcmNoVGV4dFxuXHRcdCk7XG5cdH1cbn1cbiIsImltcG9ydCB7IE1vZHVsZSB9IGZyb20gJ0BuZXN0anMvY29tbW9uJztcbmltcG9ydCB7IEdlb0xvY2F0aW9uUmVzb2x2ZXIgfSBmcm9tICcuL2dlby1sb2NhdGlvbi5yZXNvbHZlcic7XG5cbkBNb2R1bGUoe1xuXHRwcm92aWRlcnM6IFtHZW9Mb2NhdGlvblJlc29sdmVyXSxcbn0pXG5leHBvcnQgY2xhc3MgR2VvTG9jYXRpb25zTW9kdWxlIHt9XG4iLCJpbXBvcnQgeyBNb2R1bGUgfSBmcm9tICdAbmVzdGpzL2NvbW1vbic7XG5pbXBvcnQgeyBHZW9Mb2NhdGlvbk1lcmNoYW50c1Jlc29sdmVyIH0gZnJvbSAnLi9nZW8tbG9jYXRpb24tbWVyY2hhbnRzLnJlc29sdmVyJztcblxuQE1vZHVsZSh7XG5cdHByb3ZpZGVyczogW0dlb0xvY2F0aW9uTWVyY2hhbnRzUmVzb2x2ZXJdLFxufSlcbmV4cG9ydCBjbGFzcyBHZW9Mb2NhdGlvbk1lcmNoYW50c01vZHVsZSB7fVxuIiwiaW1wb3J0IHsgUmVzb2x2ZXIsIFF1ZXJ5IH0gZnJvbSAnQG5lc3Rqcy9ncmFwaHFsJztcbmltcG9ydCB7IEdlb0xvY2F0aW9uc1dhcmVob3VzZXNTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vc2VydmljZXMvZ2VvLWxvY2F0aW9ucyc7XG5pbXBvcnQgSUdlb0xvY2F0aW9uIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JR2VvTG9jYXRpb24nO1xuaW1wb3J0IFdhcmVob3VzZSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL1dhcmVob3VzZSc7XG5pbXBvcnQgVXRpbHMgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi91dGlscyc7XG5pbXBvcnQgR2VvTG9jYXRpb24gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9HZW9Mb2NhdGlvbic7XG5cbmNvbnN0IElOX1NUT1JFX0RJU1RBTkNFID0gNTA7XG5cbkBSZXNvbHZlcignR2VvTG9jYXRpb25NZXJjaGFudHMnKVxuZXhwb3J0IGNsYXNzIEdlb0xvY2F0aW9uTWVyY2hhbnRzUmVzb2x2ZXIge1xuXHRjb25zdHJ1Y3Rvcihcblx0XHRwdWJsaWMgZ2VvTG9jYXRpb25zV2FyZWhvdXNlc1NlcnZpY2U6IEdlb0xvY2F0aW9uc1dhcmVob3VzZXNTZXJ2aWNlXG5cdCkge31cblxuXHRAUXVlcnkoJ2dldENvc2VNZXJjaGFudHMnKVxuXHRhc3luYyBnZXRDb3NlTWVyY2hhbnRzKF8sIHsgZ2VvTG9jYXRpb24gfTogeyBnZW9Mb2NhdGlvbjogSUdlb0xvY2F0aW9uIH0pIHtcblx0XHRsZXQgbWVyY2hhbnRzID0gYXdhaXQgdGhpcy5nZW9Mb2NhdGlvbnNXYXJlaG91c2VzU2VydmljZS5nZXRNZXJjaGFudHMoXG5cdFx0XHRnZW9Mb2NhdGlvbixcblx0XHRcdElOX1NUT1JFX0RJU1RBTkNFLFxuXHRcdFx0eyBmdWxsUHJvZHVjdHM6IGZhbHNlLCBhY3RpdmVPbmx5OiB0cnVlIH1cblx0XHQpO1xuXG5cdFx0bWVyY2hhbnRzID0gbWVyY2hhbnRzLnNvcnQoXG5cdFx0XHQobTEsIG0yKSA9PlxuXHRcdFx0XHRVdGlscy5nZXREaXN0YW5jZShcblx0XHRcdFx0XHRuZXcgR2VvTG9jYXRpb24obTEuZ2VvTG9jYXRpb24pLFxuXHRcdFx0XHRcdG5ldyBHZW9Mb2NhdGlvbihnZW9Mb2NhdGlvbilcblx0XHRcdFx0KSAtXG5cdFx0XHRcdFV0aWxzLmdldERpc3RhbmNlKFxuXHRcdFx0XHRcdG5ldyBHZW9Mb2NhdGlvbihtMi5nZW9Mb2NhdGlvbiksXG5cdFx0XHRcdFx0bmV3IEdlb0xvY2F0aW9uKGdlb0xvY2F0aW9uKVxuXHRcdFx0XHQpXG5cdFx0KTtcblxuXHRcdHJldHVybiBtZXJjaGFudHMubWFwKChtKSA9PiBuZXcgV2FyZWhvdXNlKG0pKTtcblx0fVxufVxuIiwiaW1wb3J0IHsgTW9kdWxlIH0gZnJvbSAnQG5lc3Rqcy9jb21tb24nO1xuaW1wb3J0IHsgR2VvTG9jYXRpb25PcmRlcnNSZXNvbHZlciB9IGZyb20gJy4vZ2VvLWxvY2F0aW9uLW9yZGVycy5yZXNvbHZlcic7XG5cbkBNb2R1bGUoe1xuXHRwcm92aWRlcnM6IFtHZW9Mb2NhdGlvbk9yZGVyc1Jlc29sdmVyXSxcbn0pXG5leHBvcnQgY2xhc3MgR2VvTG9jYXRpb25PcmRlcnNNb2R1bGUge31cbiIsImltcG9ydCB7IFJlc29sdmVyLCBRdWVyeSB9IGZyb20gJ0BuZXN0anMvZ3JhcGhxbCc7XG5pbXBvcnQgeyBHZW9Mb2NhdGlvbnNPcmRlcnNTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vc2VydmljZXMvZ2VvLWxvY2F0aW9ucy9HZW9Mb2NhdGlvbnNPcmRlcnNTZXJ2aWNlJztcbmltcG9ydCB7IEdlb0xvY2F0aW9uT3JkZXJzT3B0aW9ucyB9IGZyb20gJy4uLy4uLy4uL3NlcnZpY2VzL2dlby1sb2NhdGlvbnMvR2VvTG9jYXRpb25PcmRlcnNPcHRpb25zJztcbmltcG9ydCBJR2VvTG9jYXRpb24gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9pbnRlcmZhY2VzL0lHZW9Mb2NhdGlvbic7XG5pbXBvcnQgT3JkZXIgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9PcmRlcic7XG5cbkBSZXNvbHZlcignR2VvTG9jYXRpb25PcmRlcnMnKVxuZXhwb3J0IGNsYXNzIEdlb0xvY2F0aW9uT3JkZXJzUmVzb2x2ZXIge1xuXHRjb25zdHJ1Y3RvcihwdWJsaWMgZ2VvTG9jYXRpb25zT3JkZXJzU2VydmljZTogR2VvTG9jYXRpb25zT3JkZXJzU2VydmljZSkge31cblxuXHRAUXVlcnkoJ2dldE9yZGVyRm9yV29yaycpXG5cdGFzeW5jIGdldE9yZGVyRm9yV29yayhcblx0XHRfLFxuXHRcdHtcblx0XHRcdGdlb0xvY2F0aW9uLFxuXHRcdFx0c2tpcHBlZE9yZGVySWRzLFxuXHRcdFx0b3B0aW9ucyxcblx0XHRcdHNlYXJjaE9iaixcblx0XHR9OiB7XG5cdFx0XHRnZW9Mb2NhdGlvbjogSUdlb0xvY2F0aW9uO1xuXHRcdFx0c2tpcHBlZE9yZGVySWRzOiBzdHJpbmdbXTtcblx0XHRcdG9wdGlvbnM6IEdlb0xvY2F0aW9uT3JkZXJzT3B0aW9ucztcblx0XHRcdHNlYXJjaE9iaj86IHtcblx0XHRcdFx0aXNDYW5jZWxsZWQ/OiBib29sZWFuO1xuXHRcdFx0XHRieVJlZ2V4PzogQXJyYXk8eyBrZXk6IHN0cmluZzsgdmFsdWU6IHN0cmluZyB9Pjtcblx0XHRcdH07XG5cdFx0fVxuXHQpIHtcblx0XHRjb25zdCBvcmRlcnMgPSBhd2FpdCB0aGlzLmdlb0xvY2F0aW9uc09yZGVyc1NlcnZpY2UuZ2V0T3JkZXJzRm9yV29yayhcblx0XHRcdGdlb0xvY2F0aW9uLFxuXHRcdFx0c2tpcHBlZE9yZGVySWRzLFxuXHRcdFx0b3B0aW9ucyxcblx0XHRcdHNlYXJjaE9ialxuXHRcdCk7XG5cblx0XHRyZXR1cm4gb3JkZXJzWzBdO1xuXHR9XG5cblx0QFF1ZXJ5KCdnZXRPcmRlcnNGb3JXb3JrJylcblx0YXN5bmMgZ2V0T3JkZXJzRm9yV29yayhcblx0XHRfLFxuXHRcdHtcblx0XHRcdGdlb0xvY2F0aW9uLFxuXHRcdFx0c2tpcHBlZE9yZGVySWRzLFxuXHRcdFx0b3B0aW9ucyxcblx0XHRcdHNlYXJjaE9iaixcblx0XHR9OiB7XG5cdFx0XHRnZW9Mb2NhdGlvbjogSUdlb0xvY2F0aW9uO1xuXHRcdFx0c2tpcHBlZE9yZGVySWRzOiBzdHJpbmdbXTtcblx0XHRcdG9wdGlvbnM6IEdlb0xvY2F0aW9uT3JkZXJzT3B0aW9ucztcblx0XHRcdHNlYXJjaE9iaj86IHsgYnlSZWdleDogQXJyYXk8eyBrZXk6IHN0cmluZzsgdmFsdWU6IHN0cmluZyB9PiB9O1xuXHRcdH1cblx0KSB7XG5cdFx0Y29uc3Qgb3JkZXJzID0gYXdhaXQgdGhpcy5nZW9Mb2NhdGlvbnNPcmRlcnNTZXJ2aWNlLmdldE9yZGVyc0ZvcldvcmsoXG5cdFx0XHRnZW9Mb2NhdGlvbixcblx0XHRcdHNraXBwZWRPcmRlcklkcyxcblx0XHRcdG9wdGlvbnMsXG5cdFx0XHRzZWFyY2hPYmpcblx0XHQpO1xuXG5cdFx0cmV0dXJuIG9yZGVycy5tYXAoKG8pID0+IG5ldyBPcmRlcihvKSk7XG5cdH1cblxuXHRAUXVlcnkoKVxuXHRhc3luYyBnZXRDb3VudE9mT3JkZXJzRm9yV29yayhcblx0XHRfLFxuXHRcdHtcblx0XHRcdGdlb0xvY2F0aW9uLFxuXHRcdFx0c2tpcHBlZE9yZGVySWRzLFxuXHRcdFx0c2VhcmNoT2JqLFxuXHRcdH06IHtcblx0XHRcdGdlb0xvY2F0aW9uOiBJR2VvTG9jYXRpb247XG5cdFx0XHRza2lwcGVkT3JkZXJJZHM6IHN0cmluZ1tdO1xuXHRcdFx0c2VhcmNoT2JqPzogeyBieVJlZ2V4OiBBcnJheTx7IGtleTogc3RyaW5nOyB2YWx1ZTogc3RyaW5nIH0+IH07XG5cdFx0fVxuXHQpIHtcblx0XHRyZXR1cm4gdGhpcy5nZW9Mb2NhdGlvbnNPcmRlcnNTZXJ2aWNlLmdldENvdW50T2ZPcmRlcnNGb3JXb3JrKFxuXHRcdFx0Z2VvTG9jYXRpb24sXG5cdFx0XHRza2lwcGVkT3JkZXJJZHMsXG5cdFx0XHRzZWFyY2hPYmpcblx0XHQpO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBNb2R1bGUgfSBmcm9tICdAbmVzdGpzL2NvbW1vbic7XG5pbXBvcnQgeyBJbnZpdGVSZXF1ZXN0UmVzb2x2ZXIgfSBmcm9tICcuL2ludml0ZXMtcmVxdWVzdHMucmVzb2x2ZXInO1xuXG5ATW9kdWxlKHtcblx0cHJvdmlkZXJzOiBbSW52aXRlUmVxdWVzdFJlc29sdmVyXSxcbn0pXG5leHBvcnQgY2xhc3MgSW52aXRlc1JlcXVlc3RzTW9kdWxlIHt9XG4iLCJpbXBvcnQgeyBSZXNvbHZlciwgUXVlcnksIE11dGF0aW9uIH0gZnJvbSAnQG5lc3Rqcy9ncmFwaHFsJztcbmltcG9ydCB7IEludml0ZXNSZXF1ZXN0c1NlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9pbnZpdGVzJztcbmltcG9ydCB7IElJbnZpdGVSZXF1ZXN0Q3JlYXRlT2JqZWN0IH0gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9pbnRlcmZhY2VzL0lJbnZpdGVSZXF1ZXN0JztcbmltcG9ydCB7IGZpcnN0IH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IEludml0ZSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL0ludml0ZSc7XG5pbXBvcnQgSW52aXRlUmVxdWVzdCBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL0ludml0ZVJlcXVlc3QnO1xuXG5AUmVzb2x2ZXIoJ0ludml0ZS1yZXF1ZXN0JylcbmV4cG9ydCBjbGFzcyBJbnZpdGVSZXF1ZXN0UmVzb2x2ZXIge1xuXHRjb25zdHJ1Y3Rvcihcblx0XHRwcml2YXRlIHJlYWRvbmx5IF9pbnZpdGVzUmVxdWVzdHNTZXJ2aWNlOiBJbnZpdGVzUmVxdWVzdHNTZXJ2aWNlXG5cdCkge31cblxuXHRAUXVlcnkoKVxuXHRhc3luYyBnZW5lcmF0ZTEwMDBJbnZpdGVSZXF1ZXN0cyhcblx0XHRfLFxuXHRcdHsgZGVmYXVsdExuZywgZGVmYXVsdExhdCB9OiB7IGRlZmF1bHRMbmc6IG51bWJlcjsgZGVmYXVsdExhdDogbnVtYmVyIH1cblx0KSB7XG5cdFx0YXdhaXQgdGhpcy5faW52aXRlc1JlcXVlc3RzU2VydmljZS5nZW5lcmF0ZTEwMDBJbnZpdGVSZXF1ZXN0cyhcblx0XHRcdGRlZmF1bHRMbmcsXG5cdFx0XHRkZWZhdWx0TGF0XG5cdFx0KTtcblx0fVxuXG5cdEBRdWVyeSgnaW52aXRlUmVxdWVzdCcpXG5cdGFzeW5jIGdldEludml0ZVJlcXVlc3QoXywgeyBpZCB9OiB7IGlkOiBzdHJpbmcgfSkge1xuXHRcdHJldHVybiB0aGlzLl9pbnZpdGVzUmVxdWVzdHNTZXJ2aWNlLmdldChpZCkucGlwZShmaXJzdCgpKS50b1Byb21pc2UoKTtcblx0fVxuXG5cdEBRdWVyeSgnbm90aWZ5QWJvdXRMYXVuY2gnKVxuXHRhc3luYyBub3RpZnlBYm91dExhdW5jaChcblx0XHRfLFxuXHRcdHtcblx0XHRcdGludml0ZSxcblx0XHRcdGRldmljZXNJZHMsXG5cdFx0fToge1xuXHRcdFx0aW52aXRlOiBJbnZpdGU7XG5cdFx0XHRkZXZpY2VzSWRzOiBzdHJpbmdbXTtcblx0XHR9XG5cdCkge1xuXHRcdHJldHVybiB0aGlzLl9pbnZpdGVzUmVxdWVzdHNTZXJ2aWNlLm5vdGlmeUFib3V0TGF1bmNoKFxuXHRcdFx0aW52aXRlLFxuXHRcdFx0ZGV2aWNlc0lkc1xuXHRcdCk7XG5cdH1cblxuXHRAUXVlcnkoJ2ludml0ZXNSZXF1ZXN0cycpXG5cdGFzeW5jIGdldEludml0ZXNSZXF1ZXN0cyhfLCB7IGZpbmRJbnB1dCwgaW52aXRlZCwgcGFnaW5nT3B0aW9ucyA9IHt9IH0pIHtcblx0XHRpZiAoIXBhZ2luZ09wdGlvbnMgfHwgKHBhZ2luZ09wdGlvbnMgJiYgIXBhZ2luZ09wdGlvbnNbJ3NvcnQnXSkpIHtcblx0XHRcdHBhZ2luZ09wdGlvbnNbJ3NvcnQnXSA9IHsgZmllbGQ6ICdfY3JlYXRlZEF0Jywgc29ydEJ5OiAnYXNjJyB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IGludml0ZXNSZXF1ZXN0cyA9IGF3YWl0IHRoaXMuX2ludml0ZXNSZXF1ZXN0c1NlcnZpY2UuZ2V0SW52aXRlc1JlcXVlc3RzKFxuXHRcdFx0ZmluZElucHV0LFxuXHRcdFx0aW52aXRlZCxcblx0XHRcdHBhZ2luZ09wdGlvbnNcblx0XHQpO1xuXG5cdFx0cmV0dXJuIGludml0ZXNSZXF1ZXN0cy5tYXAoKGkpID0+IG5ldyBJbnZpdGVSZXF1ZXN0KGkpKTtcblx0fVxuXG5cdEBRdWVyeSgpXG5cdGFzeW5jIGdldENvdW50T2ZJbnZpdGVzUmVxdWVzdHMoXywgeyBpbnZpdGVkIH0pIHtcblx0XHRjb25zdCBmaW5kT2JqID0geyBpc0RlbGV0ZWQ6IHsgJGVxOiBmYWxzZSB9IH07XG5cblx0XHRpZiAoIWludml0ZWQpIHtcblx0XHRcdGZpbmRPYmpbJ2lzSW52aXRlZCddID0geyAkZXE6IGZhbHNlIH07XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuX2ludml0ZXNSZXF1ZXN0c1NlcnZpY2UuTW9kZWwuZmluZChmaW5kT2JqKVxuXHRcdFx0LmNvdW50RG9jdW1lbnRzKClcblx0XHRcdC5leGVjKCk7XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHRhc3luYyBjcmVhdGVJbnZpdGVSZXF1ZXN0KFxuXHRcdF8sXG5cdFx0eyBjcmVhdGVJbnB1dCB9OiB7IGNyZWF0ZUlucHV0OiBJSW52aXRlUmVxdWVzdENyZWF0ZU9iamVjdCB9XG5cdCkge1xuXHRcdHJldHVybiB0aGlzLl9pbnZpdGVzUmVxdWVzdHNTZXJ2aWNlLmNyZWF0ZShjcmVhdGVJbnB1dCk7XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHRhc3luYyB1cGRhdGVJbnZpdGVSZXF1ZXN0KFxuXHRcdF8sXG5cdFx0eyBpZCwgdXBkYXRlSW5wdXQgfTogeyBpZDogc3RyaW5nOyB1cGRhdGVJbnB1dCB9XG5cdCkge1xuXHRcdGF3YWl0IHRoaXMuX2ludml0ZXNSZXF1ZXN0c1NlcnZpY2UudGhyb3dJZk5vdEV4aXN0cyhpZCk7XG5cdFx0cmV0dXJuIHRoaXMuX2ludml0ZXNSZXF1ZXN0c1NlcnZpY2UudXBkYXRlKGlkLCB1cGRhdGVJbnB1dCk7XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHRhc3luYyByZW1vdmVJbnZpdGVSZXF1ZXN0KF8sIHsgaWQgfTogeyBpZDogc3RyaW5nIH0pIHtcblx0XHRhd2FpdCB0aGlzLl9pbnZpdGVzUmVxdWVzdHNTZXJ2aWNlLnRocm93SWZOb3RFeGlzdHMoaWQpO1xuXHRcdHJldHVybiB0aGlzLl9pbnZpdGVzUmVxdWVzdHNTZXJ2aWNlLnJlbW92ZShpZCk7XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHRhc3luYyByZW1vdmVJbnZpdGVzUmVxdWVzdHNCeUlkcyhfLCB7IGlkcyB9OiB7IGlkczogc3RyaW5nW10gfSkge1xuXHRcdGNvbnN0IGludml0ZVJlcXVlc3RzID0gYXdhaXQgdGhpcy5faW52aXRlc1JlcXVlc3RzU2VydmljZS5maW5kKHtcblx0XHRcdF9pZDogeyAkaW46IGlkcyB9LFxuXHRcdFx0aXNEZWxldGVkOiB7ICRlcTogZmFsc2UgfSxcblx0XHR9KTtcblxuXHRcdGNvbnN0IGludml0ZVJlcXVlc3RzSWRzID0gaW52aXRlUmVxdWVzdHMubWFwKChkKSA9PiBkLmlkKTtcblxuXHRcdHJldHVybiB0aGlzLl9pbnZpdGVzUmVxdWVzdHNTZXJ2aWNlLnJlbW92ZU11bHRpcGxlQnlJZHMoXG5cdFx0XHRpbnZpdGVSZXF1ZXN0c0lkc1xuXHRcdCk7XG5cdH1cbn1cbiIsImltcG9ydCB7IE11dGF0aW9uLCBRdWVyeSwgUmVzb2x2ZXIgfSBmcm9tICdAbmVzdGpzL2dyYXBocWwnO1xuaW1wb3J0IHsgZmlyc3QgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgSUVudGVyQnlDb2RlIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JRW50ZXJCeUNvZGUnO1xuaW1wb3J0IElFbnRlckJ5TG9jYXRpb24gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9pbnRlcmZhY2VzL0lFbnRlckJ5TG9jYXRpb24nO1xuaW1wb3J0IHsgSUludml0ZUNyZWF0ZU9iamVjdCB9IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JSW52aXRlJztcbmltcG9ydCB7IEludml0ZXNTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvaW52aXRlcy9JbnZpdGVzU2VydmljZSc7XG5pbXBvcnQgeyBJbnZpdGVzUmVxdWVzdHNTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvaW52aXRlcyc7XG5pbXBvcnQgSW52aXRlIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvSW52aXRlJztcblxuQFJlc29sdmVyKCdJbnZpdGUnKVxuZXhwb3J0IGNsYXNzIEludml0ZVJlc29sdmVyIHtcblx0Y29uc3RydWN0b3IoXG5cdFx0cHJpdmF0ZSByZWFkb25seSBfaW52aXRlc1NlcnZpY2U6IEludml0ZXNTZXJ2aWNlLFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgX2ludml0ZVJlcXVlc3RzU2VydmljZTogSW52aXRlc1JlcXVlc3RzU2VydmljZVxuXHQpIHt9XG5cblx0QFF1ZXJ5KClcblx0YXN5bmMgZ2VuZXJhdGUxMDAwSW52aXRlc0Nvbm5lY3RlZFRvSW52aXRlUmVxdWVzdHMoXG5cdFx0Xyxcblx0XHR7IGRlZmF1bHRMbmcsIGRlZmF1bHRMYXQgfTogeyBkZWZhdWx0TG5nOiBudW1iZXI7IGRlZmF1bHRMYXQ6IG51bWJlciB9XG5cdCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGNvbnN0IHtcblx0XHRcdGludml0ZXNSZXF1ZXN0c1RvQ3JlYXRlLFxuXHRcdFx0aW52aXRlc1RvQ3JlYXRlLFxuXHRcdH0gPSB0aGlzLl9pbnZpdGVzU2VydmljZS5nZW5lcmF0ZTEwMDBJbnZpdGVzQ29ubmVjdGVkVG9JbnZpdGVSZXF1ZXN0cyhcblx0XHRcdGRlZmF1bHRMbmcsXG5cdFx0XHRkZWZhdWx0TGF0XG5cdFx0KTtcblxuXHRcdGF3YWl0IHRoaXMuX2ludml0ZXNTZXJ2aWNlLk1vZGVsLmluc2VydE1hbnkoaW52aXRlc1RvQ3JlYXRlKTtcblx0XHRhd2FpdCB0aGlzLl9pbnZpdGVSZXF1ZXN0c1NlcnZpY2UuTW9kZWwuaW5zZXJ0TWFueShcblx0XHRcdGludml0ZXNSZXF1ZXN0c1RvQ3JlYXRlXG5cdFx0KTtcblx0fVxuXG5cdEBRdWVyeSgnaW52aXRlJylcblx0YXN5bmMgZ2V0SW52aXRlKF8sIHsgaWQgfTogeyBpZDogc3RyaW5nIH0pOiBQcm9taXNlPEludml0ZT4ge1xuXHRcdHJldHVybiB0aGlzLl9pbnZpdGVzU2VydmljZS5nZXQoaWQpLnBpcGUoZmlyc3QoKSkudG9Qcm9taXNlKCk7XG5cdH1cblxuXHRAUXVlcnkoJ2dldEludml0ZUJ5Q29kZScpXG5cdGFzeW5jIGdldEludml0ZUJ5Q29kZShcblx0XHRfLFxuXHRcdHsgaW5mbyB9OiB7IGluZm86IElFbnRlckJ5Q29kZSB9XG5cdCk6IFByb21pc2U8SW52aXRlPiB7XG5cdFx0cmV0dXJuIHRoaXMuX2ludml0ZXNTZXJ2aWNlLmdldEJ5Q29kZShpbmZvKS5waXBlKGZpcnN0KCkpLnRvUHJvbWlzZSgpO1xuXHR9XG5cblx0QFF1ZXJ5KCdnZXRJbnZpdGVCeUxvY2F0aW9uJylcblx0YXN5bmMgZ2V0SW52aXRlQnlMb2NhdGlvbihcblx0XHRfLFxuXHRcdHsgaW5mbyB9OiB7IGluZm86IElFbnRlckJ5TG9jYXRpb24gfVxuXHQpOiBQcm9taXNlPEludml0ZT4ge1xuXHRcdHJldHVybiB0aGlzLl9pbnZpdGVzU2VydmljZVxuXHRcdFx0LmdldEJ5TG9jYXRpb24oaW5mbylcblx0XHRcdC5waXBlKGZpcnN0KCkpXG5cdFx0XHQudG9Qcm9taXNlKCk7XG5cdH1cblxuXHRAUXVlcnkoJ2ludml0ZXMnKVxuXHRhc3luYyBnZXRJbnZpdGVzKF8sIHsgZmluZElucHV0LCBwYWdpbmdPcHRpb25zID0ge30gfSk6IFByb21pc2U8YW55PiB7XG5cdFx0aWYgKCFwYWdpbmdPcHRpb25zIHx8IChwYWdpbmdPcHRpb25zICYmICFwYWdpbmdPcHRpb25zWydzb3J0J10pKSB7XG5cdFx0XHRwYWdpbmdPcHRpb25zWydzb3J0J10gPSB7IGZpZWxkOiAnX2NyZWF0ZWRBdCcsIHNvcnRCeTogJ2Rlc2MnIH07XG5cdFx0fVxuXG5cdFx0Y29uc3QgaW52aXRlcyA9IGF3YWl0IHRoaXMuX2ludml0ZXNTZXJ2aWNlLmdldEludml0ZXMoXG5cdFx0XHRmaW5kSW5wdXQsXG5cdFx0XHRwYWdpbmdPcHRpb25zXG5cdFx0KTtcblxuXHRcdHJldHVybiBpbnZpdGVzLm1hcCgoaSkgPT4gbmV3IEludml0ZShpKSk7XG5cdH1cblxuXHRAUXVlcnkoKVxuXHRhc3luYyBnZXRDb3VudE9mSW52aXRlcygpOiBQcm9taXNlPG51bWJlcj4ge1xuXHRcdHJldHVybiB0aGlzLl9pbnZpdGVzU2VydmljZS5Nb2RlbC5maW5kKHsgaXNEZWxldGVkOiB7ICRlcTogZmFsc2UgfSB9KVxuXHRcdFx0LmNvdW50RG9jdW1lbnRzKClcblx0XHRcdC5leGVjKCk7XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHRhc3luYyBjcmVhdGVJbnZpdGUoXG5cdFx0Xyxcblx0XHR7IGNyZWF0ZUlucHV0IH06IHsgY3JlYXRlSW5wdXQ6IElJbnZpdGVDcmVhdGVPYmplY3QgfVxuXHQpOiBQcm9taXNlPEludml0ZT4ge1xuXHRcdHJldHVybiB0aGlzLl9pbnZpdGVzU2VydmljZS5jcmVhdGUoY3JlYXRlSW5wdXQpO1xuXHR9XG5cblx0QE11dGF0aW9uKClcblx0YXN5bmMgdXBkYXRlSW52aXRlKFxuXHRcdF8sXG5cdFx0eyBpZCwgdXBkYXRlSW5wdXQgfTogeyBpZDogc3RyaW5nOyB1cGRhdGVJbnB1dCB9XG5cdCk6IFByb21pc2U8SW52aXRlPiB7XG5cdFx0YXdhaXQgdGhpcy5faW52aXRlc1NlcnZpY2UudGhyb3dJZk5vdEV4aXN0cyhpZCk7XG5cdFx0cmV0dXJuIHRoaXMuX2ludml0ZXNTZXJ2aWNlLnVwZGF0ZShpZCwgdXBkYXRlSW5wdXQpO1xuXHR9XG5cblx0QE11dGF0aW9uKClcblx0YXN5bmMgcmVtb3ZlSW52aXRlKF8sIHsgaWQgfTogeyBpZDogc3RyaW5nIH0pOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRhd2FpdCB0aGlzLl9pbnZpdGVzU2VydmljZS50aHJvd0lmTm90RXhpc3RzKGlkKTtcblx0XHRyZXR1cm4gdGhpcy5faW52aXRlc1NlcnZpY2UucmVtb3ZlKGlkKTtcblx0fVxuXG5cdEBNdXRhdGlvbigpXG5cdGFzeW5jIHJlbW92ZUludml0ZXNCeUlkcyhfLCB7IGlkcyB9OiB7IGlkczogc3RyaW5nW10gfSk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGNvbnN0IGludml0ZXMgPSBhd2FpdCB0aGlzLl9pbnZpdGVzU2VydmljZS5maW5kKHtcblx0XHRcdF9pZDogeyAkaW46IGlkcyB9LFxuXHRcdFx0aXNEZWxldGVkOiB7ICRlcTogZmFsc2UgfSxcblx0XHR9KTtcblxuXHRcdGNvbnN0IGludml0ZXNJZHMgPSBpbnZpdGVzLm1hcCgoZCkgPT4gZC5pZCk7XG5cblx0XHRyZXR1cm4gdGhpcy5faW52aXRlc1NlcnZpY2UucmVtb3ZlTXVsdGlwbGVCeUlkcyhpbnZpdGVzSWRzKTtcblx0fVxufVxuIiwiaW1wb3J0IHsgTW9kdWxlIH0gZnJvbSAnQG5lc3Rqcy9jb21tb24nO1xuaW1wb3J0IHsgSW52aXRlUmVzb2x2ZXIgfSBmcm9tICcuL2ludml0ZS5yZXNvbHZlcic7XG5cbkBNb2R1bGUoe1xuXHRwcm92aWRlcnM6IFtJbnZpdGVSZXNvbHZlcl0sXG59KVxuZXhwb3J0IGNsYXNzIEludml0ZXNNb2R1bGUge31cbiIsImltcG9ydCB7IFF1ZXJ5LCBSZXNvbHZlUHJvcGVydHksIFJlc29sdmVyLCBNdXRhdGlvbiB9IGZyb20gJ0BuZXN0anMvZ3JhcGhxbCc7XG5pbXBvcnQgSU9yZGVyIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JT3JkZXInO1xuaW1wb3J0IENhcnJpZXJzU2VydmljZSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9jYXJyaWVycy9DYXJyaWVyc1NlcnZpY2UnO1xuaW1wb3J0IE9yZGVyIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvT3JkZXInO1xuaW1wb3J0IHsgZmlyc3QgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgT3JkZXJDYXJyaWVyU3RhdHVzIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW51bXMvT3JkZXJDYXJyaWVyU3RhdHVzJztcbmltcG9ydCBPcmRlcldhcmVob3VzZVN0YXR1cyBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudW1zL09yZGVyV2FyZWhvdXNlU3RhdHVzJztcbmltcG9ydCBXYXJlaG91c2UgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9XYXJlaG91c2UnO1xuaW1wb3J0IFVzZXIgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9Vc2VyJztcbmltcG9ydCBDYXJyaWVyIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvQ2Fycmllcic7XG5pbXBvcnQgeyBXYXJlaG91c2VzU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL3dhcmVob3VzZXMnO1xuaW1wb3J0IHsgT3JkZXJzU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL29yZGVycyc7XG5pbXBvcnQgeyBVc2Vyc1NlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy91c2Vycyc7XG5pbXBvcnQgSVByb2R1Y3QgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9pbnRlcmZhY2VzL0lQcm9kdWN0JztcbmltcG9ydCB7IFByb2R1Y3RzU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL3Byb2R1Y3RzJztcbmltcG9ydCBQcm9kdWN0IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvUHJvZHVjdCc7XG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgT2JqZWN0SWQgfSBmcm9tICdic29uJztcbmltcG9ydCB7IEZha2VPcmRlcnNTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvZmFrZS1kYXRhL0Zha2VPcmRlcnNTZXJ2aWNlJztcblxuQFJlc29sdmVyKCdPcmRlcicpXG5leHBvcnQgY2xhc3MgT3JkZXJSZXNvbHZlciB7XG5cdGNvbnN0cnVjdG9yKFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgX29yZGVyc1NlcnZpY2U6IE9yZGVyc1NlcnZpY2UsXG5cdFx0cHJpdmF0ZSByZWFkb25seSBfY2FycmllcnNTZXJ2aWNlOiBDYXJyaWVyc1NlcnZpY2UsXG5cdFx0cHJpdmF0ZSByZWFkb25seSBfd2FyZWhvdXNlc1NlcnZpY2U6IFdhcmVob3VzZXNTZXJ2aWNlLFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgX3VzZXJzU2VydmljZTogVXNlcnNTZXJ2aWNlLFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgX3Byb2R1Y3RzU2VydmljZTogUHJvZHVjdHNTZXJ2aWNlLFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgX2Zha2VPcmRlcnNTZXJ2aWNlOiBGYWtlT3JkZXJzU2VydmljZVxuXHQpIHt9XG5cblx0cHJpdmF0ZSBfZ2V0UmFuZG9tUHJvZHVjdCA9IChcblx0XHRvcmRlckNvdW50OiBudW1iZXIsXG5cdFx0cHJvZHVjdHM6IFByb2R1Y3RbXVxuXHQpOiBJUHJvZHVjdCA9PiB7XG5cdFx0cmV0dXJuIHByb2R1Y3RzW29yZGVyQ291bnQgJSBwcm9kdWN0cy5sZW5ndGhdO1xuXHR9O1xuXG5cdHByaXZhdGUgX2dldFJhbmRvbUN1c3RvbWVyID0gKFxuXHRcdG9yZGVyQ291bnQ6IG51bWJlcixcblx0XHRjdXN0b21lcnM6IFVzZXJbXVxuXHQpOiBVc2VyID0+IHtcblx0XHRpZiAob3JkZXJDb3VudCA8IGN1c3RvbWVycy5sZW5ndGgpIHtcblx0XHRcdHJldHVybiBjdXN0b21lcnNbb3JkZXJDb3VudF07XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBjdXN0b21lcnNbb3JkZXJDb3VudCAlIGN1c3RvbWVycy5sZW5ndGhdO1xuXHRcdH1cblx0fTtcblxuXHRwcml2YXRlIF9nZXRSYW5kb21DYXJyaWVySWQgPSAoXG5cdFx0b3JkZXJDb3VudDogbnVtYmVyLFxuXHRcdGNhcnJpZXJzOiBDYXJyaWVyW11cblx0KTogc3RyaW5nID0+IHtcblx0XHRyZXR1cm4gY2FycmllcnNbb3JkZXJDb3VudCAlIGNhcnJpZXJzLmxlbmd0aF0uaWQ7XG5cdH07XG5cblx0cHJpdmF0ZSBfcHJlcGFyZU9yZGVyRmllbGRzVmFsdWVzID0gKG9yZGVyQ291bnQ6IG51bWJlcikgPT4ge1xuXHRcdGNvbnN0IGhhc0NhcnJpZXIgPSBNYXRoLnJhbmRvbSgpID4gMC4wNzsgLy8gNyUgY2hhbmNlLCBvcmRlciBoYXZlIG5vdCBjYXJyaWVyLlxuXHRcdGNvbnN0IG9yZGVySXNQYWlkID0gTWF0aC5yYW5kb20oKSA+IDAuMTU7IC8vIDE1JSBjaGFuY2UsIG9yZGVyIHRvIGJlIGNhbmNlbGxlZC5cblx0XHRjb25zdCBudW1iZXJPZlByb2R1Y3RzVG9PcmRlciA9IG9yZGVyQ291bnQgJSA0IHx8IDE7XG5cblx0XHRyZXR1cm4geyBudW1iZXJPZlByb2R1Y3RzVG9PcmRlciwgaGFzQ2Fycmllciwgb3JkZXJJc1BhaWQgfTtcblx0fTtcblxuXHRwcml2YXRlIF9nZXRSYW5kb21PcmRlckRhdGUgPSAob3JkZXJDb3VudDogbnVtYmVyKTogRGF0ZSA9PiB7XG5cdFx0Y29uc3Qgb3JkZXJEYXRlID0gbmV3IERhdGUoKTtcblxuXHRcdG9yZGVyRGF0ZS5zZXRGdWxsWWVhcihcblx0XHRcdG9yZGVyRGF0ZS5nZXRGdWxsWWVhcigpIC0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogNSlcblx0XHQpO1xuXG5cdFx0Y29uc3QgZGF0ZU5vdyA9IG5ldyBEYXRlKCk7XG5cblx0XHRjb25zdCBpc0N1cnJlbnRZZWFyID0gb3JkZXJEYXRlLmdldEZ1bGxZZWFyKCkgPT09IGRhdGVOb3cuZ2V0RnVsbFllYXIoKTtcblxuXHRcdGNvbnN0IG1vbnRocyA9IGlzQ3VycmVudFllYXIgPyBOdW1iZXIoZGF0ZU5vdy5nZXRNb250aCgpKSA6IDExO1xuXG5cdFx0b3JkZXJEYXRlLnNldE1vbnRoKG1vbnRocyA+IDAgPyBvcmRlckNvdW50ICUgbW9udGhzIDogMCk7XG5cblx0XHRjb25zdCBpc0N1cnJlbnRNb250aCA9XG5cdFx0XHRvcmRlckRhdGUuZ2V0TW9udGgoKSA9PT0gZGF0ZU5vdy5nZXRNb250aCgpICYmIGlzQ3VycmVudFllYXI7XG5cblx0XHRjb25zdCBkYXlzID0gaXNDdXJyZW50TW9udGggPyBOdW1iZXIoZGF0ZU5vdy5nZXREYXRlKCkpIDogMzE7XG5cblx0XHRvcmRlckRhdGUuc2V0RGF0ZShvcmRlckNvdW50ICUgZGF5cyk7XG5cblx0XHRjb25zdCBpc0N1cnJlbnREYXkgPVxuXHRcdFx0b3JkZXJEYXRlLmdldERhdGUoKSA9PT0gZGF0ZU5vdy5nZXREYXRlKCkgJiZcblx0XHRcdGlzQ3VycmVudFllYXIgJiZcblx0XHRcdGlzQ3VycmVudE1vbnRoO1xuXG5cdFx0Y29uc3QgaG91cnMgPSBpc0N1cnJlbnREYXkgPyBOdW1iZXIoZGF0ZU5vdy5nZXRIb3VycygpKSA6IDI0O1xuXG5cdFx0b3JkZXJEYXRlLnNldEhvdXJzKG9yZGVyQ291bnQgJSBob3Vycyk7XG5cblx0XHRyZXR1cm4gb3JkZXJEYXRlO1xuXHR9O1xuXG5cdHByaXZhdGUgX3NldHVwT3JkZXJQcm9kdWN0cyA9IChwcm9kdWN0czogUHJvZHVjdFtdKSA9PiB7XG5cdFx0bGV0IHByb2R1Y3RDb3VudCA9IDE7XG5cdFx0Y29uc3Qgb3JkZXJQcm9kdWN0cyA9IFtdO1xuXG5cdFx0Zm9yIChjb25zdCBwIG9mIHByb2R1Y3RzKSB7XG5cdFx0XHRjb25zdCBwcm9kdWN0UHJpY2UgPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAxNSk7XG5cblx0XHRcdG9yZGVyUHJvZHVjdHMucHVzaCh7XG5cdFx0XHRcdGNvdW50OiAyLFxuXHRcdFx0XHRpc01hbnVmYWN0dXJpbmc6IHRydWUsXG5cdFx0XHRcdGlzQ2FycmllclJlcXVpcmVkOiB0cnVlLFxuXHRcdFx0XHRpc0RlbGl2ZXJ5UmVxdWlyZWQ6IHRydWUsXG5cdFx0XHRcdHByaWNlOiBwcm9kdWN0UHJpY2UsXG5cdFx0XHRcdGluaXRpYWxQcmljZTogcHJvZHVjdFByaWNlLFxuXHRcdFx0XHRwcm9kdWN0OiBwLFxuXHRcdFx0fSk7XG5cblx0XHRcdGlmIChwcm9kdWN0Q291bnQgPj0gMykge1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdHByb2R1Y3RDb3VudCArPSAxO1xuXHRcdH1cblxuXHRcdHJldHVybiBvcmRlclByb2R1Y3RzO1xuXHR9O1xuXG5cdHByaXZhdGUgX3NldHVwQXZhaWxhYmxlT3JkZXJzVG9DcmVhdGUgPSAoXG5cdFx0c3RvcmVzOiBXYXJlaG91c2VbXSxcblx0XHRwcm9kdWN0czogUHJvZHVjdFtdLFxuXHRcdHVzZXJzOiBVc2VyW11cblx0KSA9PiB7XG5cdFx0Y29uc3Qgb3JkZXJzID0gW107XG5cblx0XHRmb3IgKGxldCBvcmRlck51bWJlciA9IDE7IG9yZGVyTnVtYmVyIDw9IDMwOyBvcmRlck51bWJlciArPSAxKSB7XG5cdFx0XHRjb25zdCBvcmRlclN0b3JlID0gc3RvcmVzW18ucmFuZG9tKHN0b3Jlcy5sZW5ndGggLSAxKV07XG5cblx0XHRcdGNvbnN0IG9yZGVyUHJvZHVjdHMgPSB0aGlzLl9zZXR1cE9yZGVyUHJvZHVjdHMocHJvZHVjdHMpO1xuXG5cdFx0XHRjb25zdCBjcmVhdGVkQXQgPSB0aGlzLmdldENsb3NlRGF0ZShuZXcgRGF0ZSgpKTtcblxuXHRcdFx0b3JkZXJzLnB1c2goe1xuXHRcdFx0XHR1c2VyOiB1c2Vyc1tfLnJhbmRvbSh1c2Vycy5sZW5ndGggLSAxKV0sXG5cdFx0XHRcdHdhcmVob3VzZTogb3JkZXJTdG9yZS5faWQudG9TdHJpbmcoKSxcblx0XHRcdFx0cHJvZHVjdHM6IG9yZGVyUHJvZHVjdHMsXG5cdFx0XHRcdGlzQ29uZmlybWVkOiB0cnVlLFxuXHRcdFx0XHRpc0NhbmNlbGxlZDogZmFsc2UsXG5cdFx0XHRcdGlzUGFpZDogZmFsc2UsXG5cdFx0XHRcdHdhcmVob3VzZVN0YXR1czogT3JkZXJXYXJlaG91c2VTdGF0dXMuUGFja2FnaW5nRmluaXNoZWQsXG5cdFx0XHRcdGNhcnJpZXJTdGF0dXM6IE9yZGVyQ2FycmllclN0YXR1cy5Ob0NhcnJpZXIsXG5cdFx0XHRcdG9yZGVyTnVtYmVyLFxuXHRcdFx0XHRfY3JlYXRlZEF0OiBjcmVhdGVkQXQsXG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0cmV0dXJuIG9yZGVycztcblx0fTtcblxuXHRwcml2YXRlIF9zZXR1cEhpc3RvcnlPcmRlcnNUb0NyZWF0ZSA9IChcblx0XHRzdG9yZXM6IFdhcmVob3VzZVtdLFxuXHRcdHByb2R1Y3RzOiBQcm9kdWN0W10sXG5cdFx0dXNlcnM6IFVzZXJbXSxcblx0XHRjYXJyaWVySWQ6IHN0cmluZyxcblx0XHRvcmRlck51bWJlcjogbnVtYmVyXG5cdCkgPT4ge1xuXHRcdGNvbnN0IG9yZGVycyA9IFtdO1xuXG5cdFx0Y29uc3QgYXZhaWxhYmxlU3RhdHVzZXM6IE9yZGVyQ2FycmllclN0YXR1c1tdID0gW1xuXHRcdFx0T3JkZXJDYXJyaWVyU3RhdHVzLkRlbGl2ZXJ5Q29tcGxldGVkLFxuXHRcdFx0T3JkZXJDYXJyaWVyU3RhdHVzLklzc3Vlc0R1cmluZ0RlbGl2ZXJ5LFxuXHRcdFx0T3JkZXJDYXJyaWVyU3RhdHVzLkNsaWVudFJlZnVzZVRha2luZ09yZGVyLFxuXHRcdF07XG5cblx0XHRmb3IgKGxldCBpID0gMTsgaSA8PSAxMjsgaSArPSAxKSB7XG5cdFx0XHRjb25zdCBvcmRlclN0b3JlID0gc3RvcmVzW18ucmFuZG9tKHN0b3Jlcy5sZW5ndGggLSAxKV07XG5cblx0XHRcdGNvbnN0IG9yZGVyUHJvZHVjdHMgPSB0aGlzLl9zZXR1cE9yZGVyUHJvZHVjdHMocHJvZHVjdHMpO1xuXG5cdFx0XHRjb25zdCBjYXJyaWVyU3RhdHVzID1cblx0XHRcdFx0YXZhaWxhYmxlU3RhdHVzZXNbXy5yYW5kb20oYXZhaWxhYmxlU3RhdHVzZXMubGVuZ3RoIC0gMSldO1xuXG5cdFx0XHRjb25zdCBjcmVhdGVkQXQgPSB0aGlzLmdldENsb3NlRGF0ZShuZXcgRGF0ZSgpKTtcblxuXHRcdFx0Y29uc3Qgc3RhcnREZWxpdmVyeVRpbWUgPSB0aGlzLmdldEZpbmlzaGVkVGltZShjcmVhdGVkQXQpO1xuXG5cdFx0XHRvcmRlcnMucHVzaCh7XG5cdFx0XHRcdHVzZXI6IHVzZXJzW18ucmFuZG9tKHVzZXJzLmxlbmd0aCAtIDEpXSxcblx0XHRcdFx0d2FyZWhvdXNlOiBvcmRlclN0b3JlLl9pZC50b1N0cmluZygpLFxuXHRcdFx0XHRwcm9kdWN0czogb3JkZXJQcm9kdWN0cyxcblx0XHRcdFx0aXNDb25maXJtZWQ6IHRydWUsXG5cdFx0XHRcdGlzQ2FuY2VsbGVkOiBmYWxzZSxcblx0XHRcdFx0Y2FycmllcjogY2FycmllcklkLFxuXHRcdFx0XHRzdGFydERlbGl2ZXJ5VGltZSxcblx0XHRcdFx0ZGVsaXZlcnlUaW1lOlxuXHRcdFx0XHRcdGNhcnJpZXJTdGF0dXMgPT09IE9yZGVyQ2FycmllclN0YXR1cy5EZWxpdmVyeUNvbXBsZXRlZFxuXHRcdFx0XHRcdFx0PyB0aGlzLmdldEZpbmlzaGVkVGltZShzdGFydERlbGl2ZXJ5VGltZSlcblx0XHRcdFx0XHRcdDogbnVsbCxcblx0XHRcdFx0ZmluaXNoZWRQcm9jZXNzaW5nVGltZTpcblx0XHRcdFx0XHRjYXJyaWVyU3RhdHVzICE9PSBPcmRlckNhcnJpZXJTdGF0dXMuRGVsaXZlcnlDb21wbGV0ZWRcblx0XHRcdFx0XHRcdD8gdGhpcy5nZXRGaW5pc2hlZFRpbWUoc3RhcnREZWxpdmVyeVRpbWUpXG5cdFx0XHRcdFx0XHQ6IG51bGwsXG5cdFx0XHRcdGlzUGFpZDogdHJ1ZSxcblx0XHRcdFx0d2FyZWhvdXNlU3RhdHVzOiBPcmRlcldhcmVob3VzZVN0YXR1cy5HaXZlblRvQ2Fycmllcixcblx0XHRcdFx0Y2FycmllclN0YXR1cyxcblx0XHRcdFx0b3JkZXJOdW1iZXIsXG5cdFx0XHRcdF9jcmVhdGVkQXQ6IGNyZWF0ZWRBdCxcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHJldHVybiBvcmRlcnM7XG5cdH07XG5cblx0QFF1ZXJ5KClcblx0YXN5bmMgZ2VuZXJhdGVBY3RpdmVBbmRBdmFpbGFibGVPcmRlcnNQZXJDYXJyaWVyKCkge1xuXHRcdGNvbnN0IGNvbW1vbk9wdGlvbnNGbGFnID0geyBpc0RlbGV0ZWQ6IHsgJGVxOiBmYWxzZSB9IH07XG5cblx0XHRjb25zdCB1c2VyczogVXNlcltdID0gYXdhaXQgdGhpcy5fdXNlcnNTZXJ2aWNlLk1vZGVsLmZpbmQoXG5cdFx0XHRjb21tb25PcHRpb25zRmxhZ1xuXHRcdClcblx0XHRcdC5zZWxlY3QoeyBfX3Y6IDAgfSlcblx0XHRcdC5sZWFuKClcblx0XHRcdC5leGVjKCk7XG5cblx0XHRjb25zdCBzdG9yZXM6IFdhcmVob3VzZVtdID0gYXdhaXQgdGhpcy5fd2FyZWhvdXNlc1NlcnZpY2UuTW9kZWwuZmluZChcblx0XHRcdGNvbW1vbk9wdGlvbnNGbGFnXG5cdFx0KVxuXHRcdFx0LnNlbGVjdCh7IF9pZDogMSB9KVxuXHRcdFx0LmxlYW4oKVxuXHRcdFx0LmV4ZWMoKTtcblxuXHRcdGNvbnN0IHByb2R1Y3RzOiBQcm9kdWN0W10gPSBhd2FpdCB0aGlzLl9wcm9kdWN0c1NlcnZpY2UuTW9kZWwuZmluZChcblx0XHRcdGNvbW1vbk9wdGlvbnNGbGFnXG5cdFx0KVxuXHRcdFx0LnNlbGVjdCh7IF9fdjogMCB9KVxuXHRcdFx0LmxlYW4oKVxuXHRcdFx0LmV4ZWMoKTtcblxuXHRcdGNvbnN0IG9yZGVyc1JhdyA9IHRoaXMuX3NldHVwQXZhaWxhYmxlT3JkZXJzVG9DcmVhdGUoXG5cdFx0XHRzdG9yZXMsXG5cdFx0XHRwcm9kdWN0cyxcblx0XHRcdHVzZXJzXG5cdFx0KTtcblxuXHRcdGF3YWl0IHRoaXMuX29yZGVyc1NlcnZpY2UuTW9kZWwuaW5zZXJ0TWFueShvcmRlcnNSYXcpO1xuXHR9XG5cblx0QFF1ZXJ5KClcblx0YXN5bmMgZ2VuZXJhdGVQYXN0T3JkZXJzUGVyQ2FycmllcigpIHtcblx0XHRjb25zdCBjb21tb25PcHRpb25zRmxhZyA9IHsgaXNEZWxldGVkOiB7ICRlcTogZmFsc2UgfSB9O1xuXG5cdFx0Y29uc3QgdXNlcnM6IFVzZXJbXSA9IGF3YWl0IHRoaXMuX3VzZXJzU2VydmljZS5Nb2RlbC5maW5kKFxuXHRcdFx0Y29tbW9uT3B0aW9uc0ZsYWdcblx0XHQpXG5cdFx0XHQuc2VsZWN0KHsgX192OiAwIH0pXG5cdFx0XHQubGVhbigpXG5cdFx0XHQuZXhlYygpO1xuXG5cdFx0Y29uc3Qgc3RvcmVzOiBXYXJlaG91c2VbXSA9IGF3YWl0IHRoaXMuX3dhcmVob3VzZXNTZXJ2aWNlLk1vZGVsLmZpbmQoXG5cdFx0XHRjb21tb25PcHRpb25zRmxhZ1xuXHRcdClcblx0XHRcdC5zZWxlY3QoeyBfaWQ6IDEgfSlcblx0XHRcdC5sZWFuKClcblx0XHRcdC5leGVjKCk7XG5cblx0XHRjb25zdCBjYXJyaWVySWRzOiBDYXJyaWVyW10gPSBhd2FpdCB0aGlzLl9jYXJyaWVyc1NlcnZpY2UuTW9kZWwuZmluZChcblx0XHRcdGNvbW1vbk9wdGlvbnNGbGFnXG5cdFx0KVxuXHRcdFx0LnNlbGVjdCh7IF9pZDogMSB9KVxuXHRcdFx0LmxlYW4oKVxuXHRcdFx0LmV4ZWMoKTtcblxuXHRcdGNvbnN0IHByb2R1Y3RzOiBQcm9kdWN0W10gPSBhd2FpdCB0aGlzLl9wcm9kdWN0c1NlcnZpY2UuTW9kZWwuZmluZChcblx0XHRcdGNvbW1vbk9wdGlvbnNGbGFnXG5cdFx0KVxuXHRcdFx0LnNlbGVjdCh7IF9fdjogMCB9KVxuXHRcdFx0LmxlYW4oKVxuXHRcdFx0LmV4ZWMoKTtcblxuXHRcdGNvbnN0IHRvdGFsT3JkZXJzVG9DcmVhdGUgPSBbXTtcblxuXHRcdGNhcnJpZXJJZHMuZm9yRWFjaCgob2JqZWN0SWQsIGluZGV4KSA9PiB7XG5cdFx0XHRjb25zdCBjYXJyaWVySWQgPSBvYmplY3RJZC5faWQudG9TdHJpbmcoKTtcblx0XHRcdGNvbnN0IG9yZGVyTnVtYmVyID0gaW5kZXg7XG5cdFx0XHRjb25zdCBvcmRlcnNSYXcgPSB0aGlzLl9zZXR1cEhpc3RvcnlPcmRlcnNUb0NyZWF0ZShcblx0XHRcdFx0c3RvcmVzLFxuXHRcdFx0XHRwcm9kdWN0cyxcblx0XHRcdFx0dXNlcnMsXG5cdFx0XHRcdGNhcnJpZXJJZCxcblx0XHRcdFx0b3JkZXJOdW1iZXJcblx0XHRcdCk7XG5cblx0XHRcdHRvdGFsT3JkZXJzVG9DcmVhdGUucHVzaChvcmRlcnNSYXcpO1xuXHRcdH0pO1xuXG5cdFx0YXdhaXQgdGhpcy5fb3JkZXJzU2VydmljZS5Nb2RlbC5pbnNlcnRNYW55KFxuXHRcdFx0Xy5mbGF0dGVuKHRvdGFsT3JkZXJzVG9DcmVhdGUpXG5cdFx0KTtcblx0fVxuXG5cdEBRdWVyeSgpXG5cdGFzeW5jIGFkZFRha2VuT3JkZXJzKF9jb250ZXh0LCB7IGNhcnJpZXJJZHMgfTogeyBjYXJyaWVySWRzOiBzdHJpbmdbXSB9KSB7XG5cdFx0Y29uc3QgY29tbW9uT3B0aW9uc0ZsYWcgPSB7IGlzRGVsZXRlZDogeyAkZXE6IGZhbHNlIH0gfTtcblxuXHRcdGNvbnN0IHN0b3JlczogV2FyZWhvdXNlW10gPSBhd2FpdCB0aGlzLl93YXJlaG91c2VzU2VydmljZS5maW5kKFxuXHRcdFx0Y29tbW9uT3B0aW9uc0ZsYWdcblx0XHQpO1xuXG5cdFx0Y29uc3QgY3VzdG9tZXJzOiBVc2VyW10gPSBhd2FpdCB0aGlzLl91c2Vyc1NlcnZpY2UuZmluZChcblx0XHRcdGNvbW1vbk9wdGlvbnNGbGFnXG5cdFx0KTtcblxuXHRcdGNvbnN0IHByb2R1Y3RzOiBQcm9kdWN0W10gPSBhd2FpdCB0aGlzLl9wcm9kdWN0c1NlcnZpY2UuZmluZChcblx0XHRcdGNvbW1vbk9wdGlvbnNGbGFnXG5cdFx0KTtcblxuXHRcdGNvbnN0IG9yZGVyc1RvQ3JlYXRlID0gW107XG5cblx0XHRjYXJyaWVySWRzLmZvckVhY2goKGlkKSA9PiB7XG5cdFx0XHRmb3IgKGxldCBvcmRlck51bWJlciA9IDE7IG9yZGVyTnVtYmVyIDw9IDIwOyBvcmRlck51bWJlciArPSAxKSB7XG5cdFx0XHRcdGNvbnN0IG9yZGVyUHJvZHVjdHMgPSBbXTtcblxuXHRcdFx0XHRjb25zdCBwcm9kdWN0Q291bnQgPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiA0KSB8fCAxO1xuXHRcdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHByb2R1Y3RDb3VudDsgaSArPSAxKSB7XG5cdFx0XHRcdFx0Y29uc3Qgb3JkZXJQcmljZSA9IChvcmRlck51bWJlciArIGkpICUgMTEwIHx8IDE7XG5cblx0XHRcdFx0XHRvcmRlclByb2R1Y3RzLnB1c2goe1xuXHRcdFx0XHRcdFx0Y291bnQ6IChvcmRlck51bWJlciArIGkpICUgMTIgfHwgMSxcblx0XHRcdFx0XHRcdGlzTWFudWZhY3R1cmluZzogdHJ1ZSxcblx0XHRcdFx0XHRcdGlzQ2FycmllclJlcXVpcmVkOiB0cnVlLFxuXHRcdFx0XHRcdFx0aXNEZWxpdmVyeVJlcXVpcmVkOiB0cnVlLFxuXHRcdFx0XHRcdFx0cHJpY2U6IG9yZGVyUHJpY2UsXG5cdFx0XHRcdFx0XHRpbml0aWFsUHJpY2U6IG9yZGVyUHJpY2UsXG5cdFx0XHRcdFx0XHRwcm9kdWN0OiB0aGlzLl9nZXRSYW5kb21Qcm9kdWN0KFxuXHRcdFx0XHRcdFx0XHRvcmRlck51bWJlciArIGksXG5cdFx0XHRcdFx0XHRcdHByb2R1Y3RzXG5cdFx0XHRcdFx0XHQpLFxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29uc3Qgb3JkZXJJc1BhaWQgPSBNYXRoLnJhbmRvbSgpID4gMC41O1xuXHRcdFx0XHRjb25zdCBjcmVhdGVkQXQgPSB0aGlzLl9nZXRSYW5kb21PcmRlckRhdGUob3JkZXJOdW1iZXIpO1xuXHRcdFx0XHRjb25zdCBzdGFydERlbGl2ZXJ5VGltZSA9IHRoaXMuZ2V0RmluaXNoZWRUaW1lKGNyZWF0ZWRBdCk7XG5cblx0XHRcdFx0b3JkZXJzVG9DcmVhdGUucHVzaCh7XG5cdFx0XHRcdFx0aXNDYW5jZWxsZWQ6ICFvcmRlcklzUGFpZCxcblx0XHRcdFx0XHRpc1BhaWQ6IG9yZGVySXNQYWlkLFxuXHRcdFx0XHRcdGRlbGl2ZXJ5VGltZUVzdGltYXRlOiAwLFxuXHRcdFx0XHRcdHN0YXJ0RGVsaXZlcnlUaW1lLFxuXHRcdFx0XHRcdGRlbGl2ZXJ5VGltZTogb3JkZXJJc1BhaWRcblx0XHRcdFx0XHRcdD8gdGhpcy5nZXRGaW5pc2hlZFRpbWUoc3RhcnREZWxpdmVyeVRpbWUpXG5cdFx0XHRcdFx0XHQ6IG51bGwsXG5cdFx0XHRcdFx0ZmluaXNoZWRQcm9jZXNzaW5nVGltZTogIW9yZGVySXNQYWlkXG5cdFx0XHRcdFx0XHQ/IHRoaXMuZ2V0RmluaXNoZWRUaW1lKHN0YXJ0RGVsaXZlcnlUaW1lKVxuXHRcdFx0XHRcdFx0OiBudWxsLFxuXHRcdFx0XHRcdHdhcmVob3VzZVN0YXR1czogT3JkZXJXYXJlaG91c2VTdGF0dXMuUGFja2FnaW5nRmluaXNoZWQsXG5cdFx0XHRcdFx0Y2FycmllclN0YXR1czogT3JkZXJDYXJyaWVyU3RhdHVzLkRlbGl2ZXJ5Q29tcGxldGVkLFxuXHRcdFx0XHRcdG9yZGVyTnVtYmVyLFxuXHRcdFx0XHRcdHVzZXI6IHRoaXMuX2dldFJhbmRvbUN1c3RvbWVyKG9yZGVyTnVtYmVyLCBjdXN0b21lcnMpLFxuXHRcdFx0XHRcdHdhcmVob3VzZTogc3RvcmVzW29yZGVyTnVtYmVyICUgc3RvcmVzLmxlbmd0aF0uaWQsXG5cdFx0XHRcdFx0cHJvZHVjdHM6IG9yZGVyUHJvZHVjdHMsXG5cdFx0XHRcdFx0X2NyZWF0ZWRBdDogY3JlYXRlZEF0LFxuXHRcdFx0XHRcdGNhcnJpZXI6IGlkLFxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdGF3YWl0IHRoaXMuX29yZGVyc1NlcnZpY2UuTW9kZWwuaW5zZXJ0TWFueShvcmRlcnNUb0NyZWF0ZSk7XG5cdH1cblxuXHRAUXVlcnkoKVxuXHRhc3luYyBhZGRPcmRlcnNUb1Rha2UoKSB7XG5cdFx0Y29uc3QgY29tbW9uT3B0aW9uc0ZsYWcgPSB7IGlzRGVsZXRlZDogeyAkZXE6IGZhbHNlIH0gfTtcblxuXHRcdGNvbnN0IHN0b3JlczogV2FyZWhvdXNlW10gPSBhd2FpdCB0aGlzLl93YXJlaG91c2VzU2VydmljZS5maW5kKFxuXHRcdFx0Y29tbW9uT3B0aW9uc0ZsYWdcblx0XHQpO1xuXG5cdFx0Y29uc3QgY3VzdG9tZXJzOiBVc2VyW10gPSBhd2FpdCB0aGlzLl91c2Vyc1NlcnZpY2UuZmluZChcblx0XHRcdGNvbW1vbk9wdGlvbnNGbGFnXG5cdFx0KTtcblxuXHRcdGNvbnN0IHByb2R1Y3RzOiBQcm9kdWN0W10gPSBhd2FpdCB0aGlzLl9wcm9kdWN0c1NlcnZpY2UuZmluZChcblx0XHRcdGNvbW1vbk9wdGlvbnNGbGFnXG5cdFx0KTtcblxuXHRcdGNvbnN0IG9yZGVyc1RvQ3JlYXRlID0gW107XG5cblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkgKz0gMSkge1xuXHRcdFx0Zm9yIChsZXQgb3JkZXJOdW1iZXIgPSAxOyBvcmRlck51bWJlciA8PSAxMDsgb3JkZXJOdW1iZXIgKz0gMSkge1xuXHRcdFx0XHRjb25zdCBvcmRlclByb2R1Y3RzID0gW107XG5cblx0XHRcdFx0Y29uc3QgcHJvZHVjdENvdW50ID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogNCkgfHwgMTtcblxuXHRcdFx0XHRmb3IgKGxldCBqID0gMDsgaiA8IHByb2R1Y3RDb3VudDsgaiArPSAxKSB7XG5cdFx0XHRcdFx0Y29uc3Qgb3JkZXJQcmljZSA9IChvcmRlck51bWJlciArIGopICUgMTEwIHx8IDE7XG5cblx0XHRcdFx0XHRvcmRlclByb2R1Y3RzLnB1c2goe1xuXHRcdFx0XHRcdFx0Y291bnQ6IChvcmRlck51bWJlciArIGopICUgNiB8fCAxLFxuXHRcdFx0XHRcdFx0aXNNYW51ZmFjdHVyaW5nOiB0cnVlLFxuXHRcdFx0XHRcdFx0aXNDYXJyaWVyUmVxdWlyZWQ6IHRydWUsXG5cdFx0XHRcdFx0XHRpc0RlbGl2ZXJ5UmVxdWlyZWQ6IHRydWUsXG5cdFx0XHRcdFx0XHRwcmljZTogb3JkZXJQcmljZSxcblx0XHRcdFx0XHRcdGluaXRpYWxQcmljZTogb3JkZXJQcmljZSxcblx0XHRcdFx0XHRcdHByb2R1Y3Q6IHRoaXMuX2dldFJhbmRvbVByb2R1Y3QoXG5cdFx0XHRcdFx0XHRcdG9yZGVyTnVtYmVyICsgaixcblx0XHRcdFx0XHRcdFx0cHJvZHVjdHNcblx0XHRcdFx0XHRcdCksXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zdCBjcmVhdGVkQXQgPSB0aGlzLmdldENsb3NlRGF0ZShuZXcgRGF0ZSgpKTtcblxuXHRcdFx0XHRvcmRlcnNUb0NyZWF0ZS5wdXNoKHtcblx0XHRcdFx0XHRpc0NvbmZpcm1lZDogZmFsc2UsXG5cdFx0XHRcdFx0aXNDYW5jZWxsZWQ6IGZhbHNlLFxuXHRcdFx0XHRcdGlzUGFpZDogZmFsc2UsXG5cdFx0XHRcdFx0ZGVsaXZlcnlUaW1lRXN0aW1hdGU6IDAsXG5cdFx0XHRcdFx0d2FyZWhvdXNlU3RhdHVzOiBPcmRlcldhcmVob3VzZVN0YXR1cy5QYWNrYWdpbmdGaW5pc2hlZCxcblx0XHRcdFx0XHRjYXJyaWVyU3RhdHVzOiBPcmRlckNhcnJpZXJTdGF0dXMuTm9DYXJyaWVyLFxuXHRcdFx0XHRcdG9yZGVyTnVtYmVyLFxuXHRcdFx0XHRcdHVzZXI6IHRoaXMuX2dldFJhbmRvbUN1c3RvbWVyKG9yZGVyTnVtYmVyLCBjdXN0b21lcnMpLFxuXHRcdFx0XHRcdHdhcmVob3VzZTogc3RvcmVzW29yZGVyTnVtYmVyICUgc3RvcmVzLmxlbmd0aF0uaWQsXG5cdFx0XHRcdFx0cHJvZHVjdHM6IG9yZGVyUHJvZHVjdHMsXG5cdFx0XHRcdFx0X2NyZWF0ZWRBdDogY3JlYXRlZEF0LFxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRhd2FpdCB0aGlzLl9vcmRlcnNTZXJ2aWNlLk1vZGVsLmluc2VydE1hbnkob3JkZXJzVG9DcmVhdGUpO1xuXHR9XG5cblx0QFF1ZXJ5KClcblx0YXN5bmMgZ2VuZXJhdGVSYW5kb21PcmRlcnNDdXJyZW50U3RvcmUoXG5cdFx0X2NvbnRleHQsXG5cdFx0e1xuXHRcdFx0c3RvcmVJZCxcblx0XHRcdHN0b3JlQ3JlYXRlZEF0LFxuXHRcdFx0b3JkZXJzTGltaXQsXG5cdFx0fTogeyBzdG9yZUlkOiBzdHJpbmc7IHN0b3JlQ3JlYXRlZEF0OiBEYXRlOyBvcmRlcnNMaW1pdDogbnVtYmVyIH1cblx0KSB7XG5cdFx0Y29uc3QgY29tbW9uT3B0aW9uc0ZsYWcgPSB7IGlzRGVsZXRlZDogeyAkZXE6IGZhbHNlIH0gfTtcblxuXHRcdGNvbnN0IGN1c3RvbWVyczogVXNlcltdID0gYXdhaXQgdGhpcy5fdXNlcnNTZXJ2aWNlLmZpbmQoXG5cdFx0XHRjb21tb25PcHRpb25zRmxhZ1xuXHRcdCk7XG5cdFx0Y29uc3QgY2FycmllcnM6IENhcnJpZXJbXSA9IGF3YWl0IHRoaXMuX2NhcnJpZXJzU2VydmljZS5maW5kKFxuXHRcdFx0Y29tbW9uT3B0aW9uc0ZsYWdcblx0XHQpO1xuXHRcdGNvbnN0IHByb2R1Y3RzOiBQcm9kdWN0W10gPSBhd2FpdCB0aGlzLl9wcm9kdWN0c1NlcnZpY2UuZmluZChcblx0XHRcdGNvbW1vbk9wdGlvbnNGbGFnXG5cdFx0KTtcblxuXHRcdGxldCByZXNwb25zZSA9IHsgZXJyb3I6IGZhbHNlLCBtZXNzYWdlOiBudWxsIH07XG5cblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgY3VycmVudFN0b3JlT3JkZXJzID0gW107XG5cdFx0XHRjb25zdCBzdG9yZUNyZWF0ZWREYXRlID0gbmV3IERhdGUoc3RvcmVDcmVhdGVkQXQpO1xuXG5cdFx0XHRmb3IgKFxuXHRcdFx0XHRsZXQgb3JkZXJOdW1iZXIgPSAxO1xuXHRcdFx0XHRvcmRlck51bWJlciA8PSBvcmRlcnNMaW1pdDtcblx0XHRcdFx0b3JkZXJOdW1iZXIgKz0gMVxuXHRcdFx0KSB7XG5cdFx0XHRcdGNvbnN0IGNhcnJpZXJJZCA9IHRoaXMuX2dldFJhbmRvbUNhcnJpZXJJZChcblx0XHRcdFx0XHRvcmRlck51bWJlcixcblx0XHRcdFx0XHRjYXJyaWVyc1xuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdGNvbnN0IG9yZGVyUmF3ID0gdGhpcy5fZmFrZU9yZGVyc1NlcnZpY2UuZ2V0T3JkZXJSYXcoXG5cdFx0XHRcdFx0b3JkZXJOdW1iZXIsXG5cdFx0XHRcdFx0c3RvcmVJZCxcblx0XHRcdFx0XHRzdG9yZUNyZWF0ZWREYXRlLFxuXHRcdFx0XHRcdGNhcnJpZXJJZCxcblx0XHRcdFx0XHRjdXN0b21lcnMsXG5cdFx0XHRcdFx0cHJvZHVjdHNcblx0XHRcdFx0KTtcblxuXHRcdFx0XHRjdXJyZW50U3RvcmVPcmRlcnMucHVzaChvcmRlclJhdyk7XG5cdFx0XHR9XG5cblx0XHRcdGF3YWl0IHRoaXMuX29yZGVyc1NlcnZpY2UuTW9kZWwuaW5zZXJ0TWFueShjdXJyZW50U3RvcmVPcmRlcnMpO1xuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0cmVzcG9uc2UgPSB7IGVycm9yOiB0cnVlLCBtZXNzYWdlOiBlcnIubWVzc2FnZSB9O1xuXHRcdH1cblxuXHRcdHJldHVybiByZXNwb25zZTtcblx0fVxuXG5cdEBRdWVyeSgpXG5cdGFzeW5jIGdlbmVyYXRlT3JkZXJzQnlDdXN0b21lcklkKFxuXHRcdF9jb250ZXh0LFxuXHRcdHtcblx0XHRcdG51bWJlck9mT3JkZXJzLFxuXHRcdFx0Y3VzdG9tZXJJZCxcblx0XHR9OiB7IG51bWJlck9mT3JkZXJzOiBudW1iZXI7IGN1c3RvbWVySWQ6IHN0cmluZyB9XG5cdCkge1xuXHRcdGNvbnN0IGNvbW1vbk9wdGlvbnNGbGFnID0geyBpc0RlbGV0ZWQ6IHsgJGVxOiBmYWxzZSB9IH07XG5cblx0XHRjb25zdCBzdG9yZXM6IFdhcmVob3VzZVtdID0gKFxuXHRcdFx0YXdhaXQgdGhpcy5fd2FyZWhvdXNlc1NlcnZpY2UuZmluZChjb21tb25PcHRpb25zRmxhZylcblx0XHQpLmZpbHRlcigoX18sIGluZGV4KSA9PiBpbmRleCA8PSAyMCk7XG5cblx0XHRjb25zdCBjYXJyaWVyczogQ2FycmllcltdID0gYXdhaXQgdGhpcy5fY2FycmllcnNTZXJ2aWNlLmZpbmQoXG5cdFx0XHRjb21tb25PcHRpb25zRmxhZ1xuXHRcdCk7XG5cblx0XHRjb25zdCBwcm9kdWN0czogUHJvZHVjdFtdID0gYXdhaXQgdGhpcy5fcHJvZHVjdHNTZXJ2aWNlLmZpbmQoXG5cdFx0XHRjb21tb25PcHRpb25zRmxhZ1xuXHRcdCk7XG5cblx0XHRjb25zdCB1c2VyID0gYXdhaXQgdGhpcy5fdXNlcnNTZXJ2aWNlXG5cdFx0XHQuZ2V0KGN1c3RvbWVySWQpXG5cdFx0XHQucGlwZShmaXJzdCgpKVxuXHRcdFx0LnRvUHJvbWlzZSgpO1xuXG5cdFx0aWYgKHByb2R1Y3RzLmxlbmd0aCA+IDApIHtcblx0XHRcdGNvbnN0IHJhd09yZGVycyA9IFtdO1xuXHRcdFx0Zm9yIChcblx0XHRcdFx0bGV0IG9yZGVyTnVtYmVyID0gMTtcblx0XHRcdFx0b3JkZXJOdW1iZXIgPD0gbnVtYmVyT2ZPcmRlcnM7XG5cdFx0XHRcdG9yZGVyTnVtYmVyICs9IDFcblx0XHRcdCkge1xuXHRcdFx0XHRjb25zdCB7XG5cdFx0XHRcdFx0bnVtYmVyT2ZQcm9kdWN0c1RvT3JkZXIsXG5cdFx0XHRcdFx0aGFzQ2Fycmllcixcblx0XHRcdFx0XHRvcmRlcklzUGFpZCxcblx0XHRcdFx0fSA9IHRoaXMuX3ByZXBhcmVPcmRlckZpZWxkc1ZhbHVlcyhvcmRlck51bWJlcik7XG5cblx0XHRcdFx0Y29uc3Qgb3JkZXJQcm9kdWN0cyA9IFtdO1xuXG5cdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbnVtYmVyT2ZQcm9kdWN0c1RvT3JkZXI7IGkgKz0gMSkge1xuXHRcdFx0XHRcdGNvbnN0IG9yZGVyUHJpY2UgPSAob3JkZXJOdW1iZXIgKyBpKSAlIDExMCB8fCAxO1xuXHRcdFx0XHRcdG9yZGVyUHJvZHVjdHMucHVzaCh7XG5cdFx0XHRcdFx0XHRjb3VudDogKG9yZGVyTnVtYmVyICsgaSkgJSA2IHx8IDEsXG5cdFx0XHRcdFx0XHRpc01hbnVmYWN0dXJpbmc6IHRydWUsXG5cdFx0XHRcdFx0XHRpc0NhcnJpZXJSZXF1aXJlZDogaGFzQ2Fycmllcixcblx0XHRcdFx0XHRcdGlzRGVsaXZlcnlSZXF1aXJlZDogaGFzQ2Fycmllcixcblx0XHRcdFx0XHRcdHByaWNlOiBvcmRlclByaWNlLFxuXHRcdFx0XHRcdFx0aW5pdGlhbFByaWNlOiBvcmRlclByaWNlLFxuXHRcdFx0XHRcdFx0cHJvZHVjdDogdGhpcy5fZ2V0UmFuZG9tUHJvZHVjdChcblx0XHRcdFx0XHRcdFx0b3JkZXJOdW1iZXIgKyBpLFxuXHRcdFx0XHRcdFx0XHRwcm9kdWN0c1xuXHRcdFx0XHRcdFx0KSxcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnN0IG9yZGVyRGF0ZSA9IHRoaXMuX2dldFJhbmRvbU9yZGVyRGF0ZShvcmRlck51bWJlcik7XG5cdFx0XHRcdGNvbnN0IG9yZGVyRGVsaXZlcnlUaW1lID0gbmV3IERhdGUob3JkZXJEYXRlKTtcblxuXHRcdFx0XHQvLyBkZWxpdmVyeSB0aW1lIHNob3VsZCBiZSBtYXggdG8gMiBocnNcblx0XHRcdFx0b3JkZXJEZWxpdmVyeVRpbWUuc2V0TWludXRlcyhcblx0XHRcdFx0XHRvcmRlckRlbGl2ZXJ5VGltZS5nZXRNaW51dGVzKCkgK1xuXHRcdFx0XHRcdFx0TWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogOTApXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0Y29uc3Qgc3RhcnREZWxpdmVyeVRpbWUgPSB0aGlzLmdldEZpbmlzaGVkVGltZShvcmRlckRhdGUpO1xuXG5cdFx0XHRcdHJhd09yZGVycy5wdXNoKHtcblx0XHRcdFx0XHRpc0NhbmNlbGxlZDogIW9yZGVySXNQYWlkLFxuXHRcdFx0XHRcdGlzUGFpZDogb3JkZXJJc1BhaWQsXG5cdFx0XHRcdFx0ZGVsaXZlcnlUaW1lRXN0aW1hdGU6IDAsXG5cdFx0XHRcdFx0c3RhcnREZWxpdmVyeVRpbWUsXG5cdFx0XHRcdFx0ZGVsaXZlcnlUaW1lOiBvcmRlcklzUGFpZFxuXHRcdFx0XHRcdFx0PyB0aGlzLmdldEZpbmlzaGVkVGltZShzdGFydERlbGl2ZXJ5VGltZSlcblx0XHRcdFx0XHRcdDogbnVsbCxcblx0XHRcdFx0XHRmaW5pc2hlZFByb2Nlc3NpbmdUaW1lOiAhb3JkZXJJc1BhaWRcblx0XHRcdFx0XHRcdD8gdGhpcy5nZXRGaW5pc2hlZFRpbWUoc3RhcnREZWxpdmVyeVRpbWUpXG5cdFx0XHRcdFx0XHQ6IG51bGwsXG5cdFx0XHRcdFx0d2FyZWhvdXNlU3RhdHVzOiBPcmRlcldhcmVob3VzZVN0YXR1cy5QYWNrYWdpbmdGaW5pc2hlZCxcblx0XHRcdFx0XHRjYXJyaWVyU3RhdHVzOiBPcmRlckNhcnJpZXJTdGF0dXMuRGVsaXZlcnlDb21wbGV0ZWQsXG5cdFx0XHRcdFx0b3JkZXJOdW1iZXIsXG5cdFx0XHRcdFx0dXNlcixcblx0XHRcdFx0XHR3YXJlaG91c2U6IHN0b3Jlc1tvcmRlck51bWJlciAlIHN0b3Jlcy5sZW5ndGhdLmlkLFxuXHRcdFx0XHRcdHByb2R1Y3RzOiBvcmRlclByb2R1Y3RzLFxuXHRcdFx0XHRcdF9jcmVhdGVkQXQ6IG9yZGVyRGF0ZSxcblx0XHRcdFx0XHQuLi4oaGFzQ2FycmllciAmJiB7XG5cdFx0XHRcdFx0XHRjYXJyaWVyOiB0aGlzLl9nZXRSYW5kb21DYXJyaWVySWQoXG5cdFx0XHRcdFx0XHRcdG9yZGVyTnVtYmVyLFxuXHRcdFx0XHRcdFx0XHRjYXJyaWVyc1xuXHRcdFx0XHRcdFx0KSxcblx0XHRcdFx0XHR9KSxcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cblx0XHRcdGF3YWl0IHRoaXMuX29yZGVyc1NlcnZpY2UuTW9kZWwuaW5zZXJ0TWFueShyYXdPcmRlcnMpO1xuXHRcdH1cblx0fVxuXG5cdEBRdWVyeSgpXG5cdGdldE9yZGVyc0NoYXJ0VG90YWxPcmRlcnMoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX29yZGVyc1NlcnZpY2UuZ2V0T3JkZXJzQ2hhcnRUb3RhbE9yZGVycygpO1xuXHR9XG5cblx0QFF1ZXJ5KClcblx0YXN5bmMgZ2V0Q29tcGxldGVkT3JkZXJzSW5mbyhfY29udGV4dCwgeyBzdG9yZUlkIH06IHsgc3RvcmVJZDogc3RyaW5nIH0pIHtcblx0XHRjb25zdCBvcmRlcnMgPSBhd2FpdCB0aGlzLl9vcmRlcnNTZXJ2aWNlLmdldERhc2hib2FyZENvbXBsZXRlZE9yZGVycyhcblx0XHRcdHN0b3JlSWRcblx0XHQpO1xuXHRcdHJldHVybiB7XG5cdFx0XHR0b3RhbE9yZGVyczogb3JkZXJzLmxlbmd0aCxcblx0XHRcdHRvdGFsUmV2ZW51ZTogb3JkZXJzXG5cdFx0XHRcdC5tYXAoKG9yZGVyKSA9PiBvcmRlci50b3RhbFByaWNlKVxuXHRcdFx0XHQucmVkdWNlKChwcmV2UHJpY2UsIG5leHRQcmljZSkgPT4gcHJldlByaWNlICsgbmV4dFByaWNlLCAwKSxcblx0XHR9O1xuXHR9XG5cblx0QFF1ZXJ5KClcblx0YXN5bmMgZ2V0RGFzaGJvYXJkQ29tcGxldGVkT3JkZXJzKCkge1xuXHRcdHJldHVybiB0aGlzLl9vcmRlcnNTZXJ2aWNlLmdldERhc2hib2FyZENvbXBsZXRlZE9yZGVycygpO1xuXHR9XG5cblx0QFF1ZXJ5KClcblx0YXN5bmMgZ2V0RGFzaGJvYXJkQ29tcGxldGVkT3JkZXJzVG9kYXkoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX29yZGVyc1NlcnZpY2UuZ2V0RGFzaGJvYXJkQ29tcGxldGVkT3JkZXJzVG9kYXkoKTtcblx0fVxuXG5cdEBRdWVyeSgnZ2V0T3JkZXInKVxuXHRhc3luYyBnZXRPcmRlcihfY29udGV4dCwgeyBpZCB9OiB7IGlkOiBzdHJpbmcgfSk6IFByb21pc2U8T3JkZXI+IHtcblx0XHRyZXR1cm4gdGhpcy5fb3JkZXJzU2VydmljZS5nZXQoaWQpLnBpcGUoZmlyc3QoKSkudG9Qcm9taXNlKCk7XG5cdH1cblxuXHRAUXVlcnkoJ29yZGVycycpXG5cdGFzeW5jIGdldE9yZGVycyhfY29udGV4dCwgeyBmaW5kSW5wdXQgfSk6IFByb21pc2U8T3JkZXJbXT4ge1xuXHRcdHJldHVybiB0aGlzLl9vcmRlcnNTZXJ2aWNlLmZpbmQoe1xuXHRcdFx0Li4uZmluZElucHV0LFxuXHRcdFx0aXNEZWxldGVkOiB7ICRlcTogZmFsc2UgfSxcblx0XHR9KTtcblx0fVxuXG5cdEBRdWVyeSgpXG5cdGFzeW5jIGdldE9yZGVyZWRVc2Vyc0luZm8oX2NvbnRleHQsIHsgc3RvcmVJZCB9OiB7IHN0b3JlSWQ6IHN0cmluZyB9KSB7XG5cdFx0cmV0dXJuIHRoaXMuX29yZGVyc1NlcnZpY2UuZ2V0T3JkZXJlZFVzZXJzSW5mbyhzdG9yZUlkKTtcblx0fVxuXG5cdEBRdWVyeSgpXG5cdGFzeW5jIGdldFVzZXJzT3JkZXJzQ291bnRJbmZvKFxuXHRcdF9jb250ZXh0LFxuXHRcdHsgdXNlcnNJZHMgfTogeyB1c2Vyc0lkczogc3RyaW5nW10gfVxuXHQpIHtcblx0XHRjb25zdCBvcmRlcnNJbmZvID0gYXdhaXQgdGhpcy5fb3JkZXJzU2VydmljZS5Nb2RlbC5hZ2dyZWdhdGUoW1xuXHRcdFx0e1xuXHRcdFx0XHQkbWF0Y2g6IHtcblx0XHRcdFx0XHQkYW5kOiBbXG5cdFx0XHRcdFx0XHR7ICd1c2VyLl9pZCc6IHsgJG5lOiBudWxsIH0gfSxcblx0XHRcdFx0XHRcdHVzZXJzSWRzXG5cdFx0XHRcdFx0XHRcdD8ge1xuXHRcdFx0XHRcdFx0XHRcdFx0J3VzZXIuX2lkJzoge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHQkaW46IHVzZXJzSWRzLm1hcChcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQoaSkgPT4gbmV3IE9iamVjdElkKGkpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCksXG5cdFx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHQgIH1cblx0XHRcdFx0XHRcdFx0OiB7fSxcblx0XHRcdFx0XHRdLFxuXHRcdFx0XHR9LFxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0JGdyb3VwOiB7XG5cdFx0XHRcdFx0X2lkOiAnJHVzZXIuX2lkJyxcblx0XHRcdFx0XHRvcmRlcnNDb3VudDogeyAkc3VtOiAxIH0sXG5cdFx0XHRcdH0sXG5cdFx0XHR9LFxuXHRcdF0pO1xuXG5cdFx0cmV0dXJuIG9yZGVyc0luZm8ubWFwKChvKSA9PiAoe1xuXHRcdFx0aWQ6IG8uX2lkLFxuXHRcdFx0b3JkZXJzQ291bnQ6IG8ub3JkZXJzQ291bnQsXG5cdFx0fSkpO1xuXHR9XG5cblx0QFF1ZXJ5KClcblx0YXN5bmMgZ2V0TWVyY2hhbnRzT3JkZXJzQ291bnRJbmZvKFxuXHRcdF9jb250ZXh0LFxuXHRcdHsgbWVyY2hhbnRzSWRzIH06IHsgbWVyY2hhbnRzSWRzOiBzdHJpbmdbXSB9XG5cdCkge1xuXHRcdGNvbnN0IG9yZGVyc0luZm8gPSBhd2FpdCB0aGlzLl9vcmRlcnNTZXJ2aWNlLk1vZGVsLmFnZ3JlZ2F0ZShbXG5cdFx0XHR7XG5cdFx0XHRcdCRtYXRjaDoge1xuXHRcdFx0XHRcdCRhbmQ6IFtcblx0XHRcdFx0XHRcdHsgd2FyZWhvdXNlOiB7ICRuZTogbnVsbCB9IH0sXG5cdFx0XHRcdFx0XHRtZXJjaGFudHNJZHNcblx0XHRcdFx0XHRcdFx0PyB7IHdhcmVob3VzZTogeyAkaW46IG1lcmNoYW50c0lkcyB9IH1cblx0XHRcdFx0XHRcdFx0OiB7fSxcblx0XHRcdFx0XHRdLFxuXHRcdFx0XHR9LFxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0JGdyb3VwOiB7XG5cdFx0XHRcdFx0X2lkOiAnJHdhcmVob3VzZScsXG5cdFx0XHRcdFx0b3JkZXJzQ291bnQ6IHsgJHN1bTogMSB9LFxuXHRcdFx0XHR9LFxuXHRcdFx0fSxcblx0XHRdKTtcblxuXHRcdHJldHVybiBvcmRlcnNJbmZvLm1hcCgobykgPT4gKHtcblx0XHRcdGlkOiBvLl9pZCxcblx0XHRcdG9yZGVyc0NvdW50OiBvLm9yZGVyc0NvdW50LFxuXHRcdH0pKTtcblx0fVxuXG5cdEBNdXRhdGlvbigpXG5cdGFzeW5jIHVwZGF0ZU9yZGVyQ2FycmllclN0YXR1cyhcblx0XHRfY29udGV4dCxcblx0XHR7XG5cdFx0XHRvcmRlcklkLFxuXHRcdFx0c3RhdHVzLFxuXHRcdH06IHtcblx0XHRcdG9yZGVySWQ6IE9yZGVyWydpZCddO1xuXHRcdFx0c3RhdHVzOiBzdHJpbmc7XG5cdFx0fVxuXHQpOiBQcm9taXNlPE9yZGVyPiB7XG5cdFx0cmV0dXJuIHRoaXMuX29yZGVyc1NlcnZpY2UudXBkYXRlQ2FycmllclN0YXR1cyhcblx0XHRcdG9yZGVySWQsXG5cdFx0XHRPcmRlckNhcnJpZXJTdGF0dXNbc3RhdHVzXVxuXHRcdCk7XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHRhc3luYyB1cGRhdGVPcmRlcldhcmVob3VzZVN0YXR1cyhcblx0XHRfY29udGV4dCxcblx0XHR7XG5cdFx0XHRvcmRlcklkLFxuXHRcdFx0c3RhdHVzLFxuXHRcdH06IHtcblx0XHRcdG9yZGVySWQ6IE9yZGVyWydpZCddO1xuXHRcdFx0c3RhdHVzOiBzdHJpbmc7XG5cdFx0fVxuXHQpOiBQcm9taXNlPE9yZGVyPiB7XG5cdFx0cmV0dXJuIHRoaXMuX29yZGVyc1NlcnZpY2UudXBkYXRlV2FyZWhvdXNlU3RhdHVzKFxuXHRcdFx0b3JkZXJJZCxcblx0XHRcdE9yZGVyV2FyZWhvdXNlU3RhdHVzW3N0YXR1c11cblx0XHQpO1xuXHR9XG5cblx0QE11dGF0aW9uKClcblx0YXN5bmMgcGF5T3JkZXJXaXRoU3RyaXBlKFxuXHRcdF9jb250ZXh0LFxuXHRcdHtcblx0XHRcdG9yZGVySWQsXG5cdFx0XHRjYXJkSWQsXG5cdFx0fToge1xuXHRcdFx0b3JkZXJJZDogT3JkZXJbJ2lkJ107XG5cdFx0XHRjYXJkSWQ6IHN0cmluZztcblx0XHR9XG5cdCk6IFByb21pc2U8T3JkZXI+IHtcblx0XHRyZXR1cm4gdGhpcy5fb3JkZXJzU2VydmljZS5wYXlXaXRoU3RyaXBlKG9yZGVySWQsIGNhcmRJZCk7XG5cdH1cblxuXHRAUmVzb2x2ZVByb3BlcnR5KCdjYXJyaWVyJylcblx0YXN5bmMgZ2V0Q2Fycmllcihfb3JkZXI6IElPcmRlcik6IFByb21pc2U8Q2Fycmllcj4ge1xuXHRcdGNvbnN0IG9yZGVyID0gbmV3IE9yZGVyKF9vcmRlcik7XG5cblx0XHRyZXR1cm4gb3JkZXIuY2FycmllcklkID09IG51bGxcblx0XHRcdD8gbnVsbFxuXHRcdFx0OiB0aGlzLl9jYXJyaWVyc1NlcnZpY2Vcblx0XHRcdFx0XHQuZ2V0KG9yZGVyLmNhcnJpZXJJZClcblx0XHRcdFx0XHQucGlwZShmaXJzdCgpKVxuXHRcdFx0XHRcdC50b1Byb21pc2UoKTtcblx0fVxuXG5cdEBSZXNvbHZlUHJvcGVydHkoJ3dhcmVob3VzZScpXG5cdGFzeW5jIGdldFdhcmVob3VzZShfb3JkZXI6IElPcmRlcik6IFByb21pc2U8V2FyZWhvdXNlPiB7XG5cdFx0Y29uc3Qgb3JkZXIgPSBuZXcgT3JkZXIoX29yZGVyKTtcblxuXHRcdHJldHVybiB0aGlzLl93YXJlaG91c2VzU2VydmljZVxuXHRcdFx0LmdldChvcmRlci53YXJlaG91c2VJZClcblx0XHRcdC5waXBlKGZpcnN0KCkpXG5cdFx0XHQudG9Qcm9taXNlKCk7XG5cdH1cblxuXHRwcml2YXRlIGdldEZpbmlzaGVkVGltZShkYXRlOiBEYXRlKTogRGF0ZSB7XG5cdFx0Y29uc3QgcmFuZG9tTWludXRlcyA9IF8ucmFuZG9tKDEsIDMwKTtcblx0XHRjb25zdCByYW5kb21TZWMgPSBfLnJhbmRvbSgxLCA2MCk7XG5cdFx0Y29uc3Qgb2xkRGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xuXG5cdFx0b2xkRGF0ZS5zZXRTZWNvbmRzKHJhbmRvbVNlYyk7XG5cblx0XHRyZXR1cm4gbmV3IERhdGUob2xkRGF0ZS5zZXRNaW51dGVzKGRhdGUuZ2V0TWludXRlcygpICsgcmFuZG9tTWludXRlcykpO1xuXHR9XG5cblx0cHJpdmF0ZSBnZXRDbG9zZURhdGUoZGF0ZTogRGF0ZSk6IERhdGUge1xuXHRcdGNvbnN0IHJhbmRvbU1pbnV0ZXMgPSBfLnJhbmRvbSgxLCAxMCk7XG5cdFx0Y29uc3QgcmFuZG9tU2VjID0gXy5yYW5kb20oMSwgNjApO1xuXHRcdGNvbnN0IG9sZERhdGUgPSBuZXcgRGF0ZShkYXRlKTtcblxuXHRcdG9sZERhdGUuc2V0U2Vjb25kcyhyYW5kb21TZWMpO1xuXG5cdFx0cmV0dXJuIG5ldyBEYXRlKG9sZERhdGUuc2V0TWludXRlcyhkYXRlLmdldE1pbnV0ZXMoKSAtIHJhbmRvbU1pbnV0ZXMpKTtcblx0fVxufVxuIiwiaW1wb3J0IHsgTW9kdWxlIH0gZnJvbSAnQG5lc3Rqcy9jb21tb24nO1xuaW1wb3J0IHsgT3JkZXJSZXNvbHZlciB9IGZyb20gJy4vb3JkZXIucmVzb2x2ZXInO1xuXG5ATW9kdWxlKHtcblx0cHJvdmlkZXJzOiBbT3JkZXJSZXNvbHZlcl0sXG59KVxuZXhwb3J0IGNsYXNzIE9yZGVyc01vZHVsZSB7fVxuIiwiaW1wb3J0IHsgTW9kdWxlIH0gZnJvbSAnQG5lc3Rqcy9jb21tb24nO1xuaW1wb3J0IHsgUHJvZHVjdHNDYXRlZ29yeVJlc29sdmVyIH0gZnJvbSAnLi9wcm9kdWN0cy1jYXRlZ29yeS5yZXNvbHZlcic7XG5cbkBNb2R1bGUoe1xuXHRwcm92aWRlcnM6IFtQcm9kdWN0c0NhdGVnb3J5UmVzb2x2ZXJdLFxufSlcbmV4cG9ydCBjbGFzcyBQcm9kdWN0c0NhdGVnb3JpZXNNb2R1bGUge31cbiIsImltcG9ydCB7IE11dGF0aW9uLCBRdWVyeSwgUmVzb2x2ZXIgfSBmcm9tICdAbmVzdGpzL2dyYXBocWwnO1xuaW1wb3J0IHsgUHJvZHVjdHNDYXRlZ29yaWVzU2VydmljZSB9IGZyb20gJy4uLy4uLy4uL3NlcnZpY2VzL3Byb2R1Y3RzJztcbmltcG9ydCB7IElQcm9kdWN0c0NhdGVnb3J5Q3JlYXRlT2JqZWN0IH0gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9pbnRlcmZhY2VzL0lQcm9kdWN0c0NhdGVnb3J5JztcbmltcG9ydCB7IGZpcnN0IH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5AUmVzb2x2ZXIoJ1Byb2R1Y3RzQ2F0ZWdvcnknKVxuZXhwb3J0IGNsYXNzIFByb2R1Y3RzQ2F0ZWdvcnlSZXNvbHZlciB7XG5cdGNvbnN0cnVjdG9yKFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgX3Byb2R1Y3RzQ2F0ZWdvcmllc1NlcnZpY2U6IFByb2R1Y3RzQ2F0ZWdvcmllc1NlcnZpY2Vcblx0KSB7fVxuXG5cdEBRdWVyeSgncHJvZHVjdHNDYXRlZ29yeScpXG5cdGFzeW5jIGdldFByb2R1Y3RzQ2F0ZWdvcnkoXywgeyBpZCB9OiB7IGlkOiBzdHJpbmcgfSkge1xuXHRcdHJldHVybiB0aGlzLl9wcm9kdWN0c0NhdGVnb3JpZXNTZXJ2aWNlXG5cdFx0XHQuZ2V0KGlkKVxuXHRcdFx0LnBpcGUoZmlyc3QoKSlcblx0XHRcdC50b1Byb21pc2UoKTtcblx0fVxuXG5cdEBRdWVyeSgncHJvZHVjdHNDYXRlZ29yaWVzJylcblx0YXN5bmMgZ2V0UHJvZHVjdHNDYXRlZ29yaWVzKF8sIHsgZmluZElucHV0IH0pIHtcblx0XHRyZXR1cm4gdGhpcy5fcHJvZHVjdHNDYXRlZ29yaWVzU2VydmljZS5maW5kKHtcblx0XHRcdC4uLmZpbmRJbnB1dCxcblx0XHRcdGlzRGVsZXRlZDogeyAkZXE6IGZhbHNlIH0sXG5cdFx0fSk7XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHRhc3luYyBjcmVhdGVQcm9kdWN0c0NhdGVnb3J5KFxuXHRcdF8sXG5cdFx0eyBjcmVhdGVJbnB1dCB9OiB7IGNyZWF0ZUlucHV0OiBJUHJvZHVjdHNDYXRlZ29yeUNyZWF0ZU9iamVjdCB9XG5cdCkge1xuXHRcdHJldHVybiB0aGlzLl9wcm9kdWN0c0NhdGVnb3JpZXNTZXJ2aWNlLmNyZWF0ZShjcmVhdGVJbnB1dCk7XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHRhc3luYyB1cGRhdGVQcm9kdWN0c0NhdGVnb3J5KFxuXHRcdF8sXG5cdFx0e1xuXHRcdFx0aWQsXG5cdFx0XHR1cGRhdGVJbnB1dCxcblx0XHR9OiB7IGlkOiBzdHJpbmc7IHVwZGF0ZUlucHV0OiBJUHJvZHVjdHNDYXRlZ29yeUNyZWF0ZU9iamVjdCB9XG5cdCkge1xuXHRcdGF3YWl0IHRoaXMuX3Byb2R1Y3RzQ2F0ZWdvcmllc1NlcnZpY2UudGhyb3dJZk5vdEV4aXN0cyhpZCk7XG5cdFx0cmV0dXJuIHRoaXMuX3Byb2R1Y3RzQ2F0ZWdvcmllc1NlcnZpY2UudXBkYXRlKGlkLCB1cGRhdGVJbnB1dCk7XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHRhc3luYyByZW1vdmVQcm9kdWN0c0NhdGVnb3JpZXNCeUlkcyhfLCB7IGlkcyB9OiB7IGlkczogc3RyaW5nW10gfSkge1xuXHRcdGNvbnN0IGNhdGVnb3JpZXMgPSBhd2FpdCB0aGlzLl9wcm9kdWN0c0NhdGVnb3JpZXNTZXJ2aWNlLmZpbmQoe1xuXHRcdFx0X2lkOiB7ICRpbjogaWRzIH0sXG5cdFx0XHRpc0RlbGV0ZWQ6IHsgJGVxOiBmYWxzZSB9LFxuXHRcdH0pO1xuXG5cdFx0Y29uc3QgY2F0ZWdvcmllc0lkcyA9IGNhdGVnb3JpZXMubWFwKChjKSA9PiBjLmlkKTtcblxuXHRcdHJldHVybiB0aGlzLl9wcm9kdWN0c0NhdGVnb3JpZXNTZXJ2aWNlLnJlbW92ZU11bHRpcGxlQnlJZHMoXG5cdFx0XHRjYXRlZ29yaWVzSWRzXG5cdFx0KTtcblx0fVxufVxuIiwiaW1wb3J0IHsgUmVzb2x2ZXIsIFF1ZXJ5LCBNdXRhdGlvbiB9IGZyb20gJ0BuZXN0anMvZ3JhcGhxbCc7XG5pbXBvcnQgeyBmaXJzdCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IFByb2R1Y3RzU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL3Byb2R1Y3RzJztcbmltcG9ydCB7XG5cdFdhcmVob3VzZXNTZXJ2aWNlLFxuXHRXYXJlaG91c2VzUHJvZHVjdHNTZXJ2aWNlLFxufSBmcm9tICcuLi8uLi9zZXJ2aWNlcy93YXJlaG91c2VzJztcbmltcG9ydCBQcm9kdWN0IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvUHJvZHVjdCc7XG5cbkBSZXNvbHZlcignUHJvZHVjdCcpXG5leHBvcnQgY2xhc3MgUHJvZHVjdFJlc29sdmVyIHtcblx0Y29uc3RydWN0b3IoXG5cdFx0cHJpdmF0ZSByZWFkb25seSBfcHJvZHVjdHNTZXJ2aWNlOiBQcm9kdWN0c1NlcnZpY2UsXG5cdFx0cHJpdmF0ZSByZWFkb25seSBfd2FyZWhvdXNlc1NlcnZpY2U6IFdhcmVob3VzZXNTZXJ2aWNlLFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgX3dhcmVob3VzZXNQcm9kdWN0c1NlcnZpY2U6IFdhcmVob3VzZXNQcm9kdWN0c1NlcnZpY2Vcblx0KSB7fVxuXG5cdEBRdWVyeSgncHJvZHVjdCcpXG5cdGFzeW5jIGdldFByb2R1Y3QoXywgeyBpZCB9OiB7IGlkOiBzdHJpbmcgfSkge1xuXHRcdHJldHVybiB0aGlzLl9wcm9kdWN0c1NlcnZpY2UuZ2V0KGlkKS5waXBlKGZpcnN0KCkpLnRvUHJvbWlzZSgpO1xuXHR9XG5cblx0QFF1ZXJ5KCdwcm9kdWN0cycpXG5cdGFzeW5jIGdldFByb2R1Y3RzKFxuXHRcdF8sXG5cdFx0eyBmaW5kSW5wdXQsIHBhZ2luZ09wdGlvbnMgPSB7fSwgZXhpc3RlZFByb2R1Y3RzSWRzID0gW10gfVxuXHQpIHtcblx0XHRpZiAoIXBhZ2luZ09wdGlvbnMgfHwgKHBhZ2luZ09wdGlvbnMgJiYgIXBhZ2luZ09wdGlvbnNbJ3NvcnQnXSkpIHtcblx0XHRcdHBhZ2luZ09wdGlvbnNbJ3NvcnQnXSA9IHsgZmllbGQ6ICdfY3JlYXRlZEF0Jywgc29ydEJ5OiAnZGVzYycgfTtcblx0XHR9XG5cblx0XHRjb25zdCBwcm9kdWN0cyA9IGF3YWl0IHRoaXMuX3Byb2R1Y3RzU2VydmljZS5nZXRQcm9kdWN0cyhcblx0XHRcdGZpbmRJbnB1dCxcblx0XHRcdHBhZ2luZ09wdGlvbnMsXG5cdFx0XHRleGlzdGVkUHJvZHVjdHNJZHNcblx0XHQpO1xuXG5cdFx0cmV0dXJuIHByb2R1Y3RzLm1hcCgocCkgPT4gbmV3IFByb2R1Y3QocCkpO1xuXHR9XG5cblx0QFF1ZXJ5KClcblx0YXN5bmMgZ2V0Q291bnRPZlByb2R1Y3RzKF8sIHsgZXhpc3RlZFByb2R1Y3RzSWRzID0gW10gfSkge1xuXHRcdHJldHVybiB0aGlzLl9wcm9kdWN0c1NlcnZpY2UuTW9kZWwuZmluZCh7XG5cdFx0XHRpc0RlbGV0ZWQ6IHsgJGVxOiBmYWxzZSB9LFxuXHRcdFx0X2lkOiB7ICRuaW46IGV4aXN0ZWRQcm9kdWN0c0lkcyB9LFxuXHRcdH0pXG5cdFx0XHQuY291bnREb2N1bWVudHMoKVxuXHRcdFx0LmV4ZWMoKTtcblx0fVxuXG5cdEBNdXRhdGlvbigpXG5cdGFzeW5jIHJlbW92ZVByb2R1Y3RzQnlJZHMoXywgeyBpZHMgfTogeyBpZHM6IHN0cmluZ1tdIH0pIHtcblx0XHRjb25zdCB3YXJlaG91c2VzID0gYXdhaXQgdGhpcy5fd2FyZWhvdXNlc1NlcnZpY2UuZmluZCh7XG5cdFx0XHRpc0RlbGV0ZWQ6IHsgJGVxOiBmYWxzZSB9LFxuXHRcdH0pO1xuXHRcdGNvbnN0IHByb2R1Y3RzID0gYXdhaXQgdGhpcy5fcHJvZHVjdHNTZXJ2aWNlLmZpbmQoe1xuXHRcdFx0X2lkOiB7ICRpbjogaWRzIH0sXG5cdFx0XHRpc0RlbGV0ZWQ6IHsgJGVxOiBmYWxzZSB9LFxuXHRcdH0pO1xuXHRcdGNvbnN0IHByb2R1Y3RzSWRzID0gcHJvZHVjdHMubWFwKChkKSA9PiBkLmlkKTtcblxuXHRcdGZvciAoY29uc3Qgd2FyZWhvdXNlIG9mIHdhcmVob3VzZXMpIHtcblx0XHRcdGNvbnN0IHByb2R1Y3RzRm9yRGVsID0gd2FyZWhvdXNlLnByb2R1Y3RzXG5cdFx0XHRcdC5maWx0ZXIoKHApID0+IHByb2R1Y3RzSWRzLmluY2x1ZGVzKHAucHJvZHVjdElkKSlcblx0XHRcdFx0Lm1hcCgocCkgPT4gcC5wcm9kdWN0SWQpO1xuXG5cdFx0XHRpZiAocHJvZHVjdHNGb3JEZWwubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRhd2FpdCB0aGlzLl93YXJlaG91c2VzUHJvZHVjdHNTZXJ2aWNlLnJlbW92ZShcblx0XHRcdFx0XHR3YXJlaG91c2UuaWQsXG5cdFx0XHRcdFx0cHJvZHVjdHNGb3JEZWxcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRhd2FpdCB0aGlzLl9wcm9kdWN0c1NlcnZpY2UucmVtb3ZlTXVsdGlwbGVCeUlkcyhwcm9kdWN0c0lkcyk7XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHQvLyBAVXNlR3VhcmRzKEF1dGhHdWFyZCgnand0JykpXG5cdGFzeW5jIHNhdmVQcm9kdWN0KF8sIHsgcHJvZHVjdCB9OiB7IHByb2R1Y3QgfSkge1xuXHRcdGNvbnN0IHByb2R1Y3RJZCA9IHByb2R1Y3RbJ19pZCddO1xuXHRcdGF3YWl0IHRoaXMuX3Byb2R1Y3RzU2VydmljZS50aHJvd0lmTm90RXhpc3RzKHByb2R1Y3RJZCk7XG5cblx0XHRwcm9kdWN0LmlkID0gcHJvZHVjdElkO1xuXHRcdHJldHVybiB0aGlzLl9wcm9kdWN0c1NlcnZpY2Uuc2F2ZShwcm9kdWN0KTtcblx0fVxuXG5cdEBNdXRhdGlvbigpXG5cdGFzeW5jIGNyZWF0ZVByb2R1Y3QoXywgeyBwcm9kdWN0IH06IHsgcHJvZHVjdCB9KSB7XG5cdFx0cmV0dXJuIHRoaXMuX3Byb2R1Y3RzU2VydmljZS5jcmVhdGUocHJvZHVjdCk7XG5cdH1cbn1cbiIsImltcG9ydCB7IE1vZHVsZSB9IGZyb20gJ0BuZXN0anMvY29tbW9uJztcbmltcG9ydCB7IFByb2R1Y3RSZXNvbHZlciB9IGZyb20gJy4vcHJvZHVjdC5yZXNvbHZlcic7XG5pbXBvcnQgeyBQcm9kdWN0c0NhdGVnb3JpZXNNb2R1bGUgfSBmcm9tICcuL2NhdGVnb3JpZXMvcHJvZHVjdHMtY2F0ZWdvcmllcy5tb2R1bGUnO1xuXG5ATW9kdWxlKHtcblx0aW1wb3J0czogW1Byb2R1Y3RzQ2F0ZWdvcmllc01vZHVsZV0sXG5cdHByb3ZpZGVyczogW1Byb2R1Y3RSZXNvbHZlcl0sXG59KVxuZXhwb3J0IGNsYXNzIFByb2R1Y3RzTW9kdWxlIHt9XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFwic2NhbGFyIERhdGVcXG5cIiIsImV4cG9ydCAqIGZyb20gJy4vZGF0ZS50eXBlLmdyYXBocWwnO1xuZXhwb3J0ICogZnJvbSAnLi9zY2FsYXJzJztcbiIsImltcG9ydCB7IERhdGVTY2FsYXIgfSBmcm9tICcuL2RhdGUudHlwZS5ncmFwaHFsJztcblxuZXhwb3J0IGNvbnN0IFNDQUxBUlMgPSB7XG5cdERhdGU6IERhdGVTY2FsYXIsXG59O1xuIiwiZXhwb3J0IGNvbnN0IFNVQlNDUklQVElPTl9TRVJWRVIgPSAnU1VCU0NSSVBUSU9OX1NFUlZFUic7XG4iLCJpbXBvcnQgeyBjcmVhdGVTZXJ2ZXIgfSBmcm9tICdodHRwJztcblxuaW1wb3J0IHsgU1VCU0NSSVBUSU9OX1NFUlZFUiB9IGZyb20gJy4vc3Vic2NyaXB0aW9uLmNvbnN0YW50cyc7XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVTdWJzY3JpcHRpb25Qcm92aWRlcnMgPSAocG9ydDogbnVtYmVyID0gNTA1MCkgPT4gW1xuXHR7XG5cdFx0cHJvdmlkZTogU1VCU0NSSVBUSU9OX1NFUlZFUixcblxuXHRcdHVzZUZhY3Rvcnk6ICgpID0+IHtcblx0XHRcdGNvbnN0IHNlcnZlciA9IGNyZWF0ZVNlcnZlcigpO1xuXG5cdFx0XHRjb25zdCBjbG9zZVNlcnZlciA9ICgpID0+IHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRpZiAoc2VydmVyICE9IG51bGwpIHtcblx0XHRcdFx0XHRcdHNlcnZlci5jbG9zZSgoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdHByb2Nlc3MuZXhpdCgwKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdFx0cHJvY2Vzcy5leGl0KDApO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0XHRwcm9jZXNzXG5cdFx0XHRcdC5vbignU0lHSU5UJywgKCkgPT4gY2xvc2VTZXJ2ZXIoKSlcblx0XHRcdFx0Lm9uKCdTSUdURVJNJywgKCkgPT4gY2xvc2VTZXJ2ZXIoKSk7XG5cblx0XHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT5cblx0XHRcdFx0c2VydmVyLmxpc3Rlbihwb3J0LCAoKSA9PiByZXNvbHZlKHNlcnZlcikpXG5cdFx0XHQpO1xuXHRcdH0sXG5cdH0sXG5dO1xuIiwiaW1wb3J0IHsgRHluYW1pY01vZHVsZSwgTW9kdWxlIH0gZnJvbSAnQG5lc3Rqcy9jb21tb24nO1xuaW1wb3J0IHsgY3JlYXRlU3Vic2NyaXB0aW9uUHJvdmlkZXJzIH0gZnJvbSAnLi9zdWJzY3JpcHRpb24ucHJvdmlkZXJzJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbnNTZXJ2aWNlIH0gZnJvbSAnLi9zdWJzY3JpcHRpb25zLnNlcnZpY2UnO1xuXG5ATW9kdWxlKHtcblx0cHJvdmlkZXJzOiBbU3Vic2NyaXB0aW9uc1NlcnZpY2VdLFxuXHRleHBvcnRzOiBbU3Vic2NyaXB0aW9uc1NlcnZpY2VdLFxufSlcbmV4cG9ydCBjbGFzcyBTdWJzY3JpcHRpb25zTW9kdWxlIHtcblx0c3RhdGljIGZvclJvb3QocG9ydDogbnVtYmVyKTogRHluYW1pY01vZHVsZSB7XG5cdFx0Y29uc3QgcHJvdmlkZXJzID0gY3JlYXRlU3Vic2NyaXB0aW9uUHJvdmlkZXJzKHBvcnQpO1xuXHRcdHJldHVybiB7XG5cdFx0XHRtb2R1bGU6IFN1YnNjcmlwdGlvbnNNb2R1bGUsXG5cdFx0XHRwcm92aWRlcnM6IFsuLi5wcm92aWRlcnNdLFxuXHRcdFx0ZXhwb3J0czogWy4uLnByb3ZpZGVyc10sXG5cdFx0fTtcblx0fVxufVxuIiwiaW1wb3J0IFdlYlNvY2tldCBmcm9tICd3cyc7XG5pbXBvcnQgeyBJbmplY3QsIEluamVjdGFibGUsIE9uTW9kdWxlRGVzdHJveSB9IGZyb20gJ0BuZXN0anMvY29tbW9uJztcbmltcG9ydCB7IFNVQlNDUklQVElPTl9TRVJWRVIgfSBmcm9tICcuL3N1YnNjcmlwdGlvbi5jb25zdGFudHMnO1xuaW1wb3J0IHsgU2VydmVyT3B0aW9ucywgU3Vic2NyaXB0aW9uU2VydmVyIH0gZnJvbSAnc3Vic2NyaXB0aW9ucy10cmFuc3BvcnQtd3MnO1xuaW1wb3J0IHsgZXhlY3V0ZSwgc3Vic2NyaWJlIH0gZnJvbSAnZ3JhcGhxbCc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBTdWJzY3JpcHRpb25zU2VydmljZSBpbXBsZW1lbnRzIE9uTW9kdWxlRGVzdHJveSB7XG5cdHByaXZhdGUgc3Vic2NyaXB0aW9uU2VydmVyOiBTdWJzY3JpcHRpb25TZXJ2ZXI7XG5cblx0Y29uc3RydWN0b3IoQEluamVjdChTVUJTQ1JJUFRJT05fU0VSVkVSKSBwcml2YXRlIHJlYWRvbmx5IHdzKSB7fVxuXG5cdGNyZWF0ZVN1YnNjcmlwdGlvblNlcnZlcihcblx0XHRzY2hlbWE6IGFueSxcblx0XHRvcHRpb25zOiBTZXJ2ZXJPcHRpb25zID0ge30sXG5cdFx0c29ja2V0T3B0aW9uczogV2ViU29ja2V0LlNlcnZlck9wdGlvbnMgPSB7fVxuXHQpIHtcblx0XHR0aGlzLnN1YnNjcmlwdGlvblNlcnZlciA9IG5ldyBTdWJzY3JpcHRpb25TZXJ2ZXIoXG5cdFx0XHR7XG5cdFx0XHRcdGV4ZWN1dGUsXG5cdFx0XHRcdHN1YnNjcmliZSxcblx0XHRcdFx0c2NoZW1hLFxuXHRcdFx0XHQuLi5vcHRpb25zLFxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0c2VydmVyOiB0aGlzLndzLFxuXHRcdFx0XHRwYXRoOiAnL3N1YnNjcmlwdGlvbnMnLFxuXHRcdFx0XHQuLi5zb2NrZXRPcHRpb25zLFxuXHRcdFx0fVxuXHRcdCk7XG5cdH1cblxuXHRvbk1vZHVsZURlc3Ryb3koKSB7XG5cdFx0dGhpcy53cy5jbG9zZSgpO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBNdXRhdGlvbiwgUXVlcnksIFJlc29sdmVQcm9wZXJ0eSwgUmVzb2x2ZXIgfSBmcm9tICdAbmVzdGpzL2dyYXBocWwnO1xuaW1wb3J0IHsgVXNlcnNPcmRlcnNTZXJ2aWNlLCBVc2Vyc1NlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy91c2Vycyc7XG5pbXBvcnQgeyBmaXJzdCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7XG5cdGRlZmF1bHQgYXMgSVVzZXIsXG5cdElVc2VyQ3JlYXRlT2JqZWN0LFxuXHRJUmVzcG9uc2VHZW5lcmF0ZTEwMDBDdXN0b21lcnMsXG59IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JVXNlcic7XG5pbXBvcnQgVXNlciBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL1VzZXInO1xuaW1wb3J0IHsgRGV2aWNlc1NlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9kZXZpY2VzJztcbmltcG9ydCB7IFVzZXJzQXV0aFNlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy91c2Vycy9Vc2Vyc0F1dGhTZXJ2aWNlJztcbmltcG9ydCB7XG5cdEFkZGFibGVSZWdpc3RyYXRpb25JbmZvLFxuXHRJVXNlclJlZ2lzdHJhdGlvbklucHV0LFxufSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL3JvdXRlcnMvSVVzZXJBdXRoUm91dGVyJztcbmltcG9ydCB7IE9iamVjdElkIH0gZnJvbSAnbW9uZ29kYic7XG5pbXBvcnQgeyBPcmRlcnNTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvb3JkZXJzJztcblxuQFJlc29sdmVyKCdVc2VyJylcbmV4cG9ydCBjbGFzcyBVc2VyUmVzb2x2ZXIge1xuXHRjb25zdHJ1Y3Rvcihcblx0XHRwcml2YXRlIHJlYWRvbmx5IF91c2Vyc1NlcnZpY2U6IFVzZXJzU2VydmljZSxcblx0XHRwcml2YXRlIHJlYWRvbmx5IF91c2Vyc0F1dGhTZXJ2aWNlOiBVc2Vyc0F1dGhTZXJ2aWNlLFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgX3VzZXJzT3JkZXJzU2VydmljZTogVXNlcnNPcmRlcnNTZXJ2aWNlLFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgX2RldmljZXNTZXJ2aWNlOiBEZXZpY2VzU2VydmljZSxcblx0XHRwcml2YXRlIHJlYWRvbmx5IF9vcmRlcnNTZXJ2aWNlOiBPcmRlcnNTZXJ2aWNlXG5cdCkge31cblxuXHRAUXVlcnkoKVxuXHRhc3luYyBpc1VzZXJFbWFpbEV4aXN0cyhfLCB7IGVtYWlsIH06IHsgZW1haWw6IHN0cmluZyB9KTogUHJvbWlzZTxib29sZWFuPiB7XG5cdFx0cmV0dXJuIHRoaXMuX3VzZXJzU2VydmljZS5pc1VzZXJFbWFpbEV4aXN0cyhlbWFpbCk7XG5cdH1cblxuXHRAUXVlcnkoKVxuXHRhc3luYyBnZW5lcmF0ZTEwMDBDdXN0b21lcnMoXG5cdFx0Xyxcblx0XHR7IGRlZmF1bHRMbmcsIGRlZmF1bHRMYXQgfTogeyBkZWZhdWx0TG5nOiBudW1iZXI7IGRlZmF1bHRMYXQ6IG51bWJlciB9XG5cdCk6IFByb21pc2U8SVJlc3BvbnNlR2VuZXJhdGUxMDAwQ3VzdG9tZXJzPiB7XG5cdFx0bGV0IHN1Y2Nlc3MgPSB0cnVlO1xuXHRcdGxldCBtZXNzYWdlID0gbnVsbDtcblxuXHRcdHRyeSB7XG5cdFx0XHRhd2FpdCB0aGlzLl9vcmRlcnNTZXJ2aWNlLmdlbmVyYXRlT3JkZXJzUGVyRWFjaEN1c3RvbWVyKFxuXHRcdFx0XHRhd2FpdCB0aGlzLl91c2Vyc1NlcnZpY2UuZ2VuZXJhdGUxMDAwQ3VzdG9tZXJzKFxuXHRcdFx0XHRcdGRlZmF1bHRMbmcsXG5cdFx0XHRcdFx0ZGVmYXVsdExhdFxuXHRcdFx0XHQpXG5cdFx0XHQpO1xuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0bWVzc2FnZSA9IGVyci5tZXNzYWdlO1xuXHRcdFx0c3VjY2VzcyA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzLFxuXHRcdFx0bWVzc2FnZSxcblx0XHR9O1xuXHR9XG5cblx0QFF1ZXJ5KClcblx0YXN5bmMgZ2V0U29jaWFsKF8sIHsgc29jaWFsSWQgfTogeyBzb2NpYWxJZDogc3RyaW5nIH0pIHtcblx0XHRyZXR1cm4gdGhpcy5fdXNlcnNTZXJ2aWNlLmdldFNvY2lhbChzb2NpYWxJZCk7XG5cdH1cblxuXHRAUXVlcnkoJ2lzVXNlckV4aXN0cycpXG5cdGFzeW5jIHVzZXJFeGlzdHMoXywgeyBjb25kaXRpb25zIH0pOiBQcm9taXNlPGJvb2xlYW4+IHtcblx0XHRjb25zdCB1c2VySWQgPSBjb25kaXRpb25zLmV4Y2VwdEN1c3RvbWVySWQ7XG5cdFx0Y29uc3QgbWVtYmVyS2V5ID0gY29uZGl0aW9ucy5tZW1iZXJLZXk7XG5cdFx0Y29uc3QgbWVtYmVyVmFsdWUgPSBjb25kaXRpb25zLm1lbWJlclZhbHVlO1xuXG5cdFx0cmV0dXJuIChcblx0XHRcdChhd2FpdCB0aGlzLl91c2Vyc1NlcnZpY2UuY291bnQoe1xuXHRcdFx0XHRfaWQ6IHsgJG5pbjogW25ldyBPYmplY3RJZCh1c2VySWQpXSB9LFxuXHRcdFx0XHRpc0RlbGV0ZWQ6IHsgJGVxOiBmYWxzZSB9LFxuXHRcdFx0XHRbbWVtYmVyS2V5XTogbWVtYmVyVmFsdWUsXG5cdFx0XHR9KSkgPiAwXG5cdFx0KTtcblx0fVxuXG5cdEBRdWVyeSgndXNlcicpXG5cdGFzeW5jIGdldFVzZXIoXywgeyBpZCB9KSB7XG5cdFx0cmV0dXJuIHRoaXMuX3VzZXJzU2VydmljZS5nZXQoaWQpLnBpcGUoZmlyc3QoKSkudG9Qcm9taXNlKCk7XG5cdH1cblxuXHRAUXVlcnkoJ3VzZXJzJylcblx0YXN5bmMgZ2V0VXNlcnMoXywgeyBmaW5kSW5wdXQsIHBhZ2luZ09wdGlvbnMgPSB7fSB9KSB7XG5cdFx0aWYgKCFwYWdpbmdPcHRpb25zIHx8IChwYWdpbmdPcHRpb25zICYmICFwYWdpbmdPcHRpb25zWydzb3J0J10pKSB7XG5cdFx0XHRwYWdpbmdPcHRpb25zWydzb3J0J10gPSB7IGZpZWxkOiAnX2NyZWF0ZWRBdCcsIHNvcnRCeTogJ2Rlc2MnIH07XG5cdFx0fVxuXG5cdFx0Y29uc3QgdXNlcnMgPSBhd2FpdCB0aGlzLl91c2Vyc1NlcnZpY2UuZ2V0VXNlcnMoXG5cdFx0XHRmaW5kSW5wdXQsXG5cdFx0XHRwYWdpbmdPcHRpb25zXG5cdFx0KTtcblxuXHRcdHJldHVybiB1c2Vycy5tYXAoKHUpID0+IG5ldyBVc2VyKHUpKTtcblx0fVxuXG5cdEBRdWVyeSgnZ2V0T3JkZXJzJylcblx0YXN5bmMgZ2V0T3JkZXJzKF8sIHsgdXNlcklkIH0pIHtcblx0XHRhd2FpdCB0aGlzLl91c2Vyc1NlcnZpY2UudGhyb3dJZk5vdEV4aXN0cyh1c2VySWQpO1xuXG5cdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5fdXNlcnNPcmRlcnNTZXJ2aWNlXG5cdFx0XHQuZ2V0KHVzZXJJZClcblx0XHRcdC5waXBlKGZpcnN0KCkpXG5cdFx0XHQudG9Qcm9taXNlKCk7XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG5cblx0QFF1ZXJ5KClcblx0YXN5bmMgZ2V0Q291bnRPZlVzZXJzKCkge1xuXHRcdHJldHVybiB0aGlzLl91c2Vyc1NlcnZpY2UuTW9kZWwuZmluZCh7IGlzRGVsZXRlZDogeyAkZXE6IGZhbHNlIH0gfSlcblx0XHRcdC5jb3VudERvY3VtZW50cygpXG5cdFx0XHQuZXhlYygpO1xuXHR9XG5cblx0QFF1ZXJ5KClcblx0YXN5bmMgZ2V0Q3VzdG9tZXJNZXRyaWNzKF8sIHsgaWQgfTogeyBpZDogc3RyaW5nIH0pIHtcblx0XHRyZXR1cm4gdGhpcy5fdXNlcnNPcmRlcnNTZXJ2aWNlLmdldEN1c3RvbWVyTWV0cmljcyhpZCk7XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHRhc3luYyB1cGRhdGVVc2VyKFxuXHRcdF8sXG5cdFx0eyBpZCwgdXBkYXRlT2JqZWN0IH06IHsgaWQ6IHN0cmluZzsgdXBkYXRlT2JqZWN0OiBJVXNlckNyZWF0ZU9iamVjdCB9XG5cdCkge1xuXHRcdHJldHVybiB0aGlzLl91c2Vyc1NlcnZpY2UudXBkYXRlVXNlcihpZCwgdXBkYXRlT2JqZWN0KTtcblx0fVxuXG5cdEBNdXRhdGlvbigpXG5cdGFzeW5jIHVwZGF0ZVVzZXJFbWFpbChcblx0XHRfLFxuXHRcdHsgdXNlcklkLCBlbWFpbCB9OiB7IHVzZXJJZDogc3RyaW5nOyBlbWFpbDogc3RyaW5nIH1cblx0KSB7XG5cdFx0cmV0dXJuIHRoaXMuX3VzZXJzU2VydmljZS51cGRhdGVFbWFpbCh1c2VySWQsIGVtYWlsKTtcblx0fVxuXG5cdEBNdXRhdGlvbigpXG5cdGFzeW5jIHJlZ2lzdGVyVXNlcihcblx0XHRfLFxuXHRcdHsgcmVnaXN0ZXJJbnB1dCB9OiB7IHJlZ2lzdGVySW5wdXQ6IElVc2VyUmVnaXN0cmF0aW9uSW5wdXQgfVxuXHQpIHtcblx0XHRyZXR1cm4gdGhpcy5fdXNlcnNBdXRoU2VydmljZS5yZWdpc3RlcihyZWdpc3RlcklucHV0KTtcblx0fVxuXG5cdEBNdXRhdGlvbigpXG5cdGFzeW5jIHVzZXJMb2dpbihcblx0XHRfLFxuXHRcdHsgZW1haWwsIHBhc3N3b3JkIH06IHsgZW1haWw6IHN0cmluZzsgcGFzc3dvcmQ6IHN0cmluZyB9XG5cdCkge1xuXHRcdHJldHVybiB0aGlzLl91c2Vyc0F1dGhTZXJ2aWNlLmxvZ2luKGVtYWlsLCBwYXNzd29yZCk7XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHRhc3luYyByZW1vdmVVc2Vyc0J5SWRzKG9iaiwgeyBpZHMgfTogeyBpZHM6IHN0cmluZ1tdIH0pIHtcblx0XHRjb25zdCB1c2VycyA9IGF3YWl0IHRoaXMuX3VzZXJzU2VydmljZS5maW5kKHtcblx0XHRcdF9pZDogeyAkaW46IGlkcyB9LFxuXHRcdFx0aXNEZWxldGVkOiB7ICRlcTogZmFsc2UgfSxcblx0XHR9KTtcblxuXHRcdGNvbnN0IHVzZXJzSWRzID0gdXNlcnMubWFwKCh1KSA9PiB1LmlkKTtcblxuXHRcdHJldHVybiB0aGlzLl91c2Vyc1NlcnZpY2UucmVtb3ZlTXVsdGlwbGVCeUlkcyh1c2Vyc0lkcyk7XG5cdH1cblxuXHRAUmVzb2x2ZVByb3BlcnR5KCdkZXZpY2VzJylcblx0YXN5bmMgZ2V0RGV2aWNlcyhfdXNlcjogSVVzZXIpIHtcblx0XHRjb25zdCB1c2VyID0gbmV3IFVzZXIoX3VzZXIpO1xuXHRcdHJldHVybiAoXG5cdFx0XHQoYXdhaXQgdGhpcy5fZGV2aWNlc1NlcnZpY2UuZ2V0TXVsdGlwbGVEZXZpY2VzKHVzZXIuZGV2aWNlc0lkcykpXG5cdFx0XHRcdC8vIC5nZXRNdWx0aXBsZSh1c2VyLmRldmljZXNJZHMpXG5cdFx0XHRcdC5waXBlKGZpcnN0KCkpXG5cdFx0XHRcdC50b1Byb21pc2UoKVxuXHRcdCk7XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHRhc3luYyB1cGRhdGVVc2VyUGFzc3dvcmQoXG5cdFx0Xyxcblx0XHR7XG5cdFx0XHRpZCxcblx0XHRcdHBhc3N3b3JkLFxuXHRcdH06IHsgaWQ6IFVzZXJbJ2lkJ107IHBhc3N3b3JkOiB7IGN1cnJlbnQ6IHN0cmluZzsgbmV3OiBzdHJpbmcgfSB9XG5cdCkge1xuXHRcdHJldHVybiB0aGlzLl91c2Vyc0F1dGhTZXJ2aWNlLnVwZGF0ZVBhc3N3b3JkKGlkLCBwYXNzd29yZCk7XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHRhc3luYyBhZGRVc2VyUmVnaXN0cmF0aW9uSW5mbyhcblx0XHRfLFxuXHRcdHtcblx0XHRcdGlkLFxuXHRcdFx0cmVnaXN0cmF0aW9uSW5mbyxcblx0XHR9OiB7IGlkOiBVc2VyWydpZCddOyByZWdpc3RyYXRpb25JbmZvOiBBZGRhYmxlUmVnaXN0cmF0aW9uSW5mbyB9XG5cdCkge1xuXHRcdHJldHVybiB0aGlzLl91c2Vyc0F1dGhTZXJ2aWNlLmFkZFJlZ2lzdHJhdGlvbkluZm8oaWQsIHJlZ2lzdHJhdGlvbkluZm8pO1xuXHR9XG5cblx0QE11dGF0aW9uKClcblx0YXN5bmMgYmFuVXNlcihfLCB7IGlkIH06IHsgaWQ6IFVzZXJbJ2lkJ10gfSkge1xuXHRcdHJldHVybiB0aGlzLl91c2Vyc1NlcnZpY2UuYmFuVXNlcihpZCk7XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHRhc3luYyB1bmJhblVzZXIoXywgeyBpZCB9OiB7IGlkOiBVc2VyWydpZCddIH0pIHtcblx0XHRyZXR1cm4gdGhpcy5fdXNlcnNTZXJ2aWNlLnVuYmFuVXNlcihpZCk7XG5cdH1cbn1cbiIsImltcG9ydCB7IE1vZHVsZSB9IGZyb20gJ0BuZXN0anMvY29tbW9uJztcbmltcG9ydCB7IFVzZXJSZXNvbHZlciB9IGZyb20gJy4vdXNlci5yZXNvbHZlcic7XG5cbkBNb2R1bGUoe1xuXHRwcm92aWRlcnM6IFtVc2VyUmVzb2x2ZXJdLFxufSlcbmV4cG9ydCBjbGFzcyBVc2Vyc01vZHVsZSB7fVxuIiwiaW1wb3J0IHsgTW9kdWxlIH0gZnJvbSAnQG5lc3Rqcy9jb21tb24nO1xuaW1wb3J0IHsgV2FyZWhvdXNlQ2FycmllcnNSZXNvbHZlciB9IGZyb20gJy4vd2FyZWhvdXNlcy1jYXJyaWVycy5yZXNvbHZlcic7XG5cbkBNb2R1bGUoe1xuXHRwcm92aWRlcnM6IFtXYXJlaG91c2VDYXJyaWVyc1Jlc29sdmVyXSxcblx0aW1wb3J0czogW10sXG59KVxuZXhwb3J0IGNsYXNzIFdhcmVob3VzZXNDYXJyaWVyc01vZHVsZSB7fVxuIiwiaW1wb3J0IHsgUmVzb2x2ZXIsIFF1ZXJ5IH0gZnJvbSAnQG5lc3Rqcy9ncmFwaHFsJztcbmltcG9ydCB7IFdhcmVob3VzZXNDYXJyaWVyc1NlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy93YXJlaG91c2VzJztcbmltcG9ydCB7IGZpcnN0IH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5AUmVzb2x2ZXIoJ1dhcmVob3VzZUNhcnJpZXJzJylcbmV4cG9ydCBjbGFzcyBXYXJlaG91c2VDYXJyaWVyc1Jlc29sdmVyIHtcblx0Y29uc3RydWN0b3IoXG5cdFx0cHJpdmF0ZSByZWFkb25seSBfd2FyZWhvdXNlc0NhcnJpZXJzU2VydmljZTogV2FyZWhvdXNlc0NhcnJpZXJzU2VydmljZVxuXHQpIHt9XG5cblx0QFF1ZXJ5KClcblx0YXN5bmMgZ2V0U3RvcmVDYXJyaWVycyhfLCB7IHN0b3JlSWQgfTogeyBzdG9yZUlkOiBzdHJpbmcgfSkge1xuXHRcdGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuX3dhcmVob3VzZXNDYXJyaWVyc1NlcnZpY2Vcblx0XHRcdC5nZXQoc3RvcmVJZClcblx0XHRcdC5waXBlKGZpcnN0KCkpXG5cdFx0XHQudG9Qcm9taXNlKCk7XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG59XG4iLCJpbXBvcnQgeyBNb2R1bGUgfSBmcm9tICdAbmVzdGpzL2NvbW1vbic7XG5pbXBvcnQgeyBXYXJlaG91c2VPcmRlcnNSZXNvbHZlciB9IGZyb20gJy4vd2FyZWhvdXNlcy1vcmRlcnMucmVzb2x2ZXInO1xuXG5ATW9kdWxlKHtcblx0cHJvdmlkZXJzOiBbV2FyZWhvdXNlT3JkZXJzUmVzb2x2ZXJdLFxuXHRpbXBvcnRzOiBbXSxcbn0pXG5leHBvcnQgY2xhc3MgV2FyZWhvdXNlc09yZGVyc01vZHVsZSB7fVxuIiwiaW1wb3J0IHsgTXV0YXRpb24sIFJlc29sdmVyLCBRdWVyeSB9IGZyb20gJ0BuZXN0anMvZ3JhcGhxbCc7XG5pbXBvcnQge1xuXHRXYXJlaG91c2VzT3JkZXJzU2VydmljZSxcblx0Z2V0U3RvcmVPcmRlcnNGaW5nT2JqLFxufSBmcm9tICcuLi8uLi9zZXJ2aWNlcy93YXJlaG91c2VzJztcbmltcG9ydCBPcmRlciBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL09yZGVyJztcbmltcG9ydCB7IElPcmRlckNyZWF0ZUlucHV0IH0gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9yb3V0ZXJzL0lXYXJlaG91c2VPcmRlcnNSb3V0ZXInO1xuaW1wb3J0IHsgZmlyc3QsIG1hcCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IE9yZGVyc1NlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9vcmRlcnMnO1xuaW1wb3J0IE9yZGVyU3RhdHVzIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW51bXMvT3JkZXJTdGF0dXMnO1xuaW1wb3J0IE9yZGVyV2FyZWhvdXNlU3RhdHVzIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW51bXMvT3JkZXJXYXJlaG91c2VTdGF0dXMnO1xuaW1wb3J0IE9yZGVyQ2FycmllclN0YXR1cyBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudW1zL09yZGVyQ2FycmllclN0YXR1cyc7XG5pbXBvcnQgeyBPYmplY3RJZCB9IGZyb20gJ2Jzb24nO1xuXG5leHBvcnQgdHlwZSBPcmRlcnNGaWx0ZXJNb2RlcyA9XG5cdHwgJ3JlYWR5J1xuXHR8ICdpbl9kZWxpdmVyeSdcblx0fCAnbm90X2NvbmZpcm1lZCdcblx0fCAnY2FuY2VsbGVkJ1xuXHR8ICdhbGwnO1xuXG5AUmVzb2x2ZXIoJ1dhcmVob3VzZU9yZGVycycpXG5leHBvcnQgY2xhc3MgV2FyZWhvdXNlT3JkZXJzUmVzb2x2ZXIge1xuXHRjb25zdHJ1Y3Rvcihcblx0XHRwcml2YXRlIHJlYWRvbmx5IF93YXJlaG91c2VzT3JkZXJzU2VydmljZTogV2FyZWhvdXNlc09yZGVyc1NlcnZpY2UsXG5cdFx0cHJpdmF0ZSByZWFkb25seSBfb3JkZXJzU2VydmljZTogT3JkZXJzU2VydmljZVxuXHQpIHt9XG5cblx0QFF1ZXJ5KClcblx0YXN5bmMgZ2V0U3RvcmVPcmRlcnMoXywgeyBzdG9yZUlkIH06IHsgc3RvcmVJZDogc3RyaW5nIH0pIHtcblx0XHRyZXR1cm4gdGhpcy5fd2FyZWhvdXNlc09yZGVyc1NlcnZpY2Vcblx0XHRcdC5nZXQoc3RvcmVJZClcblx0XHRcdC5waXBlKGZpcnN0KCkpXG5cdFx0XHQudG9Qcm9taXNlKCk7XG5cdH1cblxuXHRAUXVlcnkoKVxuXHRhc3luYyBnZXREYXNoYm9hcmRPcmRlcnNDaGFydE9yZGVycyhfLCB7IHN0b3JlSWQgfTogeyBzdG9yZUlkOiBzdHJpbmcgfSkge1xuXHRcdGNvbnN0IHJlc09yZGVycyA9IHRoaXMuX29yZGVyc1NlcnZpY2UuZ2V0U3RvcmVPcmRlcnNDaGFydFRvdGFsT3JkZXJzKFxuXHRcdFx0c3RvcmVJZFxuXHRcdCk7XG5cblx0XHRyZXR1cm4gcmVzT3JkZXJzO1xuXHR9XG5cblx0QFF1ZXJ5KClcblx0YXN5bmMgZ2V0TmV4dE9yZGVyTnVtYmVyKF8sIHsgc3RvcmVJZCB9OiB7IHN0b3JlSWQ6IHN0cmluZyB9KSB7XG5cdFx0cmV0dXJuIHRoaXMuX3dhcmVob3VzZXNPcmRlcnNTZXJ2aWNlLmdldE5leHRPcmRlck51bWJlcihzdG9yZUlkKTtcblx0fVxuXHRAUXVlcnkoKVxuXHRhc3luYyBnZXRNZXJjaGFudHNPcmRlcnMoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX29yZGVyc1NlcnZpY2UuTW9kZWwuYWdncmVnYXRlKFtcblx0XHRcdHsgJG1hdGNoOiB7IHdhcmVob3VzZTogeyAkbmU6IG51bGwgfSB9IH0sXG5cdFx0XHR7XG5cdFx0XHRcdCRncm91cDoge1xuXHRcdFx0XHRcdF9pZDogJyR3YXJlaG91c2UnLFxuXHRcdFx0XHRcdG9yZGVyc0NvdW50OiB7ICRzdW06IDEgfSxcblx0XHRcdFx0fSxcblx0XHRcdH0sXG5cdFx0XSk7XG5cdH1cblxuXHRAUXVlcnkoKVxuXHRhc3luYyBnZXRTdG9yZU9yZGVyc1RhYmxlRGF0YShfLCB7IHN0b3JlSWQsIHBhZ2luZ09wdGlvbnMgPSB7fSwgc3RhdHVzIH0pIHtcblx0XHRpZiAoIXBhZ2luZ09wdGlvbnMgfHwgKHBhZ2luZ09wdGlvbnMgJiYgIXBhZ2luZ09wdGlvbnNbJ3NvcnQnXSkpIHtcblx0XHRcdHBhZ2luZ09wdGlvbnNbJ3NvcnQnXSA9IHsgZmllbGQ6ICdfY3JlYXRlZEF0Jywgc29ydEJ5OiAnYXNjJyB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IG9yZGVycyA9IGF3YWl0IHRoaXMuX3dhcmVob3VzZXNPcmRlcnNTZXJ2aWNlLmdldFN0b3JlT3JkZXJzKFxuXHRcdFx0c3RvcmVJZCxcblx0XHRcdHBhZ2luZ09wdGlvbnMsXG5cdFx0XHRzdGF0dXNcblx0XHQpO1xuXG5cdFx0bGV0IHBhZ2UgPSAxO1xuXG5cdFx0aWYgKHBhZ2luZ09wdGlvbnMpIHtcblx0XHRcdHBhZ2UgPSBNYXRoLmNlaWwoXG5cdFx0XHRcdHBhZ2luZ09wdGlvbnNbJ3NraXAnXSAvIHBhZ2luZ09wdGlvbnNbJ2xpbWl0J10gKyAxXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IG9yZGVyczogb3JkZXJzLm1hcCgobykgPT4gbmV3IE9yZGVyKG8pKSwgcGFnZSB9O1xuXHR9XG5cblx0QFF1ZXJ5KClcblx0YXN5bmMgZ2V0Q291bnRPZlN0b3JlT3JkZXJzKFxuXHRcdF8sXG5cdFx0eyBzdG9yZUlkLCBzdGF0dXMgfTogeyBzdG9yZUlkOiBzdHJpbmc7IHN0YXR1czogT3JkZXJzRmlsdGVyTW9kZXMgfVxuXHQpIHtcblx0XHRjb25zdCBmaW5kT2JqID0gZ2V0U3RvcmVPcmRlcnNGaW5nT2JqKHN0b3JlSWQsIHN0YXR1cyk7XG5cblx0XHRyZXR1cm4gdGhpcy5fb3JkZXJzU2VydmljZS5Nb2RlbC5maW5kKGZpbmRPYmopLmNvdW50RG9jdW1lbnRzKCkuZXhlYygpO1xuXHR9XG5cblx0QFF1ZXJ5KClcblx0YXN5bmMgcmVtb3ZlVXNlck9yZGVycyhcblx0XHRfLFxuXHRcdHsgc3RvcmVJZCwgdXNlcklkIH06IHsgc3RvcmVJZDogc3RyaW5nOyB1c2VySWQ6IHN0cmluZyB9XG5cdCkge1xuXHRcdGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuX29yZGVyc1NlcnZpY2UuTW9kZWwudXBkYXRlKFxuXHRcdFx0e1xuXHRcdFx0XHQndXNlci5faWQnOiBuZXcgT2JqZWN0SWQodXNlcklkKSxcblx0XHRcdFx0d2FyZWhvdXNlOiBzdG9yZUlkLFxuXHRcdFx0XHRpc0RlbGV0ZWQ6IGZhbHNlLFxuXHRcdFx0fSxcblx0XHRcdHsgaXNEZWxldGVkOiB0cnVlIH0sXG5cdFx0XHR7IG11bHRpOiB0cnVlIH1cblx0XHQpLmV4ZWMoKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRudW1iZXI6IHJlcy5uLFxuXHRcdFx0bW9kaWZpZWQ6IHJlcy5uTW9kaWZpZWQsXG5cdFx0fTtcblx0fVxuXG5cdEBRdWVyeSgpXG5cdGFzeW5jIGdldE9yZGVyc0luRGVsaXZlcnkoXywgeyBzdG9yZUlkIH06IHsgc3RvcmVJZDogc3RyaW5nIH0pIHtcblx0XHRjb25zdCBvcmRlciA9IGF3YWl0IHRoaXMuX29yZGVyc1NlcnZpY2UuZ2V0T3JkZXJzSW5EZWxpdmVyeShzdG9yZUlkKTtcblx0XHRyZXR1cm4gb3JkZXIgfHwgW107XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHRhc3luYyBjcmVhdGVPcmRlcihcblx0XHRfLFxuXHRcdHsgY3JlYXRlSW5wdXQgfTogeyBjcmVhdGVJbnB1dDogSU9yZGVyQ3JlYXRlSW5wdXQgfVxuXHQpOiBQcm9taXNlPE9yZGVyPiB7XG5cdFx0cmV0dXJuIHRoaXMuX3dhcmVob3VzZXNPcmRlcnNTZXJ2aWNlLmNyZWF0ZShjcmVhdGVJbnB1dCk7XG5cdH1cbn1cbiIsImltcG9ydCB7IE11dGF0aW9uLCBSZXNvbHZlciwgUXVlcnkgfSBmcm9tICdAbmVzdGpzL2dyYXBocWwnO1xuaW1wb3J0IHsgSVdhcmVob3VzZVByb2R1Y3RDcmVhdGVPYmplY3QgfSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2ludGVyZmFjZXMvSVdhcmVob3VzZVByb2R1Y3QnO1xuaW1wb3J0IHsgV2FyZWhvdXNlc1Byb2R1Y3RzU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL3dhcmVob3VzZXMnO1xuaW1wb3J0IHsgRXhjZXB0aW9uIH0gZnJvbSAnaGFuZGxlYmFycyc7XG5pbXBvcnQgV2FyZWhvdXNlUHJvZHVjdCBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL1dhcmVob3VzZVByb2R1Y3QnO1xuaW1wb3J0IHsgZmlyc3QgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbkBSZXNvbHZlcignV2FyZWhvdXNlLXByb2R1Y3RzJylcbmV4cG9ydCBjbGFzcyBXYXJlaG91c2VQcm9kdWN0c1Jlc29sdmVyIHtcblx0Y29uc3RydWN0b3IoXG5cdFx0cHJpdmF0ZSByZWFkb25seSBfd2FyZWhvdXNlc1Byb2R1Y3RzU2VydmljZTogV2FyZWhvdXNlc1Byb2R1Y3RzU2VydmljZVxuXHQpIHt9XG5cblx0QFF1ZXJ5KClcblx0YXN5bmMgZ2V0UHJvZHVjdHNXaXRoUGFnaW5hdGlvbihfLCB7IGlkLCBwYWdpbmdPcHRpb25zID0ge30gfSkge1xuXHRcdGNvbnN0IHdhcmVob3VzZVByb2R1Y3RzID0gYXdhaXQgdGhpcy5fd2FyZWhvdXNlc1Byb2R1Y3RzU2VydmljZS5nZXRQcm9kdWN0c1dpdGhQYWdpbmF0aW9uKFxuXHRcdFx0aWQsXG5cdFx0XHRwYWdpbmdPcHRpb25zXG5cdFx0KTtcblxuXHRcdHJldHVybiB3YXJlaG91c2VQcm9kdWN0cy5tYXAoKHApID0+IG5ldyBXYXJlaG91c2VQcm9kdWN0KHApKTtcblx0fVxuXG5cdEBRdWVyeSgpXG5cdGFzeW5jIGdldFByb2R1Y3RzQ291bnQoXywgeyBpZCB9OiB7IGlkOiBzdHJpbmcgfSkge1xuXHRcdHJldHVybiB0aGlzLl93YXJlaG91c2VzUHJvZHVjdHNTZXJ2aWNlLmdldFByb2R1Y3RzQ291bnQoaWQpO1xuXHR9XG5cblx0QFF1ZXJ5KClcblx0YXN5bmMgZ2V0V2FyZWhvdXNlUHJvZHVjdChcblx0XHRfLFxuXHRcdHtcblx0XHRcdHdhcmVob3VzZUlkLFxuXHRcdFx0d2FyZWhvdXNlUHJvZHVjdElkLFxuXHRcdH06IHsgd2FyZWhvdXNlSWQ6IHN0cmluZzsgd2FyZWhvdXNlUHJvZHVjdElkOiBzdHJpbmcgfVxuXHQpIHtcblx0XHRyZXR1cm4gYXdhaXQgdGhpcy5fd2FyZWhvdXNlc1Byb2R1Y3RzU2VydmljZVxuXHRcdFx0LmdldFByb2R1Y3Qod2FyZWhvdXNlSWQsIHdhcmVob3VzZVByb2R1Y3RJZClcblx0XHRcdC5waXBlKGZpcnN0KCkpXG5cdFx0XHQudG9Qcm9taXNlKCk7XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHRhc3luYyBhZGRXYXJlaG91c2VQcm9kdWN0cyhcblx0XHRfLFxuXHRcdHtcblx0XHRcdHdhcmVob3VzZUlkLFxuXHRcdFx0cHJvZHVjdHMsXG5cdFx0fTogeyB3YXJlaG91c2VJZDogc3RyaW5nOyBwcm9kdWN0czogSVdhcmVob3VzZVByb2R1Y3RDcmVhdGVPYmplY3RbXSB9XG5cdCkge1xuXHRcdHJldHVybiB0aGlzLl93YXJlaG91c2VzUHJvZHVjdHNTZXJ2aWNlLmFkZCh3YXJlaG91c2VJZCwgcHJvZHVjdHMpO1xuXHR9XG5cblx0QE11dGF0aW9uKClcblx0YXN5bmMgcmVtb3ZlV2FyZWhvdXNlUHJvZHVjdHMoXG5cdFx0Xyxcblx0XHR7XG5cdFx0XHR3YXJlaG91c2VJZCxcblx0XHRcdHByb2R1Y3RzSWRzLFxuXHRcdH06IHsgd2FyZWhvdXNlSWQ6IHN0cmluZzsgcHJvZHVjdHNJZHM6IHN0cmluZ1tdIH1cblx0KSB7XG5cdFx0cmV0dXJuIHRoaXMuX3dhcmVob3VzZXNQcm9kdWN0c1NlcnZpY2UucmVtb3ZlKHdhcmVob3VzZUlkLCBwcm9kdWN0c0lkcyk7XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHRhc3luYyB1cGRhdGVXYXJlaG91c2VQcm9kdWN0KFxuXHRcdF8sXG5cdFx0e1xuXHRcdFx0d2FyZWhvdXNlSWQsXG5cdFx0XHRwcm9kdWN0SWQsXG5cdFx0XHR1cGRhdGVJbnB1dCxcblx0XHR9OiB7XG5cdFx0XHR3YXJlaG91c2VJZDogc3RyaW5nO1xuXHRcdFx0cHJvZHVjdElkOiBzdHJpbmc7XG5cdFx0XHR1cGRhdGVJbnB1dDoge1xuXHRcdFx0XHRxdWFudGl0eToge1xuXHRcdFx0XHRcdGluY3JlYXNlOiBudW1iZXI7XG5cdFx0XHRcdFx0ZGVjcmVhc2U6IG51bWJlcjtcblx0XHRcdFx0XHR0bzogbnVtYmVyO1xuXHRcdFx0XHR9O1xuXHRcdFx0XHRwcmljZTogbnVtYmVyO1xuXHRcdFx0fTtcblx0XHR9XG5cdCkge1xuXHRcdHRocm93IG5ldyBFeGNlcHRpb24oJ25vdCBpbXBsZW1lbnRlZCcpO1xuXHRcdC8qXG5cdFx0aWYgKHVwZGF0ZUlucHV0LnF1YW50aXR5KSB7XG5cdFx0XHRpZiAoT2JqZWN0LmtleXModXBkYXRlSW5wdXQucXVhbnRpdHkpLmxlbmd0aCAhPT0gMSkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndFwiKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5fd2FyZWhvdXNlc1Byb2R1Y3RzU2VydmljZS5cblx0XHR9XG5cdFx0cmV0dXJuIGF3YWl0IHRoaXMuX3dhcmVob3VzZXNQcm9kdWN0c1NlcnZpY2UuKCk7XG5cdFx0Ki9cblx0fVxufVxuIiwiaW1wb3J0IHsgTW9kdWxlIH0gZnJvbSAnQG5lc3Rqcy9jb21tb24nO1xuaW1wb3J0IHsgV2FyZWhvdXNlUHJvZHVjdHNSZXNvbHZlciB9IGZyb20gJy4vd2FyZWhvdXNlLXByb2R1Y3RzLnJlc29sdmVyJztcblxuQE1vZHVsZSh7XG5cdHByb3ZpZGVyczogW1dhcmVob3VzZVByb2R1Y3RzUmVzb2x2ZXJdLFxuXHRpbXBvcnRzOiBbXSxcbn0pXG5leHBvcnQgY2xhc3MgV2FyZWhvdXNlc1Byb2R1Y3RzTW9kdWxlIHt9XG4iLCJpbXBvcnQgeyBNdXRhdGlvbiwgUXVlcnksIFJlc29sdmVQcm9wZXJ0eSwgUmVzb2x2ZXIgfSBmcm9tICdAbmVzdGpzL2dyYXBocWwnO1xuaW1wb3J0IHsgZGVmYXVsdCBhcyBJV2FyZWhvdXNlIH0gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9pbnRlcmZhY2VzL0lXYXJlaG91c2UnO1xuaW1wb3J0IFdhcmVob3VzZSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL1dhcmVob3VzZSc7XG5pbXBvcnQge1xuXHRXYXJlaG91c2VzQ2FycmllcnNTZXJ2aWNlLFxuXHRXYXJlaG91c2VzT3JkZXJzU2VydmljZSxcblx0V2FyZWhvdXNlc1NlcnZpY2UsXG5cdFdhcmVob3VzZXNVc2Vyc1NlcnZpY2UsXG5cdFdhcmVob3VzZXNQcm9kdWN0c1NlcnZpY2UsXG59IGZyb20gJy4uLy4uL3NlcnZpY2VzL3dhcmVob3VzZXMnO1xuaW1wb3J0IHsgRGV2aWNlc1NlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9kZXZpY2VzJztcbmltcG9ydCB7IE9yZGVyc1NlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9vcmRlcnMnO1xuaW1wb3J0IHsgVXNlcnNTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvdXNlcnMnO1xuaW1wb3J0IHsgR2VvTG9jYXRpb25zV2FyZWhvdXNlc1NlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9nZW8tbG9jYXRpb25zJztcbmltcG9ydCB7IGZpcnN0IH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHsgSVdhcmVob3VzZVJlZ2lzdHJhdGlvbklucHV0IH0gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9yb3V0ZXJzL0lXYXJlaG91c2VSb3V0ZXInO1xuaW1wb3J0IElHZW9Mb2NhdGlvbiwge1xuXHRJR2VvTG9jYXRpb25DcmVhdGVPYmplY3QsXG5cdElMb2NhdGlvbixcbn0gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9pbnRlcmZhY2VzL0lHZW9Mb2NhdGlvbic7XG5pbXBvcnQgVXNlciBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL1VzZXInO1xuaW1wb3J0IFV0aWxzIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vdXRpbHMnO1xuaW1wb3J0IEdlb0xvY2F0aW9uIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvR2VvTG9jYXRpb24nO1xuXG5AUmVzb2x2ZXIoJ1dhcmVob3VzZScpXG5leHBvcnQgY2xhc3MgV2FyZWhvdXNlUmVzb2x2ZXIge1xuXHRjb25zdHJ1Y3Rvcihcblx0XHRwcml2YXRlIHJlYWRvbmx5IF9nZW9Mb2NhdGlvbldhcmVob3VzZXNTZXJ2aWNlOiBHZW9Mb2NhdGlvbnNXYXJlaG91c2VzU2VydmljZSxcblx0XHRwcml2YXRlIHJlYWRvbmx5IF93YXJlaG91c2VzU2VydmljZTogV2FyZWhvdXNlc1NlcnZpY2UsXG5cdFx0cHJpdmF0ZSByZWFkb25seSBfd2FyZWhvdXNlc09yZGVyc1NlcnZpY2U6IFdhcmVob3VzZXNPcmRlcnNTZXJ2aWNlLFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgX3dhcmVob3VzZXNVc2Vyc1NlcnZpY2U6IFdhcmVob3VzZXNVc2Vyc1NlcnZpY2UsXG5cdFx0cHJpdmF0ZSByZWFkb25seSBfd2FyZWhvdXNlc0NhcnJpZXJzU2VydmljZTogV2FyZWhvdXNlc0NhcnJpZXJzU2VydmljZSxcblx0XHRwcml2YXRlIHJlYWRvbmx5IF93YXJlaG91c2VQcm9kdWN0c1NlcnZpY2U6IFdhcmVob3VzZXNQcm9kdWN0c1NlcnZpY2UsXG5cdFx0cHJpdmF0ZSByZWFkb25seSBfZGV2aWNlc1NlcnZpY2U6IERldmljZXNTZXJ2aWNlLFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgX29yZGVyc1NlcnZpY2U6IE9yZGVyc1NlcnZpY2UsXG5cdFx0cHJpdmF0ZSByZWFkb25seSBfdXNlcnNTZXJ2aWNlOiBVc2Vyc1NlcnZpY2Vcblx0KSB7fVxuXG5cdEBRdWVyeSgpXG5cdGFzeW5jIGhhc0V4aXN0aW5nU3RvcmVzKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuXHRcdHJldHVybiAoYXdhaXQgdGhpcy5fd2FyZWhvdXNlc1NlcnZpY2UuY291bnQoe30pKSA+IDA7XG5cdH1cblxuXHRAUXVlcnkoKVxuXHRhc3luYyBnZXRTdG9yZVByb2R1Y3RzKFxuXHRcdF8sXG5cdFx0eyBzdG9yZUlkLCBmdWxsUHJvZHVjdHMgfTogeyBzdG9yZUlkOiBzdHJpbmc7IGZ1bGxQcm9kdWN0czogYm9vbGVhbiB9XG5cdCkge1xuXHRcdHJldHVybiB0aGlzLl93YXJlaG91c2VQcm9kdWN0c1NlcnZpY2Vcblx0XHRcdC5nZXQoc3RvcmVJZCwgZnVsbFByb2R1Y3RzKVxuXHRcdFx0LnBpcGUoZmlyc3QoKSlcblx0XHRcdC50b1Byb21pc2UoKTtcblx0fVxuXG5cdEBRdWVyeSgpXG5cdGFzeW5jIGdldFN0b3JlQXZhaWxhYmxlUHJvZHVjdHMoXywgeyBzdG9yZUlkIH06IHsgc3RvcmVJZDogc3RyaW5nIH0pIHtcblx0XHRyZXR1cm4gdGhpcy5fd2FyZWhvdXNlUHJvZHVjdHNTZXJ2aWNlXG5cdFx0XHQuZ2V0QXZhaWxhYmxlKHN0b3JlSWQpXG5cdFx0XHQucGlwZShmaXJzdCgpKVxuXHRcdFx0LnRvUHJvbWlzZSgpO1xuXHR9XG5cblx0QFF1ZXJ5KClcblx0YXN5bmMgZ2V0QWxsQWN0aXZlU3RvcmVzKF8sIHsgZnVsbFByb2R1Y3RzIH06IHsgZnVsbFByb2R1Y3RzOiBib29sZWFuIH0pIHtcblx0XHRyZXR1cm4gdGhpcy5fd2FyZWhvdXNlc1NlcnZpY2Vcblx0XHRcdC5nZXRBbGxBY3RpdmUoZnVsbFByb2R1Y3RzKVxuXHRcdFx0LnBpcGUoZmlyc3QoKSlcblx0XHRcdC50b1Byb21pc2UoKTtcblx0fVxuXG5cdEBRdWVyeSgpXG5cdGFzeW5jIGNvdW50U3RvcmVDdXN0b21lcnMoXywgeyBzdG9yZUlkIH06IHsgc3RvcmVJZDogc3RyaW5nIH0pIHtcblx0XHRjb25zdCBzdG9yZU9yZGVycyA9IGF3YWl0IHRoaXMuX3dhcmVob3VzZXNPcmRlcnNTZXJ2aWNlXG5cdFx0XHQuZ2V0KHN0b3JlSWQpXG5cdFx0XHQucGlwZShmaXJzdCgpKVxuXHRcdFx0LnRvUHJvbWlzZSgpO1xuXG5cdFx0Y29uc3Qgc3RvcmVDdXN0b21lcklkcyA9IHN0b3JlT3JkZXJzLm1hcCgob3JkZXIpID0+XG5cdFx0XHRvcmRlci51c2VyLl9pZC50b1N0cmluZygpXG5cdFx0KTtcblxuXHRcdHJldHVybiBuZXcgU2V0KHN0b3JlQ3VzdG9tZXJJZHMpLnNpemU7XG5cdH1cblxuXHRAUXVlcnkoKVxuXHRhc3luYyBnZXRDb3VudEV4aXN0aW5nQ3VzdG9tZXJzKCkge1xuXHRcdGNvbnN0IGlzRGVsZXRlZEZsYWcgPSB7IGlzRGVsZXRlZDogeyAkZXE6IGZhbHNlIH0gfTtcblx0XHRjb25zdCB1c2Vyczogc3RyaW5nW10gPSBhd2FpdCB0aGlzLl9vcmRlcnNTZXJ2aWNlLk1vZGVsLmZpbmQoXG5cdFx0XHRpc0RlbGV0ZWRGbGFnXG5cdFx0KVxuXHRcdFx0LmRpc3RpbmN0KCd1c2VyLl9pZCcpXG5cdFx0XHQubGVhbigpO1xuXG5cdFx0Y29uc3Qgc3RvcmVzSWRzOiBzdHJpbmdbXSA9IGF3YWl0IHRoaXMuX29yZGVyc1NlcnZpY2UuTW9kZWwuZmluZChcblx0XHRcdGlzRGVsZXRlZEZsYWdcblx0XHQpXG5cdFx0XHQuZGlzdGluY3QoJ3dhcmVob3VzZScpXG5cdFx0XHQubGVhbigpO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHRvdGFsOiB1c2Vycy5sZW5ndGgsXG5cdFx0XHRwZXJTdG9yZTogc3RvcmVzSWRzLm1hcChhc3luYyAoc3RvcmVJZCkgPT4ge1xuXHRcdFx0XHRjb25zdCB1c2Vyc0lkczogc3RyaW5nW10gPSBhd2FpdCB0aGlzLl9vcmRlcnNTZXJ2aWNlLk1vZGVsLmZpbmQoXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0Li4uaXNEZWxldGVkRmxhZyxcblx0XHRcdFx0XHRcdHdhcmVob3VzZTogc3RvcmVJZCxcblx0XHRcdFx0XHR9XG5cdFx0XHRcdCkuZGlzdGluY3QoJ3VzZXIuX2lkJyk7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0c3RvcmVJZCxcblx0XHRcdFx0XHRjdXN0b21lcnNDb3VudDogdXNlcnNJZHMubGVuZ3RoLFxuXHRcdFx0XHR9O1xuXHRcdFx0fSksXG5cdFx0fTtcblx0fVxuXG5cdEBRdWVyeSgpXG5cdGFzeW5jIGdldENvdW50RXhpc3RpbmdDdXN0b21lcnNUb2RheSgpIHtcblx0XHRjb25zdCBpc0RlbGV0ZWRGbGFnID0geyBpc0RlbGV0ZWQ6IHsgJGVxOiBmYWxzZSB9IH07XG5cblx0XHRjb25zdCBzdGFydCA9IG5ldyBEYXRlKCk7XG5cdFx0Y29uc3QgZW5kID0gbmV3IERhdGUoKTtcblx0XHRzdGFydC5zZXRIb3VycygwLCAwLCAwLCAwKTtcblx0XHRlbmQuc2V0SG91cnMoMjMsIDU5LCA1OSwgOTk5KTtcblxuXHRcdGNvbnN0IHVzZXJzID0gYXdhaXQgdGhpcy5fb3JkZXJzU2VydmljZS5Nb2RlbC5maW5kKHtcblx0XHRcdC4uLmlzRGVsZXRlZEZsYWcsXG5cdFx0XHRfY3JlYXRlZEF0OiB7ICRndGU6IHN0YXJ0LCAkbHQ6IGVuZCB9LFxuXHRcdH0pXG5cdFx0XHQuZGlzdGluY3QoJ3VzZXIuX2lkJylcblx0XHRcdC5sZWFuKClcblx0XHRcdC5leGVjKCk7XG5cblx0XHRjb25zdCBzdG9yZXNJZHM6IHN0cmluZ1tdID0gYXdhaXQgdGhpcy5fb3JkZXJzU2VydmljZS5Nb2RlbC5maW5kKHtcblx0XHRcdC4uLmlzRGVsZXRlZEZsYWcsXG5cdFx0XHRfY3JlYXRlZEF0OiB7ICRndGU6IHN0YXJ0LCAkbHQ6IGVuZCB9LFxuXHRcdH0pXG5cdFx0XHQuZGlzdGluY3QoJ3dhcmVob3VzZScpXG5cdFx0XHQubGVhbigpXG5cdFx0XHQuZXhlYygpO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHRvdGFsOiB1c2Vycy5sZW5ndGgsXG5cdFx0XHRwZXJTdG9yZTogc3RvcmVzSWRzLm1hcChhc3luYyAoc3RvcmVJZCkgPT4ge1xuXHRcdFx0XHRjb25zdCB1c2Vyc0lkczogc3RyaW5nW10gPSBhd2FpdCB0aGlzLl9vcmRlcnNTZXJ2aWNlLk1vZGVsLmZpbmQoXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0Li4uaXNEZWxldGVkRmxhZyxcblx0XHRcdFx0XHRcdCd1c2VyLl9pZCc6IHsgJGluOiB1c2Vycy5tYXAoKHUpID0+IHUuX2lkKSB9LFxuXHRcdFx0XHRcdFx0d2FyZWhvdXNlOiBzdG9yZUlkLFxuXHRcdFx0XHRcdH1cblx0XHRcdFx0KS5kaXN0aW5jdCgndXNlci5faWQnKTtcblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRzdG9yZUlkLFxuXHRcdFx0XHRcdGN1c3RvbWVyc0NvdW50OiB1c2Vyc0lkcy5sZW5ndGgsXG5cdFx0XHRcdH07XG5cdFx0XHR9KSxcblx0XHR9O1xuXHR9XG5cblx0QFF1ZXJ5KCduZWFyYnlTdG9yZXMnKVxuXHRhc3luYyBnZXROZWFyYnlTdG9yZXMoXywgeyBnZW9Mb2NhdGlvbiB9KSB7XG5cdFx0cmV0dXJuIHRoaXMuX2dlb0xvY2F0aW9uV2FyZWhvdXNlc1NlcnZpY2Vcblx0XHRcdC5nZXQoZ2VvTG9jYXRpb24pXG5cdFx0XHQucGlwZShmaXJzdCgpKVxuXHRcdFx0LnRvUHJvbWlzZSgpO1xuXHR9XG5cblx0Ly8gQFVzZUd1YXJkcyhBdXRoR3VhcmQoJ2p3dCcpKVxuXHRAUXVlcnkoJ3dhcmVob3VzZScpXG5cdGFzeW5jIGdldFdhcmVob3VzZShfLCB7IGlkIH06IHsgaWQ6IHN0cmluZyB9KSB7XG5cdFx0cmV0dXJuIHRoaXMuX3dhcmVob3VzZXNTZXJ2aWNlLmdldChpZCkucGlwZShmaXJzdCgpKS50b1Byb21pc2UoKTtcblx0fVxuXG5cdEBRdWVyeSgpXG5cdGFzeW5jIGdldEFsbFN0b3JlcygpIHtcblx0XHRyZXR1cm4gdGhpcy5fd2FyZWhvdXNlc1NlcnZpY2UuZmluZCh7IGlzRGVsZXRlZDogeyAkZXE6IGZhbHNlIH0gfSk7XG5cdH1cblxuXHRAUXVlcnkoJ3dhcmVob3VzZXMnKVxuXHRhc3luYyBnZXRXYXJlaG91c2VzKF8sIHsgZmluZElucHV0LCBwYWdpbmdPcHRpb25zID0ge30gfSkge1xuXHRcdGlmICghcGFnaW5nT3B0aW9ucyB8fCAocGFnaW5nT3B0aW9ucyAmJiAhcGFnaW5nT3B0aW9uc1snc29ydCddKSkge1xuXHRcdFx0cGFnaW5nT3B0aW9uc1snc29ydCddID0geyBmaWVsZDogJ19jcmVhdGVkQXQnLCBzb3J0Qnk6ICdkZXNjJyB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IG1lcmNoYW50cyA9IGF3YWl0IHRoaXMuX3dhcmVob3VzZXNTZXJ2aWNlLmdldE1lcmNoYW50cyhcblx0XHRcdGZpbmRJbnB1dCxcblx0XHRcdHBhZ2luZ09wdGlvbnNcblx0XHQpO1xuXG5cdFx0cmV0dXJuIG1lcmNoYW50cy5tYXAoKG0pID0+IG5ldyBXYXJlaG91c2UobSkpO1xuXHR9XG5cblx0QFF1ZXJ5KClcblx0YXN5bmMgZ2V0U3RvcmVDdXN0b21lcnMoXG5cdFx0Xyxcblx0XHR7IHN0b3JlSWQgfTogeyBzdG9yZUlkOiBzdHJpbmcgfVxuXHQpOiBQcm9taXNlPFVzZXJbXT4ge1xuXHRcdHJldHVybiB0aGlzLl93YXJlaG91c2VzVXNlcnNTZXJ2aWNlLmdldFByb21pc2Uoc3RvcmVJZCk7XG5cdH1cblxuXHRAUXVlcnkoKVxuXHRhc3luYyBnZXRDb3VudE9mTWVyY2hhbnRzKCkge1xuXHRcdHJldHVybiB0aGlzLl93YXJlaG91c2VzU2VydmljZS5Nb2RlbC5maW5kKHsgaXNEZWxldGVkOiB7ICRlcTogZmFsc2UgfSB9KVxuXHRcdFx0LmNvdW50RG9jdW1lbnRzKClcblx0XHRcdC5leGVjKCk7XG5cdH1cblxuXHRAUXVlcnkoKVxuXHRhc3luYyBnZXRNZXJjaGFudHNCdXlOYW1lKFxuXHRcdF8sXG5cdFx0e1xuXHRcdFx0c2VhcmNoTmFtZSxcblx0XHRcdGdlb0xvY2F0aW9uLFxuXHRcdH06IHsgc2VhcmNoTmFtZTogc3RyaW5nOyBnZW9Mb2NhdGlvbjogSUdlb0xvY2F0aW9uIH1cblx0KSB7XG5cdFx0Y29uc3QgY291bnQgPSBhd2FpdCB0aGlzLl93YXJlaG91c2VzU2VydmljZS5Nb2RlbC5maW5kKHtcblx0XHRcdG5hbWU6IHsgJHJlZ2V4OiBzZWFyY2hOYW1lLCAkb3B0aW9uczogJ2knIH0sXG5cdFx0fSlcblx0XHRcdC5jb3VudERvY3VtZW50cygpXG5cdFx0XHQuZXhlYygpO1xuXG5cdFx0bGV0IG1lcmNoYW50cyA9IGF3YWl0IHRoaXMuX3dhcmVob3VzZXNTZXJ2aWNlLmdldE1lcmNoYW50cyhcblx0XHRcdHsgbmFtZTogeyAkcmVnZXg6IHNlYXJjaE5hbWUsICRvcHRpb25zOiAnaScgfSB9LFxuXHRcdFx0eyBza2lwOiAwLCBsaW1pdDogY291bnQgfVxuXHRcdCk7XG5cblx0XHRpZiAoZ2VvTG9jYXRpb24pIHtcblx0XHRcdG1lcmNoYW50cyA9IG1lcmNoYW50cy5zb3J0KFxuXHRcdFx0XHQobTEsIG0yKSA9PlxuXHRcdFx0XHRcdFV0aWxzLmdldERpc3RhbmNlKFxuXHRcdFx0XHRcdFx0bmV3IEdlb0xvY2F0aW9uKG0xLmdlb0xvY2F0aW9uKSxcblx0XHRcdFx0XHRcdG5ldyBHZW9Mb2NhdGlvbihnZW9Mb2NhdGlvbilcblx0XHRcdFx0XHQpIC1cblx0XHRcdFx0XHRVdGlscy5nZXREaXN0YW5jZShcblx0XHRcdFx0XHRcdG5ldyBHZW9Mb2NhdGlvbihtMi5nZW9Mb2NhdGlvbiksXG5cdFx0XHRcdFx0XHRuZXcgR2VvTG9jYXRpb24oZ2VvTG9jYXRpb24pXG5cdFx0XHRcdFx0KVxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbWVyY2hhbnRzLm1hcCgobSkgPT4gbmV3IFdhcmVob3VzZShtKSk7XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHRhc3luYyB3YXJlaG91c2VMb2dpbihcblx0XHRfLFxuXHRcdHsgdXNlcm5hbWUsIHBhc3N3b3JkIH06IHsgdXNlcm5hbWU6IHN0cmluZzsgcGFzc3dvcmQ6IHN0cmluZyB9XG5cdCkge1xuXHRcdHJldHVybiB0aGlzLl93YXJlaG91c2VzU2VydmljZS5sb2dpbih1c2VybmFtZSwgcGFzc3dvcmQpO1xuXHR9XG5cblx0QE11dGF0aW9uKClcblx0YXN5bmMgdXBkYXRlU3RvcmVHZW9Mb2NhdGlvbihcblx0XHRfLFxuXHRcdHtcblx0XHRcdHN0b3JlSWQsXG5cdFx0XHRnZW9Mb2NhdGlvbixcblx0XHR9OiB7XG5cdFx0XHRzdG9yZUlkOiBzdHJpbmc7XG5cdFx0XHRnZW9Mb2NhdGlvbjogSUdlb0xvY2F0aW9uQ3JlYXRlT2JqZWN0O1xuXHRcdH1cblx0KSB7XG5cdFx0cmV0dXJuIHRoaXMuX3dhcmVob3VzZXNTZXJ2aWNlLnVwZGF0ZUdlb0xvY2F0aW9uKHN0b3JlSWQsIGdlb0xvY2F0aW9uKTtcblx0fVxuXG5cdEBNdXRhdGlvbigpXG5cdGFzeW5jIHJlZ2lzdGVyV2FyZWhvdXNlKFxuXHRcdF8sXG5cdFx0eyByZWdpc3RlcklucHV0IH06IHsgcmVnaXN0ZXJJbnB1dDogSVdhcmVob3VzZVJlZ2lzdHJhdGlvbklucHV0IH1cblx0KSB7XG5cdFx0cmV0dXJuIHRoaXMuX3dhcmVob3VzZXNTZXJ2aWNlLnJlZ2lzdGVyKHJlZ2lzdGVySW5wdXQpO1xuXHR9XG5cblx0QE11dGF0aW9uKClcblx0YXN5bmMgcmVtb3ZlV2FyZWhvdXNlc0J5SWRzKF8sIHsgaWRzIH06IHsgaWRzOiBzdHJpbmdbXSB9KSB7XG5cdFx0cmV0dXJuIHRoaXMuX3dhcmVob3VzZXNTZXJ2aWNlLnJlbW92ZU11bHRpcGxlQnlJZHMoaWRzKTtcblx0fVxuXG5cdEBSZXNvbHZlUHJvcGVydHkoJ2RldmljZXMnKVxuXHRhc3luYyBnZXREZXZpY2VzKF93YXJlaG91c2U6IElXYXJlaG91c2UpIHtcblx0XHRjb25zdCB3YXJlaG91c2UgPSBuZXcgV2FyZWhvdXNlKF93YXJlaG91c2UpO1xuXHRcdHJldHVybiB0aGlzLl9kZXZpY2VzU2VydmljZVxuXHRcdFx0LmdldE11bHRpcGxlKHdhcmVob3VzZS5kZXZpY2VzSWRzKVxuXHRcdFx0LnBpcGUoZmlyc3QoKSlcblx0XHRcdC50b1Byb21pc2UoKTtcblx0fVxuXG5cdEBSZXNvbHZlUHJvcGVydHkoJ29yZGVycycpXG5cdGFzeW5jIGdldE9yZGVycyhfd2FyZWhvdXNlOiBJV2FyZWhvdXNlKSB7XG5cdFx0Y29uc3Qgd2FyZWhvdXNlID0gbmV3IFdhcmVob3VzZShfd2FyZWhvdXNlKTtcblx0XHRyZXR1cm4gdGhpcy5fd2FyZWhvdXNlc09yZGVyc1NlcnZpY2Vcblx0XHRcdC5nZXQod2FyZWhvdXNlLmlkKVxuXHRcdFx0LnBpcGUoZmlyc3QoKSlcblx0XHRcdC50b1Byb21pc2UoKTtcblx0fVxuXG5cdEBSZXNvbHZlUHJvcGVydHkoJ3VzZXJzJylcblx0YXN5bmMgZ2V0VXNlcnMoX3dhcmVob3VzZTogSVdhcmVob3VzZSkge1xuXHRcdGNvbnN0IHdhcmVob3VzZSA9IG5ldyBXYXJlaG91c2UoX3dhcmVob3VzZSk7XG5cblx0XHRyZXR1cm4gdGhpcy5fd2FyZWhvdXNlc1VzZXJzU2VydmljZVxuXHRcdFx0LmdldCh3YXJlaG91c2UuaWQpXG5cdFx0XHQucGlwZShmaXJzdCgpKVxuXHRcdFx0LnRvUHJvbWlzZSgpO1xuXHR9XG5cblx0QFJlc29sdmVQcm9wZXJ0eSgnY2FycmllcnMnKVxuXHRhc3luYyBnZXRDYXJyaWVycyhfd2FyZWhvdXNlOiBJV2FyZWhvdXNlKSB7XG5cdFx0Y29uc3Qgd2FyZWhvdXNlID0gbmV3IFdhcmVob3VzZShfd2FyZWhvdXNlKTtcblxuXHRcdHJldHVybiB0aGlzLl93YXJlaG91c2VzQ2FycmllcnNTZXJ2aWNlXG5cdFx0XHQuZ2V0KHdhcmVob3VzZS5pZClcblx0XHRcdC5waXBlKGZpcnN0KCkpXG5cdFx0XHQudG9Qcm9taXNlKCk7XG5cdH1cblxuXHRATXV0YXRpb24oKVxuXHRhc3luYyB1cGRhdGVXYXJlaG91c2VQYXNzd29yZChcblx0XHRfLFxuXHRcdHtcblx0XHRcdGlkLFxuXHRcdFx0cGFzc3dvcmQsXG5cdFx0fTogeyBpZDogV2FyZWhvdXNlWydpZCddOyBwYXNzd29yZDogeyBjdXJyZW50OiBzdHJpbmc7IG5ldzogc3RyaW5nIH0gfVxuXHQpIHtcblx0XHRyZXR1cm4gdGhpcy5fd2FyZWhvdXNlc1NlcnZpY2UudXBkYXRlUGFzc3dvcmQoaWQsIHBhc3N3b3JkKTtcblx0fVxufVxuIiwiaW1wb3J0IHsgTW9kdWxlIH0gZnJvbSAnQG5lc3Rqcy9jb21tb24nO1xuaW1wb3J0IHsgV2FyZWhvdXNlUmVzb2x2ZXIgfSBmcm9tICcuL3dhcmVob3VzZS5yZXNvbHZlcic7XG5pbXBvcnQgeyBBdXRoTW9kdWxlIH0gZnJvbSAnLi4vLi4vYXV0aC9hdXRoLm1vZHVsZSc7XG5cbkBNb2R1bGUoe1xuXHRwcm92aWRlcnM6IFtXYXJlaG91c2VSZXNvbHZlcl0sXG5cdGltcG9ydHM6IFtBdXRoTW9kdWxlXSxcbn0pXG5leHBvcnQgY2xhc3MgV2FyZWhvdXNlc01vZHVsZSB7fVxuIiwiaW1wb3J0IExvZ2dlciBmcm9tICdidW55YW4nO1xuaW1wb3J0IHsgZXhpc3RzU3luYyB9IGZyb20gJ2ZzJztcbmltcG9ydCBta2RpcnAgZnJvbSAnbWtkaXJwJztcbmltcG9ydCB7IGVudiB9IGZyb20gJy4uL2Vudic7XG5pbXBvcnQgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuaW1wb3J0IGNyZWF0ZUNXU3RyZWFtIGZyb20gJ2J1bnlhbi1jbG91ZHdhdGNoJztcbmltcG9ydCBvcyBmcm9tICdvcyc7XG5pbXBvcnQgUHJldHR5U3RyZWFtIGZyb20gJ2J1bnlhbi1wcmV0dHlzdHJlYW0nO1xuXG5leHBvcnQgaW50ZXJmYWNlIExvZ0FyZ3Mge1xuXHQvLyB3aGljaCBmaWxlIHVzZWQgdG8gc3RvcmUgbG9nc1xuXHRuYW1lOiBzdHJpbmc7XG59XG5cbmxldCBpc0xvZ3NGb2xkZXJFeGlzdHMgPSBlbnYuTE9HU19QQVRIID8gZXhpc3RzU3luYyhlbnYuTE9HU19QQVRIKSA6IGZhbHNlO1xuXG5jb25zdCBnZXRBZGRpdGlvbmFsTG9nZ2VyU3RyZWFtcyA9ICh7IG5hbWUgfTogTG9nQXJncyk6IExvZ2dlci5TdHJlYW1bXSA9PiB7XG5cdGNvbnN0IGhvc3RuYW1lID0gb3MuaG9zdG5hbWUoKTtcblxuXHRpZiAoZW52LmlzUHJvZCkge1xuXHRcdGNvbnN0IGxvZ0xldmVsczogTG9nZ2VyLkxvZ0xldmVsW10gPSBbJ2luZm8nLCAnZXJyb3InLCAnZGVidWcnXTtcblxuXHRcdHJldHVybiBfLm1hcChsb2dMZXZlbHMsICh0eXBlKSA9PiB7XG5cdFx0XHRsZXQgc3RyZWFtOiBhbnk7XG5cblx0XHRcdHRyeSB7XG5cdFx0XHRcdHN0cmVhbSA9IGNyZWF0ZUNXU3RyZWFtKHtcblx0XHRcdFx0XHRsb2dHcm91cE5hbWU6ICdldmVyL2FwaScsXG5cdFx0XHRcdFx0bG9nU3RyZWFtTmFtZTogYCR7dHlwZX1fJHtuYW1lfV8ke2hvc3RuYW1lfWAsXG5cdFx0XHRcdFx0Y2xvdWRXYXRjaExvZ3NPcHRpb25zOiB7XG5cdFx0XHRcdFx0XHRyZWdpb246ICd1cy1lYXN0LTEnLFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKGVycik7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN0cmVhbSxcblx0XHRcdFx0dHlwZTogJ3JhdycsXG5cdFx0XHRcdGxldmVsOiB0eXBlLFxuXHRcdFx0fTtcblx0XHR9KTtcblx0fSBlbHNlIHtcblx0XHRyZXR1cm4gW107XG5cdH1cbn07XG5cbmNvbnN0IHByZXR0eVN0ZE91dCA9IG5ldyBQcmV0dHlTdHJlYW0oKTtcblxucHJldHR5U3RkT3V0LnBpcGUocHJvY2Vzcy5zdGRvdXQpO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRXZlckxvZ2dlcih7IG5hbWUgfTogTG9nQXJncyk6IExvZ2dlciB7XG5cdGlmICghaXNMb2dzRm9sZGVyRXhpc3RzKSB7XG5cdFx0bWtkaXJwLnN5bmMoZW52LkxPR1NfUEFUSCk7XG5cdFx0aXNMb2dzRm9sZGVyRXhpc3RzID0gdHJ1ZTtcblx0fVxuXG5cdGNvbnN0IGxvZ2dlciA9IExvZ2dlci5jcmVhdGVMb2dnZXIoe1xuXHRcdG5hbWU6IGBldmVyYmllLiR7bmFtZX1gLFxuXHRcdHNlcmlhbGl6ZXJzOiBMb2dnZXIuc3RkU2VyaWFsaXplcnMsXG5cdFx0c3RyZWFtczogW1xuXHRcdFx0e1xuXHRcdFx0XHRsZXZlbDogJ2luZm8nLFxuXHRcdFx0XHRwYXRoOiBgJHtlbnYuTE9HU19QQVRIfS9pbmZvXyR7bmFtZX0ubG9nYCxcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGxldmVsOiAnZXJyb3InLFxuXHRcdFx0XHRwYXRoOiBgJHtlbnYuTE9HU19QQVRIfS9lcnJvcl8ke25hbWV9LmxvZ2AsXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRsZXZlbDogJ2RlYnVnJyxcblx0XHRcdFx0cGF0aDogYCR7ZW52LkxPR1NfUEFUSH0vZGVidWdfJHtuYW1lfS5sb2dgLFxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0bGV2ZWw6ICdkZWJ1ZycsXG5cdFx0XHRcdHR5cGU6ICdyYXcnLFxuXHRcdFx0XHRzdHJlYW06IHByZXR0eVN0ZE91dCxcblx0XHRcdH0sXG5cdFx0XHQuLi5nZXRBZGRpdGlvbmFsTG9nZ2VyU3RyZWFtcyh7IG5hbWUgfSksXG5cdFx0XSxcblx0fSk7XG5cblx0aWYgKGVudi5MT0dfTEVWRUwpIHtcblx0XHRsb2dnZXIubGV2ZWwoTG9nZ2VyW2Vudi5MT0dfTEVWRUwudG9VcHBlckNhc2UoKV0pO1xuXHR9XG5cblx0cmV0dXJuIGxvZ2dlcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExvZyhsb2dBcmdzOiBMb2dBcmdzKTogQ2xhc3NEZWNvcmF0b3Ige1xuXHRyZXR1cm4gZnVuY3Rpb24gKHRhcmdldCkge1xuXHRcdHRhcmdldC5wcm90b3R5cGUubG9nTmFtZSA9IGxvZ0FyZ3MubmFtZTtcblx0XHR0YXJnZXQucHJvdG90eXBlLmxvZyA9IGNyZWF0ZUV2ZXJMb2dnZXIobG9nQXJncyk7XG5cdH07XG59XG4iLCJpbXBvcnQgeyBMb2dnZXJTZXJ2aWNlIH0gZnJvbSAnQG5lc3Rqcy9jb21tb24vc2VydmljZXMvbG9nZ2VyLnNlcnZpY2UnO1xuaW1wb3J0IHsgY3JlYXRlRXZlckxvZ2dlciB9IGZyb20gJy4vTG9nJztcblxuY29uc3QgbG9nID0gY3JlYXRlRXZlckxvZ2dlcih7IG5hbWU6ICduZXN0anMnIH0pO1xuXG5leHBvcnQgY2xhc3MgRXZlcmJpZU5lc3RKU0xvZ2dlciBpbXBsZW1lbnRzIExvZ2dlclNlcnZpY2Uge1xuXHRsb2cobWVzc2FnZTogc3RyaW5nKSB7XG5cdFx0bG9nLmluZm8obWVzc2FnZSk7XG5cdH1cblxuXHRlcnJvcihtZXNzYWdlOiBzdHJpbmcsIHRyYWNlOiBzdHJpbmcpIHtcblx0XHRsb2cuZXJyb3IoYE1lc3NhZ2U6ICR7bWVzc2FnZX0uIFRyYWNlOiAke3RyYWNlfWApO1xuXHR9XG5cblx0d2FybihtZXNzYWdlOiBzdHJpbmcpIHtcblx0XHRsb2cud2FybihtZXNzYWdlKTtcblx0fVxufVxuIiwiaW1wb3J0IHsgTmVzdEZhY3RvcnkgfSBmcm9tICdAbmVzdGpzL2NvcmUnO1xuaW1wb3J0IHsgQXBwbGljYXRpb25Nb2R1bGUgfSBmcm9tICcuL2FwcC5tb2R1bGUnO1xuaW1wb3J0IHsgRG9jdW1lbnRCdWlsZGVyLCBTd2FnZ2VyTW9kdWxlIH0gZnJvbSAnQG5lc3Rqcy9zd2FnZ2VyJztcbmltcG9ydCB7IGVudiB9IGZyb20gJy4vZW52JztcbmltcG9ydCBMb2dnZXIgZnJvbSAnYnVueWFuJztcbmltcG9ydCB7IGNyZWF0ZUV2ZXJMb2dnZXIgfSBmcm9tICcuL2hlbHBlcnMvTG9nJztcbmltcG9ydCB7IEV2ZXJiaWVOZXN0SlNMb2dnZXIgfSBmcm9tICcuL2hlbHBlcnMvTmVzdEpTTG9nZ2VyJztcbmltcG9ydCB7XG5cdFN3YWdnZXJCYXNlQ29uZmlnLFxuXHRTd2FnZ2VyRG9jdW1lbnQsXG59IGZyb20gJ0BuZXN0anMvc3dhZ2dlci9kaXN0L2ludGVyZmFjZXMnO1xuaW1wb3J0IHsgSU5lc3RBcHBsaWNhdGlvbiB9IGZyb20gJ0BuZXN0anMvY29tbW9uJztcblxuY29uc3QgbG9nOiBMb2dnZXIgPSBjcmVhdGVFdmVyTG9nZ2VyKHsgbmFtZTogJ2Jvb3RzdHJhcE5lc3QnIH0pO1xuXG5kZWNsYXJlIGNvbnN0IG1vZHVsZTogYW55O1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYm9vdHN0cmFwTmVzdCgpOiBQcm9taXNlPHZvaWQ+IHtcblx0Y29uc3QgcG9ydDogbnVtYmVyID0gZW52LkdRTFBPUlQ7XG5cblx0Y29uc3QgYXBwOiBJTmVzdEFwcGxpY2F0aW9uID0gYXdhaXQgTmVzdEZhY3RvcnkuY3JlYXRlKEFwcGxpY2F0aW9uTW9kdWxlLCB7XG5cdFx0bG9nZ2VyOiBuZXcgRXZlcmJpZU5lc3RKU0xvZ2dlcigpLFxuXHR9KTtcblxuXHRhcHAuZW5hYmxlQ29ycygpO1xuXHRjb25zdCBvcHRpb25zOiBTd2FnZ2VyQmFzZUNvbmZpZyA9IG5ldyBEb2N1bWVudEJ1aWxkZXIoKVxuXHRcdC5zZXRUaXRsZSgnRXZlciBSRVNUIEFQSScpXG5cdFx0LnNldFZlcnNpb24oJzEuMCcpXG5cdFx0LmFkZEJlYXJlckF1dGgoKVxuXHRcdC5idWlsZCgpO1xuXG5cdGNvbnN0IGRvY3VtZW50OiBTd2FnZ2VyRG9jdW1lbnQgPSBTd2FnZ2VyTW9kdWxlLmNyZWF0ZURvY3VtZW50KFxuXHRcdGFwcCxcblx0XHRvcHRpb25zXG5cdCk7XG5cblx0U3dhZ2dlck1vZHVsZS5zZXR1cCgnYXBpJywgYXBwLCBkb2N1bWVudCk7XG5cblx0YXdhaXQgYXBwLmxpc3Rlbihwb3J0ICsgJycpO1xuXG5cdGlmIChtb2R1bGUuaG90KSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoKTtcblx0XHRtb2R1bGUuaG90LmRpc3Bvc2UoKF8pID0+IGFwcC5jbG9zZSgpKTtcblx0fVxuXG5cdGxvZy5pbmZvKGBTd2FnZ2VyIFVJIGF2YWlsYWJsZSBhdCBodHRwOi8vbG9jYWxob3N0L2FwaWApO1xuXHRjb25zb2xlLmxvZyhgU3dhZ2dlciBVSSBhdmFpbGFibGUgYXQgaHR0cDovL2xvY2FsaG9zdC9hcGlgKTtcbn1cbiIsImludGVyZmFjZSBJU2VydmljZSB7fVxuXG5leHBvcnQgY29uc3QgU2VydmljZVN5bWJvbCA9IFN5bWJvbCgnU2VydmljZScpO1xuXG5leHBvcnQgZGVmYXVsdCBJU2VydmljZTtcbiIsImltcG9ydCB7IERCU2VydmljZSB9IGZyb20gJ0BweXJvL2RiLXNlcnZlcic7XG5pbXBvcnQgQWRtaW4gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9BZG1pbic7XG5pbXBvcnQgeyBjcmVhdGVFdmVyTG9nZ2VyIH0gZnJvbSAnLi4vLi4vaGVscGVycy9Mb2cnO1xuaW1wb3J0IHsgQXV0aFNlcnZpY2UsIEF1dGhTZXJ2aWNlRmFjdG9yeSB9IGZyb20gJy4uL2F1dGgnO1xuaW1wb3J0IHsgZW52IH0gZnJvbSAnLi4vLi4vZW52JztcbmltcG9ydCBJQWRtaW5Sb3V0ZXIsIHtcblx0SUFkbWluTG9naW5SZXNwb25zZSxcblx0SUFkbWluUmVnaXN0cmF0aW9uSW5wdXQsXG59IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vcm91dGVycy9JQWRtaW5Sb3V0ZXInO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgYXN5bmNMaXN0ZW5lciwgb2JzZXJ2YWJsZUxpc3RlbmVyIH0gZnJvbSAnQHB5cm8vaW8nO1xuaW1wb3J0IHsgaW5qZWN0LCBpbmplY3RhYmxlIH0gZnJvbSAnaW52ZXJzaWZ5JztcbmltcG9ydCB7IGZpcnN0LCBtYXAsIHN3aXRjaE1hcCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IFJlcG9zaXRvcnkgfSBmcm9tICd0eXBlb3JtJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnYnVueWFuJztcblxuLy8gVE9ETzogUmVuYW1lISBcIkFkbWluXCIgaXMgbm90IGEgZ3JlYXQgbmFtZSwgYnV0IGN1cnJlbnRseSBcIlVzZXJzXCIgbWVhbiBcIkN1c3RvbWVyc1wiLi4uXG4vKipcbiAqIFVzZXJzIChub3QgY3VzdG9tZXJzISkgbWFuYWdlbWVudCBzZXJ2aWNlXG4gKiBJbiBtb3N0IGNhc2VzIHN1Y2ggdXNlcnMgYXJlIEFkbWluaXN0cmF0b3JzLCB3aGljaCBuZWVkIHRvIGdldCBhY2Nlc3MgaW50byBBZG1pbiBvciBNZWNoYW50IGFwcFxuICovXG5AaW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgQWRtaW5zU2VydmljZSBleHRlbmRzIERCU2VydmljZTxBZG1pbj4gaW1wbGVtZW50cyBJQWRtaW5Sb3V0ZXIge1xuXHRyZWFkb25seSBEQk9iamVjdDogYW55ID0gQWRtaW47XG5cblx0cHJvdGVjdGVkIHJlYWRvbmx5IGxvZzogTG9nZ2VyID0gY3JlYXRlRXZlckxvZ2dlcih7IG5hbWU6ICdhZG1pblNlcnZpY2UnIH0pO1xuXG5cdHByaXZhdGUgcmVhZG9ubHkgYXV0aFNlcnZpY2U6IEF1dGhTZXJ2aWNlPEFkbWluPjtcblxuXHRjb25zdHJ1Y3Rvcihcblx0XHRAaW5qZWN0KCdGYWN0b3J5PEF1dGhTZXJ2aWNlPicpXG5cdFx0YXV0aFNlcnZpY2VGYWN0b3J5OiBBdXRoU2VydmljZUZhY3RvcnksXG5cdFx0Ly8gVHlwZU9STSBSZXBvc2l0b3J5IC0gdGVtcG9yYXJ5IGhlcmUsIHdpbGwgYmUgbW92ZWQgaW50byBEQlNlcnZpY2UgbGF0ZXJcblx0XHRAaW5qZWN0KCdBZG1pblJlcG9zaXRvcnknKVxuXHRcdHByaXZhdGUgcmVhZG9ubHkgX2FkbWluUmVwb3NpdG9yeTogUmVwb3NpdG9yeTxBZG1pbj5cblx0KSB7XG5cdFx0c3VwZXIoKTtcblxuXHRcdC8vIFRPRE86IG1vdmUgdG8gYmFzZSBjbGFzcyAoREJTZXJ2aWNlKSBhbmQgbWFrZSBpdCBmYWlsIGV2ZXJ5dGhpbmcgaWYgbm8gYWRtaW4gdXNlcnMgZm91bmQgaW4gREJcblx0XHRfYWRtaW5SZXBvc2l0b3J5XG5cdFx0XHQuY291bnQoKVxuXHRcdFx0LnRoZW4oKGMpID0+IHtcblx0XHRcdFx0Y29uc29sZS5sb2coJ0FkbWlucyBjb3VudDogJyArIGMpO1xuXHRcdFx0fSlcblx0XHRcdC5jYXRjaCgoZSkgPT4ge1xuXHRcdFx0XHRjb25zb2xlLmxvZyhlKTtcblx0XHRcdH0pO1xuXG5cdFx0dGhpcy5hdXRoU2VydmljZSA9IGF1dGhTZXJ2aWNlRmFjdG9yeSh7XG5cdFx0XHRyb2xlOiAnYWRtaW4nLFxuXHRcdFx0RW50aXR5OiBBZG1pbixcblx0XHRcdHNhbHRSb3VuZHM6IGVudi5BRE1JTl9QQVNTV09SRF9CQ1JZUFRfU0FMVF9ST1VORFMsXG5cdFx0fSk7XG5cdH1cblxuXHRAb2JzZXJ2YWJsZUxpc3RlbmVyKClcblx0Z2V0KGlkOiBBZG1pblsnaWQnXSk6IE9ic2VydmFibGU8QWRtaW4gfCBudWxsPiB7XG5cdFx0cmV0dXJuIHN1cGVyLmdldChpZCkucGlwZShcblx0XHRcdG1hcChhc3luYyAoYWRtaW4pID0+IHtcblx0XHRcdFx0YXdhaXQgdGhpcy50aHJvd0lmTm90RXhpc3RzKGlkKTtcblx0XHRcdFx0cmV0dXJuIGFkbWluO1xuXHRcdFx0fSksXG5cdFx0XHRzd2l0Y2hNYXAoKGFkbWluKSA9PiBhZG1pbilcblx0XHQpO1xuXHR9XG5cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyBnZXRCeUVtYWlsKGVtYWlsOiBBZG1pblsnZW1haWwnXSk6IFByb21pc2U8QWRtaW4gfCBudWxsPiB7XG5cdFx0cmV0dXJuIHN1cGVyLmZpbmRPbmUoeyBlbWFpbCwgaXNEZWxldGVkOiB7ICRlcTogZmFsc2UgfSB9KTtcblx0fVxuXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgcmVnaXN0ZXIoaW5wdXQ6IElBZG1pblJlZ2lzdHJhdGlvbklucHV0KTogUHJvbWlzZTxBZG1pbj4ge1xuXHRcdGNvbnN0IGFkbWluID0gYXdhaXQgdGhpcy5jcmVhdGUoe1xuXHRcdFx0Li4uaW5wdXQuYWRtaW4sXG5cdFx0XHQuLi4oaW5wdXQucGFzc3dvcmRcblx0XHRcdFx0PyB7XG5cdFx0XHRcdFx0XHRoYXNoOiBhd2FpdCB0aGlzLmF1dGhTZXJ2aWNlLmdldFBhc3N3b3JkSGFzaChcblx0XHRcdFx0XHRcdFx0aW5wdXQucGFzc3dvcmRcblx0XHRcdFx0XHRcdCksXG5cdFx0XHRcdCAgfVxuXHRcdFx0XHQ6IHt9KSxcblx0XHR9KTtcblxuXHRcdHJldHVybiBhZG1pbjtcblx0fVxuXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgdXBkYXRlUGFzc3dvcmQoXG5cdFx0aWQ6IEFkbWluWydpZCddLFxuXHRcdHBhc3N3b3JkOiB7IGN1cnJlbnQ6IHN0cmluZzsgbmV3OiBzdHJpbmcgfVxuXHQpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRhd2FpdCB0aGlzLnRocm93SWZOb3RFeGlzdHMoaWQpO1xuXHRcdGF3YWl0IHRoaXMuYXV0aFNlcnZpY2UudXBkYXRlUGFzc3dvcmQoaWQsIHBhc3N3b3JkKTtcblx0fVxuXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgbG9naW4oXG5cdFx0ZW1haWw6IHN0cmluZyxcblx0XHRwYXNzd29yZDogc3RyaW5nXG5cdCk6IFByb21pc2U8SUFkbWluTG9naW5SZXNwb25zZSB8IG51bGw+IHtcblx0XHRsZXQgcmVzID0gbnVsbDtcblx0XHRjb25zdCBhZG1pbiA9IGF3YWl0IHRoaXMuZ2V0QnlFbWFpbChlbWFpbCk7XG5cblx0XHRpZiAoYWRtaW4pIHtcblx0XHRcdHJlcyA9IGF3YWl0IHRoaXMuYXV0aFNlcnZpY2UubG9naW4oeyBlbWFpbCB9LCBwYXNzd29yZCk7XG5cdFx0fVxuXG5cdFx0aWYgKCFyZXMpIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHRhZG1pbjogcmVzLmVudGl0eSxcblx0XHRcdHRva2VuOiByZXMudG9rZW4sXG5cdFx0fTtcblx0fVxuXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgaXNBdXRoZW50aWNhdGVkKHRva2VuOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcblx0XHRyZXR1cm4gdGhpcy5hdXRoU2VydmljZS5pc0F1dGhlbnRpY2F0ZWQodG9rZW4pO1xuXHR9XG5cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyB1cGRhdGVCeUlkKFxuXHRcdGlkOiBBZG1pblsnaWQnXSxcblx0XHR1cGRhdGVPYmplY3Q6IFBhcnRpYWw8QWRtaW4+XG5cdCk6IFByb21pc2U8QWRtaW4+IHtcblx0XHRhd2FpdCB0aGlzLnRocm93SWZOb3RFeGlzdHMoaWQpO1xuXHRcdHJldHVybiBzdXBlci51cGRhdGUoaWQsIHVwZGF0ZU9iamVjdCk7XG5cdH1cblxuXHRhc3luYyB0aHJvd0lmTm90RXhpc3RzKGFkbWluSWQ6IHN0cmluZykge1xuXHRcdGNvbnN0IGFkbWluID0gYXdhaXQgc3VwZXIuZ2V0KGFkbWluSWQpLnBpcGUoZmlyc3QoKSkudG9Qcm9taXNlKCk7XG5cblx0XHRpZiAoIWFkbWluIHx8IGFkbWluLmlzRGVsZXRlZCkge1xuXHRcdFx0dGhyb3cgRXJyb3IoYEFkbWluIHdpdGggaWQgJyR7YWRtaW5JZH0nIGRvZXMgbm90IGV4aXN0cyFgKTtcblx0XHR9XG5cdH1cbn1cbiIsImV4cG9ydCAqIGZyb20gJy4vQWRtaW5zU2VydmljZSc7XG4iLCJpbXBvcnQgeyBFbnRpdHlTZXJ2aWNlIH0gZnJvbSAnQHB5cm8vZGItc2VydmVyL2VudGl0eS1zZXJ2aWNlJztcbmltcG9ydCB7IERCQ3JlYXRlT2JqZWN0LCBEQk9iamVjdCwgREJSYXdPYmplY3QsIFB5cm9PYmplY3RJZCB9IGZyb20gJ0BweXJvL2RiJztcbmltcG9ydCB7IGVudiB9IGZyb20gJy4uLy4uL2Vudic7XG5pbXBvcnQgeyBXcm9uZ1Bhc3N3b3JkRXJyb3IgfSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2Vycm9ycy9Xcm9uZ1Bhc3N3b3JkRXJyb3InO1xuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHQnO1xuaW1wb3J0IHsgaW5qZWN0YWJsZSwgaW50ZXJmYWNlcyB9IGZyb20gJ2ludmVyc2lmeSc7XG5pbXBvcnQgeyBSYXdPYmplY3QgfSBmcm9tICdAcHlyby9kYi9kYi1yYXctb2JqZWN0JztcblxuLy8gaGF2ZSB0byBjb21iaW5lIHRoZSB0d28gaW1wb3J0c1xuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuaW1wb3J0IHsgSnNvbldlYlRva2VuRXJyb3IgfSBmcm9tICdqc29ud2VidG9rZW4nO1xuXG5pbnRlcmZhY2UgSUF1dGhhYmxlQ3JlYXRlT2JqZWN0IGV4dGVuZHMgREJDcmVhdGVPYmplY3Qge1xuXHRoYXNoPzogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgSUF1dGhhYmxlUmF3T2JqZWN0IGV4dGVuZHMgREJSYXdPYmplY3QsIElBdXRoYWJsZUNyZWF0ZU9iamVjdCB7XG5cdF9pZDogUHlyb09iamVjdElkO1xuXG5cdGhhc2g/OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBJQXV0aGFibGVcblx0ZXh0ZW5kcyBEQk9iamVjdDxJQXV0aGFibGVSYXdPYmplY3QsIElBdXRoYWJsZUNyZWF0ZU9iamVjdD4ge1xuXHRoYXNoPzogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgQXV0aFNlcnZpY2VDb25maWc8VCBleHRlbmRzIElBdXRoYWJsZT4ge1xuXHRyb2xlOiBzdHJpbmc7XG5cdEVudGl0eTogYW55OyAvLyBBdXRoU2VydmljZTxUPlsnREJPYmplY3QnXTtcblx0c2FsdFJvdW5kczogbnVtYmVyO1xufVxuXG5AaW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgQXV0aFNlcnZpY2U8VCBleHRlbmRzIElBdXRoYWJsZT4gZXh0ZW5kcyBFbnRpdHlTZXJ2aWNlPFQ+IHtcblx0cm9sZTogc3RyaW5nO1xuXHREQk9iamVjdDogeyBuZXcgKGFyZzogUmF3T2JqZWN0PFQ+KTogVDsgbW9kZWxOYW1lOiBzdHJpbmcgfTtcblx0c2FsdFJvdW5kczogbnVtYmVyO1xuXG5cdHNldENvbmZpZyhjb25maWc6IEF1dGhTZXJ2aWNlQ29uZmlnPFQ+KSB7XG5cdFx0dGhpcy5yb2xlID0gY29uZmlnLnJvbGU7XG5cdFx0dGhpcy5EQk9iamVjdCA9IGNvbmZpZy5FbnRpdHk7XG5cdFx0dGhpcy5zYWx0Um91bmRzID0gY29uZmlnLnNhbHRSb3VuZHM7XG5cdH1cblxuXHRhc3luYyBnZXRQYXNzd29yZEhhc2gocGFzc3dvcmQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG5cdFx0cmV0dXJuIGJjcnlwdC5oYXNoKHBhc3N3b3JkLCB0aGlzLnNhbHRSb3VuZHMpO1xuXHR9XG5cblx0YXN5bmMgYWRkUGFzc3dvcmQoaWQ6IFRbJ2lkJ10sIHBhc3N3b3JkOiBzdHJpbmcpIHtcblx0XHRjb25zdCBlbnRpdHkgPSB0aGlzLnBhcnNlKFxuXHRcdFx0YXdhaXQgdGhpcy5Nb2RlbC5maW5kQnlJZChpZCkuc2VsZWN0KCcraGFzaCcpLmxlYW4oKS5leGVjKClcblx0XHQpO1xuXG5cdFx0aWYgKGVudGl0eS5oYXNoICE9IG51bGwpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0J1Bhc3N3b3JkIGFscmVhZHkgZXhpc3RzLCBwbGVhc2UgY2FsbCB1cGRhdGVQYXNzd29yZCBpbnN0ZWFkLidcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0YXdhaXQgdGhpcy5fc2F2ZVBhc3N3b3JkKGlkLCBwYXNzd29yZCk7XG5cdH1cblxuXHRhc3luYyB1cGRhdGVQYXNzd29yZChcblx0XHRpZDogVFsnaWQnXSxcblx0XHRwYXNzd29yZDogeyBjdXJyZW50OiBzdHJpbmc7IG5ldzogc3RyaW5nIH1cblx0KTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0Y29uc3QgZW50aXR5ID0gdGhpcy5wYXJzZShcblx0XHRcdGF3YWl0IHRoaXMuTW9kZWwuZmluZEJ5SWQoaWQpLnNlbGVjdCgnK2hhc2gnKS5sZWFuKCkuZXhlYygpXG5cdFx0KTtcblxuXHRcdGlmICghKGF3YWl0IGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLmN1cnJlbnQsIGVudGl0eS5oYXNoKSkpIHtcblx0XHRcdHRocm93IG5ldyBXcm9uZ1Bhc3N3b3JkRXJyb3IoKTtcblx0XHR9XG5cblx0XHRhd2FpdCB0aGlzLl9zYXZlUGFzc3dvcmQoaWQsIHBhc3N3b3JkLm5ldyk7XG5cdH1cblxuXHRhc3luYyBfc2F2ZVBhc3N3b3JkKGlkOiBUWydpZCddLCBwYXNzd29yZDogc3RyaW5nKSB7XG5cdFx0Y29uc3QgaGFzaCA9IGF3YWl0IHRoaXMuZ2V0UGFzc3dvcmRIYXNoKHBhc3N3b3JkKTtcblxuXHRcdGF3YWl0IHRoaXMuTW9kZWwuZmluZEJ5SWRBbmRVcGRhdGUoaWQsIHtcblx0XHRcdGhhc2gsXG5cdFx0fSlcblx0XHRcdC5sZWFuKClcblx0XHRcdC5leGVjKCk7XG5cdH1cblxuXHRhc3luYyBsb2dpbihcblx0XHRmaW5kT2JqOiBhbnksXG5cdFx0cGFzc3dvcmQ6IHN0cmluZ1xuXHQpOiBQcm9taXNlPHsgZW50aXR5OiBUOyB0b2tlbjogc3RyaW5nIH0gfCBudWxsPiB7XG5cdFx0Y29uc3QgZW50aXR5ID0gdGhpcy5wYXJzZShcblx0XHRcdGF3YWl0IHRoaXMuTW9kZWwuZmluZE9uZShmaW5kT2JqKS5zZWxlY3QoJytoYXNoJykubGVhbigpLmV4ZWMoKVxuXHRcdCk7XG5cblx0XHRpZiAoIWVudGl0eSB8fCAhKGF3YWl0IGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCBlbnRpdHkuaGFzaCkpKSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cblx0XHRjb25zdCB0b2tlbiA9IGp3dC5zaWduKFxuXHRcdFx0eyBpZDogZW50aXR5LmlkLCByb2xlOiB0aGlzLnJvbGUgfSxcblx0XHRcdGVudi5KV1RfU0VDUkVULFxuXHRcdFx0e31cblx0XHQpOyAvLyBOZXZlciBleHBpcmVzXG5cblx0XHRkZWxldGUgZW50aXR5Lmhhc2g7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0ZW50aXR5LFxuXHRcdFx0dG9rZW4sXG5cdFx0fTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdG9rZW4gLSB0aGUgand0IHRva2VuXG5cdCAqIEByZXR1cm5zIHtQcm9taXNlPGJvb2xlYW4+fVxuXHQgKi9cblx0YXN5bmMgaXNBdXRoZW50aWNhdGVkKHRva2VuOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgeyBpZCwgcm9sZSB9ID0gand0LnZlcmlmeSh0b2tlbiwgZW52LkpXVF9TRUNSRVQpIGFzIHtcblx0XHRcdFx0aWQ6IFRbJ2lkJ107XG5cdFx0XHRcdHJvbGU6IHN0cmluZztcblx0XHRcdH07XG5cblx0XHRcdGNvbnN0IGVudGl0eSA9IGF3YWl0IHRoaXMuTW9kZWwuZmluZEJ5SWQoaWQpLmxlYW4oKS5leGVjKCk7XG5cblx0XHRcdGlmICghZW50aXR5KSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHJvbGUgPT09IHRoaXMucm9sZTtcblx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdGlmIChlcnIgaW5zdGFuY2VvZiBKc29uV2ViVG9rZW5FcnJvcikge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aHJvdyBlcnI7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XG5cbmV4cG9ydCB0eXBlIEF1dGhTZXJ2aWNlRmFjdG9yeSA9IDxUIGV4dGVuZHMgSUF1dGhhYmxlPihcblx0Y29uZmlnOiBBdXRoU2VydmljZUNvbmZpZzxUPlxuKSA9PiBBdXRoU2VydmljZTxUPjtcblxuZXhwb3J0IGNvbnN0IGF1dGhTZXJ2aWNlRmFjdG9yeSA9IChcblx0Y29udGV4dDogaW50ZXJmYWNlcy5Db250ZXh0XG4pOiBBdXRoU2VydmljZUZhY3RvcnkgPT4ge1xuXHRyZXR1cm4gPFQgZXh0ZW5kcyBJQXV0aGFibGU+KGNvbmZpZzogQXV0aFNlcnZpY2VDb25maWc8VD4pID0+IHtcblx0XHRjb25zdCBhdXRoU2VydmljZSA9IGNvbnRleHQuY29udGFpbmVyLmdldDxBdXRoU2VydmljZTxUPj4oQXV0aFNlcnZpY2UpO1xuXHRcdGF1dGhTZXJ2aWNlLnNldENvbmZpZyhjb25maWcpO1xuXHRcdHJldHVybiBhdXRoU2VydmljZTtcblx0fTtcbn07XG4iLCJpbXBvcnQgeyBFeHRyYWN0Snd0IH0gZnJvbSAncGFzc3BvcnQtand0JztcbmltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcbmltcG9ydCB7IGZpcnN0IH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHsgaW5qZWN0LCBpbmplY3RhYmxlLCBMYXp5U2VydmljZUlkZW50aWZlciB9IGZyb20gJ2ludmVyc2lmeSc7XG5pbXBvcnQgeyByb3V0ZXJOYW1lIH0gZnJvbSAnQHB5cm8vaW8nO1xuaW1wb3J0IHsgV2FyZWhvdXNlc1NlcnZpY2UgfSBmcm9tICcuLi93YXJlaG91c2VzJztcbmltcG9ydCB7IENhcnJpZXJzU2VydmljZSB9IGZyb20gJy4uL2NhcnJpZXJzJztcbmltcG9ydCB7IGVudiB9IGZyb20gJy4uLy4uL2Vudic7XG5cbmNvbnN0IGp3dFNlY3JldCA9IGVudi5KV1RfU0VDUkVUO1xuXG5pZiAoand0U2VjcmV0ID09PSAnZGVmYXVsdCcpIHtcblx0Y29uc29sZS5sb2coXG5cdFx0J1dhcm5pbmc6IGRlZmF1bHQgSldUX1NFQ1JFVCB1c2VkLiBQbGVhc2UgYWRkIHlvdXIgb3duIHRvIGNvbmZpZyEnXG5cdCk7XG59XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVKd3REYXRhID0ge1xuXHRqd3RGcm9tUmVxdWVzdDogRXh0cmFjdEp3dC5mcm9tQXV0aEhlYWRlckFzQmVhcmVyVG9rZW4oKSxcblx0c2VjcmV0T3JLZXk6IGp3dFNlY3JldCxcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgSnd0UGF5bG9hZCB7XG5cdC8vIGlkIG9mIGNhcnJpZXIgb3Igd2FyZWhvdXNlXG5cdGlkOiBzdHJpbmc7XG5cdC8vIG5hbWUgb2YgYXBwLCBlLmcuICdjYXJyaWVyJyBvciAnd2FyZWhvdXNlJy4gVE9ETzogc3dpdGNoIHRvIHVzZSBlbnVtXG5cdGFwcE5hbWU6IHN0cmluZztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRva2VuKGlkOiBzdHJpbmcsIGFwcE5hbWU6IHN0cmluZykge1xuXHRjb25zdCB1c2VyOiBKd3RQYXlsb2FkID0geyBpZCwgYXBwTmFtZSB9O1xuXHRyZXR1cm4gand0LnNpZ24odXNlciwgJ3NlY3JldEtleScsIHtcblx0XHQvLyBUT0RPOiBhZGQgZXhwaXJlcyB0aW1lb3V0IHRvIGNvbmZpZyAoLmVudilcblx0XHRleHBpcmVzSW46IDM2MDAsXG5cdH0pO1xufVxuXG5AaW5qZWN0YWJsZSgpXG5Acm91dGVyTmFtZSgnYXV0aCcpXG5leHBvcnQgY2xhc3MgQXV0aGVudGljYXRpb25TZXJ2aWNlIHtcblx0Y29uc3RydWN0b3IoXG5cdFx0QGluamVjdChuZXcgTGF6eVNlcnZpY2VJZGVudGlmZXIoKCkgPT4gV2FyZWhvdXNlc1NlcnZpY2UpKVxuXHRcdHByb3RlY3RlZCB3YXJlaG91c2VzU2VydmljZTogV2FyZWhvdXNlc1NlcnZpY2UsXG5cdFx0QGluamVjdChuZXcgTGF6eVNlcnZpY2VJZGVudGlmZXIoKCkgPT4gQ2FycmllcnNTZXJ2aWNlKSlcblx0XHRwcm90ZWN0ZWQgY2FycmllcnNTZXJ2aWNlOiBDYXJyaWVyc1NlcnZpY2Vcblx0KSB7fVxuXG5cdGFzeW5jIHZhbGlkYXRlVXNlcihwYXlsb2FkOiBKd3RQYXlsb2FkKTogUHJvbWlzZTxhbnk+IHtcblx0XHRpZiAocGF5bG9hZC5hcHBOYW1lID09PSAnY2FycmllcicpIHtcblx0XHRcdHJldHVybiB0aGlzLmNhcnJpZXJzU2VydmljZVxuXHRcdFx0XHQuZ2V0KHBheWxvYWQuaWQpXG5cdFx0XHRcdC5waXBlKGZpcnN0KCkpXG5cdFx0XHRcdC50b1Byb21pc2UoKTtcblx0XHR9IGVsc2UgaWYgKHBheWxvYWQuYXBwTmFtZSA9PT0gJ3dhcmVob3VzZScpIHtcblx0XHRcdHJldHVybiB0aGlzLndhcmVob3VzZXNTZXJ2aWNlXG5cdFx0XHRcdC5nZXQocGF5bG9hZC5pZClcblx0XHRcdFx0LnBpcGUoZmlyc3QoKSlcblx0XHRcdFx0LnRvUHJvbWlzZSgpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cdH1cbn1cbiIsImV4cG9ydCAqIGZyb20gJy4vQXV0aGVudGljYXRpb25TZXJ2aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vQXV0aFNlcnZpY2UnO1xuIiwiaW1wb3J0IExvZ2dlciBmcm9tICdidW55YW4nO1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IGNyZWF0ZUV2ZXJMb2dnZXIgfSBmcm9tICcuLi8uLi9oZWxwZXJzL0xvZyc7XG5pbXBvcnQgeyBQcm9kdWN0c1NlcnZpY2UgfSBmcm9tICcuLi9wcm9kdWN0cyc7XG5pbXBvcnQgeyBPcmRlcnNTZXJ2aWNlIH0gZnJvbSAnLi4vb3JkZXJzJztcbmltcG9ydCBDYXJyaWVyc1NlcnZpY2UgZnJvbSAnLi9DYXJyaWVyc1NlcnZpY2UnO1xuaW1wb3J0IENhcnJpZXIgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9DYXJyaWVyJztcbmltcG9ydCBPcmRlckNhcnJpZXJTdGF0dXMgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnVtcy9PcmRlckNhcnJpZXJTdGF0dXMnO1xuaW1wb3J0IHsgaW5qZWN0LCBpbmplY3RhYmxlIH0gZnJvbSAnaW52ZXJzaWZ5JztcbmltcG9ydCB7IFdhcmVob3VzZXNPcmRlcnNTZXJ2aWNlIH0gZnJvbSAnLi4vd2FyZWhvdXNlcyc7XG5pbXBvcnQgSUNhcnJpZXJPcmRlcnNSb3V0ZXIgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9yb3V0ZXJzL0lDYXJyaWVyT3JkZXJzUm91dGVyJztcbmltcG9ydCB7IGFzeW5jTGlzdGVuZXIsIG9ic2VydmFibGVMaXN0ZW5lciwgcm91dGVyTmFtZSB9IGZyb20gJ0BweXJvL2lvJztcbmltcG9ydCBJU2VydmljZSBmcm9tICcuLi9JU2VydmljZSc7XG5pbXBvcnQgT3JkZXIgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9PcmRlcic7XG5pbXBvcnQgSU9yZGVyIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JT3JkZXInO1xuaW1wb3J0IHtcblx0R2VvTG9jYXRpb25zT3JkZXJzU2VydmljZSxcblx0R2VvTG9jYXRpb25PcmRlcnNPcHRpb25zLFxufSBmcm9tICcuLi9nZW8tbG9jYXRpb25zJztcbmltcG9ydCB7IGdldERpc3RhbmNlIH0gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi91dGlscyc7XG5pbXBvcnQgeyBFeGlzdGVuY2VFdmVudFR5cGUgfSBmcm9tICdAcHlyby9kYi1zZXJ2ZXInO1xuaW1wb3J0IHtcblx0Y29uY2F0LFxuXHRkaXN0aW5jdFVudGlsQ2hhbmdlZCxcblx0ZXhoYXVzdE1hcCxcblx0ZmlsdGVyLFxuXHRmaXJzdCxcblx0bWFwLFxuXHRzaGFyZSxcblx0c3dpdGNoTWFwLFxufSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyB0aHJvd0Vycm9yLCBvZiwgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IE9yZGVyV2FyZWhvdXNlU3RhdHVzIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW51bXMvT3JkZXJXYXJlaG91c2VTdGF0dXMnO1xuXG5AaW5qZWN0YWJsZSgpXG5Acm91dGVyTmFtZSgnY2Fycmllci1vcmRlcnMnKVxuZXhwb3J0IGNsYXNzIENhcnJpZXJzT3JkZXJzU2VydmljZSBpbXBsZW1lbnRzIElDYXJyaWVyT3JkZXJzUm91dGVyLCBJU2VydmljZSB7XG5cdC8qKlxuXHQgKiBUcmFja2luZyBkaXN0YW5jZSBpbiBrbVxuXHQgKiBUT0RPOiB0aGlzIHNldHRpbmcgc2hvdWxkIGJlIHBlciBzb21ldGhpbmcgKGUuZy4gcGVyIHdhcmVob3VzZSwgcGVyIGNhcnJpZXIpIHN0b3JlZCBpbiB0aGUgREJcblx0ICpcblx0ICogQHN0YXRpY1xuXHQgKiBAbWVtYmVyb2YgQ2FycmllcnNPcmRlcnNTZXJ2aWNlXG5cdCAqL1xuXHRzdGF0aWMgQ2FycmllclRyYWNraW5nRGlzdGFuY2UgPSA1MDAwMDtcblxuXHRwcm90ZWN0ZWQgbG9nOiBMb2dnZXIgPSBjcmVhdGVFdmVyTG9nZ2VyKHtcblx0XHRuYW1lOiAnY2FycmllcnNPcmRlcnNTZXJ2aWNlJyxcblx0fSk7XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0QGluamVjdChDYXJyaWVyc1NlcnZpY2UpXG5cdFx0cHJvdGVjdGVkIGNhcnJpZXJzU2VydmljZTogQ2FycmllcnNTZXJ2aWNlLFxuXHRcdEBpbmplY3QoUHJvZHVjdHNTZXJ2aWNlKVxuXHRcdHByb3RlY3RlZCBwcm9kdWN0c1NlcnZpY2U6IFByb2R1Y3RzU2VydmljZSxcblx0XHRAaW5qZWN0KE9yZGVyc1NlcnZpY2UpXG5cdFx0cHJvdGVjdGVkIG9yZGVyc1NlcnZpY2U6IE9yZGVyc1NlcnZpY2UsXG5cdFx0QGluamVjdChHZW9Mb2NhdGlvbnNPcmRlcnNTZXJ2aWNlKVxuXHRcdHByb3RlY3RlZCBnZW9Mb2NhdGlvbnNPcmRlcnNTZXJ2aWNlOiBHZW9Mb2NhdGlvbnNPcmRlcnNTZXJ2aWNlLFxuXHRcdEBpbmplY3QoV2FyZWhvdXNlc09yZGVyc1NlcnZpY2UpXG5cdFx0cHJvdGVjdGVkIHdhcmVob3VzZXNPcmRlcnNTZXJ2aWNlOiBXYXJlaG91c2VzT3JkZXJzU2VydmljZVxuXHQpIHt9XG5cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyBzZWxlY3RlZEZvckRlbGl2ZXJ5KFxuXHRcdGNhcnJpZXJJZDogc3RyaW5nLFxuXHRcdG9yZGVySWRzOiBzdHJpbmdbXVxuXHQpOiBQcm9taXNlPENhcnJpZXI+IHtcblx0XHRsZXQgY2FycmllciA9IGF3YWl0IHRoaXMuY2FycmllcnNTZXJ2aWNlXG5cdFx0XHQuZ2V0KGNhcnJpZXJJZClcblx0XHRcdC5waXBlKGZpcnN0KCkpXG5cdFx0XHQudG9Qcm9taXNlKCk7XG5cblx0XHRpZiAoY2FycmllciAhPSBudWxsKSB7XG5cdFx0XHRpZiAob3JkZXJJZHMubGVuZ3RoID4gMCkge1xuXHRcdFx0XHQvLyBUT0RPOiBjaGVjayBoZXJlIHRoYXQgbm90IGZyb20gYW55IHN0YXR1cyBpdCBpcyBwb3NzaWJsZSB0byBtb3ZlIHRvIGFueSBvdGhlci5cblx0XHRcdFx0Ly8gTWVhbiBpZiBvcmRlciBpcyBzdGF0dXMgMywgaXQncyBub3Qgc2ltcGx5IHBvc3NpYmxlIHRvIHVwZGF0ZSBpdCB0byBzdGF0dXMgMi5cblxuXHRcdFx0XHRhd2FpdCB0aGlzLm9yZGVyc1NlcnZpY2UudXBkYXRlTXVsdGlwbGVCeUlkcyhvcmRlcklkcywge1xuXHRcdFx0XHRcdGNhcnJpZXI6IGNhcnJpZXJJZCxcblx0XHRcdFx0XHRjYXJyaWVyU3RhdHVzOiBPcmRlckNhcnJpZXJTdGF0dXMuQ2FycmllclNlbGVjdGVkT3JkZXIsXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXG5cdFx0XHRjYXJyaWVyID0gYXdhaXQgdGhpcy5jYXJyaWVyc1NlcnZpY2Vcblx0XHRcdFx0LmdldChjYXJyaWVySWQpXG5cdFx0XHRcdC5waXBlKGZpcnN0KCkpXG5cdFx0XHRcdC50b1Byb21pc2UoKTtcblxuXHRcdFx0cmV0dXJuIGNhcnJpZXIgYXMgQ2Fycmllcjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdDYXJyaWVyIHdpdGggc3VjaCBpZCBpcyBub3QgZm91bmQhJyk7XG5cdFx0fVxuXHR9XG5cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyBnZXRDb3VudChjYXJyaWVySWQ6IHN0cmluZyk6IFByb21pc2U8bnVtYmVyPiB7XG5cdFx0YXdhaXQgdGhpcy5jYXJyaWVyc1NlcnZpY2UudGhyb3dJZk5vdEV4aXN0cyhjYXJyaWVySWQpO1xuXG5cdFx0cmV0dXJuIHRoaXMub3JkZXJzU2VydmljZS5jb3VudChcblx0XHRcdF8uZXh0ZW5kKFxuXHRcdFx0XHR7IGNhcnJpZXI6IGNhcnJpZXJJZCB9LFxuXHRcdFx0XHRPcmRlcnNTZXJ2aWNlLkZpbmRPYmplY3RzLmlzQ29tcGxldGVkXG5cdFx0XHQpXG5cdFx0KTtcblx0fVxuXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgc2tpcE9yZGVycyhjYXJyaWVySWQ6IHN0cmluZywgb3JkZXJzSWRzOiBzdHJpbmdbXSk6IFByb21pc2U8Q2Fycmllcj4ge1xuXHRcdGF3YWl0IHRoaXMuY2FycmllcnNTZXJ2aWNlLnRocm93SWZOb3RFeGlzdHMoY2FycmllcklkKTtcblxuXHRcdHJldHVybiB0aGlzLmNhcnJpZXJzU2VydmljZS51cGRhdGUoY2FycmllcklkLCB7XG5cdFx0XHQkcHVzaDoge1xuXHRcdFx0XHRza2lwcGVkT3JkZXJJZHM6IHtcblx0XHRcdFx0XHQkZWFjaDogb3JkZXJzSWRzLFxuXHRcdFx0XHR9LFxuXHRcdFx0fSxcblx0XHR9KTtcblx0fVxuXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgdXBkYXRlU3RhdHVzKFxuXHRcdGNhcnJpZXJJZDogc3RyaW5nLFxuXHRcdHN0YXR1czogT3JkZXJDYXJyaWVyU3RhdHVzXG5cdCk6IFByb21pc2U8Q2Fycmllcj4ge1xuXHRcdC8vIFRPRE86IGNoZWNrIGhlcmUgdGhhdCBub3QgZnJvbSBhbnkgc3RhdHVzIGl0IGlzIHBvc3NpYmxlIHRvIG1vdmUgdG8gYW55IG90aGVyLlxuXHRcdC8vIE1lYW4gaWYgb3JkZXIgaXMgc3RhdHVzIDMsIGl0J3Mgbm90IHNpbXBseSBwb3NzaWJsZSB0byB1cGRhdGUgaXQgdG8gc3RhdHVzIDIuXG5cblx0XHRhd2FpdCB0aGlzLmNhcnJpZXJzU2VydmljZS50aHJvd0lmTm90RXhpc3RzKGNhcnJpZXJJZCk7XG5cblx0XHRjb25zdCBmaW5kT2JqID0gXy5leHRlbmQoXG5cdFx0XHR7IGNhcnJpZXI6IGNhcnJpZXJJZCB9LFxuXHRcdFx0T3JkZXJzU2VydmljZS5GaW5kT2JqZWN0cy5pc05vdENvbXBsZXRlZFxuXHRcdCk7XG5cblx0XHRjb25zdCB1cGRhdGVPYmo6IGFueSA9IHtcblx0XHRcdGNhcnJpZXJTdGF0dXM6IHN0YXR1cyxcblx0XHR9O1xuXG5cdFx0aWYgKHN0YXR1cyA9PT0gT3JkZXJDYXJyaWVyU3RhdHVzLkRlbGl2ZXJ5Q29tcGxldGVkKSB7XG5cdFx0XHR1cGRhdGVPYmouaXNQYWlkID0gdHJ1ZTtcblx0XHRcdHVwZGF0ZU9iai5kZWxpdmVyeVRpbWUgPSBEYXRlLm5vdygpO1xuXHRcdH1cblxuXHRcdGlmIChcblx0XHRcdHN0YXR1cyA9PT0gT3JkZXJDYXJyaWVyU3RhdHVzLkNhcnJpZXJTdGFydERlbGl2ZXJ5IHx8XG5cdFx0XHRzdGF0dXMgPT09IE9yZGVyQ2FycmllclN0YXR1cy5DYXJyaWVyUGlja2VkVXBPcmRlclxuXHRcdCkge1xuXHRcdFx0dXBkYXRlT2JqLnN0YXJ0RGVsaXZlcnlUaW1lID0gRGF0ZS5ub3coKTtcblx0XHR9XG5cblx0XHRjb25zdCBmaW5pc2hlZFByb2Nlc3NpbmdTdGF0dXNlcyA9IFtcblx0XHRcdE9yZGVyQ2FycmllclN0YXR1cy5DbGllbnRSZWZ1c2VUYWtpbmdPcmRlcixcblx0XHRcdE9yZGVyQ2FycmllclN0YXR1cy5EZWxpdmVyeUNvbXBsZXRlZCxcblx0XHRcdE9yZGVyQ2FycmllclN0YXR1cy5Jc3N1ZXNEdXJpbmdEZWxpdmVyeSxcblx0XHRdO1xuXG5cdFx0aWYgKGZpbmlzaGVkUHJvY2Vzc2luZ1N0YXR1c2VzLmluY2x1ZGVzKHN0YXR1cykpIHtcblx0XHRcdHVwZGF0ZU9iai5maW5pc2hlZFByb2Nlc3NpbmdUaW1lID0gRGF0ZS5ub3coKTtcblx0XHR9XG5cblx0XHRpZiAoKGF3YWl0IHRoaXMuY2FycmllcnNTZXJ2aWNlLmdldEN1cnJlbnQoY2FycmllcklkKSkgIT0gbnVsbCkge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Y29uc3Qgb3JkZXJzID0gYXdhaXQgdGhpcy5vcmRlcnNTZXJ2aWNlLnVwZGF0ZU11bHRpcGxlKFxuXHRcdFx0XHRcdGZpbmRPYmosXG5cdFx0XHRcdFx0dXBkYXRlT2JqXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0aWYgKHN0YXR1cyA9PT0gT3JkZXJDYXJyaWVyU3RhdHVzLkRlbGl2ZXJ5Q29tcGxldGVkKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGF3YWl0IHRoaXMuY2FycmllcnNTZXJ2aWNlLmluY3JlYXNlTnVtYmVyT2ZEZWxpdmVyaWVzKFxuXHRcdFx0XHRcdFx0Y2FycmllcklkLFxuXHRcdFx0XHRcdFx0b3JkZXJzLmxlbmd0aFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmV0dXJuIChhd2FpdCB0aGlzLmNhcnJpZXJzU2VydmljZS5nZXRDdXJyZW50KFxuXHRcdFx0XHRcdFx0Y2FycmllcklkXG5cdFx0XHRcdFx0KSkgYXMgQ2Fycmllcjtcblx0XHRcdFx0fVxuXHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdHRoaXMubG9nLmVycm9yKGVycik7XG5cdFx0XHRcdHRocm93IGVycjtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdDYXJyaWVyIHdpdGggc3VjaCBpZCBpcyBub3QgZm91bmQhJyk7XG5cdFx0fVxuXHR9XG5cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyBjYW5jZWxEZWxpdmVyeShcblx0XHRjYXJyaWVySWQ6IHN0cmluZyxcblx0XHRvcmRlcklkczogc3RyaW5nW11cblx0KTogUHJvbWlzZTxDYXJyaWVyPiB7XG5cdFx0YXdhaXQgdGhpcy5jYXJyaWVyc1NlcnZpY2UudGhyb3dJZk5vdEV4aXN0cyhjYXJyaWVySWQpO1xuXG5cdFx0Y29uc3QgX29yZGVycyA9IGF3YWl0IHRoaXMub3JkZXJzU2VydmljZS5maW5kKHtcblx0XHRcdF9pZDogeyAkaW46IG9yZGVySWRzIH0sXG5cdFx0XHRpc0RlbGV0ZWQ6IHsgJGVxOiBmYWxzZSB9LFxuXHRcdH0pO1xuXHRcdGNvbnN0IG9yZGVyc0lkc0ZpbHRlcmVkID0gX29yZGVycy5tYXAoKGQpID0+IGQuaWQpO1xuXG5cdFx0Y29uc3Qgb3JkZXJzID0gYXdhaXQgdGhpcy5vcmRlcnNTZXJ2aWNlLnVwZGF0ZU11bHRpcGxlQnlJZHMoXG5cdFx0XHRvcmRlcnNJZHNGaWx0ZXJlZCxcblx0XHRcdHtcblx0XHRcdFx0JHVuc2V0OiB7IGNhcnJpZXI6IDEgfSxcblx0XHRcdFx0Y2FycmllclN0YXR1czogT3JkZXJDYXJyaWVyU3RhdHVzLk5vQ2Fycmllcixcblx0XHRcdH1cblx0XHQpO1xuXG5cdFx0YXdhaXQgdGhpcy5za2lwT3JkZXJzKFxuXHRcdFx0Y2FycmllcklkLFxuXHRcdFx0Xy5tYXAob3JkZXJzLCAob3JkZXIpID0+IG9yZGVyLmlkKVxuXHRcdCk7XG5cblx0XHRyZXR1cm4gdGhpcy5jYXJyaWVyc1NlcnZpY2UudXBkYXRlU3RhdHVzKGNhcnJpZXJJZCwgMCk7XG5cdH1cblxuXHRAb2JzZXJ2YWJsZUxpc3RlbmVyKClcblx0Z2V0QXZhaWxhYmxlKFxuXHRcdGNhcnJpZXJJZDogc3RyaW5nLFxuXHRcdG9wdGlvbnM6IHsgcG9wdWxhdGVXYXJlaG91c2U6IGJvb2xlYW4gfSA9IHtcblx0XHRcdHBvcHVsYXRlV2FyZWhvdXNlOiBmYWxzZSxcblx0XHR9XG5cdCk6IE9ic2VydmFibGU8T3JkZXJbXT4ge1xuXHRcdHJldHVybiB0aGlzLmNhcnJpZXJzU2VydmljZS5nZXQoY2FycmllcklkKS5waXBlKFxuXHRcdFx0bWFwKChjYXJyaWVyKSA9PiAoY2FycmllciAhPSBudWxsID8gY2Fycmllci5nZW9Mb2NhdGlvbiA6IG51bGwpKSxcblx0XHRcdGRpc3RpbmN0VW50aWxDaGFuZ2VkKChnZW9Mb2NhdGlvbjEsIGdlb0xvY2F0aW9uMikgPT4ge1xuXHRcdFx0XHQvLyBUT0RPIG1heWJlIGNvbXBhcmUgZnVsbCBnZW9Mb2NhdGlvbiBub3Qgb25seSBjb29yZGluYXRlcyFcblx0XHRcdFx0aWYgKGdlb0xvY2F0aW9uMSA9PSBudWxsIHx8IGdlb0xvY2F0aW9uMiA9PSBudWxsKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmV0dXJuIGdldERpc3RhbmNlKGdlb0xvY2F0aW9uMSwgZ2VvTG9jYXRpb24yKSA8PSAwLjAwMTtcblx0XHRcdFx0fVxuXHRcdFx0fSksXG5cdFx0XHRzd2l0Y2hNYXAoKGdlb0xvY2F0aW9uKSA9PlxuXHRcdFx0XHRnZW9Mb2NhdGlvbiAhPSBudWxsXG5cdFx0XHRcdFx0PyB0aGlzLmdlb0xvY2F0aW9uc09yZGVyc1NlcnZpY2UuZ2V0KGdlb0xvY2F0aW9uLCB7XG5cdFx0XHRcdFx0XHRcdHBvcHVsYXRlV2FyZWhvdXNlOiBvcHRpb25zLnBvcHVsYXRlV2FyZWhvdXNlLFxuXHRcdFx0XHRcdCAgfSlcblx0XHRcdFx0XHQ6IHRocm93RXJyb3IoXG5cdFx0XHRcdFx0XHRcdG5ldyBFcnJvcihcblx0XHRcdFx0XHRcdFx0XHRgTm8gc3VjaCBhIGNhcnJpZXIgd2l0aCB0aGUgaWQgJHtjYXJyaWVySWR9ID0+IGNhbid0IGdldEF2YWlsYWJsZWBcblx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdCAgKVxuXHRcdFx0KVxuXHRcdCk7XG5cdH1cblxuXHRAb2JzZXJ2YWJsZUxpc3RlbmVyKClcblx0Z2V0KFxuXHRcdGNhcnJpZXJJZDogc3RyaW5nLFxuXHRcdG9wdGlvbnM6IHtcblx0XHRcdHBvcHVsYXRlV2FyZWhvdXNlOiBib29sZWFuO1xuXHRcdFx0Y29tcGxldGlvbjogJ2NvbXBsZXRlZCcgfCAnbm90LWNvbXBsZXRlZCcgfCAnYWxsJztcblx0XHR9ID0ge1xuXHRcdFx0cG9wdWxhdGVXYXJlaG91c2U6IGZhbHNlLFxuXHRcdFx0Y29tcGxldGlvbjogJ25vdC1jb21wbGV0ZWQnLFxuXHRcdH1cblx0KTogT2JzZXJ2YWJsZTxPcmRlcltdPiB7XG5cdFx0cmV0dXJuIG9mKG51bGwpLnBpcGUoXG5cdFx0XHRtYXAoYXN5bmMgKHJlcykgPT4ge1xuXHRcdFx0XHRhd2FpdCB0aGlzLmNhcnJpZXJzU2VydmljZS50aHJvd0lmTm90RXhpc3RzKGNhcnJpZXJJZCk7XG5cdFx0XHRcdHJldHVybiByZXM7XG5cdFx0XHR9KSxcblx0XHRcdHN3aXRjaE1hcCgocmVzKSA9PiByZXMpLFxuXHRcdFx0Y29uY2F0KFxuXHRcdFx0XHR0aGlzLm9yZGVyc1NlcnZpY2UuZXhpc3RlbmNlLnBpcGUoXG5cdFx0XHRcdFx0ZmlsdGVyKChleGlzdGVuY2VFdmVudCkgPT4ge1xuXHRcdFx0XHRcdFx0c3dpdGNoIChleGlzdGVuY2VFdmVudC50eXBlIGFzIEV4aXN0ZW5jZUV2ZW50VHlwZSkge1xuXHRcdFx0XHRcdFx0XHRjYXNlIEV4aXN0ZW5jZUV2ZW50VHlwZS5DcmVhdGVkOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBleGlzdGVuY2VFdmVudC52YWx1ZSAhPSBudWxsXG5cdFx0XHRcdFx0XHRcdFx0XHQ/IGV4aXN0ZW5jZUV2ZW50LnZhbHVlLmNhcnJpZXJJZCA9PT1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYXJyaWVySWRcblx0XHRcdFx0XHRcdFx0XHRcdDogZmFsc2U7XG5cdFx0XHRcdFx0XHRcdGNhc2UgRXhpc3RlbmNlRXZlbnRUeXBlLlVwZGF0ZWQ6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIChcblx0XHRcdFx0XHRcdFx0XHRcdChleGlzdGVuY2VFdmVudC52YWx1ZSAhPSBudWxsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdD8gZXhpc3RlbmNlRXZlbnQudmFsdWUuY2FycmllcklkID09PVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQgIGNhcnJpZXJJZFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ6IGZhbHNlKSB8fFxuXHRcdFx0XHRcdFx0XHRcdFx0KGV4aXN0ZW5jZUV2ZW50Lmxhc3RWYWx1ZSAhPSBudWxsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdD8gZXhpc3RlbmNlRXZlbnQubGFzdFZhbHVlLmNhcnJpZXJJZCA9PT1cblx0XHRcdFx0XHRcdFx0XHRcdFx0ICBjYXJyaWVySWRcblx0XHRcdFx0XHRcdFx0XHRcdFx0OiBmYWxzZSlcblx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRjYXNlIEV4aXN0ZW5jZUV2ZW50VHlwZS5SZW1vdmVkOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBleGlzdGVuY2VFdmVudC5sYXN0VmFsdWUgIT0gbnVsbFxuXHRcdFx0XHRcdFx0XHRcdFx0PyBleGlzdGVuY2VFdmVudC5sYXN0VmFsdWUuY2FycmllcklkID09PVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhcnJpZXJJZFxuXHRcdFx0XHRcdFx0XHRcdFx0OiBmYWxzZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KSxcblx0XHRcdFx0XHRzaGFyZSgpXG5cdFx0XHRcdClcblx0XHRcdCksXG5cdFx0XHRleGhhdXN0TWFwKCgpID0+IHRoaXMuX2dldChjYXJyaWVySWQsIG9wdGlvbnMpKVxuXHRcdCk7XG5cdH1cblxuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIGdldENhcnJpZXJPcmRlcnMoXG5cdFx0Y2FycmllcklkOiBzdHJpbmcsXG5cdFx0b3B0aW9uczoge1xuXHRcdFx0cG9wdWxhdGVXYXJlaG91c2U6IGJvb2xlYW47XG5cdFx0XHRjb21wbGV0aW9uOiAnY29tcGxldGVkJyB8ICdub3QtY29tcGxldGVkJyB8ICdhbGwnO1xuXHRcdH0gPSB7XG5cdFx0XHRwb3B1bGF0ZVdhcmVob3VzZTogZmFsc2UsXG5cdFx0XHRjb21wbGV0aW9uOiAnbm90LWNvbXBsZXRlZCcsXG5cdFx0fVxuXHQpOiBQcm9taXNlPElPcmRlcltdPiB7XG5cdFx0Y29uc3Qgb3JkZXJzUmF3ID0gKGF3YWl0IHRoaXMub3JkZXJzU2VydmljZS5Nb2RlbC5maW5kKFxuXHRcdFx0Xy5leHRlbmQoXG5cdFx0XHRcdHsgY2FycmllcjogY2FycmllcklkLCBpc0RlbGV0ZWQ6IHsgJGVxOiBmYWxzZSB9IH0sXG5cdFx0XHRcdCgoKSA9PiB7XG5cdFx0XHRcdFx0c3dpdGNoIChvcHRpb25zLmNvbXBsZXRpb24pIHtcblx0XHRcdFx0XHRcdGNhc2UgJ2NvbXBsZXRlZCc6XG5cdFx0XHRcdFx0XHRcdHJldHVybiBPcmRlcnNTZXJ2aWNlLkZpbmRPYmplY3RzLmlzQ29tcGxldGVkO1xuXHRcdFx0XHRcdFx0Y2FzZSAnbm90LWNvbXBsZXRlZCc6XG5cdFx0XHRcdFx0XHRcdHJldHVybiBPcmRlcnNTZXJ2aWNlLkZpbmRPYmplY3RzLmlzTm90Q29tcGxldGVkO1xuXHRcdFx0XHRcdFx0Y2FzZSAnYWxsJzpcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHt9O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSkoKVxuXHRcdFx0KVxuXHRcdClcblx0XHRcdC5wb3B1bGF0ZShvcHRpb25zLnBvcHVsYXRlV2FyZWhvdXNlID8gJ3dhcmVob3VzZScgOiAnJylcblx0XHRcdC5sZWFuKClcblx0XHRcdC5leGVjKCkpIGFzIElPcmRlcltdO1xuXG5cdFx0cmV0dXJuIG9yZGVyc1Jhdy5tYXAoKG9yZGVyUmF3KSA9PiB7XG5cdFx0XHRvcmRlclJhd1snaWQnXSA9IG9yZGVyUmF3Ll9pZDtcblx0XHRcdG9yZGVyUmF3LnByb2R1Y3RzID0gb3JkZXJSYXcucHJvZHVjdHMubWFwKChwKSA9PiB7XG5cdFx0XHRcdHBbJ2lkJ10gPSBwLl9pZDtcblx0XHRcdFx0cC5wcm9kdWN0WydpZCddID0gcC5wcm9kdWN0Ll9pZDtcblx0XHRcdFx0cmV0dXJuIHA7XG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiBvcmRlclJhdztcblx0XHR9KTtcblx0fVxuXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgZ2V0Q2FycmllckN1cnJlbnRPcmRlcihjYXJyaWVySWQ6IHN0cmluZyk6IFByb21pc2U8T3JkZXI+IHtcblx0XHRhd2FpdCB0aGlzLmNhcnJpZXJzU2VydmljZS50aHJvd0lmTm90RXhpc3RzKGNhcnJpZXJJZCk7XG5cblx0XHRyZXR1cm4gdGhpcy5vcmRlcnNTZXJ2aWNlLk1vZGVsLmZpbmRPbmUoXG5cdFx0XHRfLmFzc2lnbih0aGlzLmdldE9yZGVyc0ZvcldvcmtGaWx0ZXIoY2FycmllcklkKSwge1xuXHRcdFx0XHRjYXJyaWVyOiBjYXJyaWVySWQsXG5cdFx0XHR9KVxuXHRcdClcblx0XHRcdC5sZWFuKClcblx0XHRcdC5leGVjKCk7XG5cdH1cblxuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIGdldENvdW50T2ZDYXJyaWVyT3JkZXJzSGlzdG9yeShjYXJyaWVySWQ6IHN0cmluZyk6IFByb21pc2U8bnVtYmVyPiB7XG5cdFx0YXdhaXQgdGhpcy5jYXJyaWVyc1NlcnZpY2UudGhyb3dJZk5vdEV4aXN0cyhjYXJyaWVySWQpO1xuXHRcdHJldHVybiB0aGlzLm9yZGVyc1NlcnZpY2UuTW9kZWwuZmluZCh7IGNhcnJpZXI6IGNhcnJpZXJJZCB9KVxuXHRcdFx0LmNvdW50RG9jdW1lbnRzKClcblx0XHRcdC5leGVjKCk7XG5cdH1cblxuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIGdldENhcnJpZXJPcmRlcnNIaXN0b3J5KFxuXHRcdGNhcnJpZXJJZDogc3RyaW5nLFxuXHRcdG9wdGlvbnM6IEdlb0xvY2F0aW9uT3JkZXJzT3B0aW9uc1xuXHQpOiBQcm9taXNlPE9yZGVyW10+IHtcblx0XHRhd2FpdCB0aGlzLmNhcnJpZXJzU2VydmljZS50aHJvd0lmTm90RXhpc3RzKGNhcnJpZXJJZCk7XG5cblx0XHRjb25zdCBkYk9yZGVycyA9IGF3YWl0IHRoaXMub3JkZXJzU2VydmljZS5Nb2RlbC5maW5kKHtcblx0XHRcdGNhcnJpZXI6IGNhcnJpZXJJZCxcblx0XHR9KVxuXHRcdFx0LnNvcnQoe1xuXHRcdFx0XHRfY3JlYXRlZEF0OlxuXHRcdFx0XHRcdG9wdGlvbnMuc29ydCAmJiBvcHRpb25zLnNvcnQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnZGVzYycpXG5cdFx0XHRcdFx0XHQ/ICdkZXNjJ1xuXHRcdFx0XHRcdFx0OiAnYXNjJyxcblx0XHRcdH0pXG5cdFx0XHQuc2tpcChvcHRpb25zLnNraXAgfHwgMClcblx0XHRcdC5saW1pdChvcHRpb25zLmxpbWl0IHx8IDEpXG5cdFx0XHQubGVhbigpXG5cdFx0XHQuZXhlYygpO1xuXG5cdFx0cmV0dXJuIGRiT3JkZXJzLm1hcCgobzogSU9yZGVyKSA9PiBuZXcgT3JkZXIobykpO1xuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBfZ2V0KFxuXHRcdGNhcnJpZXJJZDogc3RyaW5nLFxuXHRcdG9wdGlvbnM6IHtcblx0XHRcdHBvcHVsYXRlV2FyZWhvdXNlOiBib29sZWFuO1xuXHRcdFx0Y29tcGxldGlvbjogJ2NvbXBsZXRlZCcgfCAnbm90LWNvbXBsZXRlZCcgfCAnYWxsJztcblx0XHR9XG5cdCk6IFByb21pc2U8T3JkZXJbXT4ge1xuXHRcdGF3YWl0IHRoaXMuY2FycmllcnNTZXJ2aWNlLnRocm93SWZOb3RFeGlzdHMoY2FycmllcklkKTtcblxuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBvcmRlcnNSYXcgPSAoYXdhaXQgdGhpcy5vcmRlcnNTZXJ2aWNlLk1vZGVsLmZpbmQoXG5cdFx0XHRcdF8uZXh0ZW5kKFxuXHRcdFx0XHRcdHsgY2FycmllcjogY2FycmllcklkLCBpc0RlbGV0ZWQ6IHsgJGVxOiBmYWxzZSB9IH0sXG5cdFx0XHRcdFx0KCgpID0+IHtcblx0XHRcdFx0XHRcdHN3aXRjaCAob3B0aW9ucy5jb21wbGV0aW9uKSB7XG5cdFx0XHRcdFx0XHRcdGNhc2UgJ2NvbXBsZXRlZCc6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIE9yZGVyc1NlcnZpY2UuRmluZE9iamVjdHMuaXNDb21wbGV0ZWQ7XG5cdFx0XHRcdFx0XHRcdGNhc2UgJ25vdC1jb21wbGV0ZWQnOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBPcmRlcnNTZXJ2aWNlLkZpbmRPYmplY3RzLmlzTm90Q29tcGxldGVkO1xuXHRcdFx0XHRcdFx0XHRjYXNlICdhbGwnOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiB7fTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KSgpXG5cdFx0XHRcdClcblx0XHRcdClcblx0XHRcdFx0LnBvcHVsYXRlKG9wdGlvbnMucG9wdWxhdGVXYXJlaG91c2UgPyAnd2FyZWhvdXNlJyA6ICcnKVxuXHRcdFx0XHQubGVhbigpXG5cdFx0XHRcdC5leGVjKCkpIGFzIElPcmRlcltdO1xuXG5cdFx0XHRyZXR1cm4gXy5tYXAob3JkZXJzUmF3LCAob3JkZXJSYXcpID0+IG5ldyBPcmRlcihvcmRlclJhdykpO1xuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0dGhpcy5sb2cuZXJyb3IoZXJyKTtcblx0XHRcdHRocm93IGVycjtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGdldE9yZGVyc0ZvcldvcmtGaWx0ZXIoY2FycmllcklkOiBzdHJpbmcpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Y2FycmllclN0YXR1czoge1xuXHRcdFx0XHQkbmluOiBbXG5cdFx0XHRcdFx0T3JkZXJDYXJyaWVyU3RhdHVzLklzc3Vlc0R1cmluZ0RlbGl2ZXJ5LFxuXHRcdFx0XHRcdE9yZGVyQ2FycmllclN0YXR1cy5DbGllbnRSZWZ1c2VUYWtpbmdPcmRlcixcblx0XHRcdFx0XHRPcmRlckNhcnJpZXJTdGF0dXMuRGVsaXZlcnlDb21wbGV0ZWQsXG5cdFx0XHRcdF0sXG5cdFx0XHR9LFxuXHRcdFx0d2FyZWhvdXNlU3RhdHVzOiB7XG5cdFx0XHRcdCRpbjogW1xuXHRcdFx0XHRcdE9yZGVyV2FyZWhvdXNlU3RhdHVzLlBhY2thZ2luZ0ZpbmlzaGVkLFxuXHRcdFx0XHRcdE9yZGVyV2FyZWhvdXNlU3RhdHVzLkdpdmVuVG9DYXJyaWVyLFxuXHRcdFx0XHRdLFxuXHRcdFx0fSxcblx0XHRcdCRvcjogW3sgY2FycmllcjogbnVsbCB9LCB7IGNhcnJpZXI6IGNhcnJpZXJJZCB9XSxcblx0XHR9O1xuXHR9XG59XG4iLCJpbXBvcnQgTG9nZ2VyIGZyb20gJ2J1bnlhbic7XG5pbXBvcnQgQ2FycmllclN0YXR1cyBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudW1zL0NhcnJpZXJTdGF0dXMnO1xuaW1wb3J0IENhcnJpZXIgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9DYXJyaWVyJztcbmltcG9ydCB7IGNyZWF0ZUV2ZXJMb2dnZXIgfSBmcm9tICcuLi8uLi9oZWxwZXJzL0xvZyc7XG5pbXBvcnQgeyBEQlNlcnZpY2UgfSBmcm9tICdAcHlyby9kYi1zZXJ2ZXInO1xuaW1wb3J0IHsgaW5qZWN0LCBpbmplY3RhYmxlIH0gZnJvbSAnaW52ZXJzaWZ5JztcbmltcG9ydCBJQ2FycmllclJvdXRlciwge1xuXHRJQ2FycmllckxvZ2luUmVzcG9uc2UsXG5cdElDYXJyaWVyUmVnaXN0cmF0aW9uSW5wdXQsXG59IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vcm91dGVycy9JQ2FycmllclJvdXRlcic7XG5pbXBvcnQge1xuXHRhc3luY0xpc3RlbmVyLFxuXHRvYnNlcnZhYmxlTGlzdGVuZXIsXG5cdHJvdXRlck5hbWUsXG5cdHNlcmlhbGl6YXRpb24sXG59IGZyb20gJ0BweXJvL2lvJztcbmltcG9ydCBJU2VydmljZSBmcm9tICcuLi9JU2VydmljZSc7XG5pbXBvcnQgR2VvTG9jYXRpb24gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9HZW9Mb2NhdGlvbic7XG5pbXBvcnQgSUdlb0xvY2F0aW9uIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JR2VvTG9jYXRpb24nO1xuaW1wb3J0IHsgY29uY2F0LCBvZiwgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgZXhoYXVzdE1hcCwgZmlsdGVyLCBmaXJzdCwgbWFwLCBzd2l0Y2hNYXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBlbnYgfSBmcm9tICcuLi8uLi9lbnYnO1xuaW1wb3J0IHsgQXV0aFNlcnZpY2UsIEF1dGhTZXJ2aWNlRmFjdG9yeSB9IGZyb20gJy4uL2F1dGgnO1xuaW1wb3J0IElQYWdpbmdPcHRpb25zIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JUGFnaW5nT3B0aW9ucyc7XG5cbkBpbmplY3RhYmxlKClcbkByb3V0ZXJOYW1lKCdjYXJyaWVyJylcbmV4cG9ydCBjbGFzcyBDYXJyaWVyc1NlcnZpY2UgZXh0ZW5kcyBEQlNlcnZpY2U8Q2Fycmllcj5cblx0aW1wbGVtZW50cyBJQ2FycmllclJvdXRlciwgSVNlcnZpY2Uge1xuXHRwdWJsaWMgcmVhZG9ubHkgREJPYmplY3Q6IGFueSA9IENhcnJpZXI7XG5cdHByb3RlY3RlZCByZWFkb25seSBsb2c6IExvZ2dlciA9IGNyZWF0ZUV2ZXJMb2dnZXIoe1xuXHRcdG5hbWU6ICdjYXJyaWVyc1NlcnZpY2UnLFxuXHR9KTtcblxuXHRwcml2YXRlIHJlYWRvbmx5IGF1dGhTZXJ2aWNlOiBBdXRoU2VydmljZTxDYXJyaWVyPjtcblxuXHRjb25zdHJ1Y3Rvcihcblx0XHRAaW5qZWN0KCdGYWN0b3J5PEF1dGhTZXJ2aWNlPicpXG5cdFx0cHJpdmF0ZSByZWFkb25seSBhdXRoU2VydmljZUZhY3Rvcnk6IEF1dGhTZXJ2aWNlRmFjdG9yeVxuXHQpIHtcblx0XHRzdXBlcigpO1xuXHRcdHRoaXMuYXV0aFNlcnZpY2UgPSB0aGlzLmF1dGhTZXJ2aWNlRmFjdG9yeSh7XG5cdFx0XHRyb2xlOiAnY2FycmllcicsXG5cdFx0XHRFbnRpdHk6IENhcnJpZXIsXG5cdFx0XHRzYWx0Um91bmRzOiBlbnYuQ0FSUklFUl9QQVNTV09SRF9CQ1JZUFRfU0FMVF9ST1VORFMsXG5cdFx0fSk7XG5cdH1cblxuXHRAb2JzZXJ2YWJsZUxpc3RlbmVyKClcblx0Z2V0KGlkOiBDYXJyaWVyWydpZCddKSB7XG5cdFx0cmV0dXJuIHN1cGVyLmdldChpZCkucGlwZShcblx0XHRcdG1hcChhc3luYyAoY2FycmllcikgPT4ge1xuXHRcdFx0XHRhd2FpdCB0aGlzLnRocm93SWZOb3RFeGlzdHMoaWQpO1xuXHRcdFx0XHRyZXR1cm4gY2Fycmllcjtcblx0XHRcdH0pLFxuXHRcdFx0c3dpdGNoTWFwKChjYXJyaWVyKSA9PiB7XG5cdFx0XHRcdHJldHVybiBjYXJyaWVyO1xuXHRcdFx0fSlcblx0XHQpO1xuXHR9XG5cblx0QG9ic2VydmFibGVMaXN0ZW5lcigpXG5cdGdldEFsbEFjdGl2ZSgpOiBPYnNlcnZhYmxlPENhcnJpZXJbXT4ge1xuXHRcdHJldHVybiBjb25jYXQob2YobnVsbCksIHRoaXMuZXhpc3RlbmNlKS5waXBlKFxuXHRcdFx0ZXhoYXVzdE1hcCgoKSA9PiB0aGlzLl9nZXRBbGxBY3RpdmUoKSlcblx0XHQpO1xuXHR9XG5cblx0cHJvdGVjdGVkIGFzeW5jIF9nZXRBbGxBY3RpdmUoKSB7XG5cdFx0cmV0dXJuIHN1cGVyLmZpbmQoeyBpc0FjdGl2ZTogdHJ1ZSwgaXNEZWxldGVkOiB7ICRlcTogZmFsc2UgfSB9KTtcblx0fVxuXG5cdGFzeW5jIGdldE11bHRpcGxlQnlJZHMoXG5cdFx0Y2Fycmllcklkczogc3RyaW5nW11cblx0KTogUHJvbWlzZTxPYnNlcnZhYmxlPENhcnJpZXJbXT4+IHtcblx0XHRjb25zdCBjYXJyaWVycyA9IGF3YWl0IHRoaXMuZmluZCh7XG5cdFx0XHRfaWQ6IHsgJGluOiBjYXJyaWVySWRzIH0sXG5cdFx0XHRpc0RlbGV0ZWQ6IHsgJGVxOiBmYWxzZSB9LFxuXHRcdH0pO1xuXG5cdFx0Y29uc3QgY2FycmllcnNJZHNUb1JldHVybiA9IGNhcnJpZXJzLm1hcCgoYykgPT4gYy5pZCk7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0TXVsdGlwbGUoY2FycmllcnNJZHNUb1JldHVybik7XG5cdH1cblxuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIHJlZ2lzdGVyKGlucHV0OiBJQ2FycmllclJlZ2lzdHJhdGlvbklucHV0KSB7XG5cdFx0Y29uc3QgY2FycmllciA9IGF3YWl0IHN1cGVyLmNyZWF0ZSh7XG5cdFx0XHQuLi5pbnB1dC5jYXJyaWVyLFxuXHRcdFx0Li4uKGlucHV0LnBhc3N3b3JkXG5cdFx0XHRcdD8ge1xuXHRcdFx0XHRcdFx0aGFzaDogYXdhaXQgdGhpcy5hdXRoU2VydmljZS5nZXRQYXNzd29yZEhhc2goXG5cdFx0XHRcdFx0XHRcdGlucHV0LnBhc3N3b3JkXG5cdFx0XHRcdFx0XHQpLFxuXHRcdFx0XHQgIH1cblx0XHRcdFx0OiB7fSksXG5cdFx0fSk7XG5cdFx0cmV0dXJuIGNhcnJpZXI7XG5cdH1cblxuXHRhc3luYyB1cGRhdGVQYXNzd29yZChcblx0XHRpZDogQ2FycmllclsnaWQnXSxcblx0XHRwYXNzd29yZDogeyBjdXJyZW50OiBzdHJpbmc7IG5ldzogc3RyaW5nIH1cblx0KTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0YXdhaXQgdGhpcy50aHJvd0lmTm90RXhpc3RzKGlkKTtcblx0XHRhd2FpdCB0aGlzLmF1dGhTZXJ2aWNlLnVwZGF0ZVBhc3N3b3JkKGlkLCBwYXNzd29yZCk7XG5cdH1cblxuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIGxvZ2luKFxuXHRcdHVzZXJuYW1lOiBzdHJpbmcsXG5cdFx0cGFzc3dvcmQ6IHN0cmluZ1xuXHQpOiBQcm9taXNlPElDYXJyaWVyTG9naW5SZXNwb25zZSB8IG51bGw+IHtcblx0XHRjb25zdCByZXMgPSBhd2FpdCB0aGlzLmF1dGhTZXJ2aWNlLmxvZ2luKHsgdXNlcm5hbWUgfSwgcGFzc3dvcmQpO1xuXG5cdFx0aWYgKCFyZXMpIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH0gZWxzZSBpZiAocmVzLmVudGl0eS5pc0RlbGV0ZWQpIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHRjYXJyaWVyOiByZXMuZW50aXR5LFxuXHRcdFx0dG9rZW46IHJlcy50b2tlbixcblx0XHR9O1xuXHR9XG5cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyB1cGRhdGVTdGF0dXMoXG5cdFx0Y2FycmllcklkOiBDYXJyaWVyWydpZCddLFxuXHRcdHN0YXR1czogQ2FycmllclN0YXR1c1xuXHQpOiBQcm9taXNlPENhcnJpZXI+IHtcblx0XHRhd2FpdCB0aGlzLnRocm93SWZOb3RFeGlzdHMoY2FycmllcklkKTtcblx0XHRyZXR1cm4gc3VwZXIudXBkYXRlKGNhcnJpZXJJZCwgeyBzdGF0dXMgfSk7XG5cdH1cblxuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIHVwZGF0ZUFjdGl2aXR5KFxuXHRcdGNhcnJpZXJJZDogQ2FycmllclsnaWQnXSxcblx0XHRpc0FjdGl2ZTogYm9vbGVhblxuXHQpOiBQcm9taXNlPENhcnJpZXI+IHtcblx0XHRhd2FpdCB0aGlzLnRocm93SWZOb3RFeGlzdHMoY2FycmllcklkKTtcblx0XHRyZXR1cm4gc3VwZXIudXBkYXRlKGNhcnJpZXJJZCwgeyBpc0FjdGl2ZSB9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBVcGRhdGUgZW1haWwgZm9yIGdpdmVuIENhcnJpZXIgKGJ5IGNhcnJpZXIgSWQpXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBjYXJyaWVySWRcblx0ICogQHBhcmFtIHtzdHJpbmd9IGVtYWlsXG5cdCAqIEByZXR1cm5zIHtQcm9taXNlPENhcnJpZXI+fVxuXHQgKiBAbWVtYmVyb2YgQ2FycmllcnNTZXJ2aWNlXG5cdCAqL1xuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIHVwZGF0ZUVtYWlsKGNhcnJpZXJJZDogc3RyaW5nLCBlbWFpbDogc3RyaW5nKTogUHJvbWlzZTxDYXJyaWVyPiB7XG5cdFx0YXdhaXQgdGhpcy50aHJvd0lmTm90RXhpc3RzKGNhcnJpZXJJZCk7XG5cdFx0cmV0dXJuIHRoaXMudXBkYXRlKGNhcnJpZXJJZCwgeyBlbWFpbCB9KTtcblx0fVxuXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgdXBkYXRlR2VvTG9jYXRpb24oXG5cdFx0Y2FycmllcklkOiBDYXJyaWVyWydpZCddLFxuXHRcdEBzZXJpYWxpemF0aW9uKChnbDogSUdlb0xvY2F0aW9uKSA9PiBuZXcgR2VvTG9jYXRpb24oZ2wpKVxuXHRcdGdlb0xvY2F0aW9uOiBHZW9Mb2NhdGlvblxuXHQpOiBQcm9taXNlPENhcnJpZXI+IHtcblx0XHRhd2FpdCB0aGlzLnRocm93SWZOb3RFeGlzdHMoY2FycmllcklkKTtcblx0XHRyZXR1cm4gc3VwZXIudXBkYXRlKGNhcnJpZXJJZCwgeyBnZW9Mb2NhdGlvbiB9KTtcblx0fVxuXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgdXBkYXRlQnlJZChcblx0XHRpZDogQ2FycmllclsnaWQnXSxcblx0XHR1cGRhdGVPYmplY3Q6IFBhcnRpYWw8Q2Fycmllcj5cblx0KTogUHJvbWlzZTxDYXJyaWVyPiB7XG5cdFx0YXdhaXQgdGhpcy50aHJvd0lmTm90RXhpc3RzKGlkKTtcblx0XHRyZXR1cm4gc3VwZXIudXBkYXRlKGlkLCB1cGRhdGVPYmplY3QpO1xuXHR9XG5cblx0YXN5bmMgaW5jcmVhc2VOdW1iZXJPZkRlbGl2ZXJpZXMoXG5cdFx0Y2FycmllcklkOiBDYXJyaWVyWydpZCddLFxuXHRcdG46IG51bWJlclxuXHQpOiBQcm9taXNlPENhcnJpZXI+IHtcblx0XHRhd2FpdCB0aGlzLnRocm93SWZOb3RFeGlzdHMoY2FycmllcklkKTtcblxuXHRcdHJldHVybiBzdXBlci51cGRhdGUoY2FycmllcklkLCB7XG5cdFx0XHQkaW5jOiB7IG51bWJlck9mRGVsaXZlcmllczogbiB9LFxuXHRcdH0pO1xuXHR9XG5cblx0YXN5bmMgdGhyb3dJZk5vdEV4aXN0cyhjYXJyaWVySWQ6IHN0cmluZykge1xuXHRcdGNvbnN0IGNhcnJpZXIgPSBhd2FpdCBzdXBlci5nZXQoY2FycmllcklkKS5waXBlKGZpcnN0KCkpLnRvUHJvbWlzZSgpO1xuXG5cdFx0aWYgKCFjYXJyaWVyIHx8IGNhcnJpZXIuaXNEZWxldGVkKSB7XG5cdFx0XHR0aHJvdyBFcnJvcihgQ2FycmllciB3aXRoIGlkICcke2NhcnJpZXJJZH0nIGRvZXMgbm90IGV4aXN0cyFgKTtcblx0XHR9XG5cdH1cblxuXHRhc3luYyBnZXRDYXJyaWVycyhmaW5kSW5wdXQsIHBhZ2luZ09wdGlvbnM6IElQYWdpbmdPcHRpb25zKSB7XG5cdFx0Y29uc3Qgc29ydE9iaiA9IHt9O1xuXHRcdGlmIChwYWdpbmdPcHRpb25zLnNvcnQpIHtcblx0XHRcdHNvcnRPYmpbcGFnaW5nT3B0aW9ucy5zb3J0LmZpZWxkXSA9IHBhZ2luZ09wdGlvbnMuc29ydC5zb3J0Qnk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuTW9kZWwuZmluZCh7XG5cdFx0XHQuLi5maW5kSW5wdXQsXG5cdFx0XHRpc0RlbGV0ZWQ6IHsgJGVxOiBmYWxzZSB9LFxuXHRcdH0pXG5cdFx0XHQuc29ydChzb3J0T2JqKVxuXHRcdFx0LnNraXAocGFnaW5nT3B0aW9ucy5za2lwKVxuXHRcdFx0LmxpbWl0KHBhZ2luZ09wdGlvbnMubGltaXQpXG5cdFx0XHQubGVhbigpXG5cdFx0XHQuZXhlYygpO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENhcnJpZXJzU2VydmljZTtcbiIsImV4cG9ydCAqIGZyb20gJy4vQ2FycmllcnNTZXJ2aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vQ2FycmllcnNPcmRlcnNTZXJ2aWNlJztcbiIsImltcG9ydCBDdXJyZW5jeSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL0N1cnJlbmN5JztcbmltcG9ydCB7IGluamVjdGFibGUgfSBmcm9tICdpbnZlcnNpZnknO1xuaW1wb3J0IHsgcm91dGVyTmFtZSB9IGZyb20gJ0BweXJvL2lvJztcbmltcG9ydCB7IERCU2VydmljZSB9IGZyb20gJ0BweXJvL2RiLXNlcnZlcic7XG5pbXBvcnQgSVNlcnZpY2UgZnJvbSAnc2VydmljZXMvSVNlcnZpY2UnO1xuaW1wb3J0IHsgSUN1cnJlbmN5Q3JlYXRlT2JqZWN0IH0gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9pbnRlcmZhY2VzL0lDdXJyZW5jeSc7XG5pbXBvcnQgeyBjcmVhdGVFdmVyTG9nZ2VyIH0gZnJvbSAnLi4vLi4vaGVscGVycy9Mb2cnO1xuaW1wb3J0IExvZ2dlciBmcm9tICdidW55YW4nO1xuXG5leHBvcnQgaW50ZXJmYWNlIEN1cnJlbmN5TXV0YXRpb25SZXNwb25lIHtcblx0c3VjY2VzczogYm9vbGVhbjtcblx0bWVzc2FnZT86IHN0cmluZztcblx0ZGF0YT86IEN1cnJlbmN5O1xufVxuXG5AaW5qZWN0YWJsZSgpXG5Acm91dGVyTmFtZSgnY3VycmVuY3knKVxuZXhwb3J0IGNsYXNzIEN1cnJlbmNpZXNTZXJ2aWNlIGV4dGVuZHMgREJTZXJ2aWNlPEN1cnJlbmN5PiBpbXBsZW1lbnRzIElTZXJ2aWNlIHtcblx0cHVibGljIHJlYWRvbmx5IERCT2JqZWN0OiBhbnkgPSBDdXJyZW5jeTtcblxuXHRwcm90ZWN0ZWQgcmVhZG9ubHkgbG9nOiBMb2dnZXIgPSBjcmVhdGVFdmVyTG9nZ2VyKHtcblx0XHRuYW1lOiAnY3VycmVuY2llc1NlcnZpY2UnLFxuXHR9KTtcblxuXHRhc3luYyBjcmVhdGVDdXJyZW5jeShcblx0XHRjdXJyZW5jeTogSUN1cnJlbmN5Q3JlYXRlT2JqZWN0XG5cdCk6IFByb21pc2U8Q3VycmVuY3lNdXRhdGlvblJlc3BvbmU+IHtcblx0XHRsZXQgc3VjY2Vzcztcblx0XHRsZXQgbWVzc2FnZTtcblx0XHRsZXQgZGF0YTtcblxuXHRcdHRyeSB7XG5cdFx0XHRkYXRhID0gYXdhaXQgdGhpcy5jcmVhdGUoY3VycmVuY3kpO1xuXHRcdFx0c3VjY2VzcyA9IHRydWU7XG5cdFx0XHRtZXNzYWdlID0gYFN1Y2Nlc3NmdWxseSBjcmVhdGUgY3VycmVuY3kgJHtkYXRhLmN1cnJlbmN5Q29kZX1gO1xuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRzdWNjZXNzID0gZmFsc2U7XG5cdFx0XHRtZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzLCBtZXNzYWdlLCBkYXRhIH07XG5cdH1cblxuXHRhc3luYyBnZXRBbGxDdXJyZW5jaWVzKCk6IFByb21pc2U8Q3VycmVuY3lbXT4ge1xuXHRcdGNvbnN0IGN1cnJlbmNpZXMgPSBhd2FpdCB0aGlzLmZpbmQoe1xuXHRcdFx0aXNEZWxldGVkOiB7ICRlcTogZmFsc2UgfSxcblx0XHR9KTtcblxuXHRcdHJldHVybiBjdXJyZW5jaWVzO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBpbmplY3RhYmxlIH0gZnJvbSAnaW52ZXJzaWZ5JztcbmltcG9ydCB7IElEZXZpY2VDcmVhdGVPYmplY3QgfSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2ludGVyZmFjZXMvSURldmljZSc7XG5pbXBvcnQgRGV2aWNlIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvRGV2aWNlJztcbmltcG9ydCB7IERCU2VydmljZSB9IGZyb20gJ0BweXJvL2RiLXNlcnZlcic7XG5pbXBvcnQgeyBjcmVhdGVFdmVyTG9nZ2VyIH0gZnJvbSAnLi4vLi4vaGVscGVycy9Mb2cnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgYXN5bmNMaXN0ZW5lciwgb2JzZXJ2YWJsZUxpc3RlbmVyLCByb3V0ZXJOYW1lIH0gZnJvbSAnQHB5cm8vaW8nO1xuaW1wb3J0IElEZXZpY2VSb3V0ZXIgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9yb3V0ZXJzL0lEZXZpY2VSb3V0ZXInO1xuaW1wb3J0IElMYW5ndWFnZSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2ludGVyZmFjZXMvSUxhbmd1YWdlJztcbmltcG9ydCBJU2VydmljZSBmcm9tICcuLi9JU2VydmljZSc7XG5pbXBvcnQgeyBmaXJzdCwgc3dpdGNoTWFwLCBtYXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJ2J1bnlhbic7XG5cbkBpbmplY3RhYmxlKClcbkByb3V0ZXJOYW1lKCdkZXZpY2UnKVxuZXhwb3J0IGNsYXNzIERldmljZXNTZXJ2aWNlIGV4dGVuZHMgREJTZXJ2aWNlPERldmljZT5cblx0aW1wbGVtZW50cyBJRGV2aWNlUm91dGVyLCBJU2VydmljZSB7XG5cdHB1YmxpYyByZWFkb25seSBEQk9iamVjdDogYW55ID0gRGV2aWNlO1xuXG5cdHByb3RlY3RlZCByZWFkb25seSBsb2c6IExvZ2dlciA9IGNyZWF0ZUV2ZXJMb2dnZXIoe1xuXHRcdG5hbWU6ICdkZXZpY2VzU2VydmljZScsXG5cdH0pO1xuXG5cdEBvYnNlcnZhYmxlTGlzdGVuZXIoKVxuXHRnZXQoaWQ6IHN0cmluZyk6IE9ic2VydmFibGU8RGV2aWNlIHwgbnVsbD4ge1xuXHRcdHJldHVybiBzdXBlci5nZXQoaWQpLnBpcGUoXG5cdFx0XHRtYXAoYXN5bmMgKGRldmljZSkgPT4ge1xuXHRcdFx0XHRhd2FpdCB0aGlzLnRocm93SWZOb3RFeGlzdHMoaWQpO1xuXHRcdFx0XHRyZXR1cm4gZGV2aWNlO1xuXHRcdFx0fSksXG5cdFx0XHRzd2l0Y2hNYXAoKGRldmljZSkgPT4gZGV2aWNlKVxuXHRcdCk7XG5cdH1cblxuXHRhc3luYyBnZXRNdWx0aXBsZURldmljZXMoXG5cdFx0aWRzOiBBcnJheTxEZXZpY2VbJ2lkJ10+XG5cdCk6IFByb21pc2U8T2JzZXJ2YWJsZTxEZXZpY2VbXT4+IHtcblx0XHRjb25zdCBkZXZpY2VzID0gYXdhaXQgdGhpcy5maW5kKHtcblx0XHRcdF9pZDogeyAkaW46IGlkcyB9LFxuXHRcdFx0aXNEZWxldGVkOiB7ICRlcTogZmFsc2UgfSxcblx0XHR9KTtcblxuXHRcdGNvbnN0IGRldmljZXNJZHMgPSBkZXZpY2VzLm1hcCgoZGV2aWNlKSA9PiBkZXZpY2UuaWQpO1xuXG5cdFx0cmV0dXJuIHN1cGVyLmdldE11bHRpcGxlKGRldmljZXNJZHMpO1xuXHR9XG5cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyBjcmVhdGUoZGV2aWNlOiBJRGV2aWNlQ3JlYXRlT2JqZWN0KTogUHJvbWlzZTxEZXZpY2U+IHtcblx0XHRyZXR1cm4gc3VwZXIuY3JlYXRlKGRldmljZSk7XG5cdH1cblxuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIHVwZGF0ZUxhbmd1YWdlKFxuXHRcdGRldmljZUlkOiBzdHJpbmcsXG5cdFx0bGFuZ3VhZ2U6IElMYW5ndWFnZVxuXHQpOiBQcm9taXNlPERldmljZT4ge1xuXHRcdGF3YWl0IHRoaXMudGhyb3dJZk5vdEV4aXN0cyhkZXZpY2VJZCk7XG5cblx0XHRyZXR1cm4gdGhpcy51cGRhdGUoZGV2aWNlSWQsIHtcblx0XHRcdGxhbmd1YWdlLFxuXHRcdH0pO1xuXHR9XG5cblx0YXN5bmMgdGhyb3dJZk5vdEV4aXN0cyhkZXZpY2VJZDogc3RyaW5nKSB7XG5cdFx0Y29uc3QgZGV2aWNlID0gYXdhaXQgc3VwZXIuZ2V0KGRldmljZUlkKS5waXBlKGZpcnN0KCkpLnRvUHJvbWlzZSgpO1xuXG5cdFx0aWYgKCFkZXZpY2UgfHwgZGV2aWNlLmlzRGVsZXRlZCkge1xuXHRcdFx0dGhyb3cgRXJyb3IoYERldmljZSB3aXRoIGlkICcke2RldmljZUlkfScgZG9lcyBub3QgZXhpc3RzIWApO1xuXHRcdH1cblx0fVxufVxuIiwiZXhwb3J0ICogZnJvbSAnLi9EZXZpY2VzU2VydmljZSc7XG4iLCJpbXBvcnQgeyBpbmplY3RhYmxlIH0gZnJvbSAnaW52ZXJzaWZ5JztcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgUHJvZHVjdCBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL1Byb2R1Y3QnO1xuaW1wb3J0IFVzZXIgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9Vc2VyJztcbmltcG9ydCBXYXJlaG91c2UgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9XYXJlaG91c2UnO1xuXG5AaW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgRmFrZU9yZGVyc1NlcnZpY2Uge1xuXHRwcml2YXRlIF9vcmRlck51bWJlcjogbnVtYmVyO1xuXHRwcml2YXRlIF9zdG9yZUlkOiBzdHJpbmc7XG5cdHByaXZhdGUgX2NhcnJpZXJJZDogc3RyaW5nO1xuXHRwcml2YXRlIF9vcmRlckNyZWF0ZWRBdDogRGF0ZTtcblxuXHRnZXRPcmRlclJhdyhcblx0XHRvcmRlck51bWJlcjogbnVtYmVyLFxuXHRcdHN0b3JlSWQ6IHN0cmluZyxcblx0XHRzdG9yZUNyZWF0ZWRBdDogRGF0ZSxcblx0XHRjYXJyaWVySWQ6IHN0cmluZyxcblx0XHRjdXN0b21lcnM6IFVzZXJbXSxcblx0XHRwcm9kdWN0czogUHJvZHVjdFtdXG5cdCkge1xuXHRcdHRoaXMuX29yZGVyTnVtYmVyID0gb3JkZXJOdW1iZXI7XG5cdFx0dGhpcy5fc3RvcmVJZCA9IHN0b3JlSWQ7XG5cdFx0dGhpcy5fY2FycmllcklkID0gY2FycmllcklkO1xuXHRcdHRoaXMuX29yZGVyQ3JlYXRlZEF0ID0gdGhpcy5nZXRPcmRlckRhdGUoc3RvcmVDcmVhdGVkQXQpO1xuXG5cdFx0c3dpdGNoICh0cnVlKSB7XG5cdFx0XHRjYXNlIG9yZGVyTnVtYmVyIDw9IDI1OlxuXHRcdFx0XHRyZXR1cm4gdGhpcy5fZ2V0T3JkZXJKdXN0Q3JlYXRlZChjdXN0b21lcnMsIHByb2R1Y3RzKTtcblxuXHRcdFx0Y2FzZSBvcmRlck51bWJlciA8PSA1MDpcblx0XHRcdFx0cmV0dXJuIHRoaXMuX2dldE9yZGVyUmVhZHlGb3JQcm9jZXNzaW5nKGN1c3RvbWVycywgcHJvZHVjdHMpO1xuXG5cdFx0XHRjYXNlIG9yZGVyTnVtYmVyIDw9IDc1OlxuXHRcdFx0XHRyZXR1cm4gdGhpcy5fZ2V0T3JkZXJTdG9yZVN0YXJ0UHJvY2Vzc2luZyhjdXN0b21lcnMsIHByb2R1Y3RzKTtcblxuXHRcdFx0Y2FzZSBvcmRlck51bWJlciA8PSAxMDA6XG5cdFx0XHRcdHJldHVybiB0aGlzLl9nZXRPcmRlckNvbmZpcm1lZChjdXN0b21lcnMsIHByb2R1Y3RzKTtcblxuXHRcdFx0Y2FzZSBvcmRlck51bWJlciA8PSAxMjU6XG5cdFx0XHRcdHJldHVybiB0aGlzLl9nZXRPcmRlclN0YXJ0QWxsb2NhdGlvbihjdXN0b21lcnMsIHByb2R1Y3RzKTtcblxuXHRcdFx0Y2FzZSBvcmRlck51bWJlciA8PSAxNTA6XG5cdFx0XHRcdHJldHVybiB0aGlzLl9nZXRPcmRlclBhY2thZ2luZ1N0YXJ0ZWQoY3VzdG9tZXJzLCBwcm9kdWN0cyk7XG5cblx0XHRcdGNhc2Ugb3JkZXJOdW1iZXIgPD0gMjAwOlxuXHRcdFx0XHRyZXR1cm4gdGhpcy5fZ2V0T3JkZXJBbGxvY2F0aW9uRmFpbHMoY3VzdG9tZXJzLCBwcm9kdWN0cyk7XG5cblx0XHRcdGNhc2Ugb3JkZXJOdW1iZXIgPD0gMjUwOlxuXHRcdFx0XHRyZXR1cm4gdGhpcy5fZ2V0T3JkZXJQYWNrYWdpbmdGYWlscyhjdXN0b21lcnMsIHByb2R1Y3RzKTtcblxuXHRcdFx0Y2FzZSBvcmRlck51bWJlciA8PSAzMDA6XG5cdFx0XHRcdHJldHVybiB0aGlzLl9nZXRPcmRlcklzc3Vlc0R1cmluZ0RlbGl2ZXJ5KGN1c3RvbWVycywgcHJvZHVjdHMpO1xuXG5cdFx0XHRjYXNlIG9yZGVyTnVtYmVyIDw9IDM1MDpcblx0XHRcdFx0cmV0dXJuIHRoaXMuX2dldE9yZGVyQ2xpZW50UmVmdXNlT3JkZXIoY3VzdG9tZXJzLCBwcm9kdWN0cyk7XG5cblx0XHRcdGNhc2Ugb3JkZXJOdW1iZXIgPD0gNDAwOlxuXHRcdFx0XHRyZXR1cm4gdGhpcy5fZ2V0T3JkZXJBbGxvY2F0aW9uRmluaXNoZWQoY3VzdG9tZXJzLCBwcm9kdWN0cyk7XG5cblx0XHRcdGNhc2Ugb3JkZXJOdW1iZXIgPD0gNDUwOlxuXHRcdFx0XHRyZXR1cm4gdGhpcy5fZ2V0T3JkZXJQYWNrYWdpbmdGaW5pc2hlZChjdXN0b21lcnMsIHByb2R1Y3RzKTtcblxuXHRcdFx0Y2FzZSBvcmRlck51bWJlciA8PSA0NzU6XG5cdFx0XHRcdHJldHVybiB0aGlzLl9nZXRPcmRlckNhcnJpZXJTZWxlY3RlZChjdXN0b21lcnMsIHByb2R1Y3RzKTtcblxuXHRcdFx0Y2FzZSBvcmRlck51bWJlciA8PSA1MDA6XG5cdFx0XHRcdHJldHVybiB0aGlzLl9nZXRPcmRlckNhcnJpZXJQaWNrdXAoY3VzdG9tZXJzLCBwcm9kdWN0cyk7XG5cblx0XHRcdGNhc2Ugb3JkZXJOdW1iZXIgPD0gNTI1OlxuXHRcdFx0XHRyZXR1cm4gdGhpcy5fZ2V0T3JkZXJDYXJyaWVyQXJyaXZlVG9DdXN0b21lcihcblx0XHRcdFx0XHRjdXN0b21lcnMsXG5cdFx0XHRcdFx0cHJvZHVjdHNcblx0XHRcdFx0KTtcblxuXHRcdFx0Y2FzZSBvcmRlck51bWJlciA8PSA2NTA6XG5cdFx0XHRcdHJldHVybiB0aGlzLl9nZXRPcmRlckNhbmNlbGxlZChjdXN0b21lcnMsIHByb2R1Y3RzKTtcblxuXHRcdFx0Y2FzZSBvcmRlck51bWJlciA8PSAxMDAwOlxuXHRcdFx0XHRyZXR1cm4gdGhpcy5fZ2V0T3JkZXJEZWxpdmVyeUNvbXBsZXRlZChjdXN0b21lcnMsIHByb2R1Y3RzKTtcblx0XHR9XG5cdH1cblxuXHRnZXRPcmRlckRhdGUoc3RhcnREYXRlOiBEYXRlKTogRGF0ZSB7XG5cdFx0Y29uc3Qgbm93ID0gbmV3IERhdGUoKTtcblxuXHRcdGNvbnN0IG9yZGVyWWVhciA9IF8ucmFuZG9tKHN0YXJ0RGF0ZS5nZXRGdWxsWWVhcigpLCBub3cuZ2V0RnVsbFllYXIoKSk7XG5cdFx0Y29uc3Qgb3JkZXJNb250aCA9IF8ucmFuZG9tKDExKTtcblx0XHRjb25zdCBvcmRlckRhdGUgPSBfLnJhbmRvbSgzMSk7XG5cdFx0Y29uc3Qgb3JkZXJIb3VycyA9IF8ucmFuZG9tKDIzKTtcblx0XHRjb25zdCBvcmRlck1pbnV0ZXMgPSBfLnJhbmRvbSg1OSk7XG5cblx0XHRjb25zdCBvcmRlckNyZWF0ZWRBdCA9IG5ldyBEYXRlKFxuXHRcdFx0b3JkZXJZZWFyLFxuXHRcdFx0b3JkZXJNb250aCxcblx0XHRcdG9yZGVyRGF0ZSxcblx0XHRcdG9yZGVySG91cnMsXG5cdFx0XHRvcmRlck1pbnV0ZXNcblx0XHQpO1xuXG5cdFx0aWYgKG9yZGVyQ3JlYXRlZEF0IDwgc3RhcnREYXRlIHx8IG9yZGVyQ3JlYXRlZEF0ID4gbm93KSB7XG5cdFx0XHRjb25zdCBkaWZmID0gbm93LmdldFRpbWUoKSAtIHN0YXJ0RGF0ZS5nZXRUaW1lKCk7XG5cdFx0XHRvcmRlckNyZWF0ZWRBdC5zZXRUaW1lKHN0YXJ0RGF0ZS5nZXRUaW1lKCkgKyBfLnJhbmRvbShkaWZmKSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG9yZGVyQ3JlYXRlZEF0O1xuXHR9XG5cblx0Z2V0T3JkZXJOZXh0VGltZShkYXRlOiBEYXRlKTogRGF0ZSB7XG5cdFx0Y29uc3QgcmFuZG9tTWludXRlcyA9IF8ucmFuZG9tKDEsIDMwKTtcblx0XHRjb25zdCByYW5kb21TZWMgPSBfLnJhbmRvbSgxLCA2MCk7XG5cdFx0Y29uc3Qgb2xkRGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xuXG5cdFx0b2xkRGF0ZS5zZXRTZWNvbmRzKHJhbmRvbVNlYyk7XG5cblx0XHRyZXR1cm4gbmV3IERhdGUob2xkRGF0ZS5zZXRNaW51dGVzKGRhdGUuZ2V0TWludXRlcygpICsgcmFuZG9tTWludXRlcykpO1xuXHR9XG5cblx0Z2V0UmFuZG9tTnVtYmVyT2ZQcm9kdWN0cygpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLl9vcmRlck51bWJlciAlIDcgfHwgMTtcblx0fVxuXG5cdGdldFJhbmRvbU9yZGVyUHJvZHVjdENvdW50KCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuX29yZGVyTnVtYmVyICUgMyB8fCAxO1xuXHR9XG5cblx0Z2V0UmFuZG9tT3JkZXJQcm9kdWN0UHJpY2UoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5fb3JkZXJOdW1iZXIgJSAxMTAgfHwgMTtcblx0fVxuXG5cdGdldFJhbmRvbVByb2R1Y3Qob3JkZXJOdW1iZXI6IG51bWJlciwgcHJvZHVjdHM6IFByb2R1Y3RbXSk6IFByb2R1Y3Qge1xuXHRcdHJldHVybiBwcm9kdWN0c1tvcmRlck51bWJlciAlIHByb2R1Y3RzLmxlbmd0aF07XG5cdH1cblxuXHRnZW5lcmF0ZVJhbmRvbU9yZGVyUHJvZHVjdHMocHJvZHVjdHM6IFByb2R1Y3RbXSkge1xuXHRcdGNvbnN0IG51bWJlck9mUHJvZHVjdHMgPSB0aGlzLmdldFJhbmRvbU51bWJlck9mUHJvZHVjdHMoKTtcblxuXHRcdGNvbnN0IG9yZGVyUHJvZHVjdHMgPSBbXTtcblxuXHRcdGZvciAoXG5cdFx0XHRsZXQgcHJvZHVjdE51bWJlciA9IDE7XG5cdFx0XHRwcm9kdWN0TnVtYmVyIDw9IG51bWJlck9mUHJvZHVjdHM7XG5cdFx0XHRwcm9kdWN0TnVtYmVyICs9IDFcblx0XHQpIHtcblx0XHRcdGNvbnN0IG9yZGVyUHJpY2UgPSB0aGlzLmdldFJhbmRvbU9yZGVyUHJvZHVjdFByaWNlKCk7XG5cblx0XHRcdG9yZGVyUHJvZHVjdHMucHVzaCh7XG5cdFx0XHRcdGNvdW50OiB0aGlzLmdldFJhbmRvbU9yZGVyUHJvZHVjdENvdW50KCksXG5cdFx0XHRcdHByb2R1Y3Q6IHRoaXMuZ2V0UmFuZG9tUHJvZHVjdChwcm9kdWN0TnVtYmVyLCBwcm9kdWN0cyksXG5cdFx0XHRcdGlzTWFudWZhY3R1cmluZzogdHJ1ZSxcblx0XHRcdFx0cHJpY2U6IG9yZGVyUHJpY2UsXG5cdFx0XHRcdGluaXRpYWxQcmljZTogb3JkZXJQcmljZSxcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHJldHVybiBvcmRlclByb2R1Y3RzO1xuXHR9XG5cblx0Z2V0UmFuZG9tT3JkZXJDdXN0b21lcihjdXN0b21lcnM6IFVzZXJbXSk6IFVzZXIge1xuXHRcdHJldHVybiBjdXN0b21lcnNbdGhpcy5fb3JkZXJOdW1iZXIgJSBjdXN0b21lcnMubGVuZ3RoXTtcblx0fVxuXG5cdHByaXZhdGUgX2dldE9yZGVyRGVsaXZlcnlDb21wbGV0ZWQoY3VzdG9tZXJzOiBVc2VyW10sIHByb2R1Y3RzOiBQcm9kdWN0W10pIHtcblx0XHRjb25zdCBzdGFydERlbGl2ZXJ5VGltZSA9IHRoaXMuZ2V0T3JkZXJOZXh0VGltZSh0aGlzLl9vcmRlckNyZWF0ZWRBdCk7XG5cdFx0Y29uc3QgZGVsaXZlcnlUaW1lID0gdGhpcy5nZXRPcmRlck5leHRUaW1lKHN0YXJ0RGVsaXZlcnlUaW1lKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRpc0NvbmZpcm1lZDogZmFsc2UsXG5cdFx0XHRpc0NhbmNlbGxlZDogZmFsc2UsXG5cdFx0XHRpc1BhaWQ6IHRydWUsXG5cdFx0XHRkZWxpdmVyeVRpbWVFc3RpbWF0ZTogMCxcblx0XHRcdHdhcmVob3VzZVN0YXR1czogNixcblx0XHRcdGNhcnJpZXJTdGF0dXM6IDUsXG5cdFx0XHRpc0RlbGV0ZWQ6IGZhbHNlLFxuXHRcdFx0b3JkZXJOdW1iZXI6IHRoaXMuX29yZGVyTnVtYmVyLFxuXHRcdFx0d2FyZWhvdXNlOiB0aGlzLl9zdG9yZUlkLFxuXHRcdFx0Y2FycmllcjogdGhpcy5fY2FycmllcklkLFxuXHRcdFx0c3RhcnREZWxpdmVyeVRpbWUsXG5cdFx0XHRkZWxpdmVyeVRpbWUsXG5cdFx0XHR1c2VyOiB0aGlzLmdldFJhbmRvbU9yZGVyQ3VzdG9tZXIoY3VzdG9tZXJzKSxcblx0XHRcdHByb2R1Y3RzOiB0aGlzLmdlbmVyYXRlUmFuZG9tT3JkZXJQcm9kdWN0cyhwcm9kdWN0cyksXG5cdFx0XHRfY3JlYXRlZEF0OiB0aGlzLl9vcmRlckNyZWF0ZWRBdCxcblx0XHR9O1xuXHR9XG5cblx0cHJpdmF0ZSBfZ2V0T3JkZXJDYXJyaWVyQXJyaXZlVG9DdXN0b21lcihcblx0XHRjdXN0b21lcnM6IFVzZXJbXSxcblx0XHRwcm9kdWN0czogUHJvZHVjdFtdXG5cdCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRpc0NvbmZpcm1lZDogZmFsc2UsXG5cdFx0XHRpc0NhbmNlbGxlZDogZmFsc2UsXG5cdFx0XHRpc1BhaWQ6IGZhbHNlLFxuXHRcdFx0ZGVsaXZlcnlUaW1lRXN0aW1hdGU6IDAsXG5cdFx0XHR3YXJlaG91c2VTdGF0dXM6IDYsXG5cdFx0XHRjYXJyaWVyU3RhdHVzOiA0LFxuXHRcdFx0aXNEZWxldGVkOiBmYWxzZSxcblx0XHRcdG9yZGVyTnVtYmVyOiB0aGlzLl9vcmRlck51bWJlcixcblx0XHRcdHdhcmVob3VzZTogdGhpcy5fc3RvcmVJZCxcblx0XHRcdGNhcnJpZXI6IHRoaXMuX2NhcnJpZXJJZCxcblx0XHRcdHVzZXI6IHRoaXMuZ2V0UmFuZG9tT3JkZXJDdXN0b21lcihjdXN0b21lcnMpLFxuXHRcdFx0cHJvZHVjdHM6IHRoaXMuZ2VuZXJhdGVSYW5kb21PcmRlclByb2R1Y3RzKHByb2R1Y3RzKSxcblx0XHRcdHN0YXJ0RGVsaXZlcnlUaW1lOiB0aGlzLmdldE9yZGVyTmV4dFRpbWUodGhpcy5fb3JkZXJDcmVhdGVkQXQpLFxuXHRcdFx0X2NyZWF0ZWRBdDogdGhpcy5fb3JkZXJDcmVhdGVkQXQsXG5cdFx0fTtcblx0fVxuXG5cdHByaXZhdGUgX2dldE9yZGVyQ2FycmllclBpY2t1cChjdXN0b21lcnM6IFVzZXJbXSwgcHJvZHVjdHM6IFByb2R1Y3RbXSkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRpc0NvbmZpcm1lZDogZmFsc2UsXG5cdFx0XHRpc0NhbmNlbGxlZDogZmFsc2UsXG5cdFx0XHRpc1BhaWQ6IGZhbHNlLFxuXHRcdFx0ZGVsaXZlcnlUaW1lRXN0aW1hdGU6IDAsXG5cdFx0XHR3YXJlaG91c2VTdGF0dXM6IDYsXG5cdFx0XHRjYXJyaWVyU3RhdHVzOiAyLFxuXHRcdFx0aXNEZWxldGVkOiBmYWxzZSxcblx0XHRcdG9yZGVyTnVtYmVyOiB0aGlzLl9vcmRlck51bWJlcixcblx0XHRcdHdhcmVob3VzZTogdGhpcy5fc3RvcmVJZCxcblx0XHRcdGNhcnJpZXI6IHRoaXMuX2NhcnJpZXJJZCxcblx0XHRcdHN0YXJ0RGVsaXZlcnlUaW1lOiB0aGlzLmdldE9yZGVyTmV4dFRpbWUodGhpcy5fb3JkZXJDcmVhdGVkQXQpLFxuXHRcdFx0dXNlcjogdGhpcy5nZXRSYW5kb21PcmRlckN1c3RvbWVyKGN1c3RvbWVycyksXG5cdFx0XHRwcm9kdWN0czogdGhpcy5nZW5lcmF0ZVJhbmRvbU9yZGVyUHJvZHVjdHMocHJvZHVjdHMpLFxuXHRcdFx0X2NyZWF0ZWRBdDogdGhpcy5fb3JkZXJDcmVhdGVkQXQsXG5cdFx0fTtcblx0fVxuXG5cdHByaXZhdGUgX2dldE9yZGVyQ2FycmllclNlbGVjdGVkKGN1c3RvbWVyczogVXNlcltdLCBwcm9kdWN0czogUHJvZHVjdFtdKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGlzQ29uZmlybWVkOiBmYWxzZSxcblx0XHRcdGlzQ2FuY2VsbGVkOiBmYWxzZSxcblx0XHRcdGlzUGFpZDogZmFsc2UsXG5cdFx0XHRkZWxpdmVyeVRpbWVFc3RpbWF0ZTogMCxcblx0XHRcdHdhcmVob3VzZVN0YXR1czogNixcblx0XHRcdGNhcnJpZXJTdGF0dXM6IDEsXG5cdFx0XHRpc0RlbGV0ZWQ6IGZhbHNlLFxuXHRcdFx0b3JkZXJOdW1iZXI6IHRoaXMuX29yZGVyTnVtYmVyLFxuXHRcdFx0d2FyZWhvdXNlOiB0aGlzLl9zdG9yZUlkLFxuXHRcdFx0Y2FycmllcjogdGhpcy5fY2FycmllcklkLFxuXHRcdFx0dXNlcjogdGhpcy5nZXRSYW5kb21PcmRlckN1c3RvbWVyKGN1c3RvbWVycyksXG5cdFx0XHRwcm9kdWN0czogdGhpcy5nZW5lcmF0ZVJhbmRvbU9yZGVyUHJvZHVjdHMocHJvZHVjdHMpLFxuXHRcdFx0X2NyZWF0ZWRBdDogdGhpcy5fb3JkZXJDcmVhdGVkQXQsXG5cdFx0fTtcblx0fVxuXG5cdHByaXZhdGUgX2dldE9yZGVyUGFja2FnaW5nRmluaXNoZWQoY3VzdG9tZXJzOiBVc2VyW10sIHByb2R1Y3RzOiBQcm9kdWN0W10pIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0aXNDb25maXJtZWQ6IGZhbHNlLFxuXHRcdFx0aXNDYW5jZWxsZWQ6IGZhbHNlLFxuXHRcdFx0aXNQYWlkOiBmYWxzZSxcblx0XHRcdGRlbGl2ZXJ5VGltZUVzdGltYXRlOiAwLFxuXHRcdFx0d2FyZWhvdXNlU3RhdHVzOiA2LFxuXHRcdFx0Y2FycmllclN0YXR1czogMCxcblx0XHRcdGlzRGVsZXRlZDogZmFsc2UsXG5cdFx0XHRvcmRlck51bWJlcjogdGhpcy5fb3JkZXJOdW1iZXIsXG5cdFx0XHR3YXJlaG91c2U6IHRoaXMuX3N0b3JlSWQsXG5cdFx0XHR1c2VyOiB0aGlzLmdldFJhbmRvbU9yZGVyQ3VzdG9tZXIoY3VzdG9tZXJzKSxcblx0XHRcdHByb2R1Y3RzOiB0aGlzLmdlbmVyYXRlUmFuZG9tT3JkZXJQcm9kdWN0cyhwcm9kdWN0cyksXG5cdFx0XHRfY3JlYXRlZEF0OiB0aGlzLl9vcmRlckNyZWF0ZWRBdCxcblx0XHR9O1xuXHR9XG5cblx0cHJpdmF0ZSBfZ2V0T3JkZXJBbGxvY2F0aW9uRmluaXNoZWQoXG5cdFx0Y3VzdG9tZXJzOiBVc2VyW10sXG5cdFx0cHJvZHVjdHM6IFByb2R1Y3RbXVxuXHQpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0aXNDb25maXJtZWQ6IGZhbHNlLFxuXHRcdFx0aXNDYW5jZWxsZWQ6IGZhbHNlLFxuXHRcdFx0aXNQYWlkOiBmYWxzZSxcblx0XHRcdGRlbGl2ZXJ5VGltZUVzdGltYXRlOiAwLFxuXHRcdFx0d2FyZWhvdXNlU3RhdHVzOiA0LFxuXHRcdFx0Y2FycmllclN0YXR1czogMCxcblx0XHRcdGlzRGVsZXRlZDogZmFsc2UsXG5cdFx0XHRvcmRlck51bWJlcjogdGhpcy5fb3JkZXJOdW1iZXIsXG5cdFx0XHR3YXJlaG91c2U6IHRoaXMuX3N0b3JlSWQsXG5cdFx0XHR1c2VyOiB0aGlzLmdldFJhbmRvbU9yZGVyQ3VzdG9tZXIoY3VzdG9tZXJzKSxcblx0XHRcdHByb2R1Y3RzOiB0aGlzLmdlbmVyYXRlUmFuZG9tT3JkZXJQcm9kdWN0cyhwcm9kdWN0cyksXG5cdFx0XHRfY3JlYXRlZEF0OiB0aGlzLl9vcmRlckNyZWF0ZWRBdCxcblx0XHR9O1xuXHR9XG5cblx0cHJpdmF0ZSBfZ2V0T3JkZXJDbGllbnRSZWZ1c2VPcmRlcihjdXN0b21lcnM6IFVzZXJbXSwgcHJvZHVjdHM6IFByb2R1Y3RbXSkge1xuXHRcdGNvbnN0IHN0YXJ0RGVsaXZlcnlUaW1lID0gdGhpcy5nZXRPcmRlck5leHRUaW1lKHRoaXMuX29yZGVyQ3JlYXRlZEF0KTtcblx0XHRjb25zdCBmaW5pc2hlZFByb2Nlc3NpbmdUaW1lID0gdGhpcy5nZXRPcmRlck5leHRUaW1lKHN0YXJ0RGVsaXZlcnlUaW1lKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRpc0NvbmZpcm1lZDogZmFsc2UsXG5cdFx0XHRpc0NhbmNlbGxlZDogZmFsc2UsXG5cdFx0XHRpc1BhaWQ6IGZhbHNlLFxuXHRcdFx0ZGVsaXZlcnlUaW1lRXN0aW1hdGU6IDAsXG5cdFx0XHR3YXJlaG91c2VTdGF0dXM6IDYsXG5cdFx0XHRjYXJyaWVyU3RhdHVzOiAyMDUsXG5cdFx0XHRpc0RlbGV0ZWQ6IGZhbHNlLFxuXHRcdFx0b3JkZXJOdW1iZXI6IHRoaXMuX29yZGVyTnVtYmVyLFxuXHRcdFx0d2FyZWhvdXNlOiB0aGlzLl9zdG9yZUlkLFxuXHRcdFx0Y2FycmllcjogdGhpcy5fY2FycmllcklkLFxuXHRcdFx0dXNlcjogdGhpcy5nZXRSYW5kb21PcmRlckN1c3RvbWVyKGN1c3RvbWVycyksXG5cdFx0XHRwcm9kdWN0czogdGhpcy5nZW5lcmF0ZVJhbmRvbU9yZGVyUHJvZHVjdHMocHJvZHVjdHMpLFxuXHRcdFx0c3RhcnREZWxpdmVyeVRpbWUsXG5cdFx0XHRmaW5pc2hlZFByb2Nlc3NpbmdUaW1lLFxuXHRcdFx0X2NyZWF0ZWRBdDogdGhpcy5fb3JkZXJDcmVhdGVkQXQsXG5cdFx0fTtcblx0fVxuXG5cdHByaXZhdGUgX2dldE9yZGVySXNzdWVzRHVyaW5nRGVsaXZlcnkoXG5cdFx0Y3VzdG9tZXJzOiBVc2VyW10sXG5cdFx0cHJvZHVjdHM6IFByb2R1Y3RbXVxuXHQpIHtcblx0XHRjb25zdCBzdGFydERlbGl2ZXJ5VGltZSA9IHRoaXMuZ2V0T3JkZXJOZXh0VGltZSh0aGlzLl9vcmRlckNyZWF0ZWRBdCk7XG5cdFx0Y29uc3QgZmluaXNoZWRQcm9jZXNzaW5nVGltZSA9IHRoaXMuZ2V0T3JkZXJOZXh0VGltZShzdGFydERlbGl2ZXJ5VGltZSk7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0aXNDb25maXJtZWQ6IGZhbHNlLFxuXHRcdFx0aXNDYW5jZWxsZWQ6IGZhbHNlLFxuXHRcdFx0aXNQYWlkOiBmYWxzZSxcblx0XHRcdGRlbGl2ZXJ5VGltZUVzdGltYXRlOiAwLFxuXHRcdFx0d2FyZWhvdXNlU3RhdHVzOiA2LFxuXHRcdFx0Y2FycmllclN0YXR1czogMjA0LFxuXHRcdFx0aXNEZWxldGVkOiBmYWxzZSxcblx0XHRcdG9yZGVyTnVtYmVyOiB0aGlzLl9vcmRlck51bWJlcixcblx0XHRcdHdhcmVob3VzZTogdGhpcy5fc3RvcmVJZCxcblx0XHRcdGNhcnJpZXI6IHRoaXMuX2NhcnJpZXJJZCxcblx0XHRcdHN0YXJ0RGVsaXZlcnlUaW1lLFxuXHRcdFx0ZmluaXNoZWRQcm9jZXNzaW5nVGltZSxcblx0XHRcdHVzZXI6IHRoaXMuZ2V0UmFuZG9tT3JkZXJDdXN0b21lcihjdXN0b21lcnMpLFxuXHRcdFx0cHJvZHVjdHM6IHRoaXMuZ2VuZXJhdGVSYW5kb21PcmRlclByb2R1Y3RzKHByb2R1Y3RzKSxcblx0XHRcdF9jcmVhdGVkQXQ6IHRoaXMuX29yZGVyQ3JlYXRlZEF0LFxuXHRcdH07XG5cdH1cblxuXHRwcml2YXRlIF9nZXRPcmRlclBhY2thZ2luZ0ZhaWxzKGN1c3RvbWVyczogVXNlcltdLCBwcm9kdWN0czogUHJvZHVjdFtdKSB7XG5cdFx0Y29uc3QgZmluaXNoZWRQcm9jZXNzaW5nVGltZSA9IHRoaXMuZ2V0T3JkZXJOZXh0VGltZShcblx0XHRcdHRoaXMuX29yZGVyQ3JlYXRlZEF0XG5cdFx0KTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRpc0NvbmZpcm1lZDogZmFsc2UsXG5cdFx0XHRpc0NhbmNlbGxlZDogZmFsc2UsXG5cdFx0XHRpc1BhaWQ6IGZhbHNlLFxuXHRcdFx0ZGVsaXZlcnlUaW1lRXN0aW1hdGU6IDAsXG5cdFx0XHR3YXJlaG91c2VTdGF0dXM6IDIwMSxcblx0XHRcdGNhcnJpZXJTdGF0dXM6IDAsXG5cdFx0XHRpc0RlbGV0ZWQ6IGZhbHNlLFxuXHRcdFx0b3JkZXJOdW1iZXI6IHRoaXMuX29yZGVyTnVtYmVyLFxuXHRcdFx0d2FyZWhvdXNlOiB0aGlzLl9zdG9yZUlkLFxuXHRcdFx0ZmluaXNoZWRQcm9jZXNzaW5nVGltZSxcblx0XHRcdHVzZXI6IHRoaXMuZ2V0UmFuZG9tT3JkZXJDdXN0b21lcihjdXN0b21lcnMpLFxuXHRcdFx0cHJvZHVjdHM6IHRoaXMuZ2VuZXJhdGVSYW5kb21PcmRlclByb2R1Y3RzKHByb2R1Y3RzKSxcblx0XHRcdF9jcmVhdGVkQXQ6IHRoaXMuX29yZGVyQ3JlYXRlZEF0LFxuXHRcdH07XG5cdH1cblxuXHRwcml2YXRlIF9nZXRPcmRlckFsbG9jYXRpb25GYWlscyhjdXN0b21lcnM6IFVzZXJbXSwgcHJvZHVjdHM6IFByb2R1Y3RbXSkge1xuXHRcdGNvbnN0IGZpbmlzaGVkUHJvY2Vzc2luZ1RpbWUgPSB0aGlzLmdldE9yZGVyTmV4dFRpbWUoXG5cdFx0XHR0aGlzLl9vcmRlckNyZWF0ZWRBdFxuXHRcdCk7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0aXNDb25maXJtZWQ6IGZhbHNlLFxuXHRcdFx0aXNDYW5jZWxsZWQ6IGZhbHNlLFxuXHRcdFx0aXNQYWlkOiBmYWxzZSxcblx0XHRcdGRlbGl2ZXJ5VGltZUVzdGltYXRlOiAwLFxuXHRcdFx0d2FyZWhvdXNlU3RhdHVzOiAyMDAsXG5cdFx0XHRjYXJyaWVyU3RhdHVzOiAwLFxuXHRcdFx0aXNEZWxldGVkOiBmYWxzZSxcblx0XHRcdG9yZGVyTnVtYmVyOiB0aGlzLl9vcmRlck51bWJlcixcblx0XHRcdHdhcmVob3VzZTogdGhpcy5fc3RvcmVJZCxcblx0XHRcdGZpbmlzaGVkUHJvY2Vzc2luZ1RpbWUsXG5cdFx0XHR1c2VyOiB0aGlzLmdldFJhbmRvbU9yZGVyQ3VzdG9tZXIoY3VzdG9tZXJzKSxcblx0XHRcdHByb2R1Y3RzOiB0aGlzLmdlbmVyYXRlUmFuZG9tT3JkZXJQcm9kdWN0cyhwcm9kdWN0cyksXG5cdFx0XHRfY3JlYXRlZEF0OiB0aGlzLl9vcmRlckNyZWF0ZWRBdCxcblx0XHR9O1xuXHR9XG5cblx0cHJpdmF0ZSBfZ2V0T3JkZXJQYWNrYWdpbmdTdGFydGVkKGN1c3RvbWVyczogVXNlcltdLCBwcm9kdWN0czogUHJvZHVjdFtdKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGlzQ29uZmlybWVkOiBmYWxzZSxcblx0XHRcdGlzQ2FuY2VsbGVkOiBmYWxzZSxcblx0XHRcdGlzUGFpZDogZmFsc2UsXG5cdFx0XHRkZWxpdmVyeVRpbWVFc3RpbWF0ZTogMCxcblx0XHRcdHdhcmVob3VzZVN0YXR1czogNSxcblx0XHRcdGNhcnJpZXJTdGF0dXM6IDAsXG5cdFx0XHRpc0RlbGV0ZWQ6IGZhbHNlLFxuXHRcdFx0b3JkZXJOdW1iZXI6IHRoaXMuX29yZGVyTnVtYmVyLFxuXHRcdFx0d2FyZWhvdXNlOiB0aGlzLl9zdG9yZUlkLFxuXHRcdFx0dXNlcjogdGhpcy5nZXRSYW5kb21PcmRlckN1c3RvbWVyKGN1c3RvbWVycyksXG5cdFx0XHRwcm9kdWN0czogdGhpcy5nZW5lcmF0ZVJhbmRvbU9yZGVyUHJvZHVjdHMocHJvZHVjdHMpLFxuXHRcdFx0X2NyZWF0ZWRBdDogdGhpcy5fb3JkZXJDcmVhdGVkQXQsXG5cdFx0fTtcblx0fVxuXG5cdHByaXZhdGUgX2dldE9yZGVyU3RhcnRBbGxvY2F0aW9uKGN1c3RvbWVyczogVXNlcltdLCBwcm9kdWN0czogUHJvZHVjdFtdKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGlzQ29uZmlybWVkOiBmYWxzZSxcblx0XHRcdGlzQ2FuY2VsbGVkOiBmYWxzZSxcblx0XHRcdGlzUGFpZDogZmFsc2UsXG5cdFx0XHRkZWxpdmVyeVRpbWVFc3RpbWF0ZTogMCxcblx0XHRcdHdhcmVob3VzZVN0YXR1czogMyxcblx0XHRcdGNhcnJpZXJTdGF0dXM6IDAsXG5cdFx0XHRpc0RlbGV0ZWQ6IGZhbHNlLFxuXHRcdFx0b3JkZXJOdW1iZXI6IHRoaXMuX29yZGVyTnVtYmVyLFxuXHRcdFx0d2FyZWhvdXNlOiB0aGlzLl9zdG9yZUlkLFxuXHRcdFx0dXNlcjogdGhpcy5nZXRSYW5kb21PcmRlckN1c3RvbWVyKGN1c3RvbWVycyksXG5cdFx0XHRwcm9kdWN0czogdGhpcy5nZW5lcmF0ZVJhbmRvbU9yZGVyUHJvZHVjdHMocHJvZHVjdHMpLFxuXHRcdFx0X2NyZWF0ZWRBdDogdGhpcy5fb3JkZXJDcmVhdGVkQXQsXG5cdFx0fTtcblx0fVxuXG5cdHByaXZhdGUgX2dldE9yZGVyU3RvcmVTdGFydFByb2Nlc3NpbmcoXG5cdFx0Y3VzdG9tZXJzOiBVc2VyW10sXG5cdFx0cHJvZHVjdHM6IFByb2R1Y3RbXVxuXHQpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0aXNDb25maXJtZWQ6IGZhbHNlLFxuXHRcdFx0aXNDYW5jZWxsZWQ6IGZhbHNlLFxuXHRcdFx0aXNQYWlkOiBmYWxzZSxcblx0XHRcdGRlbGl2ZXJ5VGltZUVzdGltYXRlOiAwLFxuXHRcdFx0d2FyZWhvdXNlU3RhdHVzOiAyLFxuXHRcdFx0Y2FycmllclN0YXR1czogMCxcblx0XHRcdGlzRGVsZXRlZDogZmFsc2UsXG5cdFx0XHRvcmRlck51bWJlcjogdGhpcy5fb3JkZXJOdW1iZXIsXG5cdFx0XHR3YXJlaG91c2U6IHRoaXMuX3N0b3JlSWQsXG5cdFx0XHR1c2VyOiB0aGlzLmdldFJhbmRvbU9yZGVyQ3VzdG9tZXIoY3VzdG9tZXJzKSxcblx0XHRcdHByb2R1Y3RzOiB0aGlzLmdlbmVyYXRlUmFuZG9tT3JkZXJQcm9kdWN0cyhwcm9kdWN0cyksXG5cdFx0XHRfY3JlYXRlZEF0OiB0aGlzLl9vcmRlckNyZWF0ZWRBdCxcblx0XHR9O1xuXHR9XG5cblx0cHJpdmF0ZSBfZ2V0T3JkZXJSZWFkeUZvclByb2Nlc3NpbmcoXG5cdFx0Y3VzdG9tZXJzOiBVc2VyW10sXG5cdFx0cHJvZHVjdHM6IFByb2R1Y3RbXVxuXHQpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0aXNDb25maXJtZWQ6IGZhbHNlLFxuXHRcdFx0aXNDYW5jZWxsZWQ6IGZhbHNlLFxuXHRcdFx0aXNQYWlkOiBmYWxzZSxcblx0XHRcdGRlbGl2ZXJ5VGltZUVzdGltYXRlOiAwLFxuXHRcdFx0d2FyZWhvdXNlU3RhdHVzOiAxLFxuXHRcdFx0Y2FycmllclN0YXR1czogMCxcblx0XHRcdGlzRGVsZXRlZDogZmFsc2UsXG5cdFx0XHRvcmRlck51bWJlcjogdGhpcy5fb3JkZXJOdW1iZXIsXG5cdFx0XHR3YXJlaG91c2U6IHRoaXMuX3N0b3JlSWQsXG5cdFx0XHR1c2VyOiB0aGlzLmdldFJhbmRvbU9yZGVyQ3VzdG9tZXIoY3VzdG9tZXJzKSxcblx0XHRcdHByb2R1Y3RzOiB0aGlzLmdlbmVyYXRlUmFuZG9tT3JkZXJQcm9kdWN0cyhwcm9kdWN0cyksXG5cdFx0XHRfY3JlYXRlZEF0OiB0aGlzLl9vcmRlckNyZWF0ZWRBdCxcblx0XHR9O1xuXHR9XG5cblx0cHJpdmF0ZSBfZ2V0T3JkZXJDYW5jZWxsZWQoY3VzdG9tZXJzOiBVc2VyW10sIHByb2R1Y3RzOiBQcm9kdWN0W10pIHtcblx0XHRjb25zdCBmaW5pc2hlZFByb2Nlc3NpbmdUaW1lID0gdGhpcy5nZXRPcmRlck5leHRUaW1lKFxuXHRcdFx0dGhpcy5fb3JkZXJDcmVhdGVkQXRcblx0XHQpO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdGlzQ29uZmlybWVkOiB0cnVlLFxuXHRcdFx0aXNDYW5jZWxsZWQ6IHRydWUsXG5cdFx0XHRpc1BhaWQ6IGZhbHNlLFxuXHRcdFx0ZGVsaXZlcnlUaW1lRXN0aW1hdGU6IDAsXG5cdFx0XHR3YXJlaG91c2VTdGF0dXM6IDAsXG5cdFx0XHRjYXJyaWVyU3RhdHVzOiAwLFxuXHRcdFx0aXNEZWxldGVkOiBmYWxzZSxcblx0XHRcdG9yZGVyTnVtYmVyOiAxLFxuXHRcdFx0d2FyZWhvdXNlOiB0aGlzLl9zdG9yZUlkLFxuXHRcdFx0dXNlcjogdGhpcy5nZXRSYW5kb21PcmRlckN1c3RvbWVyKGN1c3RvbWVycyksXG5cdFx0XHRwcm9kdWN0czogdGhpcy5nZW5lcmF0ZVJhbmRvbU9yZGVyUHJvZHVjdHMocHJvZHVjdHMpLFxuXHRcdFx0ZmluaXNoZWRQcm9jZXNzaW5nVGltZSxcblx0XHRcdF9jcmVhdGVkQXQ6IHRoaXMuX29yZGVyQ3JlYXRlZEF0LFxuXHRcdH07XG5cdH1cblxuXHRwcml2YXRlIF9nZXRPcmRlckNvbmZpcm1lZChjdXN0b21lcnM6IFVzZXJbXSwgcHJvZHVjdHM6IFByb2R1Y3RbXSkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRpc0NvbmZpcm1lZDogdHJ1ZSxcblx0XHRcdGlzQ2FuY2VsbGVkOiBmYWxzZSxcblx0XHRcdGlzUGFpZDogZmFsc2UsXG5cdFx0XHRkZWxpdmVyeVRpbWVFc3RpbWF0ZTogMCxcblx0XHRcdHdhcmVob3VzZVN0YXR1czogMCxcblx0XHRcdGNhcnJpZXJTdGF0dXM6IDAsXG5cdFx0XHRpc0RlbGV0ZWQ6IGZhbHNlLFxuXHRcdFx0b3JkZXJOdW1iZXI6IDEsXG5cdFx0XHR3YXJlaG91c2U6IHRoaXMuX3N0b3JlSWQsXG5cdFx0XHR1c2VyOiB0aGlzLmdldFJhbmRvbU9yZGVyQ3VzdG9tZXIoY3VzdG9tZXJzKSxcblx0XHRcdHByb2R1Y3RzOiB0aGlzLmdlbmVyYXRlUmFuZG9tT3JkZXJQcm9kdWN0cyhwcm9kdWN0cyksXG5cdFx0XHRfY3JlYXRlZEF0OiB0aGlzLl9vcmRlckNyZWF0ZWRBdCxcblx0XHR9O1xuXHR9XG5cblx0cHJpdmF0ZSBfZ2V0T3JkZXJKdXN0Q3JlYXRlZChjdXN0b21lcnM6IFVzZXJbXSwgcHJvZHVjdHM6IFByb2R1Y3RbXSkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRpc0NvbmZpcm1lZDogZmFsc2UsXG5cdFx0XHRpc0NhbmNlbGxlZDogZmFsc2UsXG5cdFx0XHRpc1BhaWQ6IGZhbHNlLFxuXHRcdFx0ZGVsaXZlcnlUaW1lRXN0aW1hdGU6IDAsXG5cdFx0XHR3YXJlaG91c2VTdGF0dXM6IDAsXG5cdFx0XHRjYXJyaWVyU3RhdHVzOiAwLFxuXHRcdFx0aXNEZWxldGVkOiBmYWxzZSxcblx0XHRcdG9yZGVyTnVtYmVyOiB0aGlzLl9vcmRlck51bWJlcixcblx0XHRcdHdhcmVob3VzZTogdGhpcy5fc3RvcmVJZCxcblx0XHRcdHVzZXI6IHRoaXMuZ2V0UmFuZG9tT3JkZXJDdXN0b21lcihjdXN0b21lcnMpLFxuXHRcdFx0cHJvZHVjdHM6IHRoaXMuZ2VuZXJhdGVSYW5kb21PcmRlclByb2R1Y3RzKHByb2R1Y3RzKSxcblx0XHRcdF9jcmVhdGVkQXQ6IHRoaXMuX29yZGVyQ3JlYXRlZEF0LFxuXHRcdH07XG5cdH1cbn1cbiIsImltcG9ydCB7IGluamVjdCwgaW5qZWN0YWJsZSB9IGZyb20gJ2ludmVyc2lmeSc7XG5pbXBvcnQgeyBPcmRlcnNTZXJ2aWNlIH0gZnJvbSAnLi4vb3JkZXJzJztcbmltcG9ydCBXYXJlaG91c2UgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9XYXJlaG91c2UnO1xuaW1wb3J0IEdlb0xvY2F0aW9uIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvR2VvTG9jYXRpb24nO1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnYnVueWFuJztcbmltcG9ydCBPcmRlciBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL09yZGVyJztcbmltcG9ydCB7IGNyZWF0ZUV2ZXJMb2dnZXIgfSBmcm9tICcuLi8uLi9oZWxwZXJzL0xvZyc7XG5pbXBvcnQgeyBHZW9Mb2NhdGlvbnNXYXJlaG91c2VzU2VydmljZSB9IGZyb20gJy4vR2VvTG9jYXRpb25zV2FyZWhvdXNlc1NlcnZpY2UnO1xuaW1wb3J0IEJsdWViaXJkIGZyb20gJ2JsdWViaXJkJztcbmltcG9ydCB7XG5cdFdhcmVob3VzZXNQcm9kdWN0c1NlcnZpY2UsXG5cdFdhcmVob3VzZXNPcmRlcnNTZXJ2aWNlLFxuXHRXYXJlaG91c2VzU2VydmljZSxcbn0gZnJvbSAnLi4vd2FyZWhvdXNlcyc7XG5pbXBvcnQge1xuXHRvYnNlcnZhYmxlTGlzdGVuZXIsXG5cdHJvdXRlck5hbWUsXG5cdHNlcmlhbGl6YXRpb24sXG5cdGFzeW5jTGlzdGVuZXIsXG59IGZyb20gJ0BweXJvL2lvJztcbmltcG9ydCBJR2VvTG9jYXRpb25PcmRlcnNSb3V0ZXIgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9yb3V0ZXJzL0lHZW9Mb2NhdGlvbk9yZGVyc1JvdXRlcic7XG5pbXBvcnQgSUdlb0xvY2F0aW9uIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JR2VvTG9jYXRpb24nO1xuaW1wb3J0IElTZXJ2aWNlIGZyb20gJy4uL0lTZXJ2aWNlJztcbmltcG9ydCB7IEV4aXN0ZW5jZUV2ZW50VHlwZSB9IGZyb20gJ0BweXJvL2RiLXNlcnZlcic7XG5pbXBvcnQgeyBjb25jYXQsIGV4aGF1c3RNYXAsIGZpbHRlciwgZmlyc3QsIHNoYXJlIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHsgb2YgfSBmcm9tICdyeGpzL29ic2VydmFibGUvb2YnO1xuaW1wb3J0IHsgZnJvbSB9IGZyb20gJ3J4anMvb2JzZXJ2YWJsZS9mcm9tJztcbmltcG9ydCBPcmRlcldhcmVob3VzZVN0YXR1cyBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudW1zL09yZGVyV2FyZWhvdXNlU3RhdHVzJztcbmltcG9ydCBPcmRlckNhcnJpZXJTdGF0dXMgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnVtcy9PcmRlckNhcnJpZXJTdGF0dXMnO1xuaW1wb3J0IHsgR2VvTG9jYXRpb25PcmRlcnNPcHRpb25zIH0gZnJvbSAnLi9HZW9Mb2NhdGlvbk9yZGVyc09wdGlvbnMnO1xuaW1wb3J0IHsgT2JqZWN0SWQgfSBmcm9tICdic29uJztcblxuQGluamVjdGFibGUoKVxuQHJvdXRlck5hbWUoJ2dlby1sb2NhdGlvbi1vcmRlcnMnKVxuZXhwb3J0IGNsYXNzIEdlb0xvY2F0aW9uc09yZGVyc1NlcnZpY2Vcblx0aW1wbGVtZW50cyBJR2VvTG9jYXRpb25PcmRlcnNSb3V0ZXIsIElTZXJ2aWNlIHtcblx0cHJvdGVjdGVkIHJlYWRvbmx5IGxvZzogTG9nZ2VyID0gY3JlYXRlRXZlckxvZ2dlcih7XG5cdFx0bmFtZTogJ2dlb0xvY2F0aW9uc09yZGVyc1NlcnZpY2UnLFxuXHR9KTtcblxuXHRjb25zdHJ1Y3Rvcihcblx0XHRAaW5qZWN0KE9yZGVyc1NlcnZpY2UpIHByb3RlY3RlZCBvcmRlcnNTZXJ2aWNlOiBPcmRlcnNTZXJ2aWNlLFxuXHRcdEBpbmplY3QoV2FyZWhvdXNlc1NlcnZpY2UpXG5cdFx0cHJvdGVjdGVkIHdhcmVob3VzZXNTZXJ2aWNlOiBXYXJlaG91c2VzU2VydmljZSxcblx0XHRAaW5qZWN0KEdlb0xvY2F0aW9uc1dhcmVob3VzZXNTZXJ2aWNlKVxuXHRcdHByb3RlY3RlZCBnZW9Mb2NhdGlvbnNXYXJlaG91c2VzU2VydmljZTogR2VvTG9jYXRpb25zV2FyZWhvdXNlc1NlcnZpY2UsXG5cdFx0QGluamVjdChXYXJlaG91c2VzUHJvZHVjdHNTZXJ2aWNlKVxuXHRcdHByb3RlY3RlZCB3YXJlaG91c2VzUHJvZHVjdHNTZXJ2aWNlOiBXYXJlaG91c2VzUHJvZHVjdHNTZXJ2aWNlLFxuXHRcdEBpbmplY3QoV2FyZWhvdXNlc09yZGVyc1NlcnZpY2UpXG5cdFx0cHJvdGVjdGVkIHdhcmVob3VzZXNPcmRlcnNTZXJ2aWNlOiBXYXJlaG91c2VzT3JkZXJzU2VydmljZVxuXHQpIHt9XG5cblx0QG9ic2VydmFibGVMaXN0ZW5lcigpXG5cdGdldChcblx0XHRAc2VyaWFsaXphdGlvbihcblx0XHRcdChnZW9Mb2NhdGlvblBhcmFtOiBJR2VvTG9jYXRpb24pID0+XG5cdFx0XHRcdG5ldyBHZW9Mb2NhdGlvbihnZW9Mb2NhdGlvblBhcmFtKVxuXHRcdClcblx0XHRnZW9Mb2NhdGlvbjogR2VvTG9jYXRpb24sXG5cdFx0b3B0aW9uczogeyBwb3B1bGF0ZVdhcmVob3VzZT86IGJvb2xlYW47IHBvcHVsYXRlQ2Fycmllcj86IGJvb2xlYW4gfSA9IHt9XG5cdCkge1xuXHRcdHJldHVybiBvZihudWxsKS5waXBlKFxuXHRcdFx0Y29uY2F0KFxuXHRcdFx0XHR0aGlzLm9yZGVyc1NlcnZpY2UuZXhpc3RlbmNlLnBpcGUoXG5cdFx0XHRcdFx0ZXhoYXVzdE1hcCgoZXhpc3RlbmNlRXZlbnQpID0+IHtcblx0XHRcdFx0XHRcdHN3aXRjaCAoZXhpc3RlbmNlRXZlbnQudHlwZSBhcyBFeGlzdGVuY2VFdmVudFR5cGUpIHtcblx0XHRcdFx0XHRcdFx0Y2FzZSBFeGlzdGVuY2VFdmVudFR5cGUuQ3JlYXRlZDpcblx0XHRcdFx0XHRcdFx0Y2FzZSBFeGlzdGVuY2VFdmVudFR5cGUuVXBkYXRlZDpcblx0XHRcdFx0XHRcdFx0XHRpZiAoZXhpc3RlbmNlRXZlbnQudmFsdWUgIT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHRoaXMud2FyZWhvdXNlc1NlcnZpY2Vcblx0XHRcdFx0XHRcdFx0XHRcdFx0LmdldChleGlzdGVuY2VFdmVudC52YWx1ZS53YXJlaG91c2VJZClcblx0XHRcdFx0XHRcdFx0XHRcdFx0LnBpcGUoZmlyc3QoKSk7XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiB0aGlzLndhcmVob3VzZXNTZXJ2aWNlXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC5nZXQoJ3dyb25nJylcblx0XHRcdFx0XHRcdFx0XHRcdFx0LnBpcGUoZmlyc3QoKSk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRjYXNlIEV4aXN0ZW5jZUV2ZW50VHlwZS5SZW1vdmVkOlxuXHRcdFx0XHRcdFx0XHRcdGlmIChleGlzdGVuY2VFdmVudC5sYXN0VmFsdWUgIT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHRoaXMud2FyZWhvdXNlc1NlcnZpY2Vcblx0XHRcdFx0XHRcdFx0XHRcdFx0LmdldChcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRleGlzdGVuY2VFdmVudC5sYXN0VmFsdWUud2FyZWhvdXNlSWRcblx0XHRcdFx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQucGlwZShmaXJzdCgpKTtcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHRoaXMud2FyZWhvdXNlc1NlcnZpY2Vcblx0XHRcdFx0XHRcdFx0XHRcdFx0LmdldCgnd3JvbmcnKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQucGlwZShmaXJzdCgpKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSksXG5cdFx0XHRcdFx0ZmlsdGVyKCh3YXJlaG91c2UpID0+XG5cdFx0XHRcdFx0XHR3YXJlaG91c2UgIT0gbnVsbFxuXHRcdFx0XHRcdFx0XHQ/IEdlb0xvY2F0aW9uc1dhcmVob3VzZXNTZXJ2aWNlLmlzTmVhcmx5KFxuXHRcdFx0XHRcdFx0XHRcdFx0d2FyZWhvdXNlLFxuXHRcdFx0XHRcdFx0XHRcdFx0Z2VvTG9jYXRpb25cblx0XHRcdFx0XHRcdFx0ICApXG5cdFx0XHRcdFx0XHRcdDogdHJ1ZVxuXHRcdFx0XHRcdCksXG5cdFx0XHRcdFx0c2hhcmUoKVxuXHRcdFx0XHQpXG5cdFx0XHQpLFxuXHRcdFx0ZXhoYXVzdE1hcCgoKSA9PiBmcm9tKHRoaXMuX2dldChnZW9Mb2NhdGlvbiwgb3B0aW9ucykpKVxuXHRcdCk7XG5cdH1cblxuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIGdldENvdW50T2ZPcmRlcnNGb3JXb3JrKFxuXHRcdGdlb0xvY2F0aW9uOiBJR2VvTG9jYXRpb24sXG5cdFx0c2tpcHBlZE9yZGVySWRzOiBzdHJpbmdbXSA9IFtdLFxuXHRcdHNlYXJjaE9iaj86IHsgYnlSZWdleDogQXJyYXk8eyBrZXk6IHN0cmluZzsgdmFsdWU6IHN0cmluZyB9PiB9XG5cdCk6IFByb21pc2U8bnVtYmVyPiB7XG5cdFx0Y29uc3QgbWVyY2hhbnRzID0gYXdhaXQgdGhpcy5nZW9Mb2NhdGlvbnNXYXJlaG91c2VzU2VydmljZS5nZXRNZXJjaGFudHMoXG5cdFx0XHRnZW9Mb2NhdGlvbixcblx0XHRcdEdlb0xvY2F0aW9uc1dhcmVob3VzZXNTZXJ2aWNlLlRyYWNraW5nRGlzdGFuY2UsXG5cdFx0XHR7IGZ1bGxQcm9kdWN0czogZmFsc2UsIGFjdGl2ZU9ubHk6IHRydWUgfVxuXHRcdCk7XG5cblx0XHRjb25zdCBtZXJjaGFudHNJZHMgPSBtZXJjaGFudHMubWFwKChtKSA9PiBtLl9pZCk7XG5cblx0XHRsZXQgc2VhcmNoQnlSZWdleCA9IFtdO1xuXG5cdFx0aWYgKHNlYXJjaE9iaiAmJiBzZWFyY2hPYmouYnlSZWdleC5sZW5ndGggPiAwKSB7XG5cdFx0XHRzZWFyY2hCeVJlZ2V4ID0gc2VhcmNoT2JqLmJ5UmVnZXgubWFwKChzKSA9PiB7XG5cdFx0XHRcdHJldHVybiB7IFtzLmtleV06IHsgJHJlZ2V4OiBzLnZhbHVlLCAkb3B0aW9uczogJ2knIH0gfTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLm9yZGVyc1NlcnZpY2UuTW9kZWwuZmluZChcblx0XHRcdF8uYXNzaWduKFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0d2FyZWhvdXNlOiB7ICRpbjogbWVyY2hhbnRzSWRzIH0sXG5cdFx0XHRcdFx0d2FyZWhvdXNlU3RhdHVzOiB7XG5cdFx0XHRcdFx0XHQkZXE6IE9yZGVyV2FyZWhvdXNlU3RhdHVzLlBhY2thZ2luZ0ZpbmlzaGVkLFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0Y2FycmllclN0YXR1czoge1xuXHRcdFx0XHRcdFx0JGx0ZTogT3JkZXJDYXJyaWVyU3RhdHVzLkNhcnJpZXJTZWxlY3RlZE9yZGVyLFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0X2lkOiB7ICRuaW46IHNraXBwZWRPcmRlcklkcyB9LFxuXHRcdFx0XHR9LFxuXHRcdFx0XHQuLi5zZWFyY2hCeVJlZ2V4XG5cdFx0XHQpXG5cdFx0KVxuXHRcdFx0LmNvdW50RG9jdW1lbnRzKClcblx0XHRcdC5leGVjKCk7XG5cdH1cblxuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIGdldE9yZGVyc0ZvcldvcmsoXG5cdFx0Z2VvTG9jYXRpb246IElHZW9Mb2NhdGlvbixcblx0XHRza2lwcGVkT3JkZXJJZHM6IHN0cmluZ1tdID0gW10sXG5cdFx0b3B0aW9uczogR2VvTG9jYXRpb25PcmRlcnNPcHRpb25zLFxuXHRcdHNlYXJjaE9iaj86IHtcblx0XHRcdGlzQ2FuY2VsbGVkPzogYm9vbGVhbjtcblx0XHRcdGJ5UmVnZXg/OiBBcnJheTx7IGtleTogc3RyaW5nOyB2YWx1ZTogc3RyaW5nIH0+O1xuXHRcdH1cblx0KTogUHJvbWlzZTxPcmRlcltdPiB7XG5cdFx0Y29uc3QgbWVyY2hhbnRzID0gYXdhaXQgdGhpcy5nZW9Mb2NhdGlvbnNXYXJlaG91c2VzU2VydmljZS5nZXRNZXJjaGFudHMoXG5cdFx0XHRnZW9Mb2NhdGlvbixcblx0XHRcdEdlb0xvY2F0aW9uc1dhcmVob3VzZXNTZXJ2aWNlLlRyYWNraW5nRGlzdGFuY2UsXG5cdFx0XHR7IGZ1bGxQcm9kdWN0czogZmFsc2UsIGFjdGl2ZU9ubHk6IHRydWUgfVxuXHRcdCk7XG5cblx0XHRjb25zdCBtZXJjaGFudHNJZHMgPSBtZXJjaGFudHMubWFwKChtKSA9PiBtLl9pZC50b1N0cmluZygpKTtcblxuXHRcdGxldCBzZWFyY2hCeVJlZ2V4ID0gW107XG5cblx0XHRpZiAoc2VhcmNoT2JqKSB7XG5cdFx0XHRjb25zdCBieVJlZ2V4ID0gc2VhcmNoT2JqLmJ5UmVnZXg7XG5cblx0XHRcdGlmIChieVJlZ2V4ICYmIGJ5UmVnZXgubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRzZWFyY2hCeVJlZ2V4ID0gYnlSZWdleC5tYXAoKHMpID0+IHtcblx0XHRcdFx0XHRyZXR1cm4geyBbcy5rZXldOiB7ICRyZWdleDogcy52YWx1ZSwgJG9wdGlvbnM6ICdpJyB9IH07XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBpc0NhbmNlbGxlZCA9IHNlYXJjaE9iai5pc0NhbmNlbGxlZDtcblxuXHRcdFx0aWYgKGlzQ2FuY2VsbGVkICE9IG51bGwpIHtcblx0XHRcdFx0c2VhcmNoQnlSZWdleC5wdXNoKHsgaXNDYW5jZWxsZWQgfSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Y29uc3Qgb3JkZXJzID0gYXdhaXQgdGhpcy5vcmRlcnNTZXJ2aWNlLk1vZGVsLmFnZ3JlZ2F0ZShbXG5cdFx0XHR7XG5cdFx0XHRcdCRtYXRjaDogXy5hc3NpZ24oXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0d2FyZWhvdXNlOiB7ICRpbjogbWVyY2hhbnRzSWRzIH0sXG5cdFx0XHRcdFx0XHR3YXJlaG91c2VTdGF0dXM6IHtcblx0XHRcdFx0XHRcdFx0JGVxOiBPcmRlcldhcmVob3VzZVN0YXR1cy5QYWNrYWdpbmdGaW5pc2hlZCxcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRjYXJyaWVyU3RhdHVzOiB7XG5cdFx0XHRcdFx0XHRcdCRsdGU6IE9yZGVyQ2FycmllclN0YXR1cy5DYXJyaWVyU2VsZWN0ZWRPcmRlcixcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRfaWQ6IHtcblx0XHRcdFx0XHRcdFx0JG5pbjogc2tpcHBlZE9yZGVySWRzLm1hcCgoaWQpID0+IG5ldyBPYmplY3RJZChpZCkpLFxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdC4uLnNlYXJjaEJ5UmVnZXhcblx0XHRcdFx0KSxcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdCRzb3J0OiB7XG5cdFx0XHRcdFx0X2NyZWF0ZWRBdDpcblx0XHRcdFx0XHRcdG9wdGlvbnMuc29ydCAmJlxuXHRcdFx0XHRcdFx0b3B0aW9ucy5zb3J0LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2Rlc2MnKVxuXHRcdFx0XHRcdFx0XHQ/IC0xXG5cdFx0XHRcdFx0XHRcdDogMSxcblx0XHRcdFx0fSxcblx0XHRcdH0sXG5cdFx0XSlcblx0XHRcdC5hbGxvd0Rpc2tVc2UodHJ1ZSlcblx0XHRcdC5za2lwKG9wdGlvbnMuc2tpcCB8fCAwKVxuXHRcdFx0LmxpbWl0KG9wdGlvbnMubGltaXQgfHwgMSlcblx0XHRcdC5leGVjKCk7XG5cblx0XHRyZXR1cm4gb3JkZXJzLmZpbHRlcigobykgPT4gbyAhPT0gbnVsbCkubWFwKChvKSA9PiBuZXcgT3JkZXIobykpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldCBPcmRlcnMgZnJvbSBXYXJlaG91c2VzIG5lYXIgdGhlIGdpdmVuIGxvY2F0aW9uXG5cdCAqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7R2VvTG9jYXRpb259IGdlb0xvY2F0aW9uXG5cdCAqIEBwYXJhbSB7eyBwb3B1bGF0ZVdhcmVob3VzZT86IGJvb2xlYW47IHBvcHVsYXRlQ2Fycmllcj86IGJvb2xlYW4gfX0gW29wdGlvbnM9e31dXG5cdCAqIEByZXR1cm5zIHtQcm9taXNlPE9yZGVyW10+fVxuXHQgKiBAbWVtYmVyb2YgR2VvTG9jYXRpb25zT3JkZXJzU2VydmljZVxuXHQgKi9cblx0cHJpdmF0ZSBhc3luYyBfZ2V0KFxuXHRcdGdlb0xvY2F0aW9uOiBHZW9Mb2NhdGlvbixcblx0XHRvcHRpb25zOiB7IHBvcHVsYXRlV2FyZWhvdXNlPzogYm9vbGVhbjsgcG9wdWxhdGVDYXJyaWVyPzogYm9vbGVhbiB9ID0ge31cblx0KTogUHJvbWlzZTxPcmRlcltdPiB7XG5cdFx0Ly8gRmlyc3Qgd2UgbG9vayB1cCB3YXJlaG91c2VzIHdoaWNoIGNhbiBjb250YWluIGludGVyZXN0aW5nIG9yZGVycyBiZWNhdXNlIHRoZXkgYXJlIGNsb3NlIGVub3VnaCB0byBnaXZlbiBsb2NhdGlvblxuXHRcdC8vIE5vdGU6IHdlIGNhbid0IGVtYmVkIHdhcmVob3VzZSBsb2NhdGlvbiBpbnRvIG9yZGVyIGRvY3VtZW50IGl0c2VsZixcblx0XHQvLyBiZWNhdXNlIHdhcmVob3VzZXMgY291bGQgTU9WRSBpbiB0aGVvcnkgd2hpbGUgd2UgcHJvY2VzcyBvcmRlci5cblx0XHQvLyBOZXh0IHdlIHdpbGwgZ2V0IGFsbCBvcmRlcnMgZnJvbSBmb3VuZGVkIHdhcmVob3VzZXNcblxuXHRcdGNvbnN0IHdhcmVob3VzZXMgPSBhd2FpdCB0aGlzLmdlb0xvY2F0aW9uc1dhcmVob3VzZXNTZXJ2aWNlXG5cdFx0XHQuZ2V0KGdlb0xvY2F0aW9uLCB7IGFjdGl2ZU9ubHk6IHRydWUgfSlcblx0XHRcdC5waXBlKGZpcnN0KCkpXG5cdFx0XHQudG9Qcm9taXNlKCk7XG5cblx0XHR0aGlzLmxvZy5pbmZvKFxuXHRcdFx0e1xuXHRcdFx0XHRnZW9Mb2NhdGlvbixcblx0XHRcdFx0d2FyZWhvdXNlcyxcblx0XHRcdH0sXG5cdFx0XHQnd2FyZWhvdXNlcyBieSBsb2NhdGlvbidcblx0XHQpO1xuXG5cdFx0Y29uc3Qgb3JkZXJzID0gXy5mbGF0dGVuKFxuXHRcdFx0YXdhaXQgQmx1ZWJpcmQubWFwKHdhcmVob3VzZXMsIGFzeW5jICh3YXJlaG91c2U6IFdhcmVob3VzZSkgPT4ge1xuXHRcdFx0XHRjb25zdCB3YXJlaG91c2VPcmRlcnMgPSBhd2FpdCB0aGlzLndhcmVob3VzZXNPcmRlcnNTZXJ2aWNlXG5cdFx0XHRcdFx0LmdldCh3YXJlaG91c2UuaWQsIHtcblx0XHRcdFx0XHRcdHBvcHVsYXRlQ2FycmllcjogISFvcHRpb25zLnBvcHVsYXRlQ2Fycmllcixcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdC5waXBlKGZpcnN0KCkpXG5cdFx0XHRcdFx0LnRvUHJvbWlzZSgpO1xuXG5cdFx0XHRcdGlmIChvcHRpb25zLnBvcHVsYXRlV2FyZWhvdXNlKSB7XG5cdFx0XHRcdFx0Xy5lYWNoKFxuXHRcdFx0XHRcdFx0d2FyZWhvdXNlT3JkZXJzLFxuXHRcdFx0XHRcdFx0KG9yZGVyKSA9PiAob3JkZXIud2FyZWhvdXNlID0gd2FyZWhvdXNlKVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aGlzLmxvZy5pbmZvKFxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGdlb0xvY2F0aW9uLFxuXHRcdFx0XHRcdFx0d2FyZWhvdXNlT3JkZXJzLFxuXHRcdFx0XHRcdFx0d2FyZWhvdXNlLFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0J29yZGVycyBieSB3YXJlaG91c2UnXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0cmV0dXJuIHdhcmVob3VzZU9yZGVycztcblx0XHRcdH0pXG5cdFx0KTtcblxuXHRcdHRoaXMubG9nLmluZm8oXG5cdFx0XHR7XG5cdFx0XHRcdGdlb0xvY2F0aW9uLFxuXHRcdFx0XHRvcmRlcnMsXG5cdFx0XHR9LFxuXHRcdFx0J29yZGVycyBieSB3YXJlaG91c2VzJ1xuXHRcdCk7XG5cblx0XHRyZXR1cm4gb3JkZXJzO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBpbmplY3QsIGluamVjdGFibGUgfSBmcm9tICdpbnZlcnNpZnknO1xuaW1wb3J0IExvZ2dlciBmcm9tICdidW55YW4nO1xuaW1wb3J0IHsgV2FyZWhvdXNlc1NlcnZpY2UgfSBmcm9tICcuLi93YXJlaG91c2VzJztcbmltcG9ydCBXYXJlaG91c2UgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9XYXJlaG91c2UnO1xuaW1wb3J0IEdlb0xvY2F0aW9uIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvR2VvTG9jYXRpb24nO1xuaW1wb3J0IFByb2R1Y3RJbmZvIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvUHJvZHVjdEluZm8nO1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBVdGlscyBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL3V0aWxzJztcbmltcG9ydCB7IGNyZWF0ZUV2ZXJMb2dnZXIgfSBmcm9tICcuLi8uLi9oZWxwZXJzL0xvZyc7XG5pbXBvcnQgeyBHZW9Mb2NhdGlvbnNXYXJlaG91c2VzU2VydmljZSB9IGZyb20gJy4vR2VvTG9jYXRpb25zV2FyZWhvdXNlc1NlcnZpY2UnO1xuaW1wb3J0IElHZW9Mb2NhdGlvbiBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2ludGVyZmFjZXMvSUdlb0xvY2F0aW9uJztcbmltcG9ydCB7XG5cdG9ic2VydmFibGVMaXN0ZW5lcixcblx0cm91dGVyTmFtZSxcblx0c2VyaWFsaXphdGlvbixcblx0YXN5bmNMaXN0ZW5lcixcbn0gZnJvbSAnQHB5cm8vaW8nO1xuaW1wb3J0IElHZW9Mb2NhdGlvblByb2R1Y3RzUm91dGVyIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vcm91dGVycy9JR2VvTG9jYXRpb25Qcm9kdWN0c1JvdXRlcic7XG5pbXBvcnQgSVNlcnZpY2UgZnJvbSAnLi4vSVNlcnZpY2UnO1xuaW1wb3J0IHsgbWFwLCBmaXJzdCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCBJV2FyZWhvdXNlUHJvZHVjdCBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2ludGVyZmFjZXMvSVdhcmVob3VzZVByb2R1Y3QnO1xuaW1wb3J0IHtcblx0SVByb2R1Y3RUaXRsZSxcblx0SVByb2R1Y3REZXNjcmlwdGlvbixcblx0SVByb2R1Y3REZXRhaWxzLFxufSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2ludGVyZmFjZXMvSVByb2R1Y3QnO1xuaW1wb3J0IFdhcmVob3VzZVByb2R1Y3QgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9XYXJlaG91c2VQcm9kdWN0JztcbmltcG9ydCB7IElHZXRHZW9Mb2NhdGlvblByb2R1Y3RzT3B0aW9ucyB9IGZyb20gJ2dyYXBocWwvZ2VvLWxvY2F0aW9ucy9nZW8tbG9jYXRpb24ucmVzb2x2ZXInO1xuQGluamVjdGFibGUoKVxuQHJvdXRlck5hbWUoJ2dlby1sb2NhdGlvbi1wcm9kdWN0cycpXG5leHBvcnQgY2xhc3MgR2VvTG9jYXRpb25zUHJvZHVjdHNTZXJ2aWNlXG5cdGltcGxlbWVudHMgSUdlb0xvY2F0aW9uUHJvZHVjdHNSb3V0ZXIsIElTZXJ2aWNlIHtcblx0cHJvdGVjdGVkIGxvZzogTG9nZ2VyID0gY3JlYXRlRXZlckxvZ2dlcih7XG5cdFx0bmFtZTogJ2dlb0xvY2F0aW9uc1Byb2R1Y3RzU2VydmljZScsXG5cdH0pO1xuXG5cdGNvbnN0cnVjdG9yKFxuXHRcdEBpbmplY3QoV2FyZWhvdXNlc1NlcnZpY2UpXG5cdFx0cHJvdGVjdGVkIHdhcmVob3VzZXNTZXJ2aWNlOiBXYXJlaG91c2VzU2VydmljZSxcblx0XHRAaW5qZWN0KEdlb0xvY2F0aW9uc1dhcmVob3VzZXNTZXJ2aWNlKVxuXHRcdHByb3RlY3RlZCBnZW9Mb2NhdGlvbnNXYXJlaG91c2VzU2VydmljZTogR2VvTG9jYXRpb25zV2FyZWhvdXNlc1NlcnZpY2Vcblx0KSB7IH1cblxuXHRAb2JzZXJ2YWJsZUxpc3RlbmVyKClcblx0Z2V0KFxuXHRcdEBzZXJpYWxpemF0aW9uKChnOiBJR2VvTG9jYXRpb24pID0+IG5ldyBHZW9Mb2NhdGlvbihnKSlcblx0XHRnZW9Mb2NhdGlvbjogR2VvTG9jYXRpb24sXG5cdFx0b3B0aW9ucz86IElHZXRHZW9Mb2NhdGlvblByb2R1Y3RzT3B0aW9uc1xuXHQpIHtcblx0XHRyZXR1cm4gdGhpcy5nZW9Mb2NhdGlvbnNXYXJlaG91c2VzU2VydmljZVxuXHRcdFx0LmdldChnZW9Mb2NhdGlvbiwgeyBmdWxsUHJvZHVjdHM6IHRydWUsIGFjdGl2ZU9ubHk6IHRydWUgfSlcblx0XHRcdC5waXBlKFxuXHRcdFx0XHRtYXAoKHdhcmVob3VzZXMpID0+XG5cdFx0XHRcdFx0dGhpcy5fZ2V0UHJvZHVjdHNGcm9tV2FyZWhvdXNlcyhcblx0XHRcdFx0XHRcdGdlb0xvY2F0aW9uLFxuXHRcdFx0XHRcdFx0d2FyZWhvdXNlcyxcblx0XHRcdFx0XHRcdG9wdGlvbnNcblx0XHRcdFx0XHQpXG5cdFx0XHRcdClcblx0XHRcdCk7XG5cdH1cblxuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIGdldENvdW50T2ZHZW9Mb2NhdGlvblByb2R1Y3RzKFxuXHRcdGdlb0xvY2F0aW9uOiBJR2VvTG9jYXRpb24sXG5cdFx0b3B0aW9ucz86IElHZXRHZW9Mb2NhdGlvblByb2R1Y3RzT3B0aW9ucyxcblx0XHRzZWFyY2hUZXh0Pzogc3RyaW5nXG5cdCk6IFByb21pc2U8bnVtYmVyPiB7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IG1lcmNoYW50cyA9IGF3YWl0IHRoaXMuZ2VvTG9jYXRpb25zV2FyZWhvdXNlc1NlcnZpY2UuZ2V0TWVyY2hhbnRzKFxuXHRcdFx0XHRnZW9Mb2NhdGlvbixcblx0XHRcdFx0R2VvTG9jYXRpb25zV2FyZWhvdXNlc1NlcnZpY2UuVHJhY2tpbmdEaXN0YW5jZSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGZ1bGxQcm9kdWN0czogdHJ1ZSxcblx0XHRcdFx0XHRhY3RpdmVPbmx5OiB0cnVlLFxuXHRcdFx0XHRcdG1lcmNoYW50c0lkczogb3B0aW9ucyA/IG9wdGlvbnMubWVyY2hhbnRJZHMgOiBudWxsLFxuXHRcdFx0XHR9XG5cdFx0XHQpO1xuXHRcdFx0Y29uc3QgcHJvZHVjdHNJZHMgPSBtZXJjaGFudHMubWFwKChtKSA9PiB7XG5cdFx0XHRcdGxldCBwcm9kdWN0cyA9IG0ucHJvZHVjdHNcblx0XHRcdFx0XHQuZmlsdGVyKCh3UHJvZHVjdCkgPT5cblx0XHRcdFx0XHRcdHRoaXMucHJvZHVjdHNGaWx0ZXIod1Byb2R1Y3QsIG9wdGlvbnMpXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHRcdC5maWx0ZXIoKHdQcm9kdWN0KSA9PlxuXHRcdFx0XHRcdFx0dGhpcy5maWx0ZXJCeVNlYXJjaFRleHQod1Byb2R1Y3QsIHNlYXJjaFRleHQpXG5cdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRpZiAoIW9wdGlvbnMgfHwgIW9wdGlvbnMud2l0aG91dENvdW50KSB7XG5cdFx0XHRcdFx0cHJvZHVjdHMgPSBwcm9kdWN0cy5maWx0ZXIoXG5cdFx0XHRcdFx0XHQod1Byb2R1Y3QpID0+IHdQcm9kdWN0LmNvdW50ID4gMFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gcHJvZHVjdHMubWFwKChwKSA9PiBuZXcgV2FyZWhvdXNlUHJvZHVjdChwKS5wcm9kdWN0SWQpO1xuXHRcdFx0fSk7XG5cblx0XHRcdHJldHVybiAoXG5cdFx0XHRcdHByb2R1Y3RzSWRzLmZsYXQoKS5maWx0ZXIoKHgsIGksIGEpID0+IGEuaW5kZXhPZih4KSA9PSBpKVxuXHRcdFx0XHRcdC5sZW5ndGggfHwgMFxuXHRcdFx0KTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0cmV0dXJuIDA7XG5cdFx0fVxuXHR9XG5cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyBnZW9Mb2NhdGlvblByb2R1Y3RzQnlQYWdpbmcoXG5cdFx0QHNlcmlhbGl6YXRpb24oKGc6IElHZW9Mb2NhdGlvbikgPT4gbmV3IEdlb0xvY2F0aW9uKGcpKVxuXHRcdGdlb0xvY2F0aW9uOiBHZW9Mb2NhdGlvbixcblx0XHRwYWdpbmdPcHRpb25zLFxuXHRcdG9wdGlvbnM/OiBJR2V0R2VvTG9jYXRpb25Qcm9kdWN0c09wdGlvbnMsXG5cdFx0c2VhcmNoVGV4dD86IHN0cmluZ1xuXHQpOiBQcm9taXNlPFByb2R1Y3RJbmZvW10+IHtcblx0XHRjb25zdCBtZXJjaGFudHMgPSBhd2FpdCB0aGlzLmdlb0xvY2F0aW9uc1dhcmVob3VzZXNTZXJ2aWNlLmdldE1lcmNoYW50cyhcblx0XHRcdGdlb0xvY2F0aW9uLFxuXHRcdFx0R2VvTG9jYXRpb25zV2FyZWhvdXNlc1NlcnZpY2UuVHJhY2tpbmdEaXN0YW5jZSxcblx0XHRcdHtcblx0XHRcdFx0ZnVsbFByb2R1Y3RzOiB0cnVlLFxuXHRcdFx0XHRhY3RpdmVPbmx5OiB0cnVlLFxuXHRcdFx0XHRtZXJjaGFudHNJZHM6IG9wdGlvbnMgPyBvcHRpb25zLm1lcmNoYW50SWRzIDogbnVsbCxcblx0XHRcdH1cblx0XHQpO1xuXG5cdFx0Y29uc3QgcHJvZHVjdHMgPSB0aGlzLl9nZXRQcm9kdWN0c0Zyb21XYXJlaG91c2VzKFxuXHRcdFx0Z2VvTG9jYXRpb24sXG5cdFx0XHRtZXJjaGFudHMubWFwKChtKSA9PiBuZXcgV2FyZWhvdXNlKG0pKSxcblx0XHRcdG9wdGlvbnMsXG5cdFx0XHRzZWFyY2hUZXh0XG5cdFx0KTtcblxuXHRcdHJldHVybiBwcm9kdWN0cy5zbGljZShwYWdpbmdPcHRpb25zLnNraXApLnNsaWNlKDAsIHBhZ2luZ09wdGlvbnMubGltaXQpO1xuXHR9XG5cblx0cHJpdmF0ZSBfZ2V0UHJvZHVjdHNGcm9tV2FyZWhvdXNlcyhcblx0XHRnZW9Mb2NhdGlvbjogR2VvTG9jYXRpb24sXG5cdFx0d2FyZWhvdXNlczogV2FyZWhvdXNlW10sXG5cdFx0b3B0aW9ucz86IElHZXRHZW9Mb2NhdGlvblByb2R1Y3RzT3B0aW9ucyxcblx0XHRzZWFyY2hUZXh0Pzogc3RyaW5nXG5cdCk6IFByb2R1Y3RJbmZvW10ge1xuXHRcdGNvbnN0IHVuZGVyc2NvcmVfOiBhbnkgPSBfOyAvLyBUT0RPOiByZW1vdmUgc2guLnRcblx0XHRyZXR1cm4gdW5kZXJzY29yZV8od2FyZWhvdXNlcylcblx0XHRcdC5tYXAoKF93YXJlaG91c2UpID0+IHtcblx0XHRcdFx0Y29uc3Qgd2FyZWhvdXNlID0gXy5jbG9uZShfd2FyZWhvdXNlKTtcblxuXHRcdFx0XHRpZiAoIW9wdGlvbnMgfHwgIW9wdGlvbnMud2l0aG91dENvdW50KSB7XG5cdFx0XHRcdFx0d2FyZWhvdXNlLnByb2R1Y3RzID0gd2FyZWhvdXNlLnByb2R1Y3RzLmZpbHRlcihcblx0XHRcdFx0XHRcdCh3UHJvZHVjdCkgPT4gd1Byb2R1Y3QuY291bnQgPiAwXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChvcHRpb25zKSB7XG5cdFx0XHRcdFx0d2FyZWhvdXNlLnByb2R1Y3RzID0gd2FyZWhvdXNlLnByb2R1Y3RzLmZpbHRlcigod1Byb2R1Y3QpID0+XG5cdFx0XHRcdFx0XHR0aGlzLnByb2R1Y3RzRmlsdGVyKHdQcm9kdWN0LCBvcHRpb25zKVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR3YXJlaG91c2UucHJvZHVjdHMgPSB3YXJlaG91c2UucHJvZHVjdHMuZmlsdGVyKCh3UHJvZHVjdCkgPT5cblx0XHRcdFx0XHR0aGlzLmZpbHRlckJ5U2VhcmNoVGV4dCh3UHJvZHVjdCwgc2VhcmNoVGV4dClcblx0XHRcdFx0KTtcblxuXHRcdFx0XHRyZXR1cm4gd2FyZWhvdXNlO1xuXHRcdFx0fSkgLy8gcmVtb3ZlIGFsbCB3YXJlaG91c2UgcHJvZHVjdHMgd2hpY2ggY291bnQgaXMgMC5cblx0XHRcdC5tYXAoKHdhcmVob3VzZSkgPT5cblx0XHRcdFx0Xy5tYXAod2FyZWhvdXNlLnByb2R1Y3RzLCAod2FyZWhvdXNlUHJvZHVjdCkgPT4ge1xuXHRcdFx0XHRcdHJldHVybiBuZXcgUHJvZHVjdEluZm8oe1xuXHRcdFx0XHRcdFx0d2FyZWhvdXNlSWQ6IHdhcmVob3VzZS5pZCxcblx0XHRcdFx0XHRcdHdhcmVob3VzZUxvZ286IHdhcmVob3VzZS5sb2dvLFxuXHRcdFx0XHRcdFx0d2FyZWhvdXNlUHJvZHVjdCxcblx0XHRcdFx0XHRcdGRpc3RhbmNlOiBVdGlscy5nZXREaXN0YW5jZShcblx0XHRcdFx0XHRcdFx0Z2VvTG9jYXRpb24sXG5cdFx0XHRcdFx0XHRcdHdhcmVob3VzZS5nZW9Mb2NhdGlvblxuXHRcdFx0XHRcdFx0KSxcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSlcblx0XHRcdClcblx0XHRcdC5mbGF0dGVuKClcblx0XHRcdC5ncm91cEJ5KChwcm9kdWN0SW5mbykgPT4gcHJvZHVjdEluZm8ud2FyZWhvdXNlUHJvZHVjdC5wcm9kdWN0SWQpXG5cdFx0XHQubWFwKChwcm9kdWN0SW5mb3M6IFByb2R1Y3RJbmZvW10sIHByb2R1Y3RJZCkgPT4ge1xuXHRcdFx0XHRyZXR1cm4gXy5taW5CeShcblx0XHRcdFx0XHRwcm9kdWN0SW5mb3MsXG5cdFx0XHRcdFx0KHByb2R1Y3RJbmZvKSA9PiBwcm9kdWN0SW5mby5kaXN0YW5jZVxuXHRcdFx0XHQpO1xuXHRcdFx0fSlcblx0XHRcdC5maWx0ZXIoKHByb2R1Y3RJbmZvKSA9PiAhXy5pc1VuZGVmaW5lZChwcm9kdWN0SW5mbykpXG5cdFx0XHQubWFwKChwcm9kdWN0SW5mbykgPT4gcHJvZHVjdEluZm8gYXMgUHJvZHVjdEluZm8pXG5cdFx0XHQudmFsdWUoKTtcblx0fVxuXG5cdHByaXZhdGUgcHJvZHVjdHNGaWx0ZXIod1Byb2R1Y3QsIG9wdGlvbnMpIHtcblx0XHRpZiAoIW9wdGlvbnMpIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdHdQcm9kdWN0LnByb2R1Y3QuaW1hZ2VzID0gd1Byb2R1Y3QucHJvZHVjdC5pbWFnZXMuZmlsdGVyKChpKSA9PiB7XG5cdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHQob3B0aW9ucy5pbWFnZU9yaWVudGF0aW9uICE9PSB1bmRlZmluZWRcblx0XHRcdFx0XHQ/IG9wdGlvbnMuaW1hZ2VPcmllbnRhdGlvbiA9PT0gMVxuXHRcdFx0XHRcdFx0PyBpLm9yaWVudGF0aW9uID09PSAxXG5cdFx0XHRcdFx0XHQ6IGkub3JpZW50YXRpb24gPT09IDAgfHwgaS5vcmllbnRhdGlvbiA9PT0gMlxuXHRcdFx0XHRcdDogdHJ1ZSkgJiZcblx0XHRcdFx0KG9wdGlvbnMubG9jYWxlICE9PSB1bmRlZmluZWRcblx0XHRcdFx0XHQ/IGkubG9jYWxlID09PSBvcHRpb25zLmxvY2FsZVxuXHRcdFx0XHRcdDogdHJ1ZSlcblx0XHRcdCk7XG5cdFx0fSk7XG5cblx0XHRpZiAoIXdQcm9kdWN0LnByb2R1Y3QuaW1hZ2VzIHx8IHdQcm9kdWN0LnByb2R1Y3QuaW1hZ2VzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybiBvcHRpb25zLmlzRGVsaXZlcnlSZXF1aXJlZFxuXHRcdFx0PyB3UHJvZHVjdC5pc0RlbGl2ZXJ5UmVxdWlyZWQgPT09IG9wdGlvbnMuaXNEZWxpdmVyeVJlcXVpcmVkXG5cdFx0XHQ6IHRydWUgJiYgb3B0aW9ucy5pc1Rha2Vhd2F5XG5cdFx0XHRcdD8gd1Byb2R1Y3QuaXNUYWtlYXdheSA9PT0gb3B0aW9ucy5pc1Rha2Vhd2F5XG5cdFx0XHRcdDogdHJ1ZTtcblx0fVxuXG5cdHByaXZhdGUgZmlsdGVyQnlTZWFyY2hUZXh0KHdQcm9kdWN0LCBzZWFyY2hUZXh0KSB7XG5cdFx0aWYgKCFzZWFyY2hUZXh0KSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHRsZXQgdGl0bGVzID0gd1Byb2R1Y3QucHJvZHVjdFsndGl0bGUnXTtcblx0XHR0aXRsZXMgPSB0aXRsZXMgPyB0aXRsZXMubWFwKCh0OiBJUHJvZHVjdFRpdGxlKSA9PiB0LnZhbHVlKSA6IFtdO1xuXHRcdGxldCBkZXNjcmlwdGlvbnMgPSB3UHJvZHVjdC5wcm9kdWN0WydkZXNjcmlwdGlvbiddO1xuXHRcdGRlc2NyaXB0aW9ucyA9IGRlc2NyaXB0aW9uc1xuXHRcdFx0PyBkZXNjcmlwdGlvbnMubWFwKChkOiBJUHJvZHVjdERlc2NyaXB0aW9uKSA9PiBkLnZhbHVlKVxuXHRcdFx0OiBbXTtcblx0XHRsZXQgZGV0YWlscyA9IHdQcm9kdWN0LnByb2R1Y3RbJ2RldGFpbHMnXTtcblx0XHRkZXRhaWxzID0gZGV0YWlscyA/IGRldGFpbHMubWFwKChkOiBJUHJvZHVjdERldGFpbHMpID0+IGQudmFsdWUpIDogW107XG5cblx0XHRyZXR1cm4gKFxuXHRcdFx0KHRpdGxlcyAmJlxuXHRcdFx0XHR0aXRsZXNcblx0XHRcdFx0XHQuam9pbigpXG5cdFx0XHRcdFx0LnRvTG9jYWxlTG93ZXJDYXNlKClcblx0XHRcdFx0XHQuaW5jbHVkZXMoc2VhcmNoVGV4dC50b0xvY2FsZUxvd2VyQ2FzZSgpKSkgfHxcblx0XHRcdChkZXNjcmlwdGlvbnMgJiZcblx0XHRcdFx0ZGVzY3JpcHRpb25zXG5cdFx0XHRcdFx0LmpvaW4oKVxuXHRcdFx0XHRcdC50b0xvY2FsZUxvd2VyQ2FzZSgpXG5cdFx0XHRcdFx0LmluY2x1ZGVzKHNlYXJjaFRleHQudG9Mb2NhbGVMb3dlckNhc2UoKSkpIHx8XG5cdFx0XHQoZGV0YWlscyAmJlxuXHRcdFx0XHRkZXRhaWxzXG5cdFx0XHRcdFx0LmpvaW4oKVxuXHRcdFx0XHRcdC50b0xvY2FsZUxvd2VyQ2FzZSgpXG5cdFx0XHRcdFx0LmluY2x1ZGVzKHNlYXJjaFRleHQudG9Mb2NhbGVMb3dlckNhc2UoKSkpXG5cdFx0KTtcblx0fVxufVxuIiwiaW1wb3J0IHsgaW5qZWN0YWJsZSB9IGZyb20gJ2ludmVyc2lmeSc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJ2J1bnlhbic7XG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgY3JlYXRlRXZlckxvZ2dlciB9IGZyb20gJy4uLy4uL2hlbHBlcnMvTG9nJztcbmltcG9ydCB7IHJvdXRlck5hbWUsIGFzeW5jTGlzdGVuZXIgfSBmcm9tICdAcHlyby9pbyc7XG5pbXBvcnQgSVNlcnZpY2UgZnJvbSAnLi4vSVNlcnZpY2UnO1xuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcbmltcG9ydCBJR2VvTG9jYXRpb25zUm91dGVyIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vcm91dGVycy9JR2VvTG9jYXRpb25zUm91dGVyJztcbmltcG9ydCB7IGVudiB9IGZyb20gJy4uLy4uL2Vudic7XG5pbXBvcnQgeyBpbnNwZWN0IH0gZnJvbSAndXRpbCc7XG5cbkBpbmplY3RhYmxlKClcbkByb3V0ZXJOYW1lKCdnZW8tbG9jYXRpb24nKVxuZXhwb3J0IGNsYXNzIEdlb0xvY2F0aW9uc1NlcnZpY2UgaW1wbGVtZW50cyBJR2VvTG9jYXRpb25zUm91dGVyLCBJU2VydmljZSB7XG5cdHByb3RlY3RlZCBsb2c6IExvZ2dlciA9IGNyZWF0ZUV2ZXJMb2dnZXIoe1xuXHRcdG5hbWU6ICdHZW9Mb2NhdGlvbnNTZXJ2aWNlJyxcblx0fSk7XG5cblx0cHJpdmF0ZSBhcmNnaXNDbGllbnRJRDogc3RyaW5nO1xuXHRwcml2YXRlIGFyY2dpc0NsaWVudFNlY3JldDogc3RyaW5nO1xuXG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdHRoaXMuYXJjZ2lzQ2xpZW50SUQgPSBlbnYuQVJDR0lTX0NMSUVOVF9JRDtcblx0XHR0aGlzLmFyY2dpc0NsaWVudFNlY3JldCA9IGVudi5BUkNHSVNfQ0xJRU5UX1NFQ1JFVDtcblx0fVxuXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgZ2V0QWRkcmVzc0J5Q29vcmRpbmF0ZXNVc2luZ0FyY0dJUyhcblx0XHRsYXQ6IG51bWJlcixcblx0XHRsbmc6IG51bWJlclxuXHQpOiBQcm9taXNlPGFueSB8IG51bGw+IHtcblx0XHRpZiAoIXRoaXMuYXJjZ2lzQ2xpZW50SUQgfHwgIXRoaXMuYXJjZ2lzQ2xpZW50U2VjcmV0KSB7XG5cdFx0XHR0aGlzLmxvZy5pbmZvKFxuXHRcdFx0XHRgQ2Fubm90IHVzZSBnZXRBZGRyZXNzQnlDb29yZGluYXRlc1VzaW5nQXJjR0lTIHdpdGhvdXQke1xuXHRcdFx0XHRcdHRoaXMuYXJjZ2lzQ2xpZW50SUQgPyAnJyA6ICcgYXJjZ2lzQ2xpZW50SUQnXG5cdFx0XHRcdH0ke3RoaXMuYXJjZ2lzQ2xpZW50U2VjcmV0ID8gJycgOiAnIGFyY2dpc0NsaWVudFNlY3JldCd9YFxuXHRcdFx0KTtcblxuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXG5cdFx0dHJ5IHtcblx0XHRcdHRoaXMubG9nLmluZm8oXG5cdFx0XHRcdGBBdHRlbXB0IHRvIHJldmVyc2UgR2VvY29kZSBjb29yZGluYXRlczogJHtsYXR9LCR7bG5nfWBcblx0XHRcdCk7XG5cblx0XHRcdGNvbnN0IHRva2VuUmVxdWVzdFVybCA9IGBodHRwczovL3d3dy5hcmNnaXMuY29tL3NoYXJpbmcvb2F1dGgyL3Rva2VuP2NsaWVudF9pZD0ke3RoaXMuYXJjZ2lzQ2xpZW50SUR9JmNsaWVudF9zZWNyZXQ9JHt0aGlzLmFyY2dpc0NsaWVudFNlY3JldH0mZ3JhbnRfdHlwZT1jbGllbnRfY3JlZGVudGlhbHMmZj1qc29uYDtcblxuXHRcdFx0Y29uc3QgdG9rZW5SZXN1bHQgPSBhd2FpdCBheGlvcy5nZXQodG9rZW5SZXF1ZXN0VXJsKTtcblxuXHRcdFx0aWYgKFxuXHRcdFx0XHQhdG9rZW5SZXN1bHQgfHxcblx0XHRcdFx0IXRva2VuUmVzdWx0LmRhdGEgfHxcblx0XHRcdFx0IXRva2VuUmVzdWx0LmRhdGFbJ2FjY2Vzc190b2tlbiddXG5cdFx0XHQpIHtcblx0XHRcdFx0dGhpcy5sb2cuaW5mbyhcblx0XHRcdFx0XHRgQ2Fubm90IGdldCBhcmNnaXMgdG9rZW4gd2l0aCBjbGllbnRfaWQ9JHt0aGlzLmFyY2dpc0NsaWVudElEfSwgY2xpZW50X3NlY3JldD0ke3RoaXMuYXJjZ2lzQ2xpZW50U2VjcmV0fWBcblx0XHRcdFx0KTtcblx0XHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zdCB0b2tlbiA9IHRva2VuUmVzdWx0LmRhdGFbJ2FjY2Vzc190b2tlbiddO1xuXG5cdFx0XHRcdC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcblx0XHRcdFx0Y29uc3QgcmVxdWVzdEJhc2VVcmwgPSBgaHR0cHM6Ly9nZW9jb2RlLmFyY2dpcy5jb20vYXJjZ2lzL3Jlc3Qvc2VydmljZXMvV29ybGQvR2VvY29kZVNlcnZlci9yZXZlcnNlR2VvY29kZT9sb2NhdGlvbj0ke2xuZ30lMkMke2xhdH0mZGlzdGFuY2U9MjAwJmY9anNvbmA7XG5cblx0XHRcdFx0Y29uc3QgcmVxdWVzdFVybCA9IGAke3JlcXVlc3RCYXNlVXJsfSZmb3JTdG9yYWdlPXRydWUmdG9rZW49JHt0b2tlbn1gO1xuXG5cdFx0XHRcdGNvbnN0IHJlc3AgPSBhd2FpdCBheGlvcy5nZXQocmVxdWVzdFVybCk7XG5cblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdHJlc3AgJiZcblx0XHRcdFx0XHRyZXNwLmRhdGEgJiZcblx0XHRcdFx0XHRyZXNwLmRhdGFbJ2FkZHJlc3MnXSAmJlxuXHRcdFx0XHRcdChyZXNwLmRhdGFbJ2FkZHJlc3MnXS5DaXR5IHx8XG5cdFx0XHRcdFx0XHRyZXNwLmRhdGFbJ2FkZHJlc3MnXS5SZWdpb24gfHxcblx0XHRcdFx0XHRcdHJlc3AuZGF0YVsnYWRkcmVzcyddLlN1YnJlZ2lvbilcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0bGV0IGxvY2FsaXR5OiBzdHJpbmc7XG5cblx0XHRcdFx0XHRpZiAocmVzcC5kYXRhWydhZGRyZXNzJ10uQ2l0eSkge1xuXHRcdFx0XHRcdFx0bG9jYWxpdHkgPSByZXNwLmRhdGFbJ2FkZHJlc3MnXS5DaXR5O1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAocmVzcC5kYXRhWydhZGRyZXNzJ10uU3VicmVnaW9uKSB7XG5cdFx0XHRcdFx0XHRsb2NhbGl0eSA9IHJlc3AuZGF0YVsnYWRkcmVzcyddLlN1YnJlZ2lvbjtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKHJlc3AuZGF0YVsnYWRkcmVzcyddLlJlZ2lvbikge1xuXHRcdFx0XHRcdFx0bG9jYWxpdHkgPSByZXNwLmRhdGFbJ2FkZHJlc3MnXS5SZWdpb247XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29uc3QgcmVzdWx0ID0ge1xuXHRcdFx0XHRcdFx0bG9jYWxpdHksXG5cblx0XHRcdFx0XHRcdC8vIHJlcGxhY2UgcmVtb3ZlcyBudW1iZXJzIGFuZCB0cmltIHNwYWNlcyAodGhleSBhcmUgdXN1YWxseSB3cm9uZyBhbnl3YXkhKVxuXHRcdFx0XHRcdFx0dGhvcm91Z2hmYXJlOiByZXNwLmRhdGFbJ2FkZHJlc3MnXS5BZGRyZXNzXG5cdFx0XHRcdFx0XHRcdD8gcmVzcC5kYXRhWydhZGRyZXNzJ10uQWRkcmVzcy5yZXBsYWNlKFxuXHRcdFx0XHRcdFx0XHRcdFx0L1xcZCt8Xlxccyt8XFxzKyQvZyxcblx0XHRcdFx0XHRcdFx0XHRcdCcnXG5cdFx0XHRcdFx0XHRcdCAgKS5yZXBsYWNlKFxuXHRcdFx0XHRcdFx0XHRcdFx0L15bXFxzXFx1RkVGRlxceEEwXSt8W1xcc1xcdUZFRkZcXHhBMF0rJC9nLFxuXHRcdFx0XHRcdFx0XHRcdFx0Jydcblx0XHRcdFx0XHRcdFx0ICApXG5cdFx0XHRcdFx0XHRcdDogbnVsbCxcblx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0dGhpcy5sb2cuaW5mbyhcblx0XHRcdFx0XHRcdGBBdHRlbXB0ZWQgdG8gcmV2ZXJzZSBHZW9jb2RlIGNvb3JkaW5hdGVzOiAke2xhdH0sICR7bG5nfS4gR290IHJlc3VsdHM6IGAgK1xuXHRcdFx0XHRcdFx0XHRgJHtKU09OLnN0cmluZ2lmeShyZXN1bHQpfWBcblx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0aGlzLmxvZy5pbmZvKFxuXHRcdFx0XHRcdFx0YEF0dGVtcHRlZCB0byByZXZlcnNlIEdlb2NvZGUgY29vcmRpbmF0ZXM6ICR7bGF0fSwgJHtsbmd9LiBgICtcblx0XHRcdFx0XHRcdFx0YEdvdCBlbXB0eSByZXNwb25zZTogJHtyZXNwID8gaW5zcGVjdChyZXNwKSA6ICcnfWBcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHQvLyBEbyBub3QgcmVwb3J0IGl0IGFzIGVycm9yIGJlY2F1c2UgZ2VvLWNvZGluZyBtYXkgc2ltcGx5IG5vdCB3b3JrIGZvciBnaXZlbiBjb29yZGluYXRlc1xuXHRcdFx0dGhpcy5sb2cuaW5mbyhlcnIpO1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXHR9XG59XG4iLCJpbXBvcnQgeyBpbmplY3RhYmxlIH0gZnJvbSAnaW52ZXJzaWZ5JztcbmltcG9ydCBMb2dnZXIgZnJvbSAnYnVueWFuJztcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgVXRpbHMgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi91dGlscyc7XG5pbXBvcnQgeyBjcmVhdGVFdmVyTG9nZ2VyIH0gZnJvbSAnLi4vLi4vaGVscGVycy9Mb2cnO1xuaW1wb3J0IHsgV2FyZWhvdXNlc1NlcnZpY2UgfSBmcm9tICcuLi93YXJlaG91c2VzJztcbmltcG9ydCBHZW9Mb2NhdGlvbiBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL0dlb0xvY2F0aW9uJztcbmltcG9ydCBXYXJlaG91c2UgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9XYXJlaG91c2UnO1xuaW1wb3J0IElXYXJlaG91c2UgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9pbnRlcmZhY2VzL0lXYXJlaG91c2UnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHtcblx0b2JzZXJ2YWJsZUxpc3RlbmVyLFxuXHRyb3V0ZXJOYW1lLFxuXHRzZXJpYWxpemF0aW9uLFxuXHRhc3luY0xpc3RlbmVyLFxufSBmcm9tICdAcHlyby9pbyc7XG5pbXBvcnQgSUdlb0xvY2F0aW9uIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JR2VvTG9jYXRpb24nO1xuaW1wb3J0IElHZW9Mb2NhdGlvbldhcmVob3VzZXNSb3V0ZXIgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9yb3V0ZXJzL0lHZW9Mb2NhdGlvbldhcmVob3VzZXNSb3V0ZXInO1xuaW1wb3J0IElTZXJ2aWNlIGZyb20gJy4uL0lTZXJ2aWNlJztcbmltcG9ydCB7IEV4aXN0ZW5jZUV2ZW50VHlwZSB9IGZyb20gJ0BweXJvL2RiLXNlcnZlcic7XG5pbXBvcnQgeyBvZiB9IGZyb20gJ3J4anMvb2JzZXJ2YWJsZS9vZic7XG5pbXBvcnQgeyBjb25jYXQsIGV4aGF1c3RNYXAsIGZpbHRlciwgc2hhcmUgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbkBpbmplY3RhYmxlKClcbkByb3V0ZXJOYW1lKCdnZW8tbG9jYXRpb24td2FyZWhvdXNlcycpXG5leHBvcnQgY2xhc3MgR2VvTG9jYXRpb25zV2FyZWhvdXNlc1NlcnZpY2Vcblx0aW1wbGVtZW50cyBJR2VvTG9jYXRpb25XYXJlaG91c2VzUm91dGVyLCBJU2VydmljZSB7XG5cdHByb3RlY3RlZCBsb2c6IExvZ2dlciA9IGNyZWF0ZUV2ZXJMb2dnZXIoe1xuXHRcdG5hbWU6ICdnZW9Mb2NhdGlvbnNXYXJlaG91c2VzU2VydmljZScsXG5cdH0pO1xuXG5cdC8vIFRPRE86IHRoaXMgc2hvdWxkIGJlIHNvbWV0aGluZyBkeW5hbWljIGFuZCBzdG9yZWQgaW4gREIgKHBlciBXYXJlaG91c2U/KVxuXHRzdGF0aWMgVHJhY2tpbmdEaXN0YW5jZTogbnVtYmVyID0gNTAwMDA7XG5cblx0c3RhdGljIGlzTmVhcmx5KHdhcmVob3VzZTogV2FyZWhvdXNlLCBnZW9Mb2NhdGlvbjogR2VvTG9jYXRpb24pOiBib29sZWFuIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0VXRpbHMuZ2V0RGlzdGFuY2Uod2FyZWhvdXNlLmdlb0xvY2F0aW9uLCBnZW9Mb2NhdGlvbikgPD1cblx0XHRcdEdlb0xvY2F0aW9uc1dhcmVob3VzZXNTZXJ2aWNlLlRyYWNraW5nRGlzdGFuY2Vcblx0XHQpO1xuXHR9XG5cblx0Y29uc3RydWN0b3IocHJvdGVjdGVkIHdhcmVob3VzZXNTZXJ2aWNlOiBXYXJlaG91c2VzU2VydmljZSkge31cblxuXHRAb2JzZXJ2YWJsZUxpc3RlbmVyKClcblx0Z2V0KFxuXHRcdEBzZXJpYWxpemF0aW9uKChnOiBJR2VvTG9jYXRpb24pID0+IG5ldyBHZW9Mb2NhdGlvbihnKSlcblx0XHRnZW9Mb2NhdGlvbjogR2VvTG9jYXRpb24sXG5cdFx0QHNlcmlhbGl6YXRpb24oKG86IGFueSkgPT4gXy5vbWl0KG8sIFsnZnVsbFByb2R1Y3RzJywgJ2FjdGl2ZU9ubHknXSkpXG5cdFx0X29wdGlvbnM/OiB7IGZ1bGxQcm9kdWN0cz86IGJvb2xlYW47IGFjdGl2ZU9ubHk/OiBib29sZWFuIH1cblx0KTogT2JzZXJ2YWJsZTxXYXJlaG91c2VbXT4ge1xuXHRcdGNvbnN0IG9wdGlvbnMgPSB7XG5cdFx0XHRmdWxsUHJvZHVjdHM6IF9vcHRpb25zICE9IG51bGwgJiYgX29wdGlvbnMuZnVsbFByb2R1Y3RzICE9IG51bGwsXG5cdFx0XHRhY3RpdmVPbmx5OlxuXHRcdFx0XHRfb3B0aW9ucyAhPSBudWxsICYmIF9vcHRpb25zLmFjdGl2ZU9ubHkgIT0gbnVsbFxuXHRcdFx0XHRcdD8gX29wdGlvbnMuYWN0aXZlT25seVxuXHRcdFx0XHRcdDogZmFsc2UsXG5cdFx0fTtcblxuXHRcdHJldHVybiBvZihudWxsKS5waXBlKFxuXHRcdFx0Y29uY2F0KFxuXHRcdFx0XHR0aGlzLndhcmVob3VzZXNTZXJ2aWNlLmV4aXN0ZW5jZS5waXBlKFxuXHRcdFx0XHRcdGZpbHRlcigoZXhpc3RlbmNlRXZlbnQpID0+IHtcblx0XHRcdFx0XHRcdGxldCB3YXJlaG91c2U6IFdhcmVob3VzZSB8IG51bGw7XG5cdFx0XHRcdFx0XHRsZXQgb2xkV2FyZWhvdXNlOiBXYXJlaG91c2UgfCBudWxsO1xuXG5cdFx0XHRcdFx0XHRzd2l0Y2ggKGV4aXN0ZW5jZUV2ZW50LnR5cGUgYXMgRXhpc3RlbmNlRXZlbnRUeXBlKSB7XG5cdFx0XHRcdFx0XHRcdGNhc2UgRXhpc3RlbmNlRXZlbnRUeXBlLkNyZWF0ZWQ6XG5cdFx0XHRcdFx0XHRcdFx0d2FyZWhvdXNlID0gZXhpc3RlbmNlRXZlbnQudmFsdWU7XG5cblx0XHRcdFx0XHRcdFx0XHRpZiAod2FyZWhvdXNlID09IG51bGwpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHRcdFx0XHRcdFx0R2VvTG9jYXRpb25zV2FyZWhvdXNlc1NlcnZpY2UuaXNOZWFybHkoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHdhcmVob3VzZSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0Z2VvTG9jYXRpb25cblx0XHRcdFx0XHRcdFx0XHRcdCkgJiZcblx0XHRcdFx0XHRcdFx0XHRcdChvcHRpb25zLmFjdGl2ZU9ubHlcblx0XHRcdFx0XHRcdFx0XHRcdFx0PyB3YXJlaG91c2UuaXNBY3RpdmVcblx0XHRcdFx0XHRcdFx0XHRcdFx0OiB0cnVlKVxuXHRcdFx0XHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRcdFx0Y2FzZSBFeGlzdGVuY2VFdmVudFR5cGUuVXBkYXRlZDpcblx0XHRcdFx0XHRcdFx0XHR3YXJlaG91c2UgPSBleGlzdGVuY2VFdmVudC52YWx1ZTtcblx0XHRcdFx0XHRcdFx0XHRvbGRXYXJlaG91c2UgPSBleGlzdGVuY2VFdmVudC5sYXN0VmFsdWU7XG5cblx0XHRcdFx0XHRcdFx0XHRpZiAod2FyZWhvdXNlID09IG51bGwgfHwgb2xkV2FyZWhvdXNlID09IG51bGwpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHRcdFx0XHRcdFx0R2VvTG9jYXRpb25zV2FyZWhvdXNlc1NlcnZpY2UuaXNOZWFybHkoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHdhcmVob3VzZSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0Z2VvTG9jYXRpb25cblx0XHRcdFx0XHRcdFx0XHRcdCkgIT09XG5cdFx0XHRcdFx0XHRcdFx0XHRcdEdlb0xvY2F0aW9uc1dhcmVob3VzZXNTZXJ2aWNlLmlzTmVhcmx5KFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9sZFdhcmVob3VzZSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRnZW9Mb2NhdGlvblxuXHRcdFx0XHRcdFx0XHRcdFx0XHQpICYmXG5cdFx0XHRcdFx0XHRcdFx0XHQob3B0aW9ucy5hY3RpdmVPbmx5XG5cdFx0XHRcdFx0XHRcdFx0XHRcdD8gd2FyZWhvdXNlLmlzQWN0aXZlICE9PVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQgIG9sZFdhcmVob3VzZS5pc0FjdGl2ZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ6IHRydWUpXG5cdFx0XHRcdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdFx0XHRjYXNlIEV4aXN0ZW5jZUV2ZW50VHlwZS5SZW1vdmVkOlxuXHRcdFx0XHRcdFx0XHRcdG9sZFdhcmVob3VzZSA9IGV4aXN0ZW5jZUV2ZW50Lmxhc3RWYWx1ZTtcblxuXHRcdFx0XHRcdFx0XHRcdGlmIChvbGRXYXJlaG91c2UgPT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiAoXG5cdFx0XHRcdFx0XHRcdFx0XHRHZW9Mb2NhdGlvbnNXYXJlaG91c2VzU2VydmljZS5pc05lYXJseShcblx0XHRcdFx0XHRcdFx0XHRcdFx0b2xkV2FyZWhvdXNlLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRnZW9Mb2NhdGlvblxuXHRcdFx0XHRcdFx0XHRcdFx0KSAmJlxuXHRcdFx0XHRcdFx0XHRcdFx0KG9wdGlvbnMuYWN0aXZlT25seVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ/IG9sZFdhcmVob3VzZS5pc0FjdGl2ZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ6IHRydWUpXG5cdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KSxcblx0XHRcdFx0XHRzaGFyZSgpXG5cdFx0XHRcdClcblx0XHRcdCksXG5cdFx0XHRleGhhdXN0TWFwKCgpID0+XG5cdFx0XHRcdHRoaXMuX2dldChcblx0XHRcdFx0XHRnZW9Mb2NhdGlvbixcblx0XHRcdFx0XHRHZW9Mb2NhdGlvbnNXYXJlaG91c2VzU2VydmljZS5UcmFja2luZ0Rpc3RhbmNlLFxuXHRcdFx0XHRcdG9wdGlvbnNcblx0XHRcdFx0KVxuXHRcdFx0KSxcblx0XHRcdHNoYXJlKClcblx0XHQpO1xuXHR9XG5cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyBnZXRNZXJjaGFudHMoXG5cdFx0Z2VvTG9jYXRpb246IElHZW9Mb2NhdGlvbixcblx0XHRtYXhEaXN0YW5jZTogbnVtYmVyLFxuXHRcdG9wdGlvbnM6IHtcblx0XHRcdGZ1bGxQcm9kdWN0czogYm9vbGVhbjtcblx0XHRcdGFjdGl2ZU9ubHk6IGJvb2xlYW47XG5cdFx0XHRtZXJjaGFudHNJZHM/OiBzdHJpbmdbXTtcblx0XHR9XG5cdCk6IFByb21pc2U8SVdhcmVob3VzZVtdPiB7XG5cdFx0Y29uc3QgbWVyY2hhbnRzSWRzID0gb3B0aW9ucy5tZXJjaGFudHNJZHM7XG5cdFx0Y29uc3QgbWVyY2hhbnRzID0gKGF3YWl0IHRoaXMud2FyZWhvdXNlc1NlcnZpY2UuTW9kZWwuZmluZChcblx0XHRcdF8uYXNzaWduKFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0J2dlb0xvY2F0aW9uLmxvYyc6IHtcblx0XHRcdFx0XHRcdCRuZWFyOiB7XG5cdFx0XHRcdFx0XHRcdCRnZW9tZXRyeToge1xuXHRcdFx0XHRcdFx0XHRcdHR5cGU6ICdQb2ludCcsXG5cdFx0XHRcdFx0XHRcdFx0Y29vcmRpbmF0ZXM6IGdlb0xvY2F0aW9uLmxvYy5jb29yZGluYXRlcyxcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0JG1heERpc3RhbmNlOiBtYXhEaXN0YW5jZSxcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0fSxcblx0XHRcdFx0b3B0aW9ucy5hY3RpdmVPbmx5ID8geyBpc0FjdGl2ZTogdHJ1ZSB9IDoge30sXG5cdFx0XHRcdG1lcmNoYW50c0lkcyAmJiBtZXJjaGFudHNJZHMubGVuZ3RoID4gMFxuXHRcdFx0XHRcdD8ge1xuXHRcdFx0XHRcdFx0XHRfaWQ6IHsgJGluOiBtZXJjaGFudHNJZHMgfSxcblx0XHRcdFx0XHQgIH1cblx0XHRcdFx0XHQ6IHt9XG5cdFx0XHQpXG5cdFx0KVxuXHRcdFx0LnBvcHVsYXRlKG9wdGlvbnMuZnVsbFByb2R1Y3RzID8gJ3Byb2R1Y3RzLnByb2R1Y3QnIDogJycpXG5cdFx0XHQubGVhbigpXG5cdFx0XHQuZXhlYygpKSBhcyBJV2FyZWhvdXNlW107XG5cblx0XHRyZXR1cm4gbWVyY2hhbnRzO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldCB3YXJlaG91c2VzIGF2YWlsYWJsZSBmb3IgZ2l2ZW4gbG9jYXRpb25cblx0ICpcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtHZW9Mb2NhdGlvbn0gZ2VvTG9jYXRpb25cblx0ICogQHBhcmFtIHtudW1iZXJ9IG1heERpc3RhbmNlXG5cdCAqIEBwYXJhbSB7eyBmdWxsUHJvZHVjdHM6IGJvb2xlYW47IGFjdGl2ZU9ubHk6IGJvb2xlYW4gfX0gb3B0aW9uc1xuXHQgKiBAcmV0dXJucyB7UHJvbWlzZTxXYXJlaG91c2VbXT59XG5cdCAqIEBtZW1iZXJvZiBHZW9Mb2NhdGlvbnNXYXJlaG91c2VzU2VydmljZVxuXHQgKi9cblx0cHJpdmF0ZSBhc3luYyBfZ2V0KFxuXHRcdGdlb0xvY2F0aW9uOiBHZW9Mb2NhdGlvbixcblx0XHRtYXhEaXN0YW5jZTogbnVtYmVyLFxuXHRcdG9wdGlvbnM6IHsgZnVsbFByb2R1Y3RzOiBib29sZWFuOyBhY3RpdmVPbmx5OiBib29sZWFuIH1cblx0KTogUHJvbWlzZTxXYXJlaG91c2VbXT4ge1xuXHRcdC8vIFRPRE86IGZpcnN0IGZpbHRlciBieSBDaXR5IC8gQ291bnRyeSBhbmQgb25seSB0aGVuIGxvb2sgdXAgYnkgY29vcmRpbmF0ZXNcblx0XHRjb25zdCB3YXJlaG91c2VzID0gKGF3YWl0IHRoaXMud2FyZWhvdXNlc1NlcnZpY2UuTW9kZWwuZmluZChcblx0XHRcdF8uYXNzaWduKFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0J2dlb0xvY2F0aW9uLmxvYyc6IHtcblx0XHRcdFx0XHRcdCRuZWFyOiB7XG5cdFx0XHRcdFx0XHRcdCRnZW9tZXRyeToge1xuXHRcdFx0XHRcdFx0XHRcdHR5cGU6ICdQb2ludCcsXG5cdFx0XHRcdFx0XHRcdFx0Y29vcmRpbmF0ZXM6IGdlb0xvY2F0aW9uLmxvYy5jb29yZGluYXRlcyxcblx0XHRcdFx0XHRcdFx0fSxcblxuXHRcdFx0XHRcdFx0XHQvLyBUT0RPOiBzZXQgZGlzdGFuY2UgUEVSIHdhcmVob3VzZT9cblx0XHRcdFx0XHRcdFx0Ly8gSXQncyBoYXJkIHRvIG1ha2UgdGhpcyB3b3JrIGhvd2V2ZXIsIGFzIHNlZW1zIHRoaXMgc2hvdWxkIGJlIGNvbnN0YW50IHZhbHVlLi4uXG5cdFx0XHRcdFx0XHRcdC8vIGhvd2V2ZXIgd2UgbWF5IHdhbnQgdG8gY2hlY2sgTW9uZ29EQiBkb2NzIVxuXHRcdFx0XHRcdFx0XHQkbWF4RGlzdGFuY2U6IG1heERpc3RhbmNlLFxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHR9LFxuXHRcdFx0XHRvcHRpb25zLmFjdGl2ZU9ubHkgPyB7IGlzQWN0aXZlOiB0cnVlIH0gOiB7fVxuXHRcdFx0KVxuXHRcdClcblx0XHRcdC5wb3B1bGF0ZShvcHRpb25zLmZ1bGxQcm9kdWN0cyA/ICdwcm9kdWN0cy5wcm9kdWN0JyA6ICcnKVxuXHRcdFx0LmxlYW4oKVxuXHRcdFx0LmV4ZWMoKSkgYXMgSVdhcmVob3VzZVtdO1xuXG5cdFx0cmV0dXJuIHdhcmVob3VzZXMubWFwKCh3YXJlaG91c2UpID0+IG5ldyBXYXJlaG91c2Uod2FyZWhvdXNlKSk7XG5cdH1cbn1cbiIsImV4cG9ydCAqIGZyb20gJy4vR2VvTG9jYXRpb25zT3JkZXJzU2VydmljZSc7XG5leHBvcnQgKiBmcm9tICcuL0dlb0xvY2F0aW9uT3JkZXJzT3B0aW9ucyc7XG5leHBvcnQgKiBmcm9tICcuL0dlb0xvY2F0aW9uc1Byb2R1Y3RzU2VydmljZSc7XG5leHBvcnQgKiBmcm9tICcuL0dlb0xvY2F0aW9uc1dhcmVob3VzZXNTZXJ2aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vR2VvTG9jYXRpb25zU2VydmljZSc7XG4iLCJpbXBvcnQgJ3JlZmxlY3QtbWV0YWRhdGEnO1xuaW1wb3J0IHsgQ29udGFpbmVyLCBpbnRlcmZhY2VzLCBDb250YWluZXJNb2R1bGUgfSBmcm9tICdpbnZlcnNpZnknO1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IElSb3V0ZXJzTWFuYWdlciwgUm91dGVyc01hbmFnZXIsIFJvdXRlclN5bWJvbCB9IGZyb20gJ0BweXJvL2lvJztcbmltcG9ydCB7IENhcnJpZXJzT3JkZXJzU2VydmljZSwgQ2FycmllcnNTZXJ2aWNlIH0gZnJvbSAnLi9jYXJyaWVycyc7XG5pbXBvcnQge1xuXHRTb2NpYWxSZWdpc3RlclNlcnZpY2UsXG5cdFNvY2lhbFN0cmF0ZWdpZXNTZXJ2aWNlLFxuXHRVc2Vyc09yZGVyc1NlcnZpY2UsXG5cdFVzZXJzUHJvZHVjdHNTZXJ2aWNlLFxuXHRVc2Vyc1NlcnZpY2UsXG5cdFVzZXJDb21tYW5kU2VydmljZSxcbn0gZnJvbSAnLi91c2Vycyc7XG5pbXBvcnQgeyBQcm9kdWN0c0NhdGVnb3JpZXNTZXJ2aWNlLCBQcm9kdWN0c1NlcnZpY2UgfSBmcm9tICcuL3Byb2R1Y3RzJztcbmltcG9ydCB7XG5cdFdhcmVob3VzZXNDYXJyaWVyc1NlcnZpY2UsXG5cdFdhcmVob3VzZXNPcmRlcnNTZXJ2aWNlLFxuXHRXYXJlaG91c2VzUHJvZHVjdHNTZXJ2aWNlLFxuXHRXYXJlaG91c2VzU2VydmljZSxcblx0V2FyZWhvdXNlc1VzZXJzU2VydmljZSxcbn0gZnJvbSAnLi93YXJlaG91c2VzJztcbmltcG9ydCB7IE9yZGVyc1NlcnZpY2UgfSBmcm9tICcuL29yZGVycyc7XG5pbXBvcnQgeyBJbnZpdGVzUmVxdWVzdHNTZXJ2aWNlLCBJbnZpdGVzU2VydmljZSB9IGZyb20gJy4vaW52aXRlcyc7XG5pbXBvcnQge1xuXHRHZW9Mb2NhdGlvbnNPcmRlcnNTZXJ2aWNlLFxuXHRHZW9Mb2NhdGlvbnNQcm9kdWN0c1NlcnZpY2UsXG5cdEdlb0xvY2F0aW9uc1dhcmVob3VzZXNTZXJ2aWNlLFxuXHRHZW9Mb2NhdGlvbnNTZXJ2aWNlLFxufSBmcm9tICcuL2dlby1sb2NhdGlvbnMnO1xuaW1wb3J0IHsgRGV2aWNlc1NlcnZpY2UgfSBmcm9tICcuL2RldmljZXMnO1xuaW1wb3J0IHsgU2VydmljZVN5bWJvbCB9IGZyb20gJy4vSVNlcnZpY2UnO1xuaW1wb3J0IHsgQ29uZmlnU2VydmljZSB9IGZyb20gJy4uL2NvbmZpZy9jb25maWcuc2VydmljZSc7XG5pbXBvcnQgeyBTZXJ2aWNlc0FwcCB9IGZyb20gJy4vc2VydmljZXMuYXBwJztcbmltcG9ydCB7IEF1dGhlbnRpY2F0aW9uU2VydmljZSwgQXV0aFNlcnZpY2UsIGF1dGhTZXJ2aWNlRmFjdG9yeSB9IGZyb20gJy4vYXV0aCc7XG5pbXBvcnQgeyBVc2Vyc0F1dGhTZXJ2aWNlIH0gZnJvbSAnLi91c2Vycy9Vc2Vyc0F1dGhTZXJ2aWNlJztcbmltcG9ydCB7IEFkbWluc1NlcnZpY2UgfSBmcm9tICcuL2FkbWlucyc7XG5pbXBvcnQgeyBnZXRDb25uZWN0aW9uLCBSZXBvc2l0b3J5IH0gZnJvbSAndHlwZW9ybSc7XG5pbXBvcnQgQWRtaW4gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9BZG1pbic7XG5pbXBvcnQgRGV2aWNlIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvRGV2aWNlJztcbmltcG9ydCB7IEZha2VPcmRlcnNTZXJ2aWNlIH0gZnJvbSAnLi9mYWtlLWRhdGEvRmFrZU9yZGVyc1NlcnZpY2UnO1xuaW1wb3J0IHsgQ3VycmVuY2llc1NlcnZpY2UgfSBmcm9tICcuL2N1cnJlbmN5L0N1cnJlbmN5U2VydmljZSc7XG5cbmZ1bmN0aW9uIGdldFJlcG9zaXRvcnkodDogYW55KTogYW55IHtcblx0Y29uc3QgY29ubiA9IGdldENvbm5lY3Rpb24oJ3R5cGVvcm0nKTtcblx0cmV0dXJuIGNvbm4uZ2V0UmVwb3NpdG9yeSh0KTtcbn1cblxuY29uc3QgYmluZGluZ3MgPSBuZXcgQ29udGFpbmVyTW9kdWxlKChiaW5kOiBpbnRlcmZhY2VzLkJpbmQpID0+IHtcblx0YmluZDxSZXBvc2l0b3J5PEFkbWluPj4oJ0FkbWluUmVwb3NpdG9yeScpXG5cdFx0LnRvRHluYW1pY1ZhbHVlKCgpID0+IHtcblx0XHRcdHJldHVybiBnZXRSZXBvc2l0b3J5KEFkbWluKTtcblx0XHR9KVxuXHRcdC5pblJlcXVlc3RTY29wZSgpO1xuXG5cdGJpbmQ8UmVwb3NpdG9yeTxEZXZpY2U+PignRGV2aWNlUmVwb3NpdG9yeScpXG5cdFx0LnRvRHluYW1pY1ZhbHVlKCgpID0+IHtcblx0XHRcdHJldHVybiBnZXRSZXBvc2l0b3J5KERldmljZSk7XG5cdFx0fSlcblx0XHQuaW5SZXF1ZXN0U2NvcGUoKTtcblxuXHRfLmVhY2goXG5cdFx0W1xuXHRcdFx0Q29uZmlnU2VydmljZSxcblx0XHRcdFVzZXJDb21tYW5kU2VydmljZSxcblx0XHRcdEFkbWluc1NlcnZpY2UsXG5cdFx0XHRDYXJyaWVyc09yZGVyc1NlcnZpY2UsXG5cdFx0XHRDYXJyaWVyc1NlcnZpY2UsXG5cdFx0XHREZXZpY2VzU2VydmljZSxcblx0XHRcdEdlb0xvY2F0aW9uc09yZGVyc1NlcnZpY2UsXG5cdFx0XHRHZW9Mb2NhdGlvbnNQcm9kdWN0c1NlcnZpY2UsXG5cdFx0XHRHZW9Mb2NhdGlvbnNXYXJlaG91c2VzU2VydmljZSxcblx0XHRcdEdlb0xvY2F0aW9uc1NlcnZpY2UsXG5cdFx0XHRJbnZpdGVzUmVxdWVzdHNTZXJ2aWNlLFxuXHRcdFx0SW52aXRlc1NlcnZpY2UsXG5cdFx0XHRPcmRlcnNTZXJ2aWNlLFxuXHRcdFx0UHJvZHVjdHNTZXJ2aWNlLFxuXHRcdFx0UHJvZHVjdHNDYXRlZ29yaWVzU2VydmljZSxcblx0XHRcdFVzZXJzT3JkZXJzU2VydmljZSxcblx0XHRcdFVzZXJzU2VydmljZSxcblx0XHRcdFVzZXJzQXV0aFNlcnZpY2UsXG5cdFx0XHRTb2NpYWxTdHJhdGVnaWVzU2VydmljZSxcblx0XHRcdFNvY2lhbFJlZ2lzdGVyU2VydmljZSxcblx0XHRcdFdhcmVob3VzZXNPcmRlcnNTZXJ2aWNlLFxuXHRcdFx0V2FyZWhvdXNlc1Byb2R1Y3RzU2VydmljZSxcblx0XHRcdFdhcmVob3VzZXNVc2Vyc1NlcnZpY2UsXG5cdFx0XHRXYXJlaG91c2VzQ2FycmllcnNTZXJ2aWNlLFxuXHRcdFx0V2FyZWhvdXNlc1NlcnZpY2UsXG5cdFx0XHRVc2Vyc1Byb2R1Y3RzU2VydmljZSxcblx0XHRcdEF1dGhlbnRpY2F0aW9uU2VydmljZSxcblx0XHRcdEZha2VPcmRlcnNTZXJ2aWNlLFxuXHRcdFx0Q3VycmVuY2llc1NlcnZpY2UsXG5cdFx0XSxcblx0XHQoU2VydmljZTogYW55KSA9PiB7XG5cdFx0XHRiaW5kKFNlcnZpY2UpLnRvKFNlcnZpY2UpLmluU2luZ2xldG9uU2NvcGUoKTtcblxuXHRcdFx0YmluZDxhbnk+KFNlcnZpY2VTeW1ib2wpLnRvRmFjdG9yeTxhbnk+KChjb250ZXh0KSA9PiB7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmNvbnRhaW5lci5nZXQ8YW55PihTZXJ2aWNlKTtcblx0XHRcdH0pO1xuXG5cdFx0XHRiaW5kPGFueT4oUm91dGVyU3ltYm9sKS50b0ZhY3Rvcnk8YW55PigoY29udGV4dCkgPT4ge1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5jb250YWluZXIuZ2V0PGFueT4oU2VydmljZSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdCk7XG5cblx0YmluZChBdXRoU2VydmljZSkudG9TZWxmKCk7XG5cblx0YmluZCgnRmFjdG9yeTxBdXRoU2VydmljZT4nKS50b0ZhY3RvcnkoYXV0aFNlcnZpY2VGYWN0b3J5KTtcblxuXHRiaW5kPElSb3V0ZXJzTWFuYWdlcj4oJ1JvdXRlcnNNYW5hZ2VyJylcblx0XHQudG8oUm91dGVyc01hbmFnZXIpXG5cdFx0LmluU2luZ2xldG9uU2NvcGUoKTtcblxuXHRiaW5kPFNlcnZpY2VzQXBwPihTZXJ2aWNlc0FwcCkudG9TZWxmKCkuaW5TaW5nbGV0b25TY29wZSgpO1xufSk7XG5cbmNvbnN0IGNvbnRhaW5lciA9IG5ldyBDb250YWluZXIoKTtcblxuY29udGFpbmVyLmxvYWQoYmluZGluZ3MpO1xuXG5leHBvcnQgY29uc3Qgc2VydmljZXNDb250YWluZXIgPSBjb250YWluZXI7XG4iLCJpbXBvcnQgTG9nZ2VyIGZyb20gJ2J1bnlhbic7XG5pbXBvcnQgeyBpbmplY3QsIGluamVjdGFibGUgfSBmcm9tICdpbnZlcnNpZnknO1xuaW1wb3J0IHsgY3JlYXRlRXZlckxvZ2dlciB9IGZyb20gJy4uLy4uL2hlbHBlcnMvTG9nJztcbmltcG9ydCB7IElJbnZpdGVSZXF1ZXN0Q3JlYXRlT2JqZWN0IH0gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9pbnRlcmZhY2VzL0lJbnZpdGVSZXF1ZXN0JztcbmltcG9ydCBJbnZpdGVSZXF1ZXN0IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvSW52aXRlUmVxdWVzdCc7XG5pbXBvcnQgeyBEQlNlcnZpY2UsIEV4aXN0ZW5jZUV2ZW50VHlwZSB9IGZyb20gJ0BweXJvL2RiLXNlcnZlcic7XG5pbXBvcnQgeyBJbnZpdGVzU2VydmljZSB9IGZyb20gJy4vSW52aXRlc1NlcnZpY2UnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcy9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBJbnZpdGUgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9JbnZpdGUnO1xuaW1wb3J0IElMYW5ndWFnZSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2ludGVyZmFjZXMvSUxhbmd1YWdlJztcbmltcG9ydCByZXF1ZXN0UHJvbWlzZSBmcm9tICdyZXF1ZXN0LXByb21pc2UnO1xuaW1wb3J0IEJsdWViaXJkIGZyb20gJ2JsdWViaXJkJztcbmltcG9ydCB7IERldmljZXNTZXJ2aWNlIH0gZnJvbSAnLi4vZGV2aWNlcyc7XG5pbXBvcnQgRGV2aWNlIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvRGV2aWNlJztcbmltcG9ydCB7IGxhdW5jaGVkIH0gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9ub3RpZmljYXRpb25zJztcbmltcG9ydCBJSW52aXRlUmVxdWVzdFJvdXRlciBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL3JvdXRlcnMvSUludml0ZVJlcXVlc3RSb3V0ZXInO1xuaW1wb3J0IHsgYXN5bmNMaXN0ZW5lciwgb2JzZXJ2YWJsZUxpc3RlbmVyLCByb3V0ZXJOYW1lIH0gZnJvbSAnQHB5cm8vaW8nO1xuaW1wb3J0IElTZXJ2aWNlIGZyb20gJy4uL0lTZXJ2aWNlJztcbmltcG9ydCB7IGVudiB9IGZyb20gJy4uLy4uL2Vudic7XG5pbXBvcnQgeyBmaWx0ZXIsIGZpcnN0LCBtYXAsIHN3aXRjaE1hcCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IElHZW9Mb2NhdGlvbkNyZWF0ZU9iamVjdCB9IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JR2VvTG9jYXRpb24nO1xuaW1wb3J0IHsgQ291bnRyeSB9IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvR2VvTG9jYXRpb24nO1xuaW1wb3J0IElQYWdpbmdPcHRpb25zIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JUGFnaW5nT3B0aW9ucyc7XG5pbXBvcnQgZmFrZXIgZnJvbSAnZmFrZXInO1xuXG5AaW5qZWN0YWJsZSgpXG5Acm91dGVyTmFtZSgnaW52aXRlLXJlcXVlc3QnKVxuZXhwb3J0IGNsYXNzIEludml0ZXNSZXF1ZXN0c1NlcnZpY2UgZXh0ZW5kcyBEQlNlcnZpY2U8SW52aXRlUmVxdWVzdD5cblx0aW1wbGVtZW50cyBJSW52aXRlUmVxdWVzdFJvdXRlciwgSVNlcnZpY2Uge1xuXHRwdWJsaWMgcmVhZG9ubHkgREJPYmplY3Q6IGFueSA9IEludml0ZVJlcXVlc3Q7XG5cdHByb3RlY3RlZCByZWFkb25seSBsb2c6IExvZ2dlciA9IGNyZWF0ZUV2ZXJMb2dnZXIoe1xuXHRcdG5hbWU6ICdpbnZpdGVzUmVxdWVzdHNTZXJ2aWNlJyxcblx0fSk7XG5cblx0cHJvdGVjdGVkIHB1c2hTZW5kaW5nSW52aXRlc1N1YnNjcmlwdGlvbjogU3Vic2NyaXB0aW9uID0gU3Vic2NyaXB0aW9uLkVNUFRZO1xuXG5cdGNvbnN0cnVjdG9yKFxuXHRcdEBpbmplY3QoSW52aXRlc1NlcnZpY2UpIHByb3RlY3RlZCBpbnZpdGVzU2VydmljZTogSW52aXRlc1NlcnZpY2UsXG5cdFx0QGluamVjdChEZXZpY2VzU2VydmljZSkgcHJvdGVjdGVkIGRldmljZXNTZXJ2aWNlOiBEZXZpY2VzU2VydmljZVxuXHQpIHtcblx0XHRzdXBlcigpO1xuXG5cdFx0dGhpcy5wdXNoU2VuZGluZ0ludml0ZXNTdWJzY3JpcHRpb24gPSB0aGlzLmludml0ZXNTZXJ2aWNlLmV4aXN0ZW5jZVxuXHRcdFx0LnBpcGUoXG5cdFx0XHRcdGZpbHRlcihcblx0XHRcdFx0XHQoZXhpc3RlbmNlRXZlbnQpID0+XG5cdFx0XHRcdFx0XHRleGlzdGVuY2VFdmVudC50eXBlID09PSBFeGlzdGVuY2VFdmVudFR5cGUuQ3JlYXRlZFxuXHRcdFx0XHQpLFxuXHRcdFx0XHRtYXAoKGV4aXN0ZW5jZUV2ZW50KSA9PiBleGlzdGVuY2VFdmVudC52YWx1ZSBhcyBJbnZpdGUpXG5cdFx0XHQpXG5cdFx0XHQuc3Vic2NyaWJlKGFzeW5jIChpbnZpdGUpID0+IHtcblx0XHRcdFx0aW50ZXJmYWNlIEFnZ3JlZ2F0ZVJlc3VsdCB7XG5cdFx0XHRcdFx0X2lkOiBzdHJpbmc7IC8vIGRldmljZUlkXG5cdFx0XHRcdFx0Y3JlYXRlZEF0OiBzdHJpbmc7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zdCByZXN1bHRzOiBBZ2dyZWdhdGVSZXN1bHRbXSA9IGF3YWl0IHRoaXMuTW9kZWwuYWdncmVnYXRlKClcblx0XHRcdFx0XHQuc29ydCh7IGNoYW5uZWxJZDogMSwgX2NyZWF0ZWRBdDogMSB9KVxuXHRcdFx0XHRcdC5ncm91cCh7XG5cdFx0XHRcdFx0XHRfaWQ6ICckZGV2aWNlSWQnLFxuXHRcdFx0XHRcdFx0Y3JlYXRlZEF0OiB7ICRsYXN0OiAnJF9jcmVhdGVkQXQnIH0sXG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0XHQuZXhlYygpO1xuXG5cdFx0XHRcdGlmIChyZXN1bHRzLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLm5vdGlmeUFib3V0TGF1bmNoKFxuXHRcdFx0XHRcdFx0aW52aXRlLFxuXHRcdFx0XHRcdFx0Xy5tYXAocmVzdWx0cywgKHJlc3VsdCkgPT4gcmVzdWx0Ll9pZClcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0fVxuXG5cdEBvYnNlcnZhYmxlTGlzdGVuZXIoKVxuXHRnZXQoaWQ6IHN0cmluZykge1xuXHRcdHJldHVybiBzdXBlci5nZXQoaWQpLnBpcGUoXG5cdFx0XHRtYXAoYXN5bmMgKGludml0ZVJlcSkgPT4ge1xuXHRcdFx0XHRhd2FpdCB0aGlzLnRocm93SWZOb3RFeGlzdHMoaWQpO1xuXHRcdFx0XHRyZXR1cm4gaW52aXRlUmVxO1xuXHRcdFx0fSksXG5cdFx0XHRzd2l0Y2hNYXAoKGludml0ZVJlcSkgPT4gaW52aXRlUmVxKVxuXHRcdCk7XG5cdH1cblxuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIGNyZWF0ZShcblx0XHRpbnZpdGVSZXF1ZXN0OiBJSW52aXRlUmVxdWVzdENyZWF0ZU9iamVjdFxuXHQpOiBQcm9taXNlPEludml0ZVJlcXVlc3Q+IHtcblx0XHRyZXR1cm4gc3VwZXIuY3JlYXRlKGludml0ZVJlcXVlc3QpO1xuXHR9XG5cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyBub3RpZnlBYm91dExhdW5jaChcblx0XHRpbnZpdGU6IEludml0ZSxcblx0XHRkZXZpY2VzSWRzOiBzdHJpbmdbXVxuXHQpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRjb25zdCBkZXZpY2VzID0gYXdhaXQgKFxuXHRcdFx0YXdhaXQgdGhpcy5kZXZpY2VzU2VydmljZS5nZXRNdWx0aXBsZURldmljZXMoZGV2aWNlc0lkcylcblx0XHQpXG5cdFx0XHQucGlwZShmaXJzdCgpKVxuXHRcdFx0LnRvUHJvbWlzZSgpO1xuXG5cdFx0Y29uc3QgZGV2aWNlc0J5TGFuZ3VhZ2VzID0gXy5ncm91cEJ5KFxuXHRcdFx0ZGV2aWNlcyxcblx0XHRcdChkZXZpY2UpID0+IGRldmljZS5sYW5ndWFnZVxuXHRcdCk7XG5cdFx0Y29uc3QgbGFuZ3VhZ2VzID0gXy5rZXlzKGRldmljZXNCeUxhbmd1YWdlcykgYXMgSUxhbmd1YWdlW107XG5cblx0XHRhd2FpdCAoPGFueT5CbHVlYmlyZCkubWFwKGxhbmd1YWdlcywgYXN5bmMgKGxhbmd1YWdlOiBJTGFuZ3VhZ2UpID0+IHtcblx0XHRcdGNvbnN0IGRldmljZXNCeUxhbmd1YWdlOiBEZXZpY2VbXSA9IGRldmljZXNCeUxhbmd1YWdlc1tsYW5ndWFnZV07XG5cblx0XHRcdGNvbnN0IHJlcXVlc3QgPSB7XG5cdFx0XHRcdGF1ZGllbmNlOiB0aGlzLl9nZXRMYXVuY2hBdWRpZW5jZShkZXZpY2VzQnlMYW5ndWFnZSksXG5cdFx0XHRcdGRldmljZV90eXBlczogJ2FsbCcsXG5cdFx0XHRcdG5vdGlmaWNhdGlvbjogdGhpcy5fZ2V0TGF1bmNoTm90aWZpY2F0aW9uKGxhbmd1YWdlLCBpbnZpdGUpLFxuXHRcdFx0fTtcblxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Y29uc3QgcnA6IGFueSA9IHJlcXVlc3RQcm9taXNlO1xuXG5cdFx0XHRcdGF3YWl0IHJwKHtcblx0XHRcdFx0XHRtZXRob2Q6ICdQT1NUJyxcblx0XHRcdFx0XHR1cmk6ICdodHRwczovL2dvLnVyYmFuYWlyc2hpcC5jb20vYXBpL3B1c2gnLFxuXHRcdFx0XHRcdGJvZHk6IHJlcXVlc3QsXG5cdFx0XHRcdFx0aGVhZGVyczoge1xuXHRcdFx0XHRcdFx0QWNjZXB0OiAnYXBwbGljYXRpb24vdm5kLnVyYmFuYWlyc2hpcCtqc29uOyB2ZXJzaW9uPTM7Jyxcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGF1dGg6IHtcblx0XHRcdFx0XHRcdHVzZXI6IGVudi5VUkJBTl9BSVJTSElQX0tFWSxcblx0XHRcdFx0XHRcdHBhc3M6IGVudi5VUkJBTl9BSVJTSElQX1NFQ1JFVCxcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGpzb246IHRydWUsXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRjb25zb2xlLmVycm9yKGAubm90aWZ5QWJvdXRMYXVuY2goLi4uKSBlcnJvcjogJHtlLm1lc3NhZ2V9YCk7XG5cdFx0XHRcdHRocm93IGU7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIGdldEludml0ZXNSZXF1ZXN0cyhcblx0XHRmaW5kSW5wdXQ6IGFueSxcblx0XHRpbnZpdGVkOiBhbnksXG5cdFx0cGFnaW5nT3B0aW9uczogSVBhZ2luZ09wdGlvbnNcblx0KTogUHJvbWlzZTxhbnk+IHtcblx0XHRjb25zdCBzb3J0T2JqID0ge307XG5cblx0XHRjb25zdCBmaW5kTm90SW52aXRlZCA9IHtcblx0XHRcdC4uLmZpbmRJbnB1dCxcblx0XHRcdGlzRGVsZXRlZDogeyAkZXE6IGZhbHNlIH0sXG5cdFx0XHRpc0ludml0ZWQ6IHsgJGVxOiBmYWxzZSB9LFxuXHRcdH07XG5cblx0XHRpZiAocGFnaW5nT3B0aW9ucy5zb3J0KSB7XG5cdFx0XHRzb3J0T2JqW3BhZ2luZ09wdGlvbnMuc29ydC5maWVsZF0gPSBwYWdpbmdPcHRpb25zLnNvcnQuc29ydEJ5O1xuXHRcdH1cblxuXHRcdGNvbnN0IGludml0ZVJlcXVlc3RzID0gYXdhaXQgdGhpcy5Nb2RlbC5maW5kKGZpbmROb3RJbnZpdGVkKVxuXHRcdFx0LnNvcnQoc29ydE9iailcblx0XHRcdC5za2lwKHBhZ2luZ09wdGlvbnMuc2tpcClcblx0XHRcdC5saW1pdChwYWdpbmdPcHRpb25zLmxpbWl0KVxuXHRcdFx0LmxlYW4oKVxuXHRcdFx0LmV4ZWMoKTtcblxuXHRcdGNvbnN0IGFsbE5vdEludml0ZWRDb3VudCA9IGF3YWl0IHRoaXMuTW9kZWwuZmluZChmaW5kTm90SW52aXRlZClcblx0XHRcdC5jb3VudERvY3VtZW50cygpXG5cdFx0XHQuZXhlYygpO1xuXG5cdFx0Y29uc3Qgc2tpcEludml0ZWQgPVxuXHRcdFx0cGFnaW5nT3B0aW9ucy5za2lwICsgaW52aXRlUmVxdWVzdHMubGVuZ3RoIC0gYWxsTm90SW52aXRlZENvdW50O1xuXG5cdFx0aWYgKGludml0ZWQgJiYgc2tpcEludml0ZWQgPj0gMCkge1xuXHRcdFx0Y29uc3QgaW52aXRlZEZyb21EQiA9IGF3YWl0IHRoaXMuTW9kZWwuZmluZCh7XG5cdFx0XHRcdC4uLmZpbmRJbnB1dCxcblx0XHRcdFx0aXNEZWxldGVkOiB7ICRlcTogZmFsc2UgfSxcblx0XHRcdFx0aXNJbnZpdGVkOiB7ICRlcTogdHJ1ZSB9LFxuXHRcdFx0fSlcblx0XHRcdFx0LnNvcnQoeyBpbnZpdGVkRGF0ZTogJ2Rlc2MnIH0pXG5cdFx0XHRcdC5za2lwKHNraXBJbnZpdGVkKVxuXHRcdFx0XHQubGltaXQocGFnaW5nT3B0aW9ucy5saW1pdCAtIGludml0ZVJlcXVlc3RzLmxlbmd0aClcblx0XHRcdFx0LmxlYW4oKVxuXHRcdFx0XHQuZXhlYygpO1xuXG5cdFx0XHRyZXR1cm4gWy4uLmludml0ZVJlcXVlc3RzLCAuLi5pbnZpdGVkRnJvbURCXTtcblx0XHR9XG5cblx0XHRyZXR1cm4gaW52aXRlUmVxdWVzdHM7XG5cdH1cblxuXHRhc3luYyB0aHJvd0lmTm90RXhpc3RzKGludml0ZVJlcXVlc3RJZDogc3RyaW5nKSB7XG5cdFx0Y29uc3QgaW52aXRlUmVxdWVzdCA9IGF3YWl0IHN1cGVyXG5cdFx0XHQuZ2V0KGludml0ZVJlcXVlc3RJZClcblx0XHRcdC5waXBlKGZpcnN0KCkpXG5cdFx0XHQudG9Qcm9taXNlKCk7XG5cblx0XHRpZiAoIWludml0ZVJlcXVlc3QgfHwgaW52aXRlUmVxdWVzdC5pc0RlbGV0ZWQpIHtcblx0XHRcdHRocm93IEVycm9yKFxuXHRcdFx0XHRgSW52aXRlIHJlcXVlc3Qgd2l0aCBpZCAnJHtpbnZpdGVSZXF1ZXN0SWR9JyBkb2VzIG5vdCBleGlzdHMhYFxuXHRcdFx0KTtcblx0XHR9XG5cdH1cblxuXHRhc3luYyBnZW5lcmF0ZTEwMDBJbnZpdGVSZXF1ZXN0cyhkZWZhdWx0TG5nOiBudW1iZXIsIGRlZmF1bHRMYXQ6IG51bWJlcikge1xuXHRcdGNvbnN0IGludml0ZXNSZXF1ZXN0c1RvQ3JlYXRlOiBJSW52aXRlUmVxdWVzdENyZWF0ZU9iamVjdFtdID0gW107XG5cblx0XHRsZXQgaW52aXRlUmVxdWVzdHNDb3VudCA9IDE7XG5cblx0XHR3aGlsZSAoaW52aXRlUmVxdWVzdHNDb3VudCA8PSAxMDAwKSB7XG5cdFx0XHRjb25zdCBob3VzZU51bWJlciA9IGAke2ludml0ZVJlcXVlc3RzQ291bnR9YDtcblxuXHRcdFx0Y29uc3QgcmVxdWVzdExvY2F0aW9uID0gdGhpcy5fZ2V0SW52aXRlUmVxdWVzdEdlb0xvY2F0aW9uQ3JlYXRlT2JqKFxuXHRcdFx0XHRob3VzZU51bWJlcixcblx0XHRcdFx0ZGVmYXVsdExuZyxcblx0XHRcdFx0ZGVmYXVsdExhdFxuXHRcdFx0KTtcblxuXHRcdFx0aW52aXRlc1JlcXVlc3RzVG9DcmVhdGUucHVzaCh7XG5cdFx0XHRcdGlzSW52aXRlZDogZmFsc2UsXG5cdFx0XHRcdGFwYXJ0bWVudDogYCR7aW52aXRlUmVxdWVzdHNDb3VudH1gLFxuXHRcdFx0XHRnZW9Mb2NhdGlvbjogcmVxdWVzdExvY2F0aW9uLFxuXHRcdFx0fSk7XG5cblx0XHRcdGludml0ZVJlcXVlc3RzQ291bnQgKz0gMTtcblx0XHR9XG5cblx0XHRhd2FpdCB0aGlzLk1vZGVsLmluc2VydE1hbnkoaW52aXRlc1JlcXVlc3RzVG9DcmVhdGUpO1xuXHR9XG5cblx0cHJpdmF0ZSBfZ2V0TGF1bmNoQXVkaWVuY2UoZGV2aWNlczogRGV2aWNlW10pIHtcblx0XHRjb25zdCBhdWRpZW5jZToge1xuXHRcdFx0b3I6IEFycmF5PFxuXHRcdFx0XHR8IHsgaW9zX2NoYW5uZWw6IHN0cmluZ1tdIHwgc3RyaW5nIH1cblx0XHRcdFx0fCB7IGFuZHJvaWRfY2hhbm5lbDogc3RyaW5nW10gfCBzdHJpbmcgfVxuXHRcdFx0Pjtcblx0XHR9ID0ge1xuXHRcdFx0b3I6IFtdLFxuXHRcdH07XG5cblx0XHRjb25zdCBpb3NfZGV2aWNlcyA9IF8uZmlsdGVyKFxuXHRcdFx0ZGV2aWNlcyxcblx0XHRcdChkZXZpY2UpID0+IGRldmljZS50eXBlID09PSAnaW9zJ1xuXHRcdCk7XG5cblx0XHRpZiAoaW9zX2RldmljZXMubGVuZ3RoID4gMCkge1xuXHRcdFx0YXVkaWVuY2Uub3IucHVzaCh7XG5cdFx0XHRcdGlvc19jaGFubmVsOiBpb3NfZGV2aWNlc1xuXHRcdFx0XHRcdC5tYXAoKGRldmljZSkgPT4gZGV2aWNlLmNoYW5uZWxJZClcblx0XHRcdFx0XHQuZmlsdGVyKChjaGFubmVsSWQpID0+IGNoYW5uZWxJZCAhPSBudWxsKVxuXHRcdFx0XHRcdC5tYXAoKGNoYW5uZWxJZCkgPT4gY2hhbm5lbElkIGFzIHN0cmluZyksXG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRjb25zdCBhbmRyb2lkX2RldmljZXMgPSBfLmZpbHRlcihcblx0XHRcdGRldmljZXMsXG5cdFx0XHQoZGV2aWNlKSA9PiBkZXZpY2UudHlwZSA9PT0gJ2FuZHJvaWQnXG5cdFx0KTtcblxuXHRcdGlmIChhbmRyb2lkX2RldmljZXMubGVuZ3RoID4gMCkge1xuXHRcdFx0YXVkaWVuY2Uub3IucHVzaCh7XG5cdFx0XHRcdGFuZHJvaWRfY2hhbm5lbDogYW5kcm9pZF9kZXZpY2VzXG5cdFx0XHRcdFx0Lm1hcCgoZGV2aWNlKSA9PiBkZXZpY2UuY2hhbm5lbElkKVxuXHRcdFx0XHRcdC5maWx0ZXIoKGNoYW5uZWxJZCkgPT4gY2hhbm5lbElkICE9IG51bGwpXG5cdFx0XHRcdFx0Lm1hcCgoY2hhbm5lbElkKSA9PiBjaGFubmVsSWQgYXMgc3RyaW5nKSxcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHJldHVybiBhdWRpZW5jZTtcblx0fVxuXG5cdHByaXZhdGUgX2dldExhdW5jaE5vdGlmaWNhdGlvbihsYW5ndWFnZTogSUxhbmd1YWdlLCBpbnZpdGU6IEludml0ZSk6IGFueSB7XG5cdFx0c3dpdGNoIChsYW5ndWFnZSkge1xuXHRcdFx0Y2FzZSAnZW4tVVMnOlxuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdGFuZHJvaWQ6IHtcblx0XHRcdFx0XHRcdHRpdGxlOiAnRXZlciBqdXN0IGxhdW5jaGVkIScsXG5cdFx0XHRcdFx0XHRhbGVydDogJ0NsaWNrIHRvIHNlZSBzb21lIGF2YWlsYWJsZSBwcm9kdWN0cy4nLFxuXHRcdFx0XHRcdFx0ZXh0cmE6IHtcblx0XHRcdFx0XHRcdFx0ZXZlbnQ6IGxhdW5jaGVkLFxuXHRcdFx0XHRcdFx0XHRpbnZpdGU6IEpTT04uc3RyaW5naWZ5KGludml0ZSksXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0aW9zOiB7XG5cdFx0XHRcdFx0XHRhbGVydDogJ0V2ZXIganVzdCBsYXVuY2hlZCBhdCB5b3VyIGFkZHJlc3MuIEhhdmUgZnVuIScsXG5cdFx0XHRcdFx0XHRleHRyYToge1xuXHRcdFx0XHRcdFx0XHRldmVudDogbGF1bmNoZWQsXG5cdFx0XHRcdFx0XHRcdGludml0ZTogSlNPTi5zdHJpbmdpZnkoaW52aXRlKSxcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0fTtcblx0XHRcdGNhc2UgJ3J1LVJVJzpcblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRhbmRyb2lkOiB7XG5cdFx0XHRcdFx0XHR0aXRsZTogJ0V2ZXIg0YLQvtC70YzQutC+INGH0YLQviDQt9Cw0L/Rg9GB0YLQuNC70YHRjyEnLFxuXHRcdFx0XHRcdFx0YWxlcnQ6ICfQmtC70LjQutC90LjRgtC1INGH0YLQvtCx0Ysg0YPQstC40LTQuNGC0Ywg0LTQvtGB0YLRg9C/0L3Ri9C1INC/0YDQvtC00YPQutGC0YsuJyxcblx0XHRcdFx0XHRcdGV4dHJhOiB7XG5cdFx0XHRcdFx0XHRcdGV2ZW50OiBsYXVuY2hlZCxcblx0XHRcdFx0XHRcdFx0aW52aXRlOiBKU09OLnN0cmluZ2lmeShpbnZpdGUpLFxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGlvczoge1xuXHRcdFx0XHRcdFx0YWxlcnQ6XG5cdFx0XHRcdFx0XHRcdCdFdmVyINGC0L7Qu9GM0YPQviDRh9GC0L4g0LfQsNC/0YPRgdGC0LjQu9GB0Y8g0L/QviDQktCw0YjQtdC80YMg0LDQtNGA0LXRgdGDLiDQo9C00LDRh9C4IScsXG5cdFx0XHRcdFx0XHRleHRyYToge1xuXHRcdFx0XHRcdFx0XHRldmVudDogbGF1bmNoZWQsXG5cdFx0XHRcdFx0XHRcdGludml0ZTogSlNPTi5zdHJpbmdpZnkoaW52aXRlKSxcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0fTtcblx0XHRcdGNhc2UgJ2JnLUJHJzpcblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRhbmRyb2lkOiB7XG5cdFx0XHRcdFx0XHR0aXRsZTogJ0V2ZXIg0YHRgtCw0YDRgtC40YDQsCEnLFxuXHRcdFx0XHRcdFx0YWxlcnQ6ICfQmtC70LjQutC90LXRgtC1LCDQt9CwINC00LAg0LLQuNC00LjRgtC1INC90Y/QutC+0Lgg0L3QsNC70LjRh9C90Lgg0L/RgNC+0LTRg9C60YLQuC4nLFxuXHRcdFx0XHRcdFx0ZXh0cmE6IHtcblx0XHRcdFx0XHRcdFx0ZXZlbnQ6IGxhdW5jaGVkLFxuXHRcdFx0XHRcdFx0XHRpbnZpdGU6IEpTT04uc3RyaW5naWZ5KGludml0ZSksXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0aW9zOiB7XG5cdFx0XHRcdFx0XHRhbGVydDogJ0V2ZXIg0YHRgtCw0YDRgtC40YDQsCDQvdCwINCy0LDRiNC40Y8g0LDQtNGA0LXRgS4g0JfQsNCx0LDQstC70Y/QstCw0Lkg0YHQtSEnLFxuXHRcdFx0XHRcdFx0ZXh0cmE6IHtcblx0XHRcdFx0XHRcdFx0ZXZlbnQ6IGxhdW5jaGVkLFxuXHRcdFx0XHRcdFx0XHRpbnZpdGU6IEpTT04uc3RyaW5naWZ5KGludml0ZSksXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdH07XG5cdFx0XHRjYXNlICdoZS1JTCc6XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdGFuZHJvaWQ6IHtcblx0XHRcdFx0XHRcdHRpdGxlOiAn15TXldep16fXoNeVINeR15vXqteV15HXqiDXqdec15ohJyxcblx0XHRcdFx0XHRcdGFsZXJ0OiAn16rXnNeX16Ug15vXk9eZINec16bXpNeV16og15HXnteV16bXqNeZ150hJyxcblx0XHRcdFx0XHRcdGV4dHJhOiB7XG5cdFx0XHRcdFx0XHRcdGV2ZW50OiBsYXVuY2hlZCxcblx0XHRcdFx0XHRcdFx0aW52aXRlOiBKU09OLnN0cmluZ2lmeShpbnZpdGUpLFxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGlvczoge1xuXHRcdFx0XHRcdFx0YWxlcnQ6ICdFdmVyINeU15XXqdenINeR15vXqteV15HXqiDXqdec15ohINeq15zXl9elINeb15PXmSDXnNem16TXldeqINeR157Xldem16jXmdedIScsXG5cdFx0XHRcdFx0XHRleHRyYToge1xuXHRcdFx0XHRcdFx0XHRldmVudDogbGF1bmNoZWQsXG5cdFx0XHRcdFx0XHRcdGludml0ZTogSlNPTi5zdHJpbmdpZnkoaW52aXRlKSxcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0fTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIF9nZXRJbnZpdGVSZXF1ZXN0R2VvTG9jYXRpb25DcmVhdGVPYmooXG5cdFx0aG91c2VOdW1iZXI6IHN0cmluZyxcblx0XHRkZWZhdWx0TG5nOiBudW1iZXIsXG5cdFx0ZGVmYXVsdExhdDogbnVtYmVyXG5cdCk6IElHZW9Mb2NhdGlvbkNyZWF0ZU9iamVjdCB7XG5cdFx0Y29uc3QgR2VvTG9jYXRpb246IElHZW9Mb2NhdGlvbkNyZWF0ZU9iamVjdCA9IHtcblx0XHRcdGNvdW50cnlJZDogZmFrZXIucmFuZG9tLm51bWJlcihDb3VudHJ5LlpXKSBhcyBDb3VudHJ5LFxuXHRcdFx0Y2l0eTogZmFrZXIuYWRkcmVzcy5jaXR5KCksXG5cdFx0XHRob3VzZTogaG91c2VOdW1iZXIsXG5cdFx0XHRsb2M6IHtcblx0XHRcdFx0dHlwZTogJ1BvaW50Jyxcblx0XHRcdFx0Y29vcmRpbmF0ZXM6IFtkZWZhdWx0TG5nLCBkZWZhdWx0TGF0XSxcblx0XHRcdH0sXG5cdFx0XHRzdHJlZXRBZGRyZXNzOiBmYWtlci5hZGRyZXNzLnN0cmVldEFkZHJlc3MoKSxcblx0XHR9O1xuXHRcdHJldHVybiBHZW9Mb2NhdGlvbjtcblx0fVxufVxuIiwiaW1wb3J0IExvZ2dlciBmcm9tICdidW55YW4nO1xuaW1wb3J0IHsgaW5qZWN0YWJsZSB9IGZyb20gJ2ludmVyc2lmeSc7XG5pbXBvcnQgVXRpbHMgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi91dGlscyc7XG5pbXBvcnQgeyBjcmVhdGVFdmVyTG9nZ2VyIH0gZnJvbSAnLi4vLi4vaGVscGVycy9Mb2cnO1xuaW1wb3J0IEludml0ZSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL0ludml0ZSc7XG5pbXBvcnQgeyBEQlNlcnZpY2UsIEV4aXN0ZW5jZUV2ZW50VHlwZSB9IGZyb20gJ0BweXJvL2RiLXNlcnZlcic7XG5pbXBvcnQgeyBJSW52aXRlQ3JlYXRlT2JqZWN0IH0gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9pbnRlcmZhY2VzL0lJbnZpdGUnO1xuaW1wb3J0IElFbnRlckJ5Q29kZSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2ludGVyZmFjZXMvSUVudGVyQnlDb2RlJztcbmltcG9ydCBJRW50ZXJCeUxvY2F0aW9uIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JRW50ZXJCeUxvY2F0aW9uJztcbmltcG9ydCBJU3RyZWV0TG9jYXRpb24gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9pbnRlcmZhY2VzL0lTdHJlZXRMb2NhdGlvbic7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgSUludml0ZVJvdXRlciBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL3JvdXRlcnMvSUludml0ZVJvdXRlcic7XG5pbXBvcnQgeyBhc3luY0xpc3RlbmVyLCBvYnNlcnZhYmxlTGlzdGVuZXIsIHJvdXRlck5hbWUgfSBmcm9tICdAcHlyby9pbyc7XG5pbXBvcnQgSVNlcnZpY2UgZnJvbSAnLi4vSVNlcnZpY2UnO1xuaW1wb3J0IHsgb2YgfSBmcm9tICdyeGpzL29ic2VydmFibGUvb2YnO1xuaW1wb3J0IHtcblx0Y29uY2F0LFxuXHRleGhhdXN0TWFwLFxuXHRmaWx0ZXIsXG5cdG1hcCxcblx0Zmlyc3QsXG5cdHN3aXRjaE1hcCxcbn0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHsgZnJvbSB9IGZyb20gJ3J4anMvb2JzZXJ2YWJsZS9mcm9tJztcbmltcG9ydCBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5pbXBvcnQgeyBlbnYgfSBmcm9tICcuLi8uLi9lbnYnO1xuaW1wb3J0IHsgSUdlb0xvY2F0aW9uQ3JlYXRlT2JqZWN0IH0gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9pbnRlcmZhY2VzL0lHZW9Mb2NhdGlvbic7XG5pbXBvcnQgeyBJSW52aXRlUmVxdWVzdENyZWF0ZU9iamVjdCB9IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JSW52aXRlUmVxdWVzdCc7XG5pbXBvcnQgZmFrZXIgZnJvbSAnZmFrZXInO1xuaW1wb3J0IHsgQ291bnRyeSB9IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvR2VvTG9jYXRpb24nO1xuaW1wb3J0IElQYWdpbmdPcHRpb25zIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JUGFnaW5nT3B0aW9ucyc7XG5cbkBpbmplY3RhYmxlKClcbkByb3V0ZXJOYW1lKCdpbnZpdGUnKVxuZXhwb3J0IGNsYXNzIEludml0ZXNTZXJ2aWNlIGV4dGVuZHMgREJTZXJ2aWNlPEludml0ZT5cblx0aW1wbGVtZW50cyBJSW52aXRlUm91dGVyLCBJU2VydmljZSB7XG5cdHByb3RlY3RlZCByZWFkb25seSBsb2c6IExvZ2dlciA9IGNyZWF0ZUV2ZXJMb2dnZXIoe1xuXHRcdG5hbWU6ICdpbnZpdGVzU2VydmljZScsXG5cdH0pO1xuXG5cdHB1YmxpYyByZWFkb25seSBEQk9iamVjdDogYW55ID0gSW52aXRlO1xuXG5cdHByb3RlY3RlZCBfaW52aXRlZFN0cmVldExvY2F0aW9uczogT2JzZXJ2YWJsZTxJU3RyZWV0TG9jYXRpb25bXT47XG5cblx0cHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgSW52aXRlV29ya2luZ0Rpc3RhbmNlID0gNTAwMDA7XG5cblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0c3VwZXIoKTtcblxuXHRcdHRoaXMuX2ludml0ZWRTdHJlZXRMb2NhdGlvbnMgPSBvZihudWxsKS5waXBlKFxuXHRcdFx0Y29uY2F0KHRoaXMuZXhpc3RlbmNlKSxcblx0XHRcdGV4aGF1c3RNYXAoKCkgPT4gdGhpcy5fZ2V0SW52aXRlZFN0cmVldExvY2F0aW9ucygpKVxuXHRcdCk7XG5cdH1cblxuXHRAb2JzZXJ2YWJsZUxpc3RlbmVyKClcblx0Z2V0KGlkOiBzdHJpbmcpIHtcblx0XHRyZXR1cm4gc3VwZXIuZ2V0KGlkKS5waXBlKFxuXHRcdFx0bWFwKGFzeW5jIChpbnZpdGUpID0+IHtcblx0XHRcdFx0YXdhaXQgdGhpcy50aHJvd0lmTm90RXhpc3RzKGlkKTtcblx0XHRcdFx0cmV0dXJuIGludml0ZTtcblx0XHRcdH0pLFxuXHRcdFx0c3dpdGNoTWFwKChpbnZpdGUpID0+IHtcblx0XHRcdFx0cmV0dXJuIGludml0ZTtcblx0XHRcdH0pXG5cdFx0KTtcblx0fVxuXG5cdEBvYnNlcnZhYmxlTGlzdGVuZXIoKVxuXHRnZXRJbnZpdGVkU3RyZWV0TG9jYXRpb25zKCkge1xuXHRcdHJldHVybiB0aGlzLl9pbnZpdGVkU3RyZWV0TG9jYXRpb25zO1xuXHR9XG5cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRjcmVhdGUoaW52aXRlOiBJSW52aXRlQ3JlYXRlT2JqZWN0KTogUHJvbWlzZTxJbnZpdGU+IHtcblx0XHRpZiAoIWludml0ZS5jb2RlKSB7XG5cdFx0XHRpbnZpdGUuY29kZSA9IFV0aWxzLmdldFJhbmRvbUludCgxMDAxLCA5OTk5KSArICcnO1xuXHRcdH1cblx0XHRyZXR1cm4gc3VwZXIuY3JlYXRlKGludml0ZSk7XG5cdH1cblxuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGdldEludml0ZXNTZXR0aW5ncygpOiBQcm9taXNlPHsgaXNFbmFibGVkOiBib29sZWFuIH0+IHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2U8eyBpc0VuYWJsZWQ6IGJvb2xlYW4gfT4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0cmVzb2x2ZSh7IGlzRW5hYmxlZDogZW52LlNFVFRJTkdfSU5WSVRFU19FTkFCTEVEIH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldCBJbnZpdGUgYnkgQ29kZVxuXHQgKiBXYXJuaW5nOiBjYW4gZW1pdCBudWxsIG9uIHN0YXJ0IVxuXHQgKlxuXHQgKiBAcGFyYW0ge0lFbnRlckJ5Q29kZX0gaW5mb1xuXHQgKiBAcmV0dXJucyB7KE9ic2VydmFibGU8SW52aXRlIHwgbnVsbD4pfVxuXHQgKiBAbWVtYmVyb2YgSW52aXRlc1NlcnZpY2Vcblx0ICovXG5cdEBvYnNlcnZhYmxlTGlzdGVuZXIoKVxuXHRnZXRCeUNvZGUoaW5mbzogSUVudGVyQnlDb2RlKTogT2JzZXJ2YWJsZTxJbnZpdGUgfCBudWxsPiB7XG5cdFx0Y29uc3QgZmluZE9iamVjdCA9IHtcblx0XHRcdGNvZGU6IGluZm8uaW52aXRlQ29kZSxcblx0XHR9O1xuXG5cdFx0aWYgKGluZm8uaW52aXRlQ29kZSAhPT0gZW52LkZBS0VfSU5WSVRFX0NPREUudG9TdHJpbmcoKSkge1xuXHRcdFx0ZmluZE9iamVjdFsnZ2VvTG9jYXRpb24ubG9jJ10gPSB7XG5cdFx0XHRcdCRuZWFyOiB7XG5cdFx0XHRcdFx0JGdlb21ldHJ5OiB7XG5cdFx0XHRcdFx0XHR0eXBlOiAnUG9pbnQnLFxuXHRcdFx0XHRcdFx0Y29vcmRpbmF0ZXM6IGluZm8ubG9jYXRpb24uY29vcmRpbmF0ZXMsXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHQkbWF4RGlzdGFuY2U6IEludml0ZXNTZXJ2aWNlLkludml0ZVdvcmtpbmdEaXN0YW5jZSwgLy8gNTBLbSBkaXN0YW5jZSBmb3IgdGVzdGluZyBvbmx5IVxuXHRcdFx0XHR9LFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZnJvbShcblx0XHRcdHRoaXMuZmluZE9uZSh7IC4uLmZpbmRPYmplY3QsIGlzRGVsZXRlZDogeyAkZXE6IGZhbHNlIH0gfSlcblx0XHQpLnBpcGUoXG5cdFx0XHRjb25jYXQoXG5cdFx0XHRcdHRoaXMuZXhpc3RlbmNlLnBpcGUoXG5cdFx0XHRcdFx0ZmlsdGVyKFxuXHRcdFx0XHRcdFx0KGV2ZW50KSA9PiBldmVudC50eXBlICE9PSBFeGlzdGVuY2VFdmVudFR5cGUuUmVtb3ZlZFxuXHRcdFx0XHRcdCksXG5cdFx0XHRcdFx0bWFwKChldmVudCkgPT4gZXZlbnQudmFsdWUgYXMgSW52aXRlKSxcblx0XHRcdFx0XHRmaWx0ZXIoKGludml0ZSkgPT4ge1xuXHRcdFx0XHRcdFx0cmV0dXJuIChcblx0XHRcdFx0XHRcdFx0VXRpbHMuZ2V0TG9jRGlzdGFuY2UoXG5cdFx0XHRcdFx0XHRcdFx0aW52aXRlLmdlb0xvY2F0aW9uLmxvYyxcblx0XHRcdFx0XHRcdFx0XHRpbmZvLmxvY2F0aW9uXG5cdFx0XHRcdFx0XHRcdCkgPD0gSW52aXRlc1NlcnZpY2UuSW52aXRlV29ya2luZ0Rpc3RhbmNlICYmXG5cdFx0XHRcdFx0XHRcdGludml0ZS5jb2RlID09PSBpbmZvLmludml0ZUNvZGVcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0KVxuXHRcdFx0KVxuXHRcdCk7XG5cdH1cblxuXHQvKipcblx0ICogR2V0IEludml0ZSBieSBDdXN0b21lciBMb2NhdGlvblxuXHQgKlxuXHQgKiBAcGFyYW0ge0lFbnRlckJ5TG9jYXRpb259IGluZm9cblx0ICogQHJldHVybnMgeyhPYnNlcnZhYmxlPEludml0ZSB8IG51bGw+KX1cblx0ICogQG1lbWJlcm9mIEludml0ZXNTZXJ2aWNlXG5cdCAqL1xuXHRAb2JzZXJ2YWJsZUxpc3RlbmVyKClcblx0Z2V0QnlMb2NhdGlvbihpbmZvOiBJRW50ZXJCeUxvY2F0aW9uKTogT2JzZXJ2YWJsZTxJbnZpdGUgfCBudWxsPiB7XG5cdFx0Y29uc3QgZmluZE9iamVjdCA9IHtcblx0XHRcdCdnZW9Mb2NhdGlvbi5jaXR5JzogaW5mby5jaXR5LFxuXHRcdFx0J2dlb0xvY2F0aW9uLnN0cmVldEFkZHJlc3MnOiBpbmZvLnN0cmVldEFkZHJlc3MsXG5cdFx0XHQnZ2VvTG9jYXRpb24uaG91c2UnOiBpbmZvLmhvdXNlLFxuXHRcdFx0J2dlb0xvY2F0aW9uLmNvdW50cnlJZCc6IGluZm8uY291bnRyeUlkLFxuXHRcdFx0YXBhcnRtZW50OiBpbmZvLmFwYXJ0bWVudCxcblx0XHR9O1xuXG5cdFx0aWYgKGluZm8ucG9zdGNvZGUgIT0gbnVsbCkge1xuXHRcdFx0ZmluZE9iamVjdFsnZ2VvTG9jYXRpb24ucG9zdGNvZGUnXSA9IGluZm8ucG9zdGNvZGU7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZyb20oXG5cdFx0XHR0aGlzLmZpbmRPbmUoeyAuLi5maW5kT2JqZWN0LCBpc0RlbGV0ZWQ6IHsgJGVxOiBmYWxzZSB9IH0pXG5cdFx0KS5waXBlKFxuXHRcdFx0Y29uY2F0KFxuXHRcdFx0XHR0aGlzLmV4aXN0ZW5jZS5waXBlKFxuXHRcdFx0XHRcdGZpbHRlcihcblx0XHRcdFx0XHRcdChldmVudCkgPT4gZXZlbnQudHlwZSAhPT0gRXhpc3RlbmNlRXZlbnRUeXBlLlJlbW92ZWRcblx0XHRcdFx0XHQpLFxuXHRcdFx0XHRcdG1hcCgoZXZlbnQpID0+IGV2ZW50LnZhbHVlIGFzIEludml0ZSksXG5cdFx0XHRcdFx0ZmlsdGVyKChpbnZpdGUpID0+IHtcblx0XHRcdFx0XHRcdHJldHVybiAoXG5cdFx0XHRcdFx0XHRcdGludml0ZS5nZW9Mb2NhdGlvbi5jaXR5ID09PSBpbmZvLmNpdHkgJiZcblx0XHRcdFx0XHRcdFx0aW52aXRlLmdlb0xvY2F0aW9uLnN0cmVldEFkZHJlc3MgPT09XG5cdFx0XHRcdFx0XHRcdFx0aW5mby5zdHJlZXRBZGRyZXNzICYmXG5cdFx0XHRcdFx0XHRcdGludml0ZS5nZW9Mb2NhdGlvbi5ob3VzZSA9PT0gaW5mby5ob3VzZSAmJlxuXHRcdFx0XHRcdFx0XHRpbnZpdGUuZ2VvTG9jYXRpb24uY291bnRyeUlkID09PSBpbmZvLmNvdW50cnlJZCAmJlxuXHRcdFx0XHRcdFx0XHRpbnZpdGUuYXBhcnRtZW50ID09PSBpbmZvLmFwYXJ0bWVudFxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHQpXG5cdFx0XHQpXG5cdFx0KTtcblx0fVxuXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgZ2V0SW52aXRlcyhcblx0XHRmaW5kSW5wdXQ6IGFueSxcblx0XHRwYWdpbmdPcHRpb25zOiBJUGFnaW5nT3B0aW9uc1xuXHQpOiBQcm9taXNlPGFueT4ge1xuXHRcdGNvbnN0IHNvcnRPYmogPSB7fTtcblx0XHRpZiAocGFnaW5nT3B0aW9ucy5zb3J0KSB7XG5cdFx0XHRzb3J0T2JqW3BhZ2luZ09wdGlvbnMuc29ydC5maWVsZF0gPSBwYWdpbmdPcHRpb25zLnNvcnQuc29ydEJ5O1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLk1vZGVsLmZpbmQoe1xuXHRcdFx0Li4uZmluZElucHV0LFxuXHRcdFx0aXNEZWxldGVkOiB7ICRlcTogZmFsc2UgfSxcblx0XHR9KVxuXHRcdFx0LnNvcnQoc29ydE9iailcblx0XHRcdC5za2lwKHBhZ2luZ09wdGlvbnMuc2tpcClcblx0XHRcdC5saW1pdChwYWdpbmdPcHRpb25zLmxpbWl0KVxuXHRcdFx0LmxlYW4oKVxuXHRcdFx0LmV4ZWMoKTtcblx0fVxuXG5cdGFzeW5jIHRocm93SWZOb3RFeGlzdHMoaW52aXRlSWQ6IHN0cmluZykge1xuXHRcdGNvbnN0IGludml0ZSA9IGF3YWl0IHN1cGVyLmdldChpbnZpdGVJZCkucGlwZShmaXJzdCgpKS50b1Byb21pc2UoKTtcblxuXHRcdGlmICghaW52aXRlIHx8IGludml0ZS5pc0RlbGV0ZWQpIHtcblx0XHRcdHRocm93IEVycm9yKGBJbnZpdGUgd2l0aCBpZCAnJHtpbnZpdGVJZH0nIGRvZXMgbm90IGV4aXN0cyFgKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogR2VuZXJhdGVzIEZha2UgSW52aXRlcywgY29ubmVjdGVkIHRvIEZha2UgSW52aXRlIFJlcXVlc3RzXG5cdCAqIFRPRE86IHJlbmFtZSwgbWFrZSBhc3luYyBhbmQgYWRkIDEwMDAgYXMgcGFyYW1ldGVyLiBNb3ZlIHRvIHNlcGFyYXRlIEZha2UgRGF0YSBzZXJ2aWNlXG5cdCAqXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBkZWZhdWx0TG5nXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBkZWZhdWx0TGF0XG5cdCAqIEBtZW1iZXJvZiBJbnZpdGVzU2VydmljZVxuXHQgKi9cblx0Z2VuZXJhdGUxMDAwSW52aXRlc0Nvbm5lY3RlZFRvSW52aXRlUmVxdWVzdHMoXG5cdFx0ZGVmYXVsdExuZzogbnVtYmVyLFxuXHRcdGRlZmF1bHRMYXQ6IG51bWJlclxuXHQpOiB7XG5cdFx0aW52aXRlc1JlcXVlc3RzVG9DcmVhdGU6IElJbnZpdGVSZXF1ZXN0Q3JlYXRlT2JqZWN0W107XG5cdFx0aW52aXRlc1RvQ3JlYXRlOiBJSW52aXRlQ3JlYXRlT2JqZWN0W107XG5cdH0ge1xuXHRcdGNvbnN0IGludml0ZXNUb0NyZWF0ZTogSUludml0ZUNyZWF0ZU9iamVjdFtdID0gW107XG5cdFx0Y29uc3QgaW52aXRlc1JlcXVlc3RzVG9DcmVhdGU6IElJbnZpdGVSZXF1ZXN0Q3JlYXRlT2JqZWN0W10gPSBbXTtcblxuXHRcdGxldCBpbnZpdGVDb3VudCA9IDE7XG5cblx0XHR3aGlsZSAoaW52aXRlQ291bnQgPD0gMTAwMCkge1xuXHRcdFx0Y29uc3QgYXBhcnRtZW50OiBzdHJpbmcgPSBgJHtpbnZpdGVDb3VudH1gO1xuXHRcdFx0Y29uc3QgaG91c2VOdW1iZXIgPSBgJHtpbnZpdGVDb3VudH1gO1xuXHRcdFx0Y29uc3QgZ2VvTG9jYXRpb246IElHZW9Mb2NhdGlvbkNyZWF0ZU9iamVjdCA9IHRoaXMuX2dldEludml0ZUdlb0xvY2F0aW9uQ3JlYXRlT2JqKFxuXHRcdFx0XHRob3VzZU51bWJlcixcblx0XHRcdFx0ZGVmYXVsdExuZyxcblx0XHRcdFx0ZGVmYXVsdExhdFxuXHRcdFx0KTtcblxuXHRcdFx0aW52aXRlc1JlcXVlc3RzVG9DcmVhdGUucHVzaCh7XG5cdFx0XHRcdGFwYXJ0bWVudCxcblx0XHRcdFx0Z2VvTG9jYXRpb24sXG5cdFx0XHRcdGlzSW52aXRlZDogdHJ1ZSxcblx0XHRcdFx0aW52aXRlZERhdGU6IG5ldyBEYXRlKCksXG5cdFx0XHR9KTtcblxuXHRcdFx0aW52aXRlc1RvQ3JlYXRlLnB1c2goe1xuXHRcdFx0XHRjb2RlOiBgJHs5OTkgKyBpbnZpdGVDb3VudH1gLFxuXHRcdFx0XHRhcGFydG1lbnQsXG5cdFx0XHRcdGdlb0xvY2F0aW9uLFxuXHRcdFx0fSk7XG5cblx0XHRcdGludml0ZUNvdW50ICs9IDE7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdGludml0ZXNSZXF1ZXN0c1RvQ3JlYXRlLFxuXHRcdFx0aW52aXRlc1RvQ3JlYXRlLFxuXHRcdH07XG5cdH1cblxuXHRwcml2YXRlIF9nZXRJbnZpdGVHZW9Mb2NhdGlvbkNyZWF0ZU9iaihcblx0XHRob3VzZU51bWJlcjogc3RyaW5nLFxuXHRcdGRlZmF1bHRMbmc6IG51bWJlcixcblx0XHRkZWZhdWx0TGF0OiBudW1iZXJcblx0KTogSUdlb0xvY2F0aW9uQ3JlYXRlT2JqZWN0IHtcblx0XHQvLyBUT0RPOiBtYWtlIFRTbGludCBoYXBweVxuXHRcdC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1vYmplY3QtbGl0ZXJhbC10eXBlLWFzc2VydGlvblxuXHRcdHJldHVybiB7XG5cdFx0XHRjb3VudHJ5SWQ6IGZha2VyLnJhbmRvbS5udW1iZXIoQ291bnRyeS5aVykgYXMgQ291bnRyeSxcblx0XHRcdGNpdHk6IGZha2VyLmFkZHJlc3MuY2l0eSgpLFxuXHRcdFx0aG91c2U6IGhvdXNlTnVtYmVyLFxuXHRcdFx0bG9jOiB7XG5cdFx0XHRcdHR5cGU6ICdQb2ludCcsXG5cdFx0XHRcdGNvb3JkaW5hdGVzOiBbZGVmYXVsdExuZywgZGVmYXVsdExhdF0sXG5cdFx0XHR9LFxuXHRcdFx0c3RyZWV0QWRkcmVzczogZmFrZXIuYWRkcmVzcy5zdHJlZXRBZGRyZXNzKCksXG5cdFx0fSBhcyBJR2VvTG9jYXRpb25DcmVhdGVPYmplY3Q7XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIF9nZXRJbnZpdGVkU3RyZWV0TG9jYXRpb25zKCk6IFByb21pc2U8SVN0cmVldExvY2F0aW9uW10+IHtcblx0XHRjb25zdCByZXN1bHRzID0gYXdhaXQgdGhpcy5Nb2RlbC5hZ2dyZWdhdGUoKVxuXHRcdFx0Lmdyb3VwKHtcblx0XHRcdFx0X2lkOiB7XG5cdFx0XHRcdFx0c3RyZWV0QWRkcmVzczogJyRnZW9Mb2NhdGlvbi5zdHJlZXRBZGRyZXNzJyxcblx0XHRcdFx0XHRjaXR5OiAnJGdlb0xvY2F0aW9uLmNpdHknLFxuXHRcdFx0XHRcdGNvdW50cnk6ICckZ2VvTG9jYXRpb24uY291bnRyeUlkJyxcblx0XHRcdFx0fSxcblx0XHRcdH0pXG5cdFx0XHQuZXhlYygpO1xuXG5cdFx0cmV0dXJuIF8ubWFwKHJlc3VsdHMsIChyZXN1bHQ6IHsgX2lkOiBJU3RyZWV0TG9jYXRpb24gfSkgPT4gcmVzdWx0Ll9pZCk7XG5cdH1cbn1cbiIsImV4cG9ydCAqIGZyb20gJy4vSW52aXRlc1NlcnZpY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9JbnZpdGVzUmVxdWVzdHNTZXJ2aWNlJztcbiIsImltcG9ydCBMb2dnZXIgZnJvbSAnYnVueWFuJztcbmltcG9ydCBCbHVlYmlyZCBmcm9tICdibHVlYmlyZCc7XG5pbXBvcnQgeyBpbmplY3QsIGluamVjdGFibGUsIExhenlTZXJ2aWNlSWRlbnRpZmVyIH0gZnJvbSAnaW52ZXJzaWZ5JztcbmltcG9ydCB7IGVudiB9IGZyb20gJy4uLy4uL2Vudic7XG5pbXBvcnQgeyBXYXJlaG91c2VzU2VydmljZSwgV2FyZWhvdXNlc1Byb2R1Y3RzU2VydmljZSB9IGZyb20gJy4uL3dhcmVob3VzZXMnO1xuaW1wb3J0IHsgY3JlYXRlRXZlckxvZ2dlciB9IGZyb20gJy4uLy4uL2hlbHBlcnMvTG9nJztcbmltcG9ydCBPcmRlckNhcnJpZXJTdGF0dXMgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnVtcy9PcmRlckNhcnJpZXJTdGF0dXMnO1xuaW1wb3J0IE9yZGVyV2FyZWhvdXNlU3RhdHVzIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW51bXMvT3JkZXJXYXJlaG91c2VTdGF0dXMnO1xuaW1wb3J0IHsgVXNlcnNTZXJ2aWNlIH0gZnJvbSAnLi4vdXNlcnMnO1xuaW1wb3J0IE9yZGVyIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvT3JkZXInO1xuaW1wb3J0IHsgREJTZXJ2aWNlIH0gZnJvbSAnQHB5cm8vZGItc2VydmVyJztcbmltcG9ydCB7XG5cdGRlZmF1bHQgYXMgSU9yZGVyLFxuXHRJT3JkZXJDcmVhdGVPYmplY3QsXG59IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JT3JkZXInO1xuaW1wb3J0IENhcnJpZXJzU2VydmljZSBmcm9tICcuLi9jYXJyaWVycy9DYXJyaWVyc1NlcnZpY2UnO1xuaW1wb3J0IElPcmRlclJvdXRlciBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL3JvdXRlcnMvSU9yZGVyUm91dGVyJztcbmltcG9ydCB7IGFzeW5jTGlzdGVuZXIsIG9ic2VydmFibGVMaXN0ZW5lciwgcm91dGVyTmFtZSB9IGZyb20gJ0BweXJvL2lvJztcbmltcG9ydCBJU2VydmljZSBmcm9tICcuLi9JU2VydmljZSc7XG5pbXBvcnQgeyBleGhhdXN0TWFwLCBmaXJzdCwgc3dpdGNoTWFwLCBtYXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyB2MSBhcyB1dWlkIH0gZnJvbSAndXVpZCc7XG5pbXBvcnQgT3JkZXJQcm9kdWN0IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvT3JkZXJQcm9kdWN0JztcbmltcG9ydCB7IElPcmRlclByb2R1Y3RDcmVhdGVPYmplY3QgfSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2ludGVyZmFjZXMvSU9yZGVyUHJvZHVjdCc7XG5pbXBvcnQgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuaW1wb3J0IFByb2R1Y3QgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9Qcm9kdWN0JztcbmltcG9ydCBXYXJlaG91c2UsIHtcblx0V2l0aEZ1bGxQcm9kdWN0cyxcbn0gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9XYXJlaG91c2UnO1xuaW1wb3J0IE9yZGVyU3RhdHVzIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW51bXMvT3JkZXJTdGF0dXMnO1xuaW1wb3J0IFVzZXIgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9Vc2VyJztcbmltcG9ydCB7IFByb2R1Y3RzU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL3Byb2R1Y3RzJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCBTdHJpcGUgPSByZXF1aXJlKCdzdHJpcGUnKTtcblxuQGluamVjdGFibGUoKVxuQHJvdXRlck5hbWUoJ29yZGVyJylcbmV4cG9ydCBjbGFzcyBPcmRlcnNTZXJ2aWNlIGV4dGVuZHMgREJTZXJ2aWNlPE9yZGVyPlxuXHRpbXBsZW1lbnRzIElPcmRlclJvdXRlciwgSVNlcnZpY2Uge1xuXHRwdWJsaWMgcmVhZG9ubHkgREJPYmplY3Q6IGFueSA9IE9yZGVyO1xuXG5cdC8vIFRPRE86IHRoaXMgYW5kIG90aGVyIFN0cmlwZSByZWxhdGVkIHRoaW5ncyBzaG91bGQgYmUgaW5zaWRlIHNlcGFyYXRlIFBheW1lbnRzIFNlcnZpY2Vcblx0cHJpdmF0ZSBzdHJpcGU6IFN0cmlwZSA9IG5ldyBTdHJpcGUoZW52LlNUUklQRV9TRUNSRVRfS0VZKTtcblxuXHRwcm90ZWN0ZWQgcmVhZG9ubHkgbG9nOiBMb2dnZXIgPSBjcmVhdGVFdmVyTG9nZ2VyKHtcblx0XHRuYW1lOiAnb3JkZXJzU2VydmljZScsXG5cdH0pO1xuXG5cdHN0YXRpYyByZWFkb25seSBGaW5kT2JqZWN0cyA9IHtcblx0XHRpc0NvbXBsZXRlZDoge1xuXHRcdFx0JG9yOiBbXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRpc1BhaWQ6IHRydWUsXG5cdFx0XHRcdFx0Y2FycmllclN0YXR1czogT3JkZXJDYXJyaWVyU3RhdHVzLkRlbGl2ZXJ5Q29tcGxldGVkLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0aXNDYW5jZWxsZWQ6IHRydWUsXG5cdFx0XHRcdH0sXG5cdFx0XHRdLFxuXHRcdH0sXG5cdFx0aXNOb3RDb21wbGV0ZWQ6IHtcblx0XHRcdCRhbmQ6IFtcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGlzUGFpZDogZmFsc2UsXG5cdFx0XHRcdFx0Y2FycmllclN0YXR1czoge1xuXHRcdFx0XHRcdFx0JG5lOiBPcmRlckNhcnJpZXJTdGF0dXMuRGVsaXZlcnlDb21wbGV0ZWQsXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGlzQ2FuY2VsbGVkOiBmYWxzZSxcblx0XHRcdFx0fSxcblx0XHRcdF0sXG5cdFx0fSxcblx0fTtcblxuXHRjb25zdHJ1Y3Rvcihcblx0XHRAaW5qZWN0KG5ldyBMYXp5U2VydmljZUlkZW50aWZlcigoKSA9PiBXYXJlaG91c2VzU2VydmljZSkpXG5cdFx0cHJvdGVjdGVkIHdhcmVob3VzZXNTZXJ2aWNlOiBXYXJlaG91c2VzU2VydmljZSxcblx0XHRAaW5qZWN0KG5ldyBMYXp5U2VydmljZUlkZW50aWZlcigoKSA9PiBVc2Vyc1NlcnZpY2UpKVxuXHRcdHByb3RlY3RlZCB1c2Vyc1NlcnZpY2U6IFVzZXJzU2VydmljZSxcblx0XHRAaW5qZWN0KG5ldyBMYXp5U2VydmljZUlkZW50aWZlcigoKSA9PiBDYXJyaWVyc1NlcnZpY2UpKVxuXHRcdHByb3RlY3RlZCBjYXJyaWVyc1NlcnZpY2U6IENhcnJpZXJzU2VydmljZSxcblx0XHRAaW5qZWN0KG5ldyBMYXp5U2VydmljZUlkZW50aWZlcigoKSA9PiBXYXJlaG91c2VzUHJvZHVjdHNTZXJ2aWNlKSlcblx0XHRwcm90ZWN0ZWQgd2FyZWhvdXNlc1Byb2R1Y3RzU2VydmljZTogV2FyZWhvdXNlc1Byb2R1Y3RzU2VydmljZSxcblx0XHRAaW5qZWN0KG5ldyBMYXp5U2VydmljZUlkZW50aWZlcigoKSA9PiBXYXJlaG91c2VzU2VydmljZSkpXG5cdFx0cHJvdGVjdGVkIF9zdG9yZXNTZXJ2aWNlOiBXYXJlaG91c2VzU2VydmljZSxcblx0XHRAaW5qZWN0KG5ldyBMYXp5U2VydmljZUlkZW50aWZlcigoKSA9PiBQcm9kdWN0c1NlcnZpY2UpKVxuXHRcdHByb3RlY3RlZCBfcHJvZHVjdHNTZXJ2aWNlOiBQcm9kdWN0c1NlcnZpY2Vcblx0KSB7XG5cdFx0c3VwZXIoKTtcblx0fVxuXG5cdGFzeW5jIGdlbmVyYXRlT3JkZXJzUGVyRWFjaEN1c3RvbWVyKGN1c3RvbWVyczogYW55W10pOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRjb25zdCBzdG9yZXMgPSBhd2FpdCB0aGlzLl9zdG9yZXNTZXJ2aWNlLmZpbmRBbGwoe1xuXHRcdFx0X2lkOiAxLFxuXHRcdFx0cHJvZHVjdHM6IDEsXG5cdFx0fSk7XG5cblx0XHRjb25zdCBwcm9kdWN0cyA9IGF3YWl0IHRoaXMuX3Byb2R1Y3RzU2VydmljZS5maW5kQWxsKCk7XG5cblx0XHRjb25zdCBvcmRlcnM6IElPcmRlckNyZWF0ZU9iamVjdFtdID0gW107XG5cblx0XHRjdXN0b21lcnMuZm9yRWFjaCgoY3VzdG9tZXIsIGluZGV4KSA9PiB7XG5cdFx0XHRjb25zdCBzdG9yZUlkID0gc3RvcmVzW2luZGV4ICUgc3RvcmVzLmxlbmd0aF0uX2lkO1xuXHRcdFx0Y29uc3QgcHJvZHVjdDFQcmljZSA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDk5KTtcblx0XHRcdGNvbnN0IHByb2R1Y3QyUHJpY2UgPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiA5OSk7XG5cblx0XHRcdG9yZGVycy5wdXNoKHtcblx0XHRcdFx0cHJvZHVjdHM6IFtcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRjb3VudDogMixcblx0XHRcdFx0XHRcdGlzTWFudWZhY3R1cmluZzogdHJ1ZSxcblx0XHRcdFx0XHRcdGlzQ2FycmllclJlcXVpcmVkOiB0cnVlLFxuXHRcdFx0XHRcdFx0aXNEZWxpdmVyeVJlcXVpcmVkOiB0cnVlLFxuXHRcdFx0XHRcdFx0cHJpY2U6IHByb2R1Y3QxUHJpY2UsXG5cdFx0XHRcdFx0XHRpbml0aWFsUHJpY2U6IHByb2R1Y3QxUHJpY2UsXG5cdFx0XHRcdFx0XHRwcm9kdWN0OiBwcm9kdWN0c1tpbmRleCAlIHByb2R1Y3RzLmxlbmd0aF0sXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRjb3VudDogMixcblx0XHRcdFx0XHRcdGlzTWFudWZhY3R1cmluZzogdHJ1ZSxcblx0XHRcdFx0XHRcdGlzQ2FycmllclJlcXVpcmVkOiB0cnVlLFxuXHRcdFx0XHRcdFx0aXNEZWxpdmVyeVJlcXVpcmVkOiB0cnVlLFxuXHRcdFx0XHRcdFx0cHJpY2U6IHByb2R1Y3QyUHJpY2UsXG5cdFx0XHRcdFx0XHRpbml0aWFsUHJpY2U6IHByb2R1Y3QyUHJpY2UsXG5cdFx0XHRcdFx0XHRwcm9kdWN0OiBwcm9kdWN0c1soaW5kZXggKyAxKSAlIHByb2R1Y3RzLmxlbmd0aF0sXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XSxcblx0XHRcdFx0dXNlcjogY3VzdG9tZXIsXG5cdFx0XHRcdHdhcmVob3VzZTogc3RvcmVJZCxcblx0XHRcdFx0b3JkZXJOdW1iZXI6IGluZGV4LFxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0XHRhd2FpdCB0aGlzLk1vZGVsLmluc2VydE1hbnkob3JkZXJzKTtcblx0fVxuXG5cdEBvYnNlcnZhYmxlTGlzdGVuZXIoKVxuXHRnZXQoXG5cdFx0aWQ6IE9yZGVyWydpZCddLFxuXHRcdG9wdGlvbnM6IHsgcG9wdWxhdGVXYXJlaG91c2U/OiBib29sZWFuOyBwb3B1bGF0ZUNhcnJpZXI/OiBib29sZWFuIH0gPSB7fVxuXHQpOiBPYnNlcnZhYmxlPE9yZGVyPiB7XG5cdFx0aWYgKG9wdGlvbnMucG9wdWxhdGVDYXJyaWVyIHx8IG9wdGlvbnMucG9wdWxhdGVXYXJlaG91c2UpIHtcblx0XHRcdHJldHVybiBzdXBlci5nZXQoaWQpLnBpcGUoXG5cdFx0XHRcdG1hcChhc3luYyAob3JkZXIpID0+IHtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLl90aHJvd0lmTm90RXhpc3RzKGlkKTtcblx0XHRcdFx0XHRyZXR1cm4gb3JkZXI7XG5cdFx0XHRcdH0pLFxuXHRcdFx0XHRzd2l0Y2hNYXAoKG9yZGVyKSA9PiBvcmRlciksXG5cdFx0XHRcdGV4aGF1c3RNYXAoKCkgPT4gdGhpcy5fZ2V0KGlkLCBvcHRpb25zKSlcblx0XHRcdCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBzdXBlci5nZXQoaWQpLnBpcGUoXG5cdFx0XHRcdG1hcChhc3luYyAob3JkZXIpID0+IHtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLl90aHJvd0lmTm90RXhpc3RzKGlkKTtcblx0XHRcdFx0XHRyZXR1cm4gb3JkZXI7XG5cdFx0XHRcdH0pLFxuXHRcdFx0XHRzd2l0Y2hNYXAoKG9yZGVyKSA9PiBvcmRlcilcblx0XHRcdCk7XG5cdFx0fVxuXHR9XG5cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyB1cGRhdGVDYXJyaWVyU3RhdHVzKFxuXHRcdG9yZGVySWQ6IE9yZGVyWydpZCddLFxuXHRcdHN0YXR1czogT3JkZXJDYXJyaWVyU3RhdHVzXG5cdCk6IFByb21pc2U8T3JkZXI+IHtcblx0XHQvLyBUT0RPOiBjaGVjayBoZXJlIHRoYXQgbm90IGZyb20gYW55IHN0YXR1cyBpdCBpcyBwb3NzaWJsZSB0byBtb3ZlIHRvIGFueSBvdGhlci5cblx0XHQvLyBNZWFuIGlmIG9yZGVyIGlzIHN0YXR1cyAzLCBpdCdzIG5vdCBzaW1wbHkgcG9zc2libGUgdG8gdXBkYXRlIGl0IHRvIHN0YXR1cyAyLlxuXHRcdGF3YWl0IHRoaXMuX3Rocm93SWZOb3RFeGlzdHMob3JkZXJJZCk7XG5cblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgdXBkYXRlT2JqOiBhbnkgPSB7IGNhcnJpZXJTdGF0dXM6IHN0YXR1cyB9O1xuXG5cdFx0XHRpZiAoc3RhdHVzID09PSBPcmRlckNhcnJpZXJTdGF0dXMuRGVsaXZlcnlDb21wbGV0ZWQpIHtcblx0XHRcdFx0dXBkYXRlT2JqLmlzUGFpZCA9IHRydWU7XG5cdFx0XHRcdHVwZGF0ZU9iai5kZWxpdmVyeVRpbWUgPSBEYXRlLm5vdygpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoXG5cdFx0XHRcdHN0YXR1cyA9PT0gT3JkZXJDYXJyaWVyU3RhdHVzLkNhcnJpZXJTdGFydERlbGl2ZXJ5IHx8XG5cdFx0XHRcdHN0YXR1cyA9PT0gT3JkZXJDYXJyaWVyU3RhdHVzLkNhcnJpZXJQaWNrZWRVcE9yZGVyXG5cdFx0XHQpIHtcblx0XHRcdFx0dXBkYXRlT2JqLnN0YXJ0RGVsaXZlcnlUaW1lID0gRGF0ZS5ub3coKTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgZmluaXNoZWRQcm9jZXNzaW5nU3RhdHVzZXMgPSBbXG5cdFx0XHRcdE9yZGVyQ2FycmllclN0YXR1cy5DbGllbnRSZWZ1c2VUYWtpbmdPcmRlcixcblx0XHRcdFx0T3JkZXJDYXJyaWVyU3RhdHVzLkRlbGl2ZXJ5Q29tcGxldGVkLFxuXHRcdFx0XHRPcmRlckNhcnJpZXJTdGF0dXMuSXNzdWVzRHVyaW5nRGVsaXZlcnksXG5cdFx0XHRdO1xuXHRcdFx0aWYgKGZpbmlzaGVkUHJvY2Vzc2luZ1N0YXR1c2VzLmluY2x1ZGVzKHN0YXR1cykpIHtcblx0XHRcdFx0dXBkYXRlT2JqLmZpbmlzaGVkUHJvY2Vzc2luZ1RpbWUgPSBEYXRlLm5vdygpO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBvcmRlciA9IGF3YWl0IHRoaXMudXBkYXRlKG9yZGVySWQsIHVwZGF0ZU9iaik7XG5cblx0XHRcdGlmIChvcmRlci5jYXJyaWVySWQgIT0gbnVsbCkge1xuXHRcdFx0XHRpZiAoc3RhdHVzID09PSBPcmRlckNhcnJpZXJTdGF0dXMuRGVsaXZlcnlDb21wbGV0ZWQpIHtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLmNhcnJpZXJzU2VydmljZS5pbmNyZWFzZU51bWJlck9mRGVsaXZlcmllcyhcblx0XHRcdFx0XHRcdG9yZGVyLmNhcnJpZXJJZCxcblx0XHRcdFx0XHRcdDFcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIG9yZGVyO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRcdFwiQ2FuJ3QgdXBkYXRlQ2FycmllclN0YXR1cyhvcmRlcklkLCBzdGF0dXMpIC0gT3JkZXIgaGFzIG5vIGNhcnJpZXIhXCJcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdHRoaXMubG9nLmVycm9yKGVycik7XG5cdFx0XHR0aHJvdyBlcnI7XG5cdFx0fVxuXHR9XG5cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyB1cGRhdGVXYXJlaG91c2VTdGF0dXMoXG5cdFx0b3JkZXJJZDogT3JkZXJbJ2lkJ10sXG5cdFx0c3RhdHVzOiBPcmRlcldhcmVob3VzZVN0YXR1c1xuXHQpOiBQcm9taXNlPE9yZGVyPiB7XG5cdFx0YXdhaXQgdGhpcy5fdGhyb3dJZk5vdEV4aXN0cyhvcmRlcklkKTtcblx0XHRjb25zdCB1cGRhdGVPYmo6IGFueSA9IHsgd2FyZWhvdXNlU3RhdHVzOiBzdGF0dXMgfTtcblx0XHRjb25zdCBmaW5pc2hlZFByb2Nlc3NpbmdTdGF0dXNlcyA9IFtcblx0XHRcdE9yZGVyV2FyZWhvdXNlU3RhdHVzLlBhY2thZ2luZ0ZhaWxlZCxcblx0XHRcdE9yZGVyV2FyZWhvdXNlU3RhdHVzLkFsbG9jYXRpb25GYWlsZWQsXG5cdFx0XTtcblx0XHRpZiAoZmluaXNoZWRQcm9jZXNzaW5nU3RhdHVzZXMuaW5jbHVkZXMoc3RhdHVzKSkge1xuXHRcdFx0dXBkYXRlT2JqLmZpbmlzaGVkUHJvY2Vzc2luZ1RpbWUgPSBEYXRlLm5vdygpO1xuXHRcdH1cblx0XHRpZiAoc3RhdHVzID09PSBPcmRlcldhcmVob3VzZVN0YXR1cy5HaXZlblRvQ3VzdG9tZXIpIHtcblx0XHRcdHVwZGF0ZU9iai5pc1BhaWQgPSB0cnVlO1xuXHRcdFx0dXBkYXRlT2JqLmZpbmlzaGVkUHJvY2Vzc2luZ1RpbWUgPSBEYXRlLm5vdygpO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy51cGRhdGUob3JkZXJJZCwgdXBkYXRlT2JqKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBQYXkgd2l0aCBTdHJpcGUgZm9yIGdpdmVuIG9yZGVyIHdpdGggZ2l2ZW4gQ0Ncblx0ICogVE9ETzogbW92ZSB0byBzZXBhcmF0ZSBQYXltZW50cyBTZXJ2aWNlXG5cdCAqXG5cdCAqIEBwYXJhbSB7T3JkZXJbJ2lkJ119IG9yZGVySWRcblx0ICogQHBhcmFtIHtzdHJpbmd9IGNhcmRJZCBDQyBJZCB3aGljaCB3aWxsIGJlIHVzZWQgdG8gcGF5XG5cdCAqIEByZXR1cm5zIHtQcm9taXNlPE9yZGVyPn1cblx0ICogQG1lbWJlcm9mIE9yZGVyc1NlcnZpY2Vcblx0ICovXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgcGF5V2l0aFN0cmlwZShvcmRlcklkOiBPcmRlclsnaWQnXSwgY2FyZElkOiBzdHJpbmcpOiBQcm9taXNlPE9yZGVyPiB7XG5cdFx0YXdhaXQgdGhpcy5fdGhyb3dJZk5vdEV4aXN0cyhvcmRlcklkKTtcblxuXHRcdGNvbnN0IGNhbGxJZCA9IHV1aWQoKTtcblxuXHRcdHRoaXMubG9nLmluZm8oXG5cdFx0XHR7IGNhbGxJZCwgb3JkZXJJZCwgY2FyZElkIH0sXG5cdFx0XHQnLnBheVdpdGhTdHJpcGUob3JkZXJJZCwgY2FyZElkKSBjYWxsZWQnXG5cdFx0KTtcblxuXHRcdGxldCBvcmRlcjogT3JkZXI7XG5cblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgX29yZGVyID0gYXdhaXQgdGhpcy5nZXQob3JkZXJJZCkucGlwZShmaXJzdCgpKS50b1Byb21pc2UoKTtcblxuXHRcdFx0aWYgKF9vcmRlciAhPSBudWxsKSB7XG5cdFx0XHRcdG9yZGVyID0gX29yZGVyO1xuXG5cdFx0XHRcdGNvbnN0IHVzZXIgPSBhd2FpdCB0aGlzLnVzZXJzU2VydmljZVxuXHRcdFx0XHRcdC5nZXQob3JkZXIudXNlci5pZClcblx0XHRcdFx0XHQucGlwZShmaXJzdCgpKVxuXHRcdFx0XHRcdC50b1Byb21pc2UoKTtcblxuXHRcdFx0XHRpZiAodXNlciAhPSBudWxsKSB7XG5cdFx0XHRcdFx0Y29uc3QgY2hhcmdlOiBTdHJpcGUuY2hhcmdlcy5JQ2hhcmdlID0gYXdhaXQgdGhpcy5zdHJpcGUuY2hhcmdlcy5jcmVhdGUoXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdGFtb3VudDogb3JkZXIudG90YWxQcmljZSAqIDEwMCwgLy8gYW1vdW50IGluIGNlbnRzLCBhZ2FpblxuXHRcdFx0XHRcdFx0XHRjdXN0b21lcjogdXNlci5zdHJpcGVDdXN0b21lcklkLFxuXHRcdFx0XHRcdFx0XHRzb3VyY2U6IGNhcmRJZCxcblx0XHRcdFx0XHRcdFx0Y3VycmVuY3k6ICdpbHMnLFxuXHRcdFx0XHRcdFx0XHRkZXNjcmlwdGlvbjogJ09yZGVyIGlkOiAnICsgb3JkZXJJZCxcblx0XHRcdFx0XHRcdFx0bWV0YWRhdGE6IHtcblx0XHRcdFx0XHRcdFx0XHRvcmRlcklkLFxuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRvcmRlciA9IGF3YWl0IHRoaXMudXBkYXRlKG9yZGVySWQsIHtcblx0XHRcdFx0XHRcdHN0cmlwZUNoYXJnZUlkOiBjaGFyZ2UuaWQsXG5cdFx0XHRcdFx0XHRpc1BhaWQ6IHRydWUsXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdVc2VyIHNwZWNpZmllZCBpbiBvcmRlciBpcyBub3QgZm91bmQhJyk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihcImNvdWxkbid0IGZpbmQgb3JkZXIgd2l0aCBzdWNoIGlkXCIpO1xuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0dGhpcy5sb2cuZXJyb3IoXG5cdFx0XHRcdHsgY2FsbElkLCBvcmRlcklkLCBjYXJkSWQsIGVyciB9LFxuXHRcdFx0XHQnLnBheVdpdGhTdHJpcGUob3JkZXJJZCwgY2FyZElkKSB0aHJvd24gZXJyb3IhJ1xuXHRcdFx0KTtcblx0XHRcdHRocm93IGVycjtcblx0XHR9XG5cblx0XHR0aGlzLmxvZy5pbmZvKFxuXHRcdFx0eyBjYWxsSWQsIG9yZGVySWQsIGNhcmRJZCwgb3JkZXIgfSxcblx0XHRcdCcucGF5V2l0aFN0cmlwZShvcmRlcklkLCBjYXJkSWQpIGFjY2VwdGVkIHBheW1lbnQnXG5cdFx0KTtcblxuXHRcdHJldHVybiBvcmRlcjtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZWZ1bmQgbW9uZXkgZm9yIGNhbmNlbGxlZCBvcmRlciB2aWEgU3RyaXBlXG5cdCAqIFRPRE86IG1vdmUgdG8gUGF5bWVudHMgU2VydmljZVxuXHQgKlxuXHQgKiBAcGFyYW0ge09yZGVyWydpZCddfSBvcmRlcklkXG5cdCAqIEByZXR1cm5zIHtQcm9taXNlPE9yZGVyPn1cblx0ICogQG1lbWJlcm9mIE9yZGVyc1NlcnZpY2Vcblx0ICovXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgcmVmdW5kV2l0aFN0cmlwZShvcmRlcklkOiBPcmRlclsnaWQnXSk6IFByb21pc2U8T3JkZXI+IHtcblx0XHRhd2FpdCB0aGlzLl90aHJvd0lmTm90RXhpc3RzKG9yZGVySWQpO1xuXG5cdFx0Y29uc3QgY2FsbElkID0gdXVpZCgpO1xuXG5cdFx0dGhpcy5sb2cuaW5mbyh7IGNhbGxJZCwgb3JkZXJJZCB9LCAnLnJlZnVuZFdpdGhTdHJpcGUob3JkZXJJZCkgY2FsbGVkJyk7XG5cblx0XHRsZXQgcmVmdW5kOiBTdHJpcGUucmVmdW5kcy5JUmVmdW5kO1xuXHRcdGxldCBvcmRlcjogT3JkZXIgfCBudWxsO1xuXG5cdFx0dHJ5IHtcblx0XHRcdG9yZGVyID0gYXdhaXQgdGhpcy5nZXQob3JkZXJJZCkucGlwZShmaXJzdCgpKS50b1Byb21pc2UoKTtcblxuXHRcdFx0aWYgKG9yZGVyICE9IG51bGwpIHtcblx0XHRcdFx0aWYgKG9yZGVyLnN0cmlwZUNoYXJnZUlkICE9IG51bGwpIHtcblx0XHRcdFx0XHRyZWZ1bmQgPSBhd2FpdCB0aGlzLnN0cmlwZS5yZWZ1bmRzLmNyZWF0ZSh7XG5cdFx0XHRcdFx0XHRjaGFyZ2U6IG9yZGVyLnN0cmlwZUNoYXJnZUlkLFxuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0dGhpcy5sb2cuaW5mbyhcblx0XHRcdFx0XHRcdHsgY2FsbElkLCBvcmRlcklkLCByZWZ1bmQgfSxcblx0XHRcdFx0XHRcdCcucmVmdW5kV2l0aFN0cmlwZShvcmRlcklkKSBtYWRlIHJlZnVuZCdcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdHJldHVybiBvcmRlcjtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdFx0XHRgVGhlcmUgaXMgbm8gb3JkZXIgd2l0aCBzdHJpcGVDaGFyZ2VJZCBmaWVsZCBhbmQgaWQgb2YgJHtvcmRlcklkfSB0byByZWZ1bmRXaXRoU3RyaXBlIG9uIWBcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdFx0YFRoZXJlIGlzIG5vIG9yZGVyIHdpdGggaWQgb2YgJHtvcmRlcklkfSB0byByZWZ1bmRXaXRoU3RyaXBlIG9uIWBcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdHRoaXMubG9nLmVycm9yKFxuXHRcdFx0XHR7IGNhbGxJZCwgb3JkZXJJZCwgZXJyIH0sXG5cdFx0XHRcdCcucmVmdW5kV2l0aFN0cmlwZShvcmRlcklkKSB0aHJvd24gZXJyb3IhJ1xuXHRcdFx0KTtcblx0XHRcdHRocm93IGVycjtcblx0XHR9XG5cdH1cblxuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIGNvbmZpcm0ob3JkZXJJZDogT3JkZXJbJ2lkJ10pOiBQcm9taXNlPE9yZGVyPiB7XG5cdFx0YXdhaXQgdGhpcy5fdGhyb3dJZk5vdEV4aXN0cyhvcmRlcklkKTtcblxuXHRcdHJldHVybiB0aGlzLnVwZGF0ZShvcmRlcklkLCB7XG5cdFx0XHRpc0NvbmZpcm1lZDogdHJ1ZSxcblx0XHRcdHdhcmVob3VzZVN0YXR1czogT3JkZXJXYXJlaG91c2VTdGF0dXMuUmVhZHlGb3JQcm9jZXNzaW5nLFxuXHRcdH0pO1xuXHR9XG5cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyBhZGRQcm9kdWN0cyhcblx0XHRvcmRlcklkOiBPcmRlclsnaWQnXSxcblx0XHRwcm9kdWN0cyxcblx0XHR3YXJlaG91c2VJZDogV2FyZWhvdXNlWydpZCddXG5cdCk6IFByb21pc2U8T3JkZXI+IHtcblx0XHRhd2FpdCB0aGlzLl90aHJvd0lmTm90RXhpc3RzKG9yZGVySWQpO1xuXG5cdFx0Y29uc3Qgb3JkZXIgPSBhd2FpdCB0aGlzLl9nZXQob3JkZXJJZCk7XG5cdFx0Y29uc3Qgb2xkUHJvZHVjdHNJZHMgPSBvcmRlci5wcm9kdWN0cy5tYXAoXG5cdFx0XHQocDogT3JkZXJQcm9kdWN0KSA9PiBwLnByb2R1Y3QuaWRcblx0XHQpO1xuXHRcdGNvbnN0IG5ld1Byb2R1Y3RzSWRzID0gcHJvZHVjdHMubWFwKChwKSA9PiBwLnByb2R1Y3RJZCk7XG5cblx0XHRmb3IgKGNvbnN0IHByb2R1Y3Qgb2Ygb3JkZXIucHJvZHVjdHMpIHtcblx0XHRcdGlmIChuZXdQcm9kdWN0c0lkcy5pbmNsdWRlcyhwcm9kdWN0LnByb2R1Y3QuaWQpKSB7XG5cdFx0XHRcdGNvbnN0IG5ld1Byb2R1Y3QgPSBwcm9kdWN0cy5maW5kKFxuXHRcdFx0XHRcdChwOiB7IHByb2R1Y3RJZDogc3RyaW5nIH0pID0+XG5cdFx0XHRcdFx0XHRwLnByb2R1Y3RJZCA9PT0gcHJvZHVjdC5wcm9kdWN0LmlkXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0aWYgKG5ld1Byb2R1Y3QpIHtcblx0XHRcdFx0XHRwcm9kdWN0LmNvdW50ICs9IG5ld1Byb2R1Y3QuY291bnQ7XG5cblx0XHRcdFx0XHRhd2FpdCB0aGlzLndhcmVob3VzZXNQcm9kdWN0c1NlcnZpY2UuZGVjcmVhc2VDb3VudChcblx0XHRcdFx0XHRcdHdhcmVob3VzZUlkLFxuXHRcdFx0XHRcdFx0bmV3UHJvZHVjdC5wcm9kdWN0SWQsIC8vIHdoYXQgcHJvZHVjdCBhdmFpbGFiaWxpdHkgc2hvdWxkIGJlIGRlY3JlYXNlZFxuXHRcdFx0XHRcdFx0bmV3UHJvZHVjdC5jb3VudCAvLyBob3cgbWFueSB0byByZW1vdmVcblx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy53YXJlaG91c2VzUHJvZHVjdHNTZXJ2aWNlLmluY3JlYXNlU29sZENvdW50KFxuXHRcdFx0XHRcdFx0d2FyZWhvdXNlSWQsXG5cdFx0XHRcdFx0XHRuZXdQcm9kdWN0LnByb2R1Y3RJZCxcblx0XHRcdFx0XHRcdG5ld1Byb2R1Y3QuY291bnRcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cHJvZHVjdHMgPSBwcm9kdWN0cy5maWx0ZXIoXG5cdFx0XHQocDogeyBbeDogc3RyaW5nXTogc3RyaW5nIH0pID0+XG5cdFx0XHRcdCFvbGRQcm9kdWN0c0lkcy5pbmNsdWRlcyhwWydwcm9kdWN0SWQnXSlcblx0XHQpO1xuXG5cdFx0Y29uc3Qgd2FyZWhvdXNlID0gKGF3YWl0IHRoaXMud2FyZWhvdXNlc1NlcnZpY2Vcblx0XHRcdC5nZXQod2FyZWhvdXNlSWQsIHRydWUpXG5cdFx0XHQucGlwZShmaXJzdCgpKVxuXHRcdFx0LnRvUHJvbWlzZSgpKSBhcyBXaXRoRnVsbFByb2R1Y3RzO1xuXG5cdFx0Y29uc3Qgd2FyZWhvdXNlUHJvZHVjdHMgPSBfLmtleUJ5KHdhcmVob3VzZS5wcm9kdWN0cywgJ3Byb2R1Y3RJZCcpO1xuXG5cdFx0Y29uc3QgbmV3T3JkZXJQcm9kdWN0cyA9IGF3YWl0IF8ubWFwKFxuXHRcdFx0cHJvZHVjdHMsXG5cdFx0XHQoYXJncyk6IElPcmRlclByb2R1Y3RDcmVhdGVPYmplY3QgPT4ge1xuXHRcdFx0XHRjb25zdCB3UHJvZHVjdCA9IHdhcmVob3VzZVByb2R1Y3RzW2FyZ3MucHJvZHVjdElkXTtcblxuXHRcdFx0XHRpZiAoIXdQcm9kdWN0KSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRcdFx0YFdhcmVob3VzZU9yZGVyc1NlcnZpY2UgZ290IGNhbGwgdG8gY3JlYXRlKHVzZXJJZCwgb3JkZXJQcm9kdWN0cykgLSBCdXQgdGhlcmUgaXMgbm8gcHJvZHVjdCB3aXRoIHRoZSBpZCAke2FyZ3MucHJvZHVjdElkfSFgXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0Y291bnQ6IGFyZ3MuY291bnQsXG5cdFx0XHRcdFx0cHJpY2U6IHdQcm9kdWN0LnByaWNlLFxuXHRcdFx0XHRcdGluaXRpYWxQcmljZTogd1Byb2R1Y3QuaW5pdGlhbFByaWNlLFxuXHRcdFx0XHRcdGRlbGl2ZXJ5VGltZU1pbjogd1Byb2R1Y3QuZGVsaXZlcnlUaW1lTWluLFxuXHRcdFx0XHRcdGRlbGl2ZXJ5VGltZU1heDogd1Byb2R1Y3QuZGVsaXZlcnlUaW1lTWF4LFxuXHRcdFx0XHRcdHByb2R1Y3Q6IHdQcm9kdWN0LnByb2R1Y3QgYXMgUHJvZHVjdCxcblxuXHRcdFx0XHRcdGlzTWFudWZhY3R1cmluZzogd1Byb2R1Y3QuaXNNYW51ZmFjdHVyaW5nLFxuXHRcdFx0XHRcdGlzQ2FycmllclJlcXVpcmVkOiB3UHJvZHVjdC5pc0NhcnJpZXJSZXF1aXJlZCxcblx0XHRcdFx0XHRpc0RlbGl2ZXJ5UmVxdWlyZWQ6IHdQcm9kdWN0LmlzRGVsaXZlcnlSZXF1aXJlZCxcblx0XHRcdFx0XHRpc1Rha2Vhd2F5OiB3UHJvZHVjdC5pc1Rha2Vhd2F5LFxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdCk7XG5cblx0XHRmb3IgKGNvbnN0IHByb2R1Y3Qgb2YgcHJvZHVjdHMpIHtcblx0XHRcdGF3YWl0IHRoaXMud2FyZWhvdXNlc1Byb2R1Y3RzU2VydmljZS5kZWNyZWFzZUNvdW50KFxuXHRcdFx0XHR3YXJlaG91c2VJZCxcblx0XHRcdFx0cHJvZHVjdC5wcm9kdWN0SWQsXG5cdFx0XHRcdHByb2R1Y3QuY291bnRcblx0XHRcdCk7XG5cblx0XHRcdGF3YWl0IHRoaXMud2FyZWhvdXNlc1Byb2R1Y3RzU2VydmljZS5pbmNyZWFzZVNvbGRDb3VudChcblx0XHRcdFx0d2FyZWhvdXNlSWQsXG5cdFx0XHRcdHByb2R1Y3QucHJvZHVjdElkLFxuXHRcdFx0XHRwcm9kdWN0LmNvdW50XG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLnVwZGF0ZShvcmRlcklkLCB7XG5cdFx0XHRwcm9kdWN0czogWy4uLm9yZGVyLnByb2R1Y3RzLCAuLi5uZXdPcmRlclByb2R1Y3RzXSxcblx0XHR9KTtcblx0fVxuXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgZGVjcmVhc2VPcmRlclByb2R1Y3RzKFxuXHRcdG9yZGVySWQ6IE9yZGVyWydpZCddLFxuXHRcdHByb2R1Y3RzOiBhbnksIC8vIFRPRE86IHNwZWNpZnkgY29ycmVjdCBUeXBlXG5cdFx0d2FyZWhvdXNlSWQ6IFdhcmVob3VzZVsnaWQnXVxuXHQpOiBQcm9taXNlPE9yZGVyPiB7XG5cdFx0YXdhaXQgdGhpcy5fdGhyb3dJZk5vdEV4aXN0cyhvcmRlcklkKTtcblxuXHRcdGNvbnN0IG9yZGVyID0gYXdhaXQgdGhpcy5fZ2V0KG9yZGVySWQpO1xuXG5cdFx0Y29uc3Qgb2xkUHJvZHVjdHNJZHMgPSBvcmRlci5wcm9kdWN0cy5tYXAoXG5cdFx0XHQocDogT3JkZXJQcm9kdWN0KSA9PiBwLnByb2R1Y3QuaWRcblx0XHQpO1xuXG5cdFx0Y29uc3QgbmV3UHJvZHVjdHNJZHMgPSBwcm9kdWN0cy5tYXAoKHApID0+IHAucHJvZHVjdElkKTtcblxuXHRcdGZvciAoY29uc3QgcHJvZHVjdCBvZiBvcmRlci5wcm9kdWN0cykge1xuXHRcdFx0aWYgKG5ld1Byb2R1Y3RzSWRzLmluY2x1ZGVzKHByb2R1Y3QucHJvZHVjdC5pZCkpIHtcblx0XHRcdFx0Y29uc3QgbmV3UHJvZHVjdCA9IHByb2R1Y3RzLmZpbmQoXG5cdFx0XHRcdFx0KHA6IHsgcHJvZHVjdElkOiBzdHJpbmcgfSkgPT5cblx0XHRcdFx0XHRcdHAucHJvZHVjdElkID09PSBwcm9kdWN0LnByb2R1Y3QuaWRcblx0XHRcdFx0KTtcblxuXHRcdFx0XHRpZiAobmV3UHJvZHVjdCkge1xuXHRcdFx0XHRcdHByb2R1Y3QuY291bnQgLT0gbmV3UHJvZHVjdC5jb3VudDtcblx0XHRcdFx0XHRpZiAocHJvZHVjdC5jb3VudCA+PSAxKSB7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLndhcmVob3VzZXNQcm9kdWN0c1NlcnZpY2UuZGVjcmVhc2VTb2xkQ291bnQoXG5cdFx0XHRcdFx0XHRcdHdhcmVob3VzZUlkLFxuXHRcdFx0XHRcdFx0XHQvLyB3aGF0IHByb2R1Y3QgYXZhaWxhYmlsaXR5IHNob3VsZCBiZSBkZWNyZWFzZWRcblx0XHRcdFx0XHRcdFx0bmV3UHJvZHVjdC5wcm9kdWN0SWQsXG5cdFx0XHRcdFx0XHRcdC8vIGhvdyBtYW55IHRvIHJlbW92ZVxuXHRcdFx0XHRcdFx0XHRuZXdQcm9kdWN0LmNvdW50XG5cdFx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLndhcmVob3VzZXNQcm9kdWN0c1NlcnZpY2UuaW5jcmVhc2VDb3VudChcblx0XHRcdFx0XHRcdFx0d2FyZWhvdXNlSWQsXG5cdFx0XHRcdFx0XHRcdG5ld1Byb2R1Y3QucHJvZHVjdElkLFxuXHRcdFx0XHRcdFx0XHRuZXdQcm9kdWN0LmNvdW50XG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdFx0XHRcdGBZb3UgY2FuIG5vdCBkZWNyZWFzZSBwcm9kdWN0IHRvIGJlID09PSAwICFgXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHByb2R1Y3RzID0gcHJvZHVjdHMuZmlsdGVyKFxuXHRcdFx0KHA6IHsgW3g6IHN0cmluZ106IHN0cmluZyB9KSA9PlxuXHRcdFx0XHQhb2xkUHJvZHVjdHNJZHMuaW5jbHVkZXMocFsncHJvZHVjdElkJ10pXG5cdFx0KTtcblxuXHRcdGNvbnN0IHdhcmVob3VzZSA9IChhd2FpdCB0aGlzLndhcmVob3VzZXNTZXJ2aWNlXG5cdFx0XHQuZ2V0KHdhcmVob3VzZUlkLCB0cnVlKVxuXHRcdFx0LnBpcGUoZmlyc3QoKSlcblx0XHRcdC50b1Byb21pc2UoKSkgYXMgV2l0aEZ1bGxQcm9kdWN0cztcblxuXHRcdGNvbnN0IHdhcmVob3VzZVByb2R1Y3RzID0gXy5rZXlCeSh3YXJlaG91c2UucHJvZHVjdHMsICdwcm9kdWN0SWQnKTtcblxuXHRcdGNvbnN0IG5ld09yZGVyUHJvZHVjdHMgPSBhd2FpdCBfLm1hcChcblx0XHRcdHByb2R1Y3RzLFxuXHRcdFx0KGFyZ3MpOiBJT3JkZXJQcm9kdWN0Q3JlYXRlT2JqZWN0ID0+IHtcblx0XHRcdFx0Y29uc3Qgd1Byb2R1Y3QgPSB3YXJlaG91c2VQcm9kdWN0c1thcmdzLnByb2R1Y3RJZF07XG5cblx0XHRcdFx0aWYgKCF3UHJvZHVjdCkge1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0XHRcdGBXYXJlaG91c2VPcmRlcnNTZXJ2aWNlIGdvdCBjYWxsIHRvIGNyZWF0ZSh1c2VySWQsIG9yZGVyUHJvZHVjdHMpIC0gQnV0IHRoZXJlIGlzIG5vIHByb2R1Y3Qgd2l0aCB0aGUgaWQgJHthcmdzLnByb2R1Y3RJZH0hYFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdGNvdW50OiBhcmdzLmNvdW50LFxuXHRcdFx0XHRcdHByaWNlOiB3UHJvZHVjdC5wcmljZSxcblx0XHRcdFx0XHRpbml0aWFsUHJpY2U6IHdQcm9kdWN0LmluaXRpYWxQcmljZSxcblx0XHRcdFx0XHRkZWxpdmVyeVRpbWVNaW46IHdQcm9kdWN0LmRlbGl2ZXJ5VGltZU1pbixcblx0XHRcdFx0XHRkZWxpdmVyeVRpbWVNYXg6IHdQcm9kdWN0LmRlbGl2ZXJ5VGltZU1heCxcblx0XHRcdFx0XHRwcm9kdWN0OiB3UHJvZHVjdC5wcm9kdWN0IGFzIFByb2R1Y3QsXG5cdFx0XHRcdFx0aXNNYW51ZmFjdHVyaW5nOiB3UHJvZHVjdC5pc01hbnVmYWN0dXJpbmcsXG5cdFx0XHRcdFx0aXNDYXJyaWVyUmVxdWlyZWQ6IHdQcm9kdWN0LmlzQ2FycmllclJlcXVpcmVkLFxuXHRcdFx0XHRcdGlzRGVsaXZlcnlSZXF1aXJlZDogd1Byb2R1Y3QuaXNEZWxpdmVyeVJlcXVpcmVkLFxuXHRcdFx0XHRcdGlzVGFrZWF3YXk6IHdQcm9kdWN0LmlzVGFrZWF3YXksXG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cdFx0KTtcblxuXHRcdGZvciAoY29uc3QgcHJvZHVjdCBvZiBwcm9kdWN0cykge1xuXHRcdFx0YXdhaXQgdGhpcy53YXJlaG91c2VzUHJvZHVjdHNTZXJ2aWNlLmRlY3JlYXNlQ291bnQoXG5cdFx0XHRcdHdhcmVob3VzZUlkLFxuXHRcdFx0XHRwcm9kdWN0LnByb2R1Y3RJZCxcblx0XHRcdFx0cHJvZHVjdC5jb3VudFxuXHRcdFx0KTtcblxuXHRcdFx0YXdhaXQgdGhpcy53YXJlaG91c2VzUHJvZHVjdHNTZXJ2aWNlLmluY3JlYXNlU29sZENvdW50KFxuXHRcdFx0XHR3YXJlaG91c2VJZCxcblx0XHRcdFx0cHJvZHVjdC5wcm9kdWN0SWQsXG5cdFx0XHRcdHByb2R1Y3QuY291bnRcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMudXBkYXRlKG9yZGVySWQsIHtcblx0XHRcdHByb2R1Y3RzOiBbLi4ub3JkZXIucHJvZHVjdHMsIC4uLm5ld09yZGVyUHJvZHVjdHNdLFxuXHRcdH0pO1xuXHR9XG5cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyByZW1vdmVQcm9kdWN0cyhcblx0XHRvcmRlcklkOiBPcmRlclsnaWQnXSxcblx0XHRwcm9kdWN0c0lkczogc3RyaW5nW11cblx0KTogUHJvbWlzZTxPcmRlcj4ge1xuXHRcdGF3YWl0IHRoaXMuX3Rocm93SWZOb3RFeGlzdHMob3JkZXJJZCk7XG5cblx0XHRjb25zdCBvcmRlciA9IGF3YWl0IHRoaXMuX2dldChvcmRlcklkKTtcblxuXHRcdGNvbnN0IG5ld1Byb2R1Y3RzID0gb3JkZXIucHJvZHVjdHMuZmlsdGVyKFxuXHRcdFx0KHA6IE9yZGVyUHJvZHVjdCkgPT4gIXByb2R1Y3RzSWRzLmluY2x1ZGVzKHAucHJvZHVjdC5pZClcblx0XHQpO1xuXG5cdFx0Y29uc3QgcmVtb3ZlZFByb2R1Y3RzID0gb3JkZXIucHJvZHVjdHMuZmlsdGVyKChwOiBPcmRlclByb2R1Y3QpID0+XG5cdFx0XHRwcm9kdWN0c0lkcy5pbmNsdWRlcyhwLnByb2R1Y3QuaWQpXG5cdFx0KTtcblxuXHRcdC8vIHJldmVydCBvcmRlciBzb2xkIGNvdW50XG5cdFx0YXdhaXQgKDxhbnk+Qmx1ZWJpcmQpLm1hcChyZW1vdmVkUHJvZHVjdHMsIGFzeW5jIChvcmRlclByb2R1Y3QpID0+IHtcblx0XHRcdGNvbnN0IHByb2R1Y3RJZCA9IG9yZGVyUHJvZHVjdC5wcm9kdWN0LmlkO1xuXG5cdFx0XHRhd2FpdCB0aGlzLndhcmVob3VzZXNQcm9kdWN0c1NlcnZpY2UuZGVjcmVhc2VTb2xkQ291bnQoXG5cdFx0XHRcdG9yZGVyLndhcmVob3VzZUlkLFxuXHRcdFx0XHRwcm9kdWN0SWQsXG5cdFx0XHRcdG9yZGVyUHJvZHVjdC5jb3VudFxuXHRcdFx0KTtcblxuXHRcdFx0YXdhaXQgdGhpcy53YXJlaG91c2VzUHJvZHVjdHNTZXJ2aWNlLmluY3JlYXNlQ291bnQoXG5cdFx0XHRcdG9yZGVyLndhcmVob3VzZUlkLFxuXHRcdFx0XHRwcm9kdWN0SWQsXG5cdFx0XHRcdG9yZGVyUHJvZHVjdC5jb3VudFxuXHRcdFx0KTtcblx0XHR9KTtcblxuXHRcdHJldHVybiB0aGlzLnVwZGF0ZShvcmRlcklkLCB7XG5cdFx0XHRwcm9kdWN0czogbmV3UHJvZHVjdHMsXG5cdFx0fSk7XG5cdH1cblxuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIGNhbmNlbChvcmRlcklkOiBPcmRlclsnaWQnXSk6IFByb21pc2U8T3JkZXI+IHtcblx0XHRhd2FpdCB0aGlzLl90aHJvd0lmTm90RXhpc3RzKG9yZGVySWQpO1xuXG5cdFx0cmV0dXJuIHRoaXMudXBkYXRlKG9yZGVySWQsIHtcblx0XHRcdGlzQ2FuY2VsbGVkOiB0cnVlLFxuXHRcdFx0ZmluaXNoZWRQcm9jZXNzaW5nVGltZTogRGF0ZS5ub3coKSxcblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBTZXQgb3JkZXIgd2l0aCBnaXZlbiBJZCBhcyBQYWlkXG5cdCAqXG5cdCAqIEBwYXJhbSB7T3JkZXJbJ2lkJ119IG9yZGVySWRcblx0ICogQHJldHVybnMge1Byb21pc2U8T3JkZXI+fVxuXHQgKiBAbWVtYmVyb2YgT3JkZXJzU2VydmljZVxuXHQgKi9cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyBwYWlkKG9yZGVySWQ6IE9yZGVyWydpZCddKTogUHJvbWlzZTxPcmRlcj4ge1xuXHRcdGF3YWl0IHRoaXMuX3Rocm93SWZOb3RFeGlzdHMob3JkZXJJZCk7XG5cblx0XHRyZXR1cm4gdGhpcy51cGRhdGUob3JkZXJJZCwgeyBpc1BhaWQ6IHRydWUgfSk7XG5cdH1cblxuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIGdldFN0b3JlT3JkZXJzQ2hhcnRUb3RhbE9yZGVycyhzdG9yZUlkOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuXHRcdGNvbnN0IG9yZGVyc1JhdyA9IGF3YWl0IHRoaXMuTW9kZWwuZmluZCh7XG5cdFx0XHR3YXJlaG91c2U6IHN0b3JlSWQsXG5cdFx0XHRpc0RlbGV0ZWQ6IHsgJGVxOiBmYWxzZSB9LFxuXHRcdH0pXG5cdFx0XHQuc2VsZWN0KHtcblx0XHRcdFx0aXNDYW5jZWxsZWQ6IDEsXG5cdFx0XHRcdGlzUGFpZDogMSxcblx0XHRcdFx0Y2FycmllcjogMSxcblx0XHRcdFx0Y2FycmllclN0YXR1czogMSxcblx0XHRcdFx0d2FyZWhvdXNlU3RhdHVzOiAxLFxuXHRcdFx0XHRfY3JlYXRlZEF0OiAxLFxuXHRcdFx0XHQncHJvZHVjdHMucHJpY2UnOiAxLFxuXHRcdFx0XHQncHJvZHVjdHMuY291bnQnOiAxLFxuXHRcdFx0fSlcblx0XHRcdC5sZWFuKClcblx0XHRcdC5leGVjKCk7XG5cblx0XHRjb25zdCBvcmRlcnMgPSBfLm1hcChvcmRlcnNSYXcsIChvKSA9PiB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHR0b3RhbFByaWNlOiB0aGlzLl9nZXRPcmRlclRvdGFsUHJpY2UobyksXG5cdFx0XHRcdGlzQ29tcGxldGVkOiB0aGlzLl9pc09yZGVyQ29tcGxldGVkKG8pLFxuXHRcdFx0XHRpc0NhbmNlbGxlZDogby5pc0NhbmNlbGxlZCxcblx0XHRcdFx0X2NyZWF0ZWRBdDogby5fY3JlYXRlZEF0LFxuXHRcdFx0fTtcblx0XHR9KTtcblxuXHRcdHJldHVybiBvcmRlcnMuZmlsdGVyKChvKSA9PiBvLmlzQ29tcGxldGVkKTtcblx0fVxuXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgZ2V0T3JkZXJzQ2hhcnRUb3RhbE9yZGVycygpOiBQcm9taXNlPGFueT4ge1xuXHRcdGNvbnN0IG9yZGVyc1JhdyA9IGF3YWl0IHRoaXMuTW9kZWwuZmluZCh7XG5cdFx0XHRpc0RlbGV0ZWQ6IHsgJGVxOiBmYWxzZSB9LFxuXHRcdH0pXG5cdFx0XHQuc2VsZWN0KHtcblx0XHRcdFx0aXNDYW5jZWxsZWQ6IDEsXG5cdFx0XHRcdGlzUGFpZDogMSxcblx0XHRcdFx0Y2FycmllcjogMSxcblx0XHRcdFx0Y2FycmllclN0YXR1czogMSxcblx0XHRcdFx0d2FyZWhvdXNlU3RhdHVzOiAxLFxuXHRcdFx0XHRfY3JlYXRlZEF0OiAxLFxuXHRcdFx0XHQncHJvZHVjdHMucHJpY2UnOiAxLFxuXHRcdFx0XHQncHJvZHVjdHMuY291bnQnOiAxLFxuXHRcdFx0fSlcblx0XHRcdC5sZWFuKClcblx0XHRcdC5leGVjKCk7XG5cblx0XHRjb25zdCBvcmRlcnMgPSBfLm1hcChvcmRlcnNSYXcsIChvKSA9PiB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHR0b3RhbFByaWNlOiB0aGlzLl9nZXRPcmRlclRvdGFsUHJpY2UobyksXG5cdFx0XHRcdGlzQ29tcGxldGVkOiB0aGlzLl9pc09yZGVyQ29tcGxldGVkKG8pLFxuXHRcdFx0XHRpc0NhbmNlbGxlZDogby5pc0NhbmNlbGxlZCxcblx0XHRcdFx0X2NyZWF0ZWRBdDogby5fY3JlYXRlZEF0LFxuXHRcdFx0fTtcblx0XHR9KTtcblxuXHRcdGNvbnN0IG9yZGVyc1JlcyA9IG9yZGVycy5maWx0ZXIoKG8pID0+IG8uaXNDb21wbGV0ZWQpO1xuXG5cdFx0cmV0dXJuIG9yZGVyc1Jlcztcblx0fVxuXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgZ2V0RGFzaGJvYXJkQ29tcGxldGVkT3JkZXJzVG9kYXkoKTogUHJvbWlzZTxhbnk+IHtcblx0XHRjb25zdCBzdGFydCA9IG5ldyBEYXRlKCk7XG5cdFx0Y29uc3QgZW5kID0gbmV3IERhdGUoKTtcblxuXHRcdHN0YXJ0LnNldEhvdXJzKDAsIDAsIDAsIDApO1xuXHRcdGVuZC5zZXRIb3VycygyMywgNTksIDU5LCA5OTkpO1xuXG5cdFx0Y29uc3Qgb3JkZXJzUmF3ID0gYXdhaXQgdGhpcy5Nb2RlbC5maW5kKHtcblx0XHRcdGlzRGVsZXRlZDogeyAkZXE6IGZhbHNlIH0sXG5cdFx0XHRpc0NhbmNlbGxlZDogeyAkZXE6IGZhbHNlIH0sXG5cdFx0XHRfY3JlYXRlZEF0OiB7ICRndGU6IHN0YXJ0LCAkbHQ6IGVuZCB9LFxuXHRcdH0pXG5cdFx0XHQuc2VsZWN0KHtcblx0XHRcdFx0aXNDYW5jZWxsZWQ6IDEsXG5cdFx0XHRcdGlzUGFpZDogMSxcblx0XHRcdFx0Y2FycmllcjogMSxcblx0XHRcdFx0Y2FycmllclN0YXR1czogMSxcblx0XHRcdFx0d2FyZWhvdXNlU3RhdHVzOiAxLFxuXHRcdFx0XHRfY3JlYXRlZEF0OiAxLFxuXHRcdFx0XHR3YXJlaG91c2U6IDEsXG5cdFx0XHRcdHVzZXI6IDEsXG5cdFx0XHRcdCdwcm9kdWN0cy5wcmljZSc6IDEsXG5cdFx0XHRcdCdwcm9kdWN0cy5jb3VudCc6IDEsXG5cdFx0XHR9KVxuXHRcdFx0LmxlYW4oKVxuXHRcdFx0LmV4ZWMoKTtcblxuXHRcdGNvbnN0IG9yZGVycyA9IF8ubWFwKG9yZGVyc1JhdywgKG8pID0+IHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHRvdGFsUHJpY2U6IHRoaXMuX2dldE9yZGVyVG90YWxQcmljZShvKSxcblx0XHRcdFx0aXNDb21wbGV0ZWQ6IHRoaXMuX2lzT3JkZXJDb21wbGV0ZWQobyksXG5cdFx0XHRcdGlzQ2FuY2VsbGVkOiBvLmlzQ2FuY2VsbGVkLFxuXHRcdFx0XHR1c2VyOiBvLnVzZXIsXG5cdFx0XHRcdHdhcmVob3VzZUlkOiBvLndhcmVob3VzZSxcblx0XHRcdFx0X2NyZWF0ZWRBdDogby5fY3JlYXRlZEF0LFxuXHRcdFx0fTtcblx0XHR9KTtcblxuXHRcdHJldHVybiBvcmRlcnMuZmlsdGVyKChvKSA9PiBvLmlzQ29tcGxldGVkKTtcblx0fVxuXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgZ2V0T3JkZXJlZFVzZXJzSW5mbyhzdG9yZUlkOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuXHRcdGNvbnN0IG9yZGVycyA9IGF3YWl0IHRoaXMuTW9kZWwuZmluZCh7XG5cdFx0XHRpc0RlbGV0ZWQ6IHsgJGVxOiBmYWxzZSB9LFxuXHRcdFx0d2FyZWhvdXNlOiB7ICRlcTogc3RvcmVJZCB9LFxuXHRcdH0pXG5cdFx0XHQuc2VsZWN0KHtcblx0XHRcdFx0dXNlcjogMSxcblx0XHRcdFx0aXNQYWlkOiAxLFxuXHRcdFx0XHQncHJvZHVjdHMucHJpY2UnOiAxLFxuXHRcdFx0XHQncHJvZHVjdHMuY291bnQnOiAxLFxuXHRcdFx0fSlcblx0XHRcdC5sZWFuKClcblx0XHRcdC5leGVjKCk7XG5cblx0XHRjb25zdCB1bmlxdWUgPSAodmFsdWUsIGluZGV4LCBzZWxmKSA9PiB7XG5cdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHRzZWxmXG5cdFx0XHRcdFx0Lm1hcCgocykgPT4gcy51c2VyLl9pZC50b1N0cmluZygpKVxuXHRcdFx0XHRcdC5pbmRleE9mKHZhbHVlLnVzZXIuX2lkLnRvU3RyaW5nKCkpID09PSBpbmRleFxuXHRcdFx0KTtcblx0XHR9O1xuXG5cdFx0Y29uc3Qgb1VzZXJzID0gb3JkZXJzLmZpbHRlcih1bmlxdWUpLm1hcCgobykgPT4ge1xuXHRcdFx0Y29uc3QgdXNlcjogVXNlciA9IG5ldyBVc2VyKG8udXNlcik7XG5cdFx0XHRyZXR1cm4gdXNlcjtcblx0XHR9KTtcblxuXHRcdGNvbnN0IG9Vc2VySWRzID0gb1VzZXJzLm1hcCgodSkgPT4gdS5pZCk7XG5cdFx0Y29uc3QgcmVhbFVzZXJzID0gYXdhaXQgdGhpcy51c2Vyc1NlcnZpY2UuZmluZCh7XG5cdFx0XHRpc0RlbGV0ZWQ6IGZhbHNlLFxuXHRcdFx0X2lkOiB7ICRpbjogb1VzZXJJZHMgfSxcblx0XHR9KTtcblxuXHRcdHJldHVybiBvVXNlcnMubWFwKCh1KSA9PiB7XG5cdFx0XHRjb25zdCB1c2VyT3JkZXJzID0gb3JkZXJzLmZpbHRlcihcblx0XHRcdFx0KG8pID0+IG8udXNlci5faWQudG9TdHJpbmcoKSA9PT0gdS5faWQudG9TdHJpbmcoKVxuXHRcdFx0KTtcblxuXHRcdFx0bGV0IHRvdGFsUHJpY2UgPSAwO1xuXG5cdFx0XHRjb25zdCBwYWlkT3JkZXJzID0gdXNlck9yZGVycy5maWx0ZXIoKG86IE9yZGVyKSA9PiBvLmlzUGFpZCk7XG5cblx0XHRcdGlmIChwYWlkT3JkZXJzLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0dG90YWxQcmljZSA9IHBhaWRPcmRlcnNcblx0XHRcdFx0XHQubWFwKChvOiBPcmRlcikgPT4gdGhpcy5fZ2V0T3JkZXJUb3RhbFByaWNlKG8pKVxuXHRcdFx0XHRcdC5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0dXNlcjogcmVhbFVzZXJzLmZpbmQoKHJ1KSA9PiBydS5pZCA9PT0gdS5pZCksXG5cdFx0XHRcdG9yZGVyc0NvdW50OiB1c2VyT3JkZXJzLmxlbmd0aCxcblx0XHRcdFx0dG90YWxQcmljZSxcblx0XHRcdH07XG5cdFx0fSk7XG5cdH1cblxuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIGdldERhc2hib2FyZENvbXBsZXRlZE9yZGVycyhzdG9yZUlkPzogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcblx0XHRjb25zdCBxdWFyeU9iaiA9IHtcblx0XHRcdGlzRGVsZXRlZDogeyAkZXE6IGZhbHNlIH0sXG5cdFx0XHRpc0NhbmNlbGxlZDogeyAkZXE6IGZhbHNlIH0sXG5cdFx0fTtcblxuXHRcdGlmIChzdG9yZUlkKSB7XG5cdFx0XHRxdWFyeU9ialsnd2FyZWhvdXNlJ10gPSB7ICRlcTogc3RvcmVJZCB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IG9yZGVyc1JhdyA9IGF3YWl0IHRoaXMuTW9kZWwuZmluZChxdWFyeU9iailcblx0XHRcdC5zZWxlY3Qoe1xuXHRcdFx0XHRpc0NhbmNlbGxlZDogMSxcblx0XHRcdFx0aXNQYWlkOiAxLFxuXHRcdFx0XHRjYXJyaWVyOiAxLFxuXHRcdFx0XHQvLyB1c2VyOiAxLFxuXHRcdFx0XHRjYXJyaWVyU3RhdHVzOiAxLFxuXHRcdFx0XHR3YXJlaG91c2VTdGF0dXM6IDEsXG5cdFx0XHRcdC8vIF9jcmVhdGVkQXQ6IDEsXG5cdFx0XHRcdHdhcmVob3VzZTogMSxcblx0XHRcdFx0J3Byb2R1Y3RzLnByaWNlJzogMSxcblx0XHRcdFx0J3Byb2R1Y3RzLmNvdW50JzogMSxcblx0XHRcdH0pXG5cdFx0XHQubGVhbigpXG5cdFx0XHQuZXhlYygpO1xuXG5cdFx0Y29uc3Qgb3JkZXJzID0gXy5tYXAob3JkZXJzUmF3LCAobykgPT4ge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0dG90YWxQcmljZTogdGhpcy5fZ2V0T3JkZXJUb3RhbFByaWNlKG8pLFxuXHRcdFx0XHR3YXJlaG91c2VJZDogby53YXJlaG91c2UsXG5cdFx0XHRcdGlzQ29tcGxldGVkOiB0aGlzLl9pc09yZGVyQ29tcGxldGVkKG8pLFxuXHRcdFx0XHQvLyBpc0NhbmNlbGxlZDogby5pc0NhbmNlbGxlZCxcblx0XHRcdFx0Ly8gdXNlcjogby51c2VyLFxuXHRcdFx0XHQvLyBfY3JlYXRlZEF0OiBvLl9jcmVhdGVkQXRcblx0XHRcdH07XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gb3JkZXJzLmZpbHRlcigobykgPT4gby5pc0NvbXBsZXRlZCk7XG5cdH1cblxuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIGdldE9yZGVyc0luRGVsaXZlcnkoc3RvcmVJZDogc3RyaW5nKTogUHJvbWlzZTxPcmRlcltdPiB7XG5cdFx0Y29uc3Qgb3JkZXIgPSBhd2FpdCB0aGlzLk1vZGVsLmZpbmQoe1xuXHRcdFx0aXNEZWxldGVkOiBmYWxzZSxcblx0XHRcdGlzQ2FuY2VsbGVkOiBmYWxzZSxcblx0XHRcdHdhcmVob3VzZTogc3RvcmVJZCxcblx0XHRcdGNhcnJpZXJTdGF0dXM6IHtcblx0XHRcdFx0JGluOiBbXG5cdFx0XHRcdFx0T3JkZXJDYXJyaWVyU3RhdHVzLkNhcnJpZXJQaWNrZWRVcE9yZGVyLFxuXHRcdFx0XHRcdE9yZGVyQ2FycmllclN0YXR1cy5DYXJyaWVyU3RhcnREZWxpdmVyeSxcblx0XHRcdFx0XHRPcmRlckNhcnJpZXJTdGF0dXMuQ2FycmllckFycml2ZWRUb0N1c3RvbWVyLFxuXHRcdFx0XHRdLFxuXHRcdFx0fSxcblx0XHR9KVxuXHRcdFx0LnBvcHVsYXRlKCdjYXJyaWVyIHVzZXInKVxuXHRcdFx0LmxlYW4oKVxuXHRcdFx0LmV4ZWMoKTtcblxuXHRcdHJldHVybiBvcmRlcjtcblx0fVxuXG5cdHByaXZhdGUgX2dldE9yZGVyVG90YWxQcmljZShvcmRlcjogT3JkZXIpOiBudW1iZXIge1xuXHRcdHJldHVybiBfLnN1bShfLm1hcChvcmRlci5wcm9kdWN0cywgKHApID0+IHAuY291bnQgKiBwLnByaWNlKSk7XG5cdH1cblxuXHRwcml2YXRlIF9pc09yZGVyQ29tcGxldGVkKG9yZGVyOiBPcmRlcik6IGJvb2xlYW4ge1xuXHRcdGZ1bmN0aW9uIGdldFN0YXR1cyhvOiBPcmRlcik6IE9yZGVyU3RhdHVzIHtcblx0XHRcdGlmIChcblx0XHRcdFx0by5jYXJyaWVyID09IG51bGwgfHxcblx0XHRcdFx0by5jYXJyaWVyU3RhdHVzIDw9IE9yZGVyQ2FycmllclN0YXR1cy5DYXJyaWVyUGlja2VkVXBPcmRlclxuXHRcdFx0KSB7XG5cdFx0XHRcdGlmIChvLndhcmVob3VzZVN0YXR1cyA+PSAyMDApIHtcblx0XHRcdFx0XHRyZXR1cm4gT3JkZXJTdGF0dXMuV2FyZWhvdXNlSXNzdWU7XG5cdFx0XHRcdH0gZWxzZSBpZiAoby5pc0NhbmNlbGxlZCkge1xuXHRcdFx0XHRcdHJldHVybiBPcmRlclN0YXR1cy5DYW5jZWxlZFdoaWxlV2FyZWhvdXNlUHJlcGFyYXRpb247XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmV0dXJuIE9yZGVyU3RhdHVzLldhcmVob3VzZVByZXBhcmF0aW9uO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoby5jYXJyaWVyU3RhdHVzID49IDIwMCkge1xuXHRcdFx0XHRcdHJldHVybiBPcmRlclN0YXR1cy5DYXJyaWVySXNzdWU7XG5cdFx0XHRcdH0gZWxzZSBpZiAoby5pc0NhbmNlbGxlZCkge1xuXHRcdFx0XHRcdHJldHVybiBPcmRlclN0YXR1cy5DYW5jZWxlZFdoaWxlSW5EZWxpdmVyeTtcblx0XHRcdFx0fSBlbHNlIGlmIChcblx0XHRcdFx0XHRvLmlzUGFpZCAmJlxuXHRcdFx0XHRcdG8uY2FycmllclN0YXR1cyA9PT0gT3JkZXJDYXJyaWVyU3RhdHVzLkRlbGl2ZXJ5Q29tcGxldGVkXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdHJldHVybiBPcmRlclN0YXR1cy5EZWxpdmVyZWQ7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmV0dXJuIE9yZGVyU3RhdHVzLkluRGVsaXZlcnk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIChcblx0XHRcdChvcmRlci5pc1BhaWQgJiYgZ2V0U3RhdHVzKG9yZGVyKSA9PT0gT3JkZXJTdGF0dXMuRGVsaXZlcmVkKSB8fFxuXHRcdFx0b3JkZXIuaXNDYW5jZWxsZWRcblx0XHQpO1xuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBfZ2V0KFxuXHRcdGlkOiBzdHJpbmcsXG5cdFx0b3B0aW9uczogeyBwb3B1bGF0ZVdhcmVob3VzZT86IGJvb2xlYW47IHBvcHVsYXRlQ2Fycmllcj86IGJvb2xlYW4gfSA9IHt9XG5cdCk6IFByb21pc2U8T3JkZXI+IHtcblx0XHRsZXQgdG9Qb3B1bGF0ZSA9ICcnO1xuXG5cdFx0aWYgKG9wdGlvbnMucG9wdWxhdGVDYXJyaWVyKSB7XG5cdFx0XHR0b1BvcHVsYXRlICs9ICdjYXJyaWVyICc7XG5cdFx0fVxuXG5cdFx0aWYgKG9wdGlvbnMucG9wdWxhdGVXYXJlaG91c2UpIHtcblx0XHRcdHRvUG9wdWxhdGUgKz0gJ3dhcmVob3VzZSAnO1xuXHRcdH1cblxuXHRcdHJldHVybiBuZXcgT3JkZXIoXG5cdFx0XHQoYXdhaXQgdGhpcy5Nb2RlbC5maW5kQnlJZChpZClcblx0XHRcdFx0LnBvcHVsYXRlKHRvUG9wdWxhdGUpXG5cdFx0XHRcdC5zb3J0KHsgX2NyZWF0ZWRBdDogLTEsIG9yZGVyTnVtYmVyOiAtMSB9KVxuXHRcdFx0XHQubGVhbigpXG5cdFx0XHRcdC5leGVjKCkpIGFzIElPcmRlclxuXHRcdCk7XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIF90aHJvd0lmTm90RXhpc3RzKG9yZGVySWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGNvbnN0IG9yZGVyID0gYXdhaXQgc3VwZXIuZ2V0KG9yZGVySWQpLnBpcGUoZmlyc3QoKSkudG9Qcm9taXNlKCk7XG5cblx0XHRpZiAoIW9yZGVyIHx8IG9yZGVyLmlzRGVsZXRlZCkge1xuXHRcdFx0dGhyb3cgRXJyb3IoYE9yZGVyIHdpdGggaWQgJyR7b3JkZXJJZH0nIGRvZXMgbm90IGV4aXN0cyFgKTtcblx0XHR9XG5cdH1cbn1cbiIsImV4cG9ydCAqIGZyb20gJy4vT3JkZXJzU2VydmljZSc7XG4iLCJpbXBvcnQgTG9nZ2VyIGZyb20gJ2J1bnlhbic7XG5pbXBvcnQgeyBpbmplY3RhYmxlIH0gZnJvbSAnaW52ZXJzaWZ5JztcbmltcG9ydCB7IGNyZWF0ZUV2ZXJMb2dnZXIgfSBmcm9tICcuLi8uLi9oZWxwZXJzL0xvZyc7XG5pbXBvcnQgeyBEQlNlcnZpY2UgfSBmcm9tICdAcHlyby9kYi1zZXJ2ZXInO1xuaW1wb3J0IElQcm9kdWN0c0NhdGVnb3J5Um91dGVyIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vcm91dGVycy9JUHJvZHVjdHNDYXRlZ29yeVJvdXRlcic7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBhc3luY0xpc3RlbmVyLCBvYnNlcnZhYmxlTGlzdGVuZXIsIHJvdXRlck5hbWUgfSBmcm9tICdAcHlyby9pbyc7XG5pbXBvcnQgSVNlcnZpY2UgZnJvbSAnLi4vSVNlcnZpY2UnO1xuaW1wb3J0IFByb2R1Y3RzQ2F0ZWdvcnkgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9Qcm9kdWN0c0NhdGVnb3J5JztcbmltcG9ydCB7IFVwZGF0ZU9iamVjdCB9IGZyb20gJ0BweXJvL2RiL2RiLXVwZGF0ZS1vYmplY3QnO1xuaW1wb3J0IHsgQ3JlYXRlT2JqZWN0IH0gZnJvbSAnQHB5cm8vZGIvZGItY3JlYXRlLW9iamVjdCc7XG5pbXBvcnQgeyBmaXJzdCwgc3dpdGNoTWFwLCBtYXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbkBpbmplY3RhYmxlKClcbkByb3V0ZXJOYW1lKCdwcm9kdWN0cy1jYXRlZ29yeScpXG5leHBvcnQgY2xhc3MgUHJvZHVjdHNDYXRlZ29yaWVzU2VydmljZSBleHRlbmRzIERCU2VydmljZTxQcm9kdWN0c0NhdGVnb3J5PlxuXHRpbXBsZW1lbnRzIElQcm9kdWN0c0NhdGVnb3J5Um91dGVyLCBJU2VydmljZSB7XG5cdHB1YmxpYyByZWFkb25seSBEQk9iamVjdDogYW55ID0gUHJvZHVjdHNDYXRlZ29yeTtcblxuXHRwcm90ZWN0ZWQgcmVhZG9ubHkgbG9nOiBMb2dnZXIgPSBjcmVhdGVFdmVyTG9nZ2VyKHtcblx0XHRuYW1lOiAncHJvZHVjdHNDYXRlZ29yaWVzU2VydmljZScsXG5cdH0pO1xuXG5cdC8qKlxuXHQgKiBHZXQgUHJvZHVjdCBDYXRlZ29yeSBieSBJZFxuXHQgKlxuXHQgKiBAcGFyYW0ge1Byb2R1Y3RzQ2F0ZWdvcnlbJ2lkJ119IGlkXG5cdCAqIEByZXR1cm5zIHsoT2JzZXJ2YWJsZTxQcm9kdWN0c0NhdGVnb3J5IHwgbnVsbD4pfVxuXHQgKiBAbWVtYmVyb2YgUHJvZHVjdHNDYXRlZ29yaWVzU2VydmljZVxuXHQgKi9cblx0QG9ic2VydmFibGVMaXN0ZW5lcigpXG5cdGdldChpZDogUHJvZHVjdHNDYXRlZ29yeVsnaWQnXSk6IE9ic2VydmFibGU8UHJvZHVjdHNDYXRlZ29yeSB8IG51bGw+IHtcblx0XHRyZXR1cm4gc3VwZXIuZ2V0KGlkKS5waXBlKFxuXHRcdFx0bWFwKGFzeW5jIChjYXRlZ29yeSkgPT4ge1xuXHRcdFx0XHRhd2FpdCB0aGlzLnRocm93SWZOb3RFeGlzdHMoaWQpO1xuXHRcdFx0XHRyZXR1cm4gY2F0ZWdvcnk7XG5cdFx0XHR9KSxcblx0XHRcdHN3aXRjaE1hcCgoY2F0ZWdvcnkpID0+IGNhdGVnb3J5KVxuXHRcdCk7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlIG5ldyBQcm9kdWN0IENhdGVnb3J5XG5cdCAqXG5cdCAqIEBwYXJhbSB7Q3JlYXRlT2JqZWN0PFByb2R1Y3RzQ2F0ZWdvcnk+fSBjYXRlZ29yeVxuXHQgKiBAcmV0dXJucyB7UHJvbWlzZTxQcm9kdWN0c0NhdGVnb3J5Pn1cblx0ICogQG1lbWJlcm9mIFByb2R1Y3RzQ2F0ZWdvcmllc1NlcnZpY2Vcblx0ICovXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgY3JlYXRlKFxuXHRcdGNhdGVnb3J5OiBDcmVhdGVPYmplY3Q8UHJvZHVjdHNDYXRlZ29yeT5cblx0KTogUHJvbWlzZTxQcm9kdWN0c0NhdGVnb3J5PiB7XG5cdFx0cmV0dXJuIHN1cGVyLmNyZWF0ZShjYXRlZ29yeSk7XG5cdH1cblxuXHQvKipcblx0ICogVXBkYXRlcyBleGlzdGVkIFByb2R1Y3QgQ2F0ZWdvcnlcblx0ICpcblx0ICogQHBhcmFtIHtzdHJpbmd9IGlkXG5cdCAqIEBwYXJhbSB7VXBkYXRlT2JqZWN0PFByb2R1Y3RzQ2F0ZWdvcnk+fSB1cGRhdGVPYmplY3Rcblx0ICogQHJldHVybnMge1Byb21pc2U8UHJvZHVjdHNDYXRlZ29yeT59XG5cdCAqIEBtZW1iZXJvZiBQcm9kdWN0c0NhdGVnb3JpZXNTZXJ2aWNlXG5cdCAqL1xuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIHVwZGF0ZShcblx0XHRpZDogc3RyaW5nLFxuXHRcdHVwZGF0ZU9iamVjdDogVXBkYXRlT2JqZWN0PFByb2R1Y3RzQ2F0ZWdvcnk+XG5cdCk6IFByb21pc2U8UHJvZHVjdHNDYXRlZ29yeT4ge1xuXHRcdGF3YWl0IHRoaXMudGhyb3dJZk5vdEV4aXN0cyhpZCk7XG5cdFx0cmV0dXJuIHN1cGVyLnVwZGF0ZShpZCwgdXBkYXRlT2JqZWN0KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZW1vdmVzIFByb2R1Y3QgQ2F0ZWdvcnlcblx0ICpcblx0ICogQHBhcmFtIHtzdHJpbmd9IGlkXG5cdCAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuXHQgKiBAbWVtYmVyb2YgUHJvZHVjdHNDYXRlZ29yaWVzU2VydmljZVxuXHQgKi9cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyByZW1vdmUoaWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGF3YWl0IHRoaXMudGhyb3dJZk5vdEV4aXN0cyhpZCk7XG5cdFx0cmV0dXJuIHN1cGVyLnJlbW92ZShpZCk7XG5cdH1cblxuXHRhc3luYyB0aHJvd0lmTm90RXhpc3RzKGNhdGVnb3J5SWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGNvbnN0IGNhdGVnb3J5ID0gYXdhaXQgc3VwZXIuZ2V0KGNhdGVnb3J5SWQpLnBpcGUoZmlyc3QoKSkudG9Qcm9taXNlKCk7XG5cblx0XHRpZiAoIWNhdGVnb3J5IHx8IGNhdGVnb3J5LmlzRGVsZXRlZCkge1xuXHRcdFx0dGhyb3cgRXJyb3IoYENhdGVnb3J5IHdpdGggaWQgJyR7Y2F0ZWdvcnlJZH0nIGRvZXMgbm90IGV4aXN0cyFgKTtcblx0XHR9XG5cdH1cbn1cbiIsImltcG9ydCBMb2dnZXIgZnJvbSAnYnVueWFuJztcbmltcG9ydCB7IGluamVjdGFibGUgfSBmcm9tICdpbnZlcnNpZnknO1xuaW1wb3J0IHsgY3JlYXRlRXZlckxvZ2dlciB9IGZyb20gJy4uLy4uL2hlbHBlcnMvTG9nJztcbmltcG9ydCBQcm9kdWN0IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvUHJvZHVjdCc7XG5pbXBvcnQgeyBEQlNlcnZpY2UgfSBmcm9tICdAcHlyby9kYi1zZXJ2ZXInO1xuaW1wb3J0IHsgZGVmYXVsdCBhcyBJUHJvZHVjdCB9IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JUHJvZHVjdCc7XG5pbXBvcnQgSVByb2R1Y3RSb3V0ZXIgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9yb3V0ZXJzL0lQcm9kdWN0Um91dGVyJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7XG5cdGFzeW5jTGlzdGVuZXIsXG5cdG9ic2VydmFibGVMaXN0ZW5lcixcblx0cm91dGVyTmFtZSxcblx0c2VyaWFsaXphdGlvbixcbn0gZnJvbSAnQHB5cm8vaW8nO1xuaW1wb3J0IElTZXJ2aWNlIGZyb20gJy4uL0lTZXJ2aWNlJztcbmltcG9ydCB7IENyZWF0ZU9iamVjdCB9IGZyb20gJ0BweXJvL2RiL2RiLWNyZWF0ZS1vYmplY3QnO1xuaW1wb3J0IHsgVXBkYXRlT2JqZWN0IH0gZnJvbSAnQHB5cm8vZGIvZGItdXBkYXRlLW9iamVjdCc7XG5pbXBvcnQgeyBmaXJzdCwgc3dpdGNoTWFwLCBtYXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgSVBhZ2luZ09wdGlvbnMgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9pbnRlcmZhY2VzL0lQYWdpbmdPcHRpb25zJztcblxuQGluamVjdGFibGUoKVxuQHJvdXRlck5hbWUoJ3Byb2R1Y3QnKVxuZXhwb3J0IGNsYXNzIFByb2R1Y3RzU2VydmljZSBleHRlbmRzIERCU2VydmljZTxQcm9kdWN0PlxuXHRpbXBsZW1lbnRzIElQcm9kdWN0Um91dGVyLCBJU2VydmljZSB7XG5cdHB1YmxpYyByZWFkb25seSBEQk9iamVjdDogYW55ID0gUHJvZHVjdDtcblxuXHRwcm90ZWN0ZWQgcmVhZG9ubHkgbG9nOiBMb2dnZXIgPSBjcmVhdGVFdmVyTG9nZ2VyKHtcblx0XHRuYW1lOiAncHJvZHVjdHNTZXJ2aWNlJyxcblx0fSk7XG5cblx0QG9ic2VydmFibGVMaXN0ZW5lcigpXG5cdGdldChpZDogUHJvZHVjdFsnaWQnXSk6IE9ic2VydmFibGU8UHJvZHVjdCB8IG51bGw+IHtcblx0XHRyZXR1cm4gc3VwZXIuZ2V0KGlkKS5waXBlKFxuXHRcdFx0bWFwKGFzeW5jIChwcm9kdWN0KSA9PiB7XG5cdFx0XHRcdGF3YWl0IHRoaXMudGhyb3dJZk5vdEV4aXN0cyhpZCk7XG5cdFx0XHRcdHJldHVybiBwcm9kdWN0O1xuXHRcdFx0fSksXG5cdFx0XHRzd2l0Y2hNYXAoKHByb2R1Y3QpID0+IHByb2R1Y3QpXG5cdFx0KTtcblx0fVxuXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgZ2V0UHJvZHVjdHMoXG5cdFx0ZmluZElucHV0OiBhbnksXG5cdFx0cGFnaW5nT3B0aW9uczogSVBhZ2luZ09wdGlvbnMsXG5cdFx0ZXhpc3RlZFByb2R1Y3RzSWRzID0gW11cblx0KTogUHJvbWlzZTxhbnk+IHtcblx0XHRjb25zdCBzb3J0T2JqID0ge307XG5cblx0XHRpZiAocGFnaW5nT3B0aW9ucy5zb3J0KSB7XG5cdFx0XHRzb3J0T2JqW3BhZ2luZ09wdGlvbnMuc29ydC5maWVsZF0gPSBwYWdpbmdPcHRpb25zLnNvcnQuc29ydEJ5O1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLk1vZGVsLmZpbmQoe1xuXHRcdFx0Li4uZmluZElucHV0LFxuXHRcdFx0aXNEZWxldGVkOiB7ICRlcTogZmFsc2UgfSxcblx0XHRcdF9pZDogeyAkbmluOiBleGlzdGVkUHJvZHVjdHNJZHMgfSxcblx0XHR9KVxuXHRcdFx0LnNvcnQoc29ydE9iailcblx0XHRcdC5za2lwKHBhZ2luZ09wdGlvbnMuc2tpcClcblx0XHRcdC5saW1pdChwYWdpbmdPcHRpb25zLmxpbWl0KVxuXHRcdFx0LmxlYW4oKVxuXHRcdFx0LmV4ZWMoKTtcblx0fVxuXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgY3JlYXRlKHByb2R1Y3Q6IENyZWF0ZU9iamVjdDxQcm9kdWN0Pik6IFByb21pc2U8UHJvZHVjdD4ge1xuXHRcdHJldHVybiBzdXBlci5jcmVhdGUocHJvZHVjdCk7XG5cdH1cblxuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIHVwZGF0ZShcblx0XHRpZDogc3RyaW5nLFxuXHRcdHVwZGF0ZU9iamVjdDogVXBkYXRlT2JqZWN0PFByb2R1Y3Q+XG5cdCk6IFByb21pc2U8UHJvZHVjdD4ge1xuXHRcdGF3YWl0IHRoaXMudGhyb3dJZk5vdEV4aXN0cyhpZCk7XG5cdFx0cmV0dXJuIHN1cGVyLnVwZGF0ZShpZCwgdXBkYXRlT2JqZWN0KTtcblx0fVxuXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgc2F2ZShcblx0XHRAc2VyaWFsaXphdGlvbigocHJvZHVjdDogSVByb2R1Y3QpID0+IG5ldyBQcm9kdWN0KHByb2R1Y3QpKVxuXHRcdHVwZGF0ZWRQcm9kdWN0OiBQcm9kdWN0XG5cdCk6IFByb21pc2U8UHJvZHVjdD4ge1xuXHRcdGF3YWl0IHRoaXMudGhyb3dJZk5vdEV4aXN0cyh1cGRhdGVkUHJvZHVjdC5pZCk7XG5cdFx0cmV0dXJuIHRoaXMudXBkYXRlKHVwZGF0ZWRQcm9kdWN0LmlkLCB1cGRhdGVkUHJvZHVjdCk7XG5cdH1cblxuXHRhc3luYyB0aHJvd0lmTm90RXhpc3RzKHByb2R1Y3RJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0Y29uc3QgcHJvZHVjdCA9IGF3YWl0IHN1cGVyLmdldChwcm9kdWN0SWQpLnBpcGUoZmlyc3QoKSkudG9Qcm9taXNlKCk7XG5cblx0XHRpZiAoIXByb2R1Y3QgfHwgcHJvZHVjdC5pc0RlbGV0ZWQpIHtcblx0XHRcdHRocm93IEVycm9yKGBQcm9kdWN0IHdpdGggaWQgJyR7cHJvZHVjdElkfScgZG9lcyBub3QgZXhpc3RzIWApO1xuXHRcdH1cblx0fVxufVxuIiwiZXhwb3J0ICogZnJvbSAnLi9Qcm9kdWN0c0NhdGVnb3JpZXNTZXJ2aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vUHJvZHVjdHNTZXJ2aWNlJztcbiIsImltcG9ydCB7IGluamVjdCwgaW5qZWN0YWJsZSwgbXVsdGlJbmplY3QgfSBmcm9tICdpbnZlcnNpZnknO1xuaW1wb3J0IGh0dHBzIGZyb20gJ2h0dHBzJztcbmltcG9ydCBodHRwIGZyb20gJ2h0dHAnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgcGVtIGZyb20gJ3BlbSc7XG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSAnYm9keS1wYXJzZXInO1xuaW1wb3J0IGNvcnMgZnJvbSAnY29ycyc7XG5pbXBvcnQgcGFzc3BvcnQgZnJvbSAncGFzc3BvcnQnO1xuaW1wb3J0IG1ldGhvZE92ZXJyaWRlIGZyb20gJ21ldGhvZC1vdmVycmlkZSc7XG5pbXBvcnQgZXJyb3JoYW5kbGVyIGZyb20gJ2Vycm9yaGFuZGxlcic7XG5pbXBvcnQgc29ja2V0SU8gZnJvbSAnc29ja2V0LmlvJztcbmltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbmltcG9ydCBtb3JnYW4gZnJvbSAnbW9yZ2FuJztcbmltcG9ydCBleHBoYnMgZnJvbSAnZXhwcmVzcy1oYW5kbGViYXJzJztcbmltcG9ydCB7IGNyZWF0ZUV2ZXJMb2dnZXIgfSBmcm9tICcuLi9oZWxwZXJzL0xvZyc7XG5pbXBvcnQgSVNlcnZpY2UsIHsgU2VydmljZVN5bWJvbCB9IGZyb20gJy4vSVNlcnZpY2UnO1xuaW1wb3J0IHsgSVJvdXRlcnNNYW5hZ2VyIH0gZnJvbSAnQHB5cm8vaW8nO1xuaW1wb3J0IHsgV2FyZWhvdXNlc1NlcnZpY2UgfSBmcm9tICcuL3dhcmVob3VzZXMnO1xuaW1wb3J0IHsgU29jaWFsU3RyYXRlZ2llc1NlcnZpY2UgfSBmcm9tICcuL3VzZXJzJztcbmltcG9ydCB7IGVudiB9IGZyb20gJy4uL2Vudic7XG5pbXBvcnQgeyBnZXRNb2RlbCB9IGZyb20gJ0BweXJvL2RiLXNlcnZlcic7XG5pbXBvcnQgQmx1ZWJpcmQgZnJvbSAnYmx1ZWJpcmQnO1xuaW1wb3J0IHsgQWRtaW5zU2VydmljZSB9IGZyb20gJy4vYWRtaW5zJztcbmltcG9ydCBpcHN0YWNrID0gcmVxdWlyZSgnaXBzdGFjaycpO1xuaW1wb3J0IHJlcXVlc3RJcCA9IHJlcXVpcmUoJ3JlcXVlc3QtaXAnKTtcbmltcG9ydCB7IGNyZWF0ZUNvbm5lY3Rpb24gfSBmcm9tICd0eXBlb3JtJztcbmltcG9ydCB7IElXYXJlaG91c2VDcmVhdGVPYmplY3QgfSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2ludGVyZmFjZXMvSVdhcmVob3VzZSc7XG5pbXBvcnQgeyBnZXREdW1teUltYWdlIH0gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi91dGlscyc7XG5pbXBvcnQgQWRtaW4gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9BZG1pbic7XG5pbXBvcnQgRGV2aWNlIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvRGV2aWNlJztcbmltcG9ydCBDYXJyaWVyIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvQ2Fycmllcic7XG5pbXBvcnQgSW52aXRlIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvSW52aXRlJztcbmltcG9ydCBJbnZpdGVSZXF1ZXN0IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvSW52aXRlUmVxdWVzdCc7XG5pbXBvcnQgT3JkZXIgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9PcmRlcic7XG5pbXBvcnQgUHJvZHVjdCBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL1Byb2R1Y3QnO1xuaW1wb3J0IFByb2R1Y3RzQ2F0ZWdvcnkgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9Qcm9kdWN0c0NhdGVnb3J5JztcbmltcG9ydCBVc2VyIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvVXNlcic7XG5pbXBvcnQgV2FyZWhvdXNlIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvV2FyZWhvdXNlJztcbmltcG9ydCB7IENvbmZpZ1NlcnZpY2UgfSBmcm9tICcuLi9jb25maWcvY29uZmlnLnNlcnZpY2UnO1xuXG4vLyBsb2NhbCBJUHNcbmNvbnN0IElOVEVSTkFMX0lQUyA9IFsnMTI3LjAuMC4xJywgJzo6MSddO1xuXG5AaW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgU2VydmljZXNBcHAge1xuXHRwcm90ZWN0ZWQgZGJfc2VydmVyID0gcHJvY2Vzcy5lbnYuREJfRU5WIHx8ICdwcmltYXJ5JztcblxuXHRwcm90ZWN0ZWQgZGI6IG1vbmdvb3NlLkNvbm5lY3Rpb247XG5cblx0cHJvdGVjdGVkIGV4cHJlc3NBcHA6IGV4cHJlc3MuRXhwcmVzcztcblx0cHJvdGVjdGVkIGh0dHBzU2VydmVyOiBodHRwcy5TZXJ2ZXI7XG5cdHByb3RlY3RlZCBodHRwU2VydmVyOiBodHRwLlNlcnZlcjtcblxuXHRwcml2YXRlIGxvZyA9IGNyZWF0ZUV2ZXJMb2dnZXIoeyBuYW1lOiAnbWFpbicgfSk7XG5cblx0Ly8gVE9ETzogcHV0IHRvIGNvbmZpZyAod2UgYWxzbyBtYXkgd2FudCB0byBpbmNyZWFzZSBpdClcblx0cHJpdmF0ZSBzdGF0aWMgX3Bvb2xTaXplOiBudW1iZXIgPSA1MDtcblxuXHQvLyBUT0RPOiBwdXQgdG8gY29uZmlnXG5cdHByaXZhdGUgc3RhdGljIF9jb25uZWN0VGltZW91dE1TOiBudW1iZXIgPSA0MDAwMDtcblxuXHRwcml2YXRlIGNhbGxiYWNrOiAoKSA9PiB2b2lkO1xuXG5cdGNvbnN0cnVjdG9yKFxuXHRcdEBtdWx0aUluamVjdChTZXJ2aWNlU3ltYm9sKVxuXHRcdHByb3RlY3RlZCBzZXJ2aWNlczogSVNlcnZpY2VbXSxcblx0XHRAaW5qZWN0KCdSb3V0ZXJzTWFuYWdlcicpXG5cdFx0cHJvdGVjdGVkIHJvdXRlcnNNYW5hZ2VyOiBJUm91dGVyc01hbmFnZXIsXG5cdFx0QGluamVjdChXYXJlaG91c2VzU2VydmljZSlcblx0XHRwcm90ZWN0ZWQgd2FyZWhvdXNlc1NlcnZpY2U6IFdhcmVob3VzZXNTZXJ2aWNlLFxuXHRcdEBpbmplY3QoU29jaWFsU3RyYXRlZ2llc1NlcnZpY2UpXG5cdFx0cHJvdGVjdGVkIHNvY2lhbFN0cmF0ZWdpZXNTZXJ2aWNlOiBTb2NpYWxTdHJhdGVnaWVzU2VydmljZSxcblx0XHRAaW5qZWN0KEFkbWluc1NlcnZpY2UpXG5cdFx0cHJpdmF0ZSByZWFkb25seSBfYWRtaW5zU2VydmljZTogQWRtaW5zU2VydmljZSxcblx0XHRAaW5qZWN0KENvbmZpZ1NlcnZpY2UpXG5cdFx0X2NvbmZpZ1NlcnZpY2U6IENvbmZpZ1NlcnZpY2Vcblx0KSB7XG5cdFx0Y29uc3QgbWF4U29ja2V0cyA9IF9jb25maWdTZXJ2aWNlLkVudi5NQVhfU09DS0VUUztcblxuXHRcdC8vIHNlZSBodHRwczovL3dlYmFwcGxvZy5jb20vc2V2ZW4tdGhpbmdzLXlvdS1zaG91bGQtc3RvcC1kb2luZy13aXRoLW5vZGUtanNcblx0XHRodHRwLmdsb2JhbEFnZW50Lm1heFNvY2tldHMgPSBtYXhTb2NrZXRzO1xuXHRcdGh0dHBzLmdsb2JhbEFnZW50Lm1heFNvY2tldHMgPSBtYXhTb2NrZXRzO1xuXG5cdFx0Ly8gSWYgdGhlIE5vZGUgcHJvY2VzcyBlbmRzLCBjbG9zZSB0aGUgTW9uZ29vc2UgY29ubmVjdGlvblxuXHRcdHByb2Nlc3Ncblx0XHRcdC5vbignU0lHSU5UJywgdGhpcy5fZ3JhY2VmdWxFeGl0KVxuXHRcdFx0Lm9uKCdTSUdURVJNJywgdGhpcy5fZ3JhY2VmdWxFeGl0KTtcblx0fVxuXG5cdGFzeW5jIHN0YXJ0KGNhbGxiYWNrOiAoKSA9PiB2b2lkKSB7XG5cdFx0dGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuXHRcdGF3YWl0IHRoaXMuX2Nvbm5lY3REQigpO1xuXHR9XG5cblx0c3RhdGljIGdldEVudGl0aWVzKCkge1xuXHRcdGNvbnN0IGVudGl0aWVzID0gW1xuXHRcdFx0QWRtaW4sXG5cdFx0XHRDYXJyaWVyLFxuXHRcdFx0RGV2aWNlLFxuXHRcdFx0SW52aXRlLFxuXHRcdFx0SW52aXRlUmVxdWVzdCxcblx0XHRcdE9yZGVyLFxuXHRcdFx0UHJvZHVjdCxcblx0XHRcdFByb2R1Y3RzQ2F0ZWdvcnksXG5cdFx0XHRVc2VyLFxuXHRcdFx0V2FyZWhvdXNlLFxuXHRcdF07XG5cdFx0cmV0dXJuIGVudGl0aWVzO1xuXHR9XG5cblx0c3RhdGljIGFzeW5jIENyZWF0ZVR5cGVPUk1Db25uZWN0aW9uKCkge1xuXHRcdGNvbnN0IHR5cGVPUk1Mb2cgPSBjcmVhdGVFdmVyTG9nZ2VyKHsgbmFtZTogJ1R5cGVPUk0nIH0pO1xuXG5cdFx0Ly8gbGlzdCBvZiBlbnRpdGllcyBmb3Igd2hpY2ggUmVwb3NpdG9yaWVzIHdpbGwgYmUgZ3JlYXRlZCBpbiBUeXBlT1JNXG5cdFx0Y29uc3QgZW50aXRpZXMgPSBTZXJ2aWNlc0FwcC5nZXRFbnRpdGllcygpO1xuXG5cdFx0Y29uc3QgY29ubiA9IGF3YWl0IGNyZWF0ZUNvbm5lY3Rpb24oe1xuXHRcdFx0bmFtZTogJ3R5cGVvcm0nLFxuXHRcdFx0Ly8gVE9ETzogcHV0IHRoaXMgaW50byBzZXR0aW5ncyAoaXQncyBtb25nbyBvbmx5IGR1cmluZyB0ZXN0aW5nIG9mIFR5cGVPUk0gaW50ZWdyYXRpb24hKVxuXHRcdFx0dHlwZTogJ21vbmdvZGInLFxuXHRcdFx0dXJsOiBlbnYuREJfVVJJLFxuXHRcdFx0ZW50aXRpZXMsXG5cdFx0XHRzeW5jaHJvbml6ZTogdHJ1ZSxcblx0XHRcdHVzZU5ld1VybFBhcnNlcjogdHJ1ZSxcblx0XHRcdGF1dG9SZWNvbm5lY3Q6IHRydWUsXG5cdFx0XHRyZWNvbm5lY3RUcmllczogTnVtYmVyLk1BWF9WQUxVRSxcblx0XHRcdHBvb2xTaXplOiBTZXJ2aWNlc0FwcC5fcG9vbFNpemUsXG5cdFx0XHRjb25uZWN0VGltZW91dE1TOiBTZXJ2aWNlc0FwcC5fY29ubmVjdFRpbWVvdXRNUyxcblx0XHRcdGxvZ2dpbmc6IHRydWUsXG5cdFx0XHR1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUsXG5cdFx0fSk7XG5cblx0XHRjb25zb2xlLmxvZyhcblx0XHRcdGBUeXBlT1JNIERCIGNvbm5lY3Rpb24gY3JlYXRlZC4gREIgY29ubmVjdGVkOiAke2Nvbm4uaXNDb25uZWN0ZWR9YFxuXHRcdCk7XG5cblx0XHR0eXBlT1JNTG9nLmluZm8oXG5cdFx0XHRgVHlwZU9STSBEQiBjb25uZWN0aW9uIGNyZWF0ZWQuIERCIGNvbm5lY3RlZDogJHtjb25uLmlzQ29ubmVjdGVkfWBcblx0XHQpO1xuXG5cdFx0cmV0dXJuIGNvbm47XG5cdH1cblxuXHRwcml2YXRlIF9ncmFjZWZ1bEV4aXQoKSB7XG5cdFx0dHJ5IHtcblx0XHRcdGlmICh0aGlzLmRiICE9IG51bGwpIHtcblx0XHRcdFx0dGhpcy5kYi5jbG9zZSgoKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5sb2cuaW5mbyhcblx0XHRcdFx0XHRcdCdNb25nb29zZSBkZWZhdWx0IGNvbm5lY3Rpb24gd2l0aCBEQiA6JyArXG5cdFx0XHRcdFx0XHRcdHRoaXMuZGJfc2VydmVyICtcblx0XHRcdFx0XHRcdFx0JyBpcyBkaXNjb25uZWN0ZWQgdGhyb3VnaCBhcHAgdGVybWluYXRpb24nXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRwcm9jZXNzLmV4aXQoMCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0cHJvY2Vzcy5leGl0KDApO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgX2Nvbm5lY3REQigpIHtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgY29ubmVjdGlvbk9wdGlvbnM6IG1vbmdvb3NlLkNvbm5lY3Rpb25PcHRpb25zID0ge1xuXHRcdFx0XHR1c2VDcmVhdGVJbmRleDogdHJ1ZSxcblx0XHRcdFx0dXNlTmV3VXJsUGFyc2VyOiB0cnVlLFxuXHRcdFx0XHRhdXRvUmVjb25uZWN0OiB0cnVlLFxuXHRcdFx0XHR1c2VGaW5kQW5kTW9kaWZ5OiBmYWxzZSxcblx0XHRcdFx0cmVjb25uZWN0VHJpZXM6IE51bWJlci5NQVhfVkFMVUUsXG5cdFx0XHRcdHBvb2xTaXplOiBTZXJ2aWNlc0FwcC5fcG9vbFNpemUsXG5cdFx0XHRcdGNvbm5lY3RUaW1lb3V0TVM6IFNlcnZpY2VzQXBwLl9jb25uZWN0VGltZW91dE1TLFxuXHRcdFx0XHR1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUsXG5cdFx0XHR9O1xuXG5cdFx0XHRjb25zdCBtb25nb0Nvbm5lY3Q6IG1vbmdvb3NlLk1vbmdvb3NlID0gYXdhaXQgbW9uZ29vc2UuY29ubmVjdChcblx0XHRcdFx0ZW52LkRCX1VSSSxcblx0XHRcdFx0Y29ubmVjdGlvbk9wdGlvbnNcblx0XHRcdCk7XG5cblx0XHRcdHRoaXMuZGIgPSBtb25nb0Nvbm5lY3QuY29ubmVjdGlvbjtcblxuXHRcdFx0dGhpcy5fY29uZmlnREJFdmVudHMoKTtcblxuXHRcdFx0dGhpcy5fb25EQkNvbm5lY3QoKTtcblx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdHRoaXMubG9nLmVycm9yKFxuXHRcdFx0XHRlcnIsXG5cdFx0XHRcdCdTZXZlciBpbml0aWFsaXphdGlvbiBmYWlsZWQhIENhbm5vdCBjb25uZWN0IHRvIERCJ1xuXHRcdFx0KTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIF9jb25maWdEQkV2ZW50cygpIHtcblx0XHR0aGlzLmRiLm9uKCdlcnJvcicsIChlcnIpID0+IHRoaXMubG9nLmVycm9yKGVycikpO1xuXG5cdFx0dGhpcy5kYi5vbignZGlzY29ubmVjdGVkJywgKCkgPT4ge1xuXHRcdFx0dGhpcy5sb2cud2Fybihcblx0XHRcdFx0J01vbmdvb3NlIGRlZmF1bHQgY29ubmVjdGlvbiB0byBEQiA6JyArXG5cdFx0XHRcdFx0dGhpcy5kYl9zZXJ2ZXIgK1xuXHRcdFx0XHRcdCcgZGlzY29ubmVjdGVkJ1xuXHRcdFx0KTtcblx0XHR9KTtcblxuXHRcdHRoaXMuZGIub24oJ2Nvbm5lY3RlZCcsICgpID0+IHtcblx0XHRcdHRoaXMubG9nLmluZm8oXG5cdFx0XHRcdCdNb25nb29zZSBkZWZhdWx0IGNvbm5lY3Rpb24gdG8gREIgOicgK1xuXHRcdFx0XHRcdHRoaXMuZGJfc2VydmVyICtcblx0XHRcdFx0XHQnIGNvbm5lY3RlZCdcblx0XHRcdCk7XG5cdFx0fSk7XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIF9vbkRCQ29ubmVjdCgpIHtcblx0XHQvLyB0aGF0J3MgaW1wb3J0YW50IHRvIHNlZSBldmVuIGlmIGxvZ3MgZGlzYWJsZWQsIGRvIG5vdCByZW1vdmUhXG5cdFx0Y29uc29sZS5sb2coJ0Nvbm5lY3RlZCB0byBEQicpO1xuXG5cdFx0dGhpcy5sb2cuaW5mbyh7IGRiOiB0aGlzLmRiX3NlcnZlciB9LCAnQ29ubmVjdGVkIHRvIERCJyk7XG5cblx0XHRhd2FpdCB0aGlzLl9yZWdpc3Rlck1vZGVscygpO1xuXHRcdGF3YWl0IHRoaXMuX3JlZ2lzdGVyRW50aXR5QWRtaW5pc3RyYXRvcigpO1xuXHRcdHRoaXMuX3Bhc3Nwb3J0U2V0dXAoKTtcblx0XHRhd2FpdCB0aGlzLl9zdGFydEV4cHJlc3MoKTtcblx0XHRhd2FpdCB0aGlzLl9zdGFydFNvY2tldElPKCk7XG5cblx0XHQvLyBleGVjdXRlIGNhbGxiYWNrIGRlZmluZWQgYXQgbWFpbi50c1xuXHRcdGF3YWl0IHRoaXMuY2FsbGJhY2soKTtcblxuXHRcdC8vIGxldCdzIHJlcG9ydCBSQU0gdXNhZ2UgYWZ0ZXIgYWxsIGlzIGJvb3RzdHJhcHBlZFxuXHRcdGF3YWl0IHRoaXMucmVwb3J0TWVtb3J5VXNhZ2UoKTtcblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgcmVwb3J0TWVtb3J5VXNhZ2UoKSB7XG5cdFx0Y29uc29sZS5sb2coJ01lbW9yeSB1c2FnZTogJyk7XG5cdFx0Y29uc29sZS5sb2cocHJvY2Vzcy5tZW1vcnlVc2FnZSgpKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGUgaW5pdGlhbCAoZGVmYXVsdCkgQWRtaW4gdXNlciB3aXRoIGRlZmF1bHQgY3JlZGVudGlhbHM6XG5cdCAqIEVtYWlsOiBhZG1pbkBldmVyLmNvXG5cdCAqIFBhc3N3b3JkOiBhZG1pblxuXHQgKlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAbWVtYmVyb2YgU2VydmljZXNBcHBcblx0ICovXG5cdHByaXZhdGUgYXN5bmMgX3JlZ2lzdGVyRW50aXR5QWRtaW5pc3RyYXRvcigpIHtcblx0XHRjb25zdCBhZG1pbkVtYWlsID0gJ2FkbWluQGV2ZXIuY28nOyAvLyBUT0RPOiBwdXQgdG8gY29uZmlnXG5cdFx0Y29uc3QgYWRtaW5QYXNzd29yZCA9ICdhZG1pbic7IC8vIFRPRE86IHB1dCB0byBjb25maWdcblxuXHRcdGNvbnN0IGFkbWluQ29sbGVjdGlvbkNvdW50ID0gYXdhaXQgdGhpcy5fYWRtaW5zU2VydmljZS5jb3VudCh7XG5cdFx0XHRlbWFpbDogYWRtaW5FbWFpbCxcblx0XHR9KTtcblxuXHRcdGlmIChhZG1pbkNvbGxlY3Rpb25Db3VudCA9PT0gMCkge1xuXHRcdFx0dGhpcy5fYWRtaW5zU2VydmljZS5yZWdpc3Rlcih7XG5cdFx0XHRcdGFkbWluOiB7XG5cdFx0XHRcdFx0ZW1haWw6IGFkbWluRW1haWwsXG5cdFx0XHRcdFx0bmFtZTogJ0FkbWluJyxcblx0XHRcdFx0XHRoYXNoOiBudWxsLFxuXHRcdFx0XHRcdHBpY3R1cmVVcmw6IGdldER1bW15SW1hZ2UoMzAwLCAzMDAsICdBJyksXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHBhc3N3b3JkOiBhZG1pblBhc3N3b3JkLFxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBfZ2V0QmFzZVVybCh1cmw6IHN0cmluZykge1xuXHRcdGlmICh1cmwpIHtcblx0XHRcdHJldHVybiB1cmwuc2xpY2UoMCwgdXJsLmxhc3RJbmRleE9mKCcvJykgKyAxKS50b1N0cmluZygpO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgX3Bhc3Nwb3J0U2V0dXAoKSB7XG5cdFx0cGFzc3BvcnQuc2VyaWFsaXplVXNlcigodXNlciwgZG9uZSkgPT4ge1xuXHRcdFx0ZG9uZShudWxsLCB1c2VyKTtcblx0XHR9KTtcblxuXHRcdHBhc3Nwb3J0LmRlc2VyaWFsaXplVXNlcigoaWQsIGRvbmUpID0+IHtcblx0XHRcdC8vIFRPRE8gP1xuXHRcdH0pO1xuXG5cdFx0Ly8gR29vZ2xlIFN0cmF0ZWd5XG5cdFx0Y29uc3QgZ29vZ2xlU3RyYXRlZ3kgPSB0aGlzLnNvY2lhbFN0cmF0ZWdpZXNTZXJ2aWNlLmdldEdvb2dsZVN0cmF0ZWd5KCk7XG5cdFx0aWYgKGdvb2dsZVN0cmF0ZWd5ICE9IG51bGwpIHtcblx0XHRcdHBhc3Nwb3J0LnVzZShnb29nbGVTdHJhdGVneSk7XG5cdFx0fVxuXG5cdFx0Ly8gRmFjZWJvb2sgU3RyYXRlZ3lcblx0XHRjb25zdCBmYWNlYm9va1N0cmF0ZWd5ID0gdGhpcy5zb2NpYWxTdHJhdGVnaWVzU2VydmljZS5nZXRGYWNlYm9va1N0cmF0ZWd5KCk7XG5cdFx0aWYgKGZhY2Vib29rU3RyYXRlZ3kgIT0gbnVsbCkge1xuXHRcdFx0cGFzc3BvcnQudXNlKGZhY2Vib29rU3RyYXRlZ3kpO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgX3JlZ2lzdGVyTW9kZWxzKCkge1xuXHRcdGF3YWl0ICg8YW55PkJsdWViaXJkKS5tYXAodGhpcy5zZXJ2aWNlcywgYXN5bmMgKHNlcnZpY2UpID0+IHtcblx0XHRcdGlmICgoc2VydmljZSBhcyBhbnkpLkRCT2JqZWN0ICE9IG51bGwpIHtcblx0XHRcdFx0Ly8gZ2V0IHRoZSBtb2RlbCB0byByZWdpc3RlciBpdCdzIHNjaGVtYSBpbmRleGVzIGluIGRiXG5cdFx0XHRcdGF3YWl0IGdldE1vZGVsKChzZXJ2aWNlIGFzIGFueSkuREJPYmplY3QpLmNyZWF0ZUluZGV4ZXMoKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgX3N0YXJ0RXhwcmVzcygpIHtcblx0XHR0aGlzLmV4cHJlc3NBcHAgPSAoPGFueT5leHByZXNzKSgpO1xuXG5cdFx0Y29uc3QgaGJzID0gZXhwaGJzLmNyZWF0ZSh7XG5cdFx0XHRleHRuYW1lOiAnLmhicycsXG5cdFx0XHRkZWZhdWx0TGF5b3V0OiAnbWFpbicsXG5cdFx0XHRsYXlvdXRzRGlyOiBwYXRoLmpvaW4oJ3JlcycsICd2aWV3cycsICdsYXlvdXRzJyksXG5cdFx0XHRwYXJ0aWFsc0RpcjogcGF0aC5qb2luKCdyZXMnLCAndGVtcGxhdGVzJyksXG5cdFx0fSk7XG5cblx0XHQvLyBjb25maWd1cmUgSGFuZGxlYmFycyB0ZW1wbGF0ZXNcblx0XHR0aGlzLmV4cHJlc3NBcHAuZW5naW5lKCcuaGJzJywgaGJzLmVuZ2luZSk7XG5cblx0XHR0aGlzLmV4cHJlc3NBcHAuc2V0KCd2aWV3cycsIHBhdGguam9pbigncmVzJywgJ3ZpZXdzJykpO1xuXG5cdFx0dGhpcy5leHByZXNzQXBwLnNldCgndmlldyBlbmdpbmUnLCAnLmhicycpO1xuXG5cdFx0dGhpcy5leHByZXNzQXBwLnNldCgndmlldyBjYWNoZScsIGZhbHNlKTtcblxuXHRcdC8vIG5vdyB3ZSBjaGVjayBpZiBDZXJ0IGZpbGVzIGV4aXN0cyBhbmQgaWYgbm90IGdlbmVyYXRlIHRoZW0gZm9yIGxvY2FsaG9zdFxuXHRcdGNvbnN0IGh0dHBzQ2VydFBhdGggPSBlbnYuSFRUUFNfQ0VSVF9QQVRIO1xuXHRcdGNvbnN0IGh0dHBzS2V5UGF0aCA9IGVudi5IVFRQU19LRVlfUEFUSDtcblxuXHRcdGNvbnN0IGhhc0h0dHBzQ2VydCA9IGZzLmV4aXN0c1N5bmMoaHR0cHNDZXJ0UGF0aCk7XG5cdFx0Y29uc3QgaGFzSHR0cHNLZXkgPSBmcy5leGlzdHNTeW5jKGh0dHBzS2V5UGF0aCk7XG5cblx0XHRsZXQgaGFzRGVmYXVsdEh0dHBzQ2VydCA9IGZhbHNlO1xuXG5cdFx0aWYgKCFoYXNIdHRwc0NlcnQgfHwgIWhhc0h0dHBzS2V5KSB7XG5cdFx0XHRoYXNEZWZhdWx0SHR0cHNDZXJ0ID0gYXdhaXQgdGhpcy5fZ2V0Q2VydGlmaWNhdGVzKFxuXHRcdFx0XHRodHRwc0NlcnRQYXRoLFxuXHRcdFx0XHRodHRwc0tleVBhdGhcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0aWYgKChoYXNIdHRwc0NlcnQgJiYgaGFzSHR0cHNLZXkpIHx8IGhhc0RlZmF1bHRIdHRwc0NlcnQpIHtcblx0XHRcdHRoaXMuaHR0cHNTZXJ2ZXIgPSBodHRwcy5jcmVhdGVTZXJ2ZXIoXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRjZXJ0OiBmcy5yZWFkRmlsZVN5bmMoaHR0cHNDZXJ0UGF0aCksXG5cdFx0XHRcdFx0a2V5OiBmcy5yZWFkRmlsZVN5bmMoaHR0cHNLZXlQYXRoKSxcblx0XHRcdFx0fSxcblx0XHRcdFx0dGhpcy5leHByZXNzQXBwXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdHRoaXMuaHR0cFNlcnZlciA9IGh0dHAuY3JlYXRlU2VydmVyKHRoaXMuZXhwcmVzc0FwcCk7XG5cblx0XHQvLyBUT0RPOiBhZGQgdG8gc2V0dGluZ3MgZmlsZVxuXHRcdC8vIHNldCBjb25uZWN0aW9ucyB0aW1lb3V0cyB0byAzMCBtaW51dGVzIChmb3IgbG9uZyBydW5uaW5nIHJlcXVlc3RzKVxuXHRcdGNvbnN0IHRpbWVvdXQgPSAzMCAqIDYwICogMTAwMDtcblxuXHRcdGlmICh0aGlzLmh0dHBzU2VydmVyKSB7XG5cdFx0XHR0aGlzLmh0dHBzU2VydmVyLnNldFRpbWVvdXQodGltZW91dCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5odHRwU2VydmVyLnNldFRpbWVvdXQodGltZW91dCk7XG5cblx0XHR0aGlzLmV4cHJlc3NBcHAuc2V0KCdodHRwc1BvcnQnLCBlbnYuSFRUUFNQT1JUKTtcblx0XHR0aGlzLmV4cHJlc3NBcHAuc2V0KCdodHRwUG9ydCcsIGVudi5IVFRQUE9SVCk7XG5cdFx0dGhpcy5leHByZXNzQXBwLnNldCgnZW52aXJvbm1lbnQnLCBlbnYuTk9ERV9FTlYpO1xuXG5cdFx0Ly8gQ09SUyBjb25maWd1cmF0aW9uXG5cdFx0Ly8gVE9ETzogd2UgbWF5IHdhbnQgdG8gcmVzdHJpYyBhY2Nlc3Mgc29tZSB3YXlcblx0XHQvLyAoYnV0IG5lZWRzIHRvIGJlIGNhcmVmdWwgYmVjYXVzZSB3ZSBzZXJ2ZSBzb21lIEhUTUwgcGFnZXMgZm9yIGFsbCBjbGllbnRzIHRvbywgZS5nLiBBYm91dCBVcylcblx0XHR0aGlzLmV4cHJlc3NBcHAudXNlKFxuXHRcdFx0KDxhbnk+Y29ycykoe1xuXHRcdFx0XHRvcmlnaW46IHRydWUsXG5cdFx0XHRcdGNyZWRlbnRpYWxzOiB0cnVlLFxuXHRcdFx0fSlcblx0XHQpO1xuXG5cdFx0dGhpcy5leHByZXNzQXBwLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoeyBleHRlbmRlZDogZmFsc2UgfSkpO1xuXHRcdHRoaXMuZXhwcmVzc0FwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xuXHRcdHRoaXMuZXhwcmVzc0FwcC51c2UoXG5cdFx0XHRib2R5UGFyc2VyLmpzb24oeyB0eXBlOiAnYXBwbGljYXRpb24vdm5kLmFwaStqc29uJyB9KVxuXHRcdCk7XG5cblx0XHRjb25zdCBtbzogYW55ID0gbWV0aG9kT3ZlcnJpZGU7XG5cblx0XHR0aGlzLmV4cHJlc3NBcHAudXNlKG1vKCdYLUhUVFAtTWV0aG9kJykpOyAvLyBNaWNyb3NvZnRcblx0XHR0aGlzLmV4cHJlc3NBcHAudXNlKG1vKCdYLUhUVFAtTWV0aG9kLU92ZXJyaWRlJykpOyAvLyBHb29nbGUvR0RhdGFcblx0XHR0aGlzLmV4cHJlc3NBcHAudXNlKG1vKCdYLU1ldGhvZC1PdmVycmlkZScpKTsgLy8gSUJNXG5cdFx0dGhpcy5leHByZXNzQXBwLnVzZShtb3JnYW4oJ2RldicpKTtcblx0XHR0aGlzLmV4cHJlc3NBcHAudXNlKHBhc3Nwb3J0LmluaXRpYWxpemUoKSk7XG5cdFx0dGhpcy5leHByZXNzQXBwLnVzZShyZXF1ZXN0SXAubXcoKSk7XG5cblx0XHRpZiAodGhpcy5leHByZXNzQXBwLmdldCgnZW52aXJvbm1lbnQnKSA9PT0gJ2RldmVsb3BtZW50Jykge1xuXHRcdFx0Y29uc3QgZWg6IGFueSA9IGVycm9yaGFuZGxlcjtcblx0XHRcdHRoaXMuZXhwcmVzc0FwcC51c2UoZWgoKSk7XG5cdFx0fVxuXG5cdFx0dGhpcy5leHByZXNzQXBwLmdldCgnLycsIGZ1bmN0aW9uIChyZXEsIHJlcykge1xuXHRcdFx0cmVzLnJlbmRlcignaW5kZXgnKTtcblx0XHR9KTtcblxuXHRcdC8vIEdldCBsb2NhdGlvbiAobGF0LCBsb25nKSBieSBJUCBhZGRyZXNzXG5cdFx0Ly8gVE9ETzogcHV0IGludG8gc2VwYXJhdGUgc2VydmljZVxuXHRcdHRoaXMuZXhwcmVzc0FwcC5nZXQoJy9nZXRMb2NhdGlvbkJ5SVAnLCAocmVxLCByZXMpID0+IHtcblx0XHRcdGNvbnN0IGlwU3RhY2tLZXkgPSBlbnYuSVBfU1RBQ0tfQVBJX0tFWTtcblx0XHRcdGlmIChpcFN0YWNrS2V5KSB7XG5cdFx0XHRcdGNvbnN0IGNsaWVudElwID0gcmVxWydjbGllbnRJcCddO1xuXG5cdFx0XHRcdGlmICghSU5URVJOQUxfSVBTLmluY2x1ZGVzKGNsaWVudElwKSkge1xuXHRcdFx0XHRcdGlwc3RhY2soY2xpZW50SXAsIGlwU3RhY2tLZXksIChlcnIsIHJlc3BvbnNlKSA9PiB7XG5cdFx0XHRcdFx0XHRyZXMuanNvbih7XG5cdFx0XHRcdFx0XHRcdGxhdGl0dWRlOiByZXNwb25zZS5sYXRpdHVkZSxcblx0XHRcdFx0XHRcdFx0bG9uZ2l0dWRlOiByZXNwb25zZS5sb25naXR1ZGUsXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0aGlzLmxvZy5pbmZvKFxuXHRcdFx0XHRcdFx0YENhbid0IHVzZSBpcHN0YWNrIHdpdGggaW50ZXJuYWwgaXAgYWRkcmVzcyAke2NsaWVudElwfWBcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdHJlcy5zdGF0dXMoMjA0KS5lbmQoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5sb2cuZXJyb3IoJ05vdCBwcm92aWRlZCBLZXkgZm9yIElwU3RhY2snKTtcblx0XHRcdFx0cmVzLnN0YXR1cyg1MDApLmVuZCgpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gVE9ETzogd2h5IGlzIHRoaXMgaGVyZT8gSXQgc2hvdWxkIGJlIGluIHNvbWUgTmVzdCBDb250cm9sbGVyXG5cdFx0dGhpcy5leHByZXNzQXBwLnBvc3QoJy93YXJlaG91c2UvY3JlYXRlJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG5cdFx0XHRjb25zdCB3YXJlaG91c2VDcmVhdGVPYmplY3Q6IElXYXJlaG91c2VDcmVhdGVPYmplY3QgPSBKU09OLnBhcnNlKFxuXHRcdFx0XHRyZXEuYm9keS53YXJlaG91c2Vcblx0XHRcdCk7XG5cblx0XHRcdGNvbnN0IHdhcmVob3VzZSA9IGF3YWl0IHRoaXMud2FyZWhvdXNlc1NlcnZpY2UuY3JlYXRlKFxuXHRcdFx0XHR3YXJlaG91c2VDcmVhdGVPYmplY3Rcblx0XHRcdCk7XG5cdFx0XHRyZXMuanNvbih3YXJlaG91c2UpO1xuXHRcdH0pO1xuXG5cdFx0dGhpcy5fc2V0dXBBdXRoUm91dGVzKCk7XG5cdFx0dGhpcy5fc2V0dXBTdGF0aWNSb3V0ZXMoKTtcblxuXHRcdGNvbnN0IGh0dHBzUG9ydCA9IHRoaXMuZXhwcmVzc0FwcC5nZXQoJ2h0dHBzUG9ydCcpO1xuXHRcdGNvbnN0IGh0dHBQb3J0ID0gdGhpcy5leHByZXNzQXBwLmdldCgnaHR0cFBvcnQnKTtcblxuXHRcdGNvbnN0IGNvbmYgPSByZXF1aXJlKCdkb3RlbnYnKS5jb25maWcoKTtcblxuXHRcdGNvbnN0IGVudmlyb25tZW50ID0gdGhpcy5leHByZXNzQXBwLmdldCgnZW52aXJvbm1lbnQnKTtcblxuXHRcdHRoaXMubG9nLmluZm8oXG5cdFx0XHR7XG5cdFx0XHRcdGh0dHBzUG9ydCxcblx0XHRcdFx0aHR0cFBvcnQsXG5cdFx0XHRcdGVudmlyb25tZW50LFxuXHRcdFx0XHQncHJvY2Vzcy5lbnYnOiBwcm9jZXNzLmVudixcblx0XHRcdFx0ZG90ZW52OiBjb25mLFxuXHRcdFx0fSxcblx0XHRcdCdFeHByZXNzIHNlcnZlciBwcmVwYXJlIHRvIGxpc3Rlbidcblx0XHQpO1xuXG5cdFx0aWYgKGh0dHBzUG9ydCAmJiBodHRwc1BvcnQgPiAwICYmIHRoaXMuaHR0cHNTZXJ2ZXIpIHtcblx0XHRcdC8vIGFwcCBsaXN0ZW4gb24gaHR0cHNcblx0XHRcdHRoaXMuaHR0cHNTZXJ2ZXIubGlzdGVuKGh0dHBzUG9ydCwgKCkgPT4ge1xuXHRcdFx0XHR0aGlzLmxvZy5pbmZvKFxuXHRcdFx0XHRcdHsgcG9ydDogaHR0cHNQb3J0IH0sXG5cdFx0XHRcdFx0J0V4cHJlc3MgaHR0cHMgc2VydmVyIGxpc3RlbmluZydcblx0XHRcdFx0KTtcblx0XHRcdFx0Y29uc29sZS5sb2coXG5cdFx0XHRcdFx0YEV4cHJlc3MgaHR0cHMgc2VydmVyIGxpc3RlbmluZyBvbiBwb3J0ICR7aHR0cHNQb3J0fWBcblx0XHRcdFx0KTtcblx0XHRcdH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmxvZy53YXJuKFxuXHRcdFx0XHRgTm8gU1NMIENlcnRpZmljYXRlIGV4aXN0cywgSFRUUFMgZW5kcG9pbnQgd2lsbCBiZSBkaXNhYmxlZGBcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0aWYgKGh0dHBQb3J0ICYmIGh0dHBQb3J0ID4gMCkge1xuXHRcdFx0Ly8gYXBwIGxpc3RlbiBvbiBodHRwXG5cdFx0XHR0aGlzLmh0dHBTZXJ2ZXIubGlzdGVuKGh0dHBQb3J0LCAoKSA9PiB7XG5cdFx0XHRcdHRoaXMubG9nLmluZm8oXG5cdFx0XHRcdFx0eyBwb3J0OiBodHRwUG9ydCB9LFxuXHRcdFx0XHRcdCdFeHByZXNzIGh0dHAgc2VydmVyIGxpc3RlbmluZydcblx0XHRcdFx0KTtcblx0XHRcdFx0Y29uc29sZS5sb2coXG5cdFx0XHRcdFx0YEV4cHJlc3MgaHR0cCBzZXJ2ZXIgbGlzdGVuaW5nIG9uIHBvcnQgJHtodHRwUG9ydH1gXG5cdFx0XHRcdCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIF9nZXRDZXJ0aWZpY2F0ZXMoXG5cdFx0aHR0cHNDZXJ0UGF0aDogc3RyaW5nLFxuXHRcdGh0dHBzS2V5UGF0aDogc3RyaW5nXG5cdCkge1xuXHRcdHRyeSB7XG5cdFx0XHR0aGlzLmxvZy5pbmZvKCdHZW5lcmF0aW5nIFNTTCBDZXJ0aWZpY2F0ZXMgZm9yIEhUVFBTJyk7XG5cblx0XHRcdGNvbnN0IHsgc3VjY2VzcyB9ID0gYXdhaXQgdGhpcy5fY3JlYXRlQ2VydGlmaWNhdGVBc3luYyhcblx0XHRcdFx0aHR0cHNDZXJ0UGF0aCxcblx0XHRcdFx0aHR0cHNLZXlQYXRoXG5cdFx0XHQpO1xuXG5cdFx0XHR0aGlzLmxvZy5pbmZvKCdDZXJ0aWZpY2F0ZXMgd2VyZSBnZW5lcmF0ZWQnKTtcblxuXHRcdFx0cmV0dXJuIHN1Y2Nlc3M7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdHRoaXMubG9nLndhcm4oXG5cdFx0XHRcdGBDZXJ0aWZpY2F0ZXMgd2VyZSBub3QgZ2VuZXJhdGVkIGR1ZSB0byBlcnJvcjogJHtlcnJvci5tZXNzYWdlfWBcblx0XHRcdCk7XG5cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIF9jcmVhdGVDZXJ0aWZpY2F0ZUFzeW5jKFxuXHRcdGh0dHBzQ2VydFBhdGg6IHN0cmluZyxcblx0XHRodHRwc0tleVBhdGg6IHN0cmluZ1xuXHQpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbiB9PiB7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdHBlbS5jcmVhdGVDZXJ0aWZpY2F0ZShcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRkYXlzOiAzNjUsXG5cdFx0XHRcdFx0XHRzZWxmU2lnbmVkOiB0cnVlLFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0KGVyciwga2V5cykgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKGVycikge1xuXHRcdFx0XHRcdFx0XHRyZWplY3QoeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogZXJyLm1lc3NhZ2UgfSk7XG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Y29uc3QgaHR0cHNDZXJ0RGlyUGF0aCA9IHBhdGguZGlybmFtZShodHRwc0NlcnRQYXRoKTtcblx0XHRcdFx0XHRcdGNvbnN0IGh0dHBzS2V5RGlyUGF0aCA9IHBhdGguZGlybmFtZShodHRwc0tleVBhdGgpO1xuXG5cdFx0XHRcdFx0XHRpZiAoIWZzLmV4aXN0c1N5bmMoaHR0cHNDZXJ0RGlyUGF0aCkpIHtcblx0XHRcdFx0XHRcdFx0ZnMubWtkaXJTeW5jKGh0dHBzQ2VydERpclBhdGgsIHtcblx0XHRcdFx0XHRcdFx0XHRyZWN1cnNpdmU6IHRydWUsXG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRpZiAoIWZzLmV4aXN0c1N5bmMoaHR0cHNLZXlEaXJQYXRoKSkge1xuXHRcdFx0XHRcdFx0XHRmcy5ta2RpclN5bmMoaHR0cHNLZXlEaXJQYXRoLCB7XG5cdFx0XHRcdFx0XHRcdFx0cmVjdXJzaXZlOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0ZnMud3JpdGVGaWxlU3luYyhodHRwc0NlcnRQYXRoLCBrZXlzLmNlcnRpZmljYXRlKTtcblx0XHRcdFx0XHRcdGZzLndyaXRlRmlsZVN5bmMoaHR0cHNLZXlQYXRoLCBrZXlzLnNlcnZpY2VLZXkpO1xuXG5cdFx0XHRcdFx0XHRyZXNvbHZlKHsgc3VjY2VzczogdHJ1ZSB9KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdCk7XG5cdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0cmVqZWN0KHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6IGVyci5tZXNzYWdlIH0pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBfc3RhcnRTb2NrZXRJTygpIHtcblx0XHRjb25zdCBzbzogYW55ID0gc29ja2V0SU87XG5cdFx0Y29uc3QgaW9IdHRwcyA9IHNvKHRoaXMuaHR0cHNTZXJ2ZXIpO1xuXHRcdGNvbnN0IGlvSHR0cCA9IHNvKHRoaXMuaHR0cFNlcnZlcik7XG5cblx0XHRhd2FpdCB0aGlzLnJvdXRlcnNNYW5hZ2VyLnN0YXJ0TGlzdGVuaW5nKGlvSHR0cHMpO1xuXHRcdGF3YWl0IHRoaXMucm91dGVyc01hbmFnZXIuc3RhcnRMaXN0ZW5pbmcoaW9IdHRwKTtcblx0fVxuXG5cdHByaXZhdGUgX3NldHVwU3RhdGljUm91dGVzKCkge1xuXHRcdHRoaXMuZXhwcmVzc0FwcC5nZXQoJy9lbi9hYm91dCcsIGZ1bmN0aW9uIChyZXEsIHJlcykge1xuXHRcdFx0cmVzLnJlbmRlcignYWJvdXRfdXNfZW4nKTtcblx0XHR9KTtcblxuXHRcdHRoaXMuZXhwcmVzc0FwcC5nZXQoJy9oZS9hYm91dCcsIGZ1bmN0aW9uIChyZXEsIHJlcykge1xuXHRcdFx0cmVzLnJlbmRlcignYWJvdXRfdXNfaGUnKTtcblx0XHR9KTtcblxuXHRcdHRoaXMuZXhwcmVzc0FwcC5nZXQoJy9ydS9hYm91dCcsIGZ1bmN0aW9uIChyZXEsIHJlcykge1xuXHRcdFx0cmVzLnJlbmRlcignYWJvdXRfdXNfcnUnKTtcblx0XHR9KTtcblxuXHRcdHRoaXMuZXhwcmVzc0FwcC5nZXQoJy9lbi9wcml2YWN5JywgZnVuY3Rpb24gKHJlcSwgcmVzKSB7XG5cdFx0XHRyZXMucmVuZGVyKCdwcml2YWN5X2VuJyk7XG5cdFx0fSk7XG5cblx0XHR0aGlzLmV4cHJlc3NBcHAuZ2V0KCcvaGUvcHJpdmFjeScsIGZ1bmN0aW9uIChyZXEsIHJlcykge1xuXHRcdFx0cmVzLnJlbmRlcigncHJpdmFjeV9oZScpO1xuXHRcdH0pO1xuXG5cdFx0dGhpcy5leHByZXNzQXBwLmdldCgnL3J1L3ByaXZhY3knLCBmdW5jdGlvbiAocmVxLCByZXMpIHtcblx0XHRcdHJlcy5yZW5kZXIoJ3ByaXZhY3lfcnUnKTtcblx0XHR9KTtcblxuXHRcdHRoaXMuZXhwcmVzc0FwcC5nZXQoJy9lbi90ZXJtcycsIGZ1bmN0aW9uIChyZXEsIHJlcykge1xuXHRcdFx0cmVzLnJlbmRlcigndGVybXNfb2ZfdXNlX2VuJyk7XG5cdFx0fSk7XG5cblx0XHR0aGlzLmV4cHJlc3NBcHAuZ2V0KCcvaGUvdGVybXMnLCBmdW5jdGlvbiAocmVxLCByZXMpIHtcblx0XHRcdHJlcy5yZW5kZXIoJ3Rlcm1zX29mX3VzZV9oZScpO1xuXHRcdH0pO1xuXG5cdFx0dGhpcy5leHByZXNzQXBwLmdldCgnL3J1L3Rlcm1zJywgZnVuY3Rpb24gKHJlcSwgcmVzKSB7XG5cdFx0XHRyZXMucmVuZGVyKCd0ZXJtc19vZl91c2VfcnUnKTtcblx0XHR9KTtcblxuXHRcdHRoaXMuZXhwcmVzc0FwcC5nZXQoJy9iZy90ZXJtcycsIGZ1bmN0aW9uIChyZXEsIHJlcykge1xuXHRcdFx0cmVzLnJlbmRlcigndGVybXNfb2ZfdXNlX2JnJyk7XG5cdFx0fSk7XG5cdH1cblxuXHRwcml2YXRlIF9zZXR1cEF1dGhSb3V0ZXMoKSB7XG5cdFx0Ly8gRmFjZWJvb2sgcm91dGUgYXV0aFxuXHRcdHRoaXMuZXhwcmVzc0FwcC5nZXQoXG5cdFx0XHQnL2F1dGgvZmFjZWJvb2snLFxuXHRcdFx0KHJlcSwgcmVzLCBuZXh0KSA9PiB7XG5cdFx0XHRcdHBhc3Nwb3J0W1xuXHRcdFx0XHRcdCdfc3RyYXRlZ2llcydcblx0XHRcdFx0XS5zZXNzaW9uLmJhc2VfcmVkaXJlY3RfdXJsID0gdGhpcy5fZ2V0QmFzZVVybChcblx0XHRcdFx0XHRyZXEuaGVhZGVycy5yZWZlcmVyXG5cdFx0XHRcdCk7XG5cdFx0XHRcdG5leHQoKTtcblx0XHRcdH0sXG5cdFx0XHRwYXNzcG9ydC5hdXRoZW50aWNhdGUoJ2ZhY2Vib29rJywge1xuXHRcdFx0XHRzY29wZTogWydlbWFpbCcsICdwdWJsaWNfcHJvZmlsZSddLFxuXHRcdFx0fSlcblx0XHQpO1xuXG5cdFx0dGhpcy5leHByZXNzQXBwLmdldChcblx0XHRcdCcvYXV0aC9mYWNlYm9vay9jYWxsYmFjaycsXG5cdFx0XHRwYXNzcG9ydC5hdXRoZW50aWNhdGUoJ2ZhY2Vib29rJywgeyBmYWlsdXJlUmVkaXJlY3Q6ICcvbG9naW4nIH0pLFxuXHRcdFx0YXN5bmMgKHJlcSwgcmVzKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGJhc2VSZWRpcmVjdFVyID1cblx0XHRcdFx0XHRwYXNzcG9ydFsnX3N0cmF0ZWdpZXMnXS5zZXNzaW9uLmJhc2VfcmVkaXJlY3RfdXJsO1xuXHRcdFx0XHRpZiAocmVxLnVzZXIpIHtcblx0XHRcdFx0XHRyZXMucmVkaXJlY3QoYmFzZVJlZGlyZWN0VXIgKyAoPGFueT5yZXEudXNlcikucmVkaXJlY3RVcmwpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJlcy5yZWRpcmVjdChiYXNlUmVkaXJlY3RVciB8fCAnJyk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cGFzc3BvcnRbJ19zdHJhdGVnaWVzJ10uc2Vzc2lvbi5iYXNlX3JlZGlyZWN0X3VybCA9ICcnO1xuXHRcdFx0fVxuXHRcdCk7XG5cblx0XHQvLyBHb29nbGUgcm91dGUgYXV0aFxuXHRcdHRoaXMuZXhwcmVzc0FwcC5nZXQoXG5cdFx0XHQnL2F1dGgvZ29vZ2xlJyxcblx0XHRcdChyZXEsIHJlcywgbmV4dCkgPT4ge1xuXHRcdFx0XHRwYXNzcG9ydFtcblx0XHRcdFx0XHQnX3N0cmF0ZWdpZXMnXG5cdFx0XHRcdF0uc2Vzc2lvbi5iYXNlX3JlZGlyZWN0X3VybCA9IHRoaXMuX2dldEJhc2VVcmwoXG5cdFx0XHRcdFx0cmVxLmhlYWRlcnMucmVmZXJlclxuXHRcdFx0XHQpO1xuXHRcdFx0XHRuZXh0KCk7XG5cdFx0XHR9LFxuXHRcdFx0cGFzc3BvcnQuYXV0aGVudGljYXRlKCdnb29nbGUnLCB7IHNjb3BlOiBbJ3Byb2ZpbGUnLCAnZW1haWwnXSB9KVxuXHRcdCk7XG5cblx0XHR0aGlzLmV4cHJlc3NBcHAuZ2V0KFxuXHRcdFx0Jy9hdXRoL2dvb2dsZS9jYWxsYmFjaycsXG5cdFx0XHRwYXNzcG9ydC5hdXRoZW50aWNhdGUoJ2dvb2dsZScsIHsgZmFpbHVyZVJlZGlyZWN0OiAnL2xvZ2luJyB9KSxcblx0XHRcdGFzeW5jIChyZXEsIHJlcykgPT4ge1xuXHRcdFx0XHRjb25zdCBiYXNlUmVkaXJlY3RVciA9XG5cdFx0XHRcdFx0cGFzc3BvcnRbJ19zdHJhdGVnaWVzJ10uc2Vzc2lvbi5iYXNlX3JlZGlyZWN0X3VybDtcblx0XHRcdFx0aWYgKHJlcS51c2VyKSB7XG5cdFx0XHRcdFx0cmVzLnJlZGlyZWN0KGJhc2VSZWRpcmVjdFVyICsgKDxhbnk+cmVxLnVzZXIpLnJlZGlyZWN0VXJsKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRyZXMucmVkaXJlY3QoYmFzZVJlZGlyZWN0VXIgfHwgJycpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHBhc3Nwb3J0Wydfc3RyYXRlZ2llcyddLnNlc3Npb24uYmFzZV9yZWRpcmVjdF91cmwgPSAnJztcblx0XHRcdH1cblx0XHQpO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBHbG9iYWwsIE1vZHVsZSB9IGZyb20gJ0BuZXN0anMvY29tbW9uJztcbmltcG9ydCB7IFNlcnZpY2VTeW1ib2wgfSBmcm9tICcuL0lTZXJ2aWNlJztcbmltcG9ydCB7IHNlcnZpY2VzQ29udGFpbmVyIH0gZnJvbSAnLi9pbnZlcnNpZnkuY29uZmlnJztcblxuZnVuY3Rpb24gZ2V0U2VydmljZXMoKSB7XG5cdHJldHVybiBzZXJ2aWNlc0NvbnRhaW5lci5nZXRBbGwoU2VydmljZVN5bWJvbCkubWFwKChzZXJ2aWNlKSA9PiB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHByb3ZpZGU6IHNlcnZpY2UuY29uc3RydWN0b3IsXG5cdFx0XHR1c2VWYWx1ZTogc2VydmljZSxcblx0XHR9O1xuXHR9KTtcbn1cblxuY29uc3Qgc2VydmljZXMgPSBnZXRTZXJ2aWNlcygpO1xuXG5AR2xvYmFsKClcbkBNb2R1bGUoe1xuXHRwcm92aWRlcnM6IHNlcnZpY2VzLFxuXHRleHBvcnRzOiBzZXJ2aWNlcyxcbn0pXG5leHBvcnQgY2xhc3MgU2VydmljZXNNb2R1bGUge1xuXHRjb25zdHJ1Y3RvcigpIHt9XG59XG4iLCJpbXBvcnQgeyBpbmplY3QsIGluamVjdGFibGUgfSBmcm9tICdpbnZlcnNpZnknO1xuaW1wb3J0IHsgVXNlcnNTZXJ2aWNlIH0gZnJvbSAnLi9Vc2Vyc1NlcnZpY2UnO1xuaW1wb3J0IHsgcm91dGVyTmFtZSB9IGZyb20gJ0BweXJvL2lvJztcbmltcG9ydCBJU2VydmljZSBmcm9tICdzZXJ2aWNlcy9JU2VydmljZSc7XG5cbkByb3V0ZXJOYW1lKCdzb2NpYWwtcmVnaXN0ZXItc2VydmljZScpXG5AaW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgU29jaWFsUmVnaXN0ZXJTZXJ2aWNlIGltcGxlbWVudHMgSVNlcnZpY2Uge1xuXHRjb25zdHJ1Y3RvcihAaW5qZWN0KFVzZXJzU2VydmljZSkgcHJvdGVjdGVkIHVzZXJzU2VydmljZTogVXNlcnNTZXJ2aWNlKSB7fVxuXG5cdGFzeW5jIHJlZ2lzdGVyKHByb2ZpbGVJbmZvOiBvYmplY3QpOiBQcm9taXNlPHsgcmVkaXJlY3RVcmw6IHN0cmluZyB9PiB7XG5cdFx0Y29uc3Qgc29jaWFsSWQgPSBwcm9maWxlSW5mb1snaWQnXTtcblxuXHRcdGNvbnN0IGN1cnJlbnRVc2VyID0gYXdhaXQgdGhpcy51c2Vyc1NlcnZpY2UuZ2V0U29jaWFsKHNvY2lhbElkKTtcblxuXHRcdGxldCByZWRpcmVjdFVybCA9ICcnO1xuXG5cdFx0aWYgKGN1cnJlbnRVc2VyKSB7XG5cdFx0XHRjdXJyZW50VXNlci5pc1JlZ2lzdHJhdGlvbkNvbXBsZXRlZFxuXHRcdFx0XHQ/IChyZWRpcmVjdFVybCA9ICdsb2dpbi9zb2NpZS8nICsgY3VycmVudFVzZXJbJ19pZCddKVxuXHRcdFx0XHQ6IChyZWRpcmVjdFVybCA9ICdsb2dpbi9ieUxvY2F0aW9uLycgKyBjdXJyZW50VXNlclsnX2lkJ10pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zdCBbZmlyc3RuYW1lLCBsYXN0bmFtZV0gPSBwcm9maWxlSW5mb1snZGlzcGxheU5hbWUnXS5zcGxpdCgnICcpO1xuXG5cdFx0XHRjb25zdCBlbWFpbCA9IHByb2ZpbGVJbmZvWydlbWFpbHMnXVswXVsndmFsdWUnXTtcblxuXHRcdFx0Y29uc3Qgc29jaWFsSWRPblByb2ZpbGUgPSBwcm9maWxlSW5mb1snaWQnXTtcblxuXHRcdFx0Y29uc3QgbmV3VXNlciA9IGF3YWl0IHRoaXMudXNlcnNTZXJ2aWNlLmluaXRVc2VyKHtcblx0XHRcdFx0Zmlyc3ROYW1lOiBmaXJzdG5hbWUsXG5cdFx0XHRcdGxhc3ROYW1lOiBsYXN0bmFtZSxcblx0XHRcdFx0ZW1haWwsXG5cdFx0XHRcdHNvY2lhbElkczogW3NvY2lhbElkT25Qcm9maWxlXSxcblx0XHRcdFx0aXNSZWdpc3RyYXRpb25Db21wbGV0ZWQ6IGZhbHNlLFxuXHRcdFx0fSk7XG5cblx0XHRcdHJlZGlyZWN0VXJsID0gJ2xvZ2luL2J5TG9jYXRpb24vJyArIG5ld1VzZXJbJ19pZCddO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHJlZGlyZWN0VXJsIH07XG5cdH1cbn1cbiIsImltcG9ydCBHb29nbGVTdHJhdGVneSBmcm9tICdwYXNzcG9ydC1nb29nbGUtb2F1dGgyMCc7XG5pbXBvcnQgRmFjZWJvb2tTdHJhdGVneSBmcm9tICdwYXNzcG9ydC1mYWNlYm9vayc7XG5pbXBvcnQgeyBpbmplY3QsIGluamVjdGFibGUgfSBmcm9tICdpbnZlcnNpZnknO1xuaW1wb3J0IHsgU29jaWFsUmVnaXN0ZXJTZXJ2aWNlIH0gZnJvbSAnLi9Tb2NpYWxSZWdpc3RlclNlcnZpY2UnO1xuaW1wb3J0IHsgcm91dGVyTmFtZSB9IGZyb20gJ0BweXJvL2lvJztcbmltcG9ydCB7IGVudiB9IGZyb20gJy4uLy4uL2Vudic7XG5pbXBvcnQgSVNlcnZpY2UgZnJvbSAnc2VydmljZXMvSVNlcnZpY2UnO1xuXG5Acm91dGVyTmFtZSgnc29jaWFsLXN0cmF0ZWdpZXMtc2VydmljZScpXG5AaW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgU29jaWFsU3RyYXRlZ2llc1NlcnZpY2UgaW1wbGVtZW50cyBJU2VydmljZSB7XG5cdGNvbnN0cnVjdG9yKFxuXHRcdEBpbmplY3QoU29jaWFsUmVnaXN0ZXJTZXJ2aWNlKVxuXHRcdHByb3RlY3RlZCBzb2NpYWxSZWdpc3RlcjogU29jaWFsUmVnaXN0ZXJTZXJ2aWNlXG5cdCkge31cblxuXHRnZXRHb29nbGVTdHJhdGVneSgpOiBHb29nbGVTdHJhdGVneSB8IG51bGwge1xuXHRcdGlmIChlbnYuR09PR0xFX0FQUF9JRCAhPT0gJycgJiYgZW52LkdPT0dMRV9BUFBfU0VDUkVUICE9PSAnJykge1xuXHRcdFx0cmV0dXJuIG5ldyBHb29nbGVTdHJhdGVneShcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGNsaWVudElEOiBlbnYuR09PR0xFX0FQUF9JRCxcblx0XHRcdFx0XHRjbGllbnRTZWNyZXQ6IGVudi5HT09HTEVfQVBQX1NFQ1JFVCxcblx0XHRcdFx0XHRjYWxsYmFja1VSTDogJy9hdXRoL2dvb2dsZS9jYWxsYmFjaycsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGFzeW5jIChhY2Nlc3NUb2tlbiwgcmVmcmVzaFRva2VuLCBwcm9maWxlLCBkb25lKSA9PiB7XG5cdFx0XHRcdFx0Y29uc3QgeyByZWRpcmVjdFVybCB9ID0gYXdhaXQgdGhpcy5zb2NpYWxSZWdpc3Rlci5yZWdpc3Rlcihcblx0XHRcdFx0XHRcdHByb2ZpbGVcblx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0ZG9uZShudWxsLCB7IHJlZGlyZWN0VXJsIH0pO1xuXHRcdFx0XHR9XG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGNvbnNvbGUubG9nKFxuXHRcdFx0YFdhcm5pbmc6IEdvb2dsZSBPQXV0aCBkaXNhYmxlZCBiZWNhdXNlIG5vIGRldGFpbHMgcHJvdmlkZWQgaW4gdGhlIHNldHRpbmdzL2Vudmlyb25tZW50YFxuXHRcdCk7XG5cblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdGdldEZhY2Vib29rU3RyYXRlZ3koKTogRmFjZWJvb2tTdHJhdGVneSB8IG51bGwge1xuXHRcdGlmIChlbnYuRkFDRUJPT0tfQVBQX0lEICE9PSAnJyAmJiBlbnYuRkFDRUJPT0tfQVBQX1NFQ1JFVCAhPT0gJycpIHtcblx0XHRcdHJldHVybiBuZXcgRmFjZWJvb2tTdHJhdGVneShcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGNsaWVudElEOiBlbnYuRkFDRUJPT0tfQVBQX0lELFxuXHRcdFx0XHRcdGNsaWVudFNlY3JldDogZW52LkZBQ0VCT09LX0FQUF9TRUNSRVQsXG5cdFx0XHRcdFx0Y2FsbGJhY2tVUkw6ICcvYXV0aC9mYWNlYm9vay9jYWxsYmFjaycsXG5cdFx0XHRcdFx0cHJvZmlsZUZpZWxkczogW1xuXHRcdFx0XHRcdFx0J2lkJyxcblx0XHRcdFx0XHRcdCdkaXNwbGF5TmFtZScsXG5cdFx0XHRcdFx0XHQncGljdHVyZScsXG5cdFx0XHRcdFx0XHQnZW1haWwnLFxuXHRcdFx0XHRcdFx0J2dlbmRlcicsXG5cdFx0XHRcdFx0XSxcblx0XHRcdFx0fSxcblx0XHRcdFx0YXN5bmMgKGFjY2Vzc1Rva2VuLCByZWZyZXNoVG9rZW4sIHByb2ZpbGUsIGRvbmUpID0+IHtcblx0XHRcdFx0XHRjb25zdCB7IHJlZGlyZWN0VXJsIH0gPSBhd2FpdCB0aGlzLnNvY2lhbFJlZ2lzdGVyLnJlZ2lzdGVyKFxuXHRcdFx0XHRcdFx0cHJvZmlsZVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0ZG9uZShudWxsLCB7IHJlZGlyZWN0VXJsIH0pO1xuXHRcdFx0XHR9XG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGNvbnNvbGUubG9nKFxuXHRcdFx0YFdhcm5pbmc6IEZhY2Vib29rIE9BdXRoIGRpc2FibGVkIGJlY2F1c2Ugbm8gZGV0YWlscyBwcm92aWRlZCBpbiB0aGUgc2V0dGluZ3MvZW52aXJvbm1lbnRgXG5cdFx0KTtcblxuXHRcdHJldHVybiBudWxsO1xuXHR9XG59XG4iLCJpbXBvcnQge1xuXHRDb21tYW5kQnVzLFxuXHRDb21tYW5kSGFuZGxlcixcblx0SUNvbW1hbmQsXG5cdElDb21tYW5kSGFuZGxlcixcbn0gZnJvbSAnQG5lc3Rqcy9jcXJzJztcbmltcG9ydCB7IHJvdXRlck5hbWUgfSBmcm9tICdAcHlyby9pbyc7XG5pbXBvcnQgeyBpbmplY3RhYmxlLCBvcHRpb25hbCB9IGZyb20gJ2ludmVyc2lmeSc7XG5pbXBvcnQgeyBVc2Vyc1NlcnZpY2UgfSBmcm9tICcuL1VzZXJzU2VydmljZSc7XG5pbXBvcnQgSVNlcnZpY2UgZnJvbSAnc2VydmljZXMvSVNlcnZpY2UnO1xuXG4vKipcbiAqIEFib3V0VXMgQ29tbWFuZFxuICogSW4gdGhpcyBleHBlcmltZW50LCB3ZSBhc3N1bWUgdGhhdCB0ZXh0IG9mIGFib3V0IHVzIGNvdWxkIGRlcGVuZCBvbiB1c2VySWQgYW5kIGhpcyBkZXZpY2UgOilcbiAqIEUuZy4gdG8gdXNlciBBIHdlIGNvdWxkIHJlc3BvbmQgXCJXZSBhcmUgRXZlciFcIiwgdG8gdXNlciBCIHdlIGNvdWxkIHJlc3BvbmQgXCJXZSBhcmUgRXZlciBQbGF0Zm9ybSFcIiwgZXRjLlxuICpcbiAqIEBleHBvcnRcbiAqIEBjbGFzcyBHZXRBYm91dFVzQ29tbWFuZFxuICogQGltcGxlbWVudHMge0lDb21tYW5kfVxuICovXG5leHBvcnQgY2xhc3MgR2V0QWJvdXRVc0NvbW1hbmQgaW1wbGVtZW50cyBJQ29tbWFuZCB7XG5cdGNvbnN0cnVjdG9yKFxuXHRcdHB1YmxpYyByZWFkb25seSB1c2VySWQ6IHN0cmluZyxcblx0XHRwdWJsaWMgcmVhZG9ubHkgZGV2aWNlSWQ6IHN0cmluZ1xuXHQpIHt9XG59XG5cbi8qKlxuICogQ1FSUyBleHBlcmltZW50YWwgaW50ZWdyYXRpb25cbiAqIFRoaXMgc2VydmljZSBiYXNpY2FsbHkganVzdCBsaXN0ZW4gb24gJ3VzZXJDb21tYW5kU2VydmljZScgYW5kIGV4ZWN1dGUgY29tbWFuZCAnR2V0QWJvdXRVc0NvbW1hbmQnXG4gKlxuICogQGV4cG9ydFxuICogQGNsYXNzIFVzZXJDb21tYW5kU2VydmljZVxuICovXG5AaW5qZWN0YWJsZSgpXG5Acm91dGVyTmFtZSgndXNlckNvbW1hbmRTZXJ2aWNlJylcbmV4cG9ydCBjbGFzcyBVc2VyQ29tbWFuZFNlcnZpY2UgaW1wbGVtZW50cyBJU2VydmljZSB7XG5cdGNvbnN0cnVjdG9yKFxuXHRcdEBvcHRpb25hbCgpXG5cdFx0cHJpdmF0ZSByZWFkb25seSBfY29tbWFuZEJ1czogQ29tbWFuZEJ1c1xuXHQpIHt9XG5cblx0YXN5bmMgZXhlYyh1c2VySWQ6IHN0cmluZywgZGV2aWNlSWQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG5cdFx0cmV0dXJuIHRoaXMuX2NvbW1hbmRCdXMuZXhlY3V0ZShcblx0XHRcdG5ldyBHZXRBYm91dFVzQ29tbWFuZCh1c2VySWQsIGRldmljZUlkKVxuXHRcdCk7XG5cdH1cbn1cblxuLyoqXG4gKiBIYW5kbGVyIGZvciBHZXRBYm91dFVzQ29tbWFuZFxuICogRG8gbm90aGluZyBmb3Igbm93IDopXG4gKlxuICogQGV4cG9ydFxuICogQGNsYXNzIEdldEFib3V0VXNIYW5kbGVyXG4gKiBAaW1wbGVtZW50cyB7SUNvbW1hbmRIYW5kbGVyPEdldEFib3V0VXNDb21tYW5kPn1cbiAqL1xuQENvbW1hbmRIYW5kbGVyKEdldEFib3V0VXNDb21tYW5kKVxuZXhwb3J0IGNsYXNzIEdldEFib3V0VXNIYW5kbGVyIGltcGxlbWVudHMgSUNvbW1hbmRIYW5kbGVyPEdldEFib3V0VXNDb21tYW5kPiB7XG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgX3VzZXJTZXJ2aWNlOiBVc2Vyc1NlcnZpY2UpIHt9XG5cblx0YXN5bmMgZXhlY3V0ZShjb21tYW5kOiBHZXRBYm91dFVzQ29tbWFuZCkge1xuXHRcdGNvbnN0IHsgdXNlcklkLCBkZXZpY2VJZCB9ID0gY29tbWFuZDtcblxuXHRcdGNvbnNvbGUubG9nKCdDT01NQU5EIFBBUkFNIDE6JywgdXNlcklkKTtcblx0XHRjb25zb2xlLmxvZygnQ09NTUFORCBQQVJBTSAyOicsIGRldmljZUlkKTtcblxuXHRcdGNvbnN0IHJlc3VsdCA9IHRoaXMuX3VzZXJTZXJ2aWNlLmdldEFib3V0VXModXNlcklkLCBkZXZpY2VJZCk7XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG59XG4iLCJpbXBvcnQgSVNlcnZpY2UgZnJvbSAnLi4vSVNlcnZpY2UnO1xuaW1wb3J0IFVzZXIgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9Vc2VyJztcbmltcG9ydCB7IGNyZWF0ZUV2ZXJMb2dnZXIgfSBmcm9tICcuLi8uLi9oZWxwZXJzL0xvZyc7XG5pbXBvcnQgeyBFbnRpdHlTZXJ2aWNlIH0gZnJvbSAnQHB5cm8vZGItc2VydmVyL2VudGl0eS1zZXJ2aWNlJztcbmltcG9ydCB7IGFzeW5jTGlzdGVuZXIsIHJvdXRlck5hbWUgfSBmcm9tICdAcHlyby9pbyc7XG5pbXBvcnQgeyBVc2Vyc1NlcnZpY2UgfSBmcm9tICcuL1VzZXJzU2VydmljZSc7XG5pbXBvcnQgeyBOb3RJbnZpdGVkRXJyb3IgfSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2Vycm9ycy9Ob3RJbnZpdGVkRXJyb3InO1xuaW1wb3J0IHsgSVVzZXJDcmVhdGVPYmplY3QgfSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2ludGVyZmFjZXMvSVVzZXInO1xuaW1wb3J0IHsgSW52aXRlc1NlcnZpY2UgfSBmcm9tICcuLi9pbnZpdGVzJztcbmltcG9ydCBJVXNlckF1dGhSb3V0ZXIsIHtcblx0QWRkYWJsZVJlZ2lzdHJhdGlvbkluZm8sXG5cdElVc2VyTG9naW5SZXNwb25zZSxcblx0SVVzZXJSZWdpc3RyYXRpb25JbnB1dCxcbn0gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9yb3V0ZXJzL0lVc2VyQXV0aFJvdXRlcic7XG5pbXBvcnQgeyBpbmplY3QsIGluamVjdGFibGUgfSBmcm9tICdpbnZlcnNpZnknO1xuaW1wb3J0IHsgQXV0aFNlcnZpY2UsIEF1dGhTZXJ2aWNlRmFjdG9yeSB9IGZyb20gJy4uL2F1dGgnO1xuaW1wb3J0IHsgZW52IH0gZnJvbSAnLi4vLi4vZW52JztcbmltcG9ydCBMb2dnZXIgZnJvbSAnYnVueWFuJztcblxuLyoqXG4gKiBDdXN0b21lcnMgQXV0aGVudGljYXRpb24gU2VydmljZVxuICogVE9ETzogcmVuYW1lIFwiVXNlcnNcIiB0byBcIkN1c3RvbWVyc1wiXG4gKlxuICogQGV4cG9ydFxuICogQGNsYXNzIFVzZXJzQXV0aFNlcnZpY2VcbiAqIEBleHRlbmRzIHtFbnRpdHlTZXJ2aWNlPFVzZXI+fVxuICogQGltcGxlbWVudHMge0lVc2VyQXV0aFJvdXRlcn1cbiAqIEBpbXBsZW1lbnRzIHtJU2VydmljZX1cbiAqL1xuQGluamVjdGFibGUoKVxuQHJvdXRlck5hbWUoJ3VzZXItYXV0aCcpXG5leHBvcnQgY2xhc3MgVXNlcnNBdXRoU2VydmljZSBleHRlbmRzIEVudGl0eVNlcnZpY2U8VXNlcj5cblx0aW1wbGVtZW50cyBJVXNlckF1dGhSb3V0ZXIsIElTZXJ2aWNlIHtcblx0cmVhZG9ubHkgREJPYmplY3Q6IGFueSA9IFVzZXI7XG5cblx0Ly8gVE9ETzogd2h5IGl0J3Mgbm90IGluIHRoZSBzZXR0aW5ncyBhbmQgaGFyZGNvZGVkIHRvIHNvbWUgZGVmYXVsdCB2YWx1ZSBoZXJlP1xuXHRwcml2YXRlIHN0YXRpYyBJU19JTlZJVEVTX1NZU1RFTV9PTjogYm9vbGVhbiA9IGZhbHNlO1xuXG5cdHByb3RlY3RlZCByZWFkb25seSBsb2c6IExvZ2dlciA9IGNyZWF0ZUV2ZXJMb2dnZXIoe1xuXHRcdG5hbWU6ICd1c2VyQXV0aFNlcnZpY2UnLFxuXHR9KTtcblxuXHRwcml2YXRlIHJlYWRvbmx5IGF1dGhTZXJ2aWNlOiBBdXRoU2VydmljZTxVc2VyPjtcblxuXHRjb25zdHJ1Y3Rvcihcblx0XHRwcml2YXRlIHJlYWRvbmx5IHVzZXJzU2VydmljZTogVXNlcnNTZXJ2aWNlLFxuXHRcdHByaXZhdGUgcmVhZG9ubHkgaW52aXRlc1NlcnZpY2U6IEludml0ZXNTZXJ2aWNlLFxuXHRcdEBpbmplY3QoJ0ZhY3Rvcnk8QXV0aFNlcnZpY2U+Jylcblx0XHRwcml2YXRlIHJlYWRvbmx5IGF1dGhTZXJ2aWNlRmFjdG9yeTogQXV0aFNlcnZpY2VGYWN0b3J5XG5cdCkge1xuXHRcdHN1cGVyKCk7XG5cblx0XHR0aGlzLmF1dGhTZXJ2aWNlID0gdGhpcy5hdXRoU2VydmljZUZhY3Rvcnkoe1xuXHRcdFx0cm9sZTogJ3VzZXInLFxuXHRcdFx0RW50aXR5OiBVc2VyLFxuXHRcdFx0c2FsdFJvdW5kczogZW52LlVTRVJfUEFTU1dPUkRfQkNSWVBUX1NBTFRfUk9VTkRTLFxuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJlZ2lzdGVyIEN1c3RvbWVyLlxuXHQgKiBUaHJvdyBOb3RJbnZpdGVkRXJyb3IgaWYgY3VzdG9tZXIgbm90IGludml0ZWQgYW5kIGludml0ZXMgc3lzdGVtIGVuYWJsZWRcblx0ICpcblx0ICpcblx0ICogQHBhcmFtIHtJVXNlclJlZ2lzdHJhdGlvbklucHV0fSBpbnB1dFxuXHQgKiBAcmV0dXJucyB7UHJvbWlzZTxVc2VyPn1cblx0ICogQG1lbWJlcm9mIFVzZXJzQXV0aFNlcnZpY2Vcblx0ICovXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgcmVnaXN0ZXIoaW5wdXQ6IElVc2VyUmVnaXN0cmF0aW9uSW5wdXQpOiBQcm9taXNlPFVzZXI+IHtcblx0XHRpZiAoXG5cdFx0XHRVc2Vyc0F1dGhTZXJ2aWNlLklTX0lOVklURVNfU1lTVEVNX09OICYmXG5cdFx0XHQhKGF3YWl0IHRoaXMuX2lzSW52aXRlZChpbnB1dC51c2VyKSlcblx0XHQpIHtcblx0XHRcdHRocm93IG5ldyBOb3RJbnZpdGVkRXJyb3IoKTtcblx0XHR9XG5cblx0XHRpZiAoaW5wdXQudXNlci5maXJzdE5hbWUgPT09ICcnKSB7XG5cdFx0XHRkZWxldGUgaW5wdXQudXNlci5maXJzdE5hbWU7XG5cdFx0fVxuXG5cdFx0aWYgKGlucHV0LnVzZXIubGFzdE5hbWUgPT09ICcnKSB7XG5cdFx0XHRkZWxldGUgaW5wdXQudXNlci5sYXN0TmFtZTtcblx0XHR9XG5cblx0XHRpZiAoaW5wdXQudXNlci5lbWFpbCA9PT0gJycpIHtcblx0XHRcdGRlbGV0ZSBpbnB1dC51c2VyLmVtYWlsO1xuXHRcdH1cblxuXHRcdGNvbnN0IHVzZXIgPSBhd2FpdCB0aGlzLnVzZXJzU2VydmljZS5jcmVhdGUoe1xuXHRcdFx0Li4uaW5wdXQudXNlcixcblx0XHRcdC4uLihpbnB1dC5wYXNzd29yZFxuXHRcdFx0XHQ/IHtcblx0XHRcdFx0XHRcdGhhc2g6IGF3YWl0IHRoaXMuYXV0aFNlcnZpY2UuZ2V0UGFzc3dvcmRIYXNoKFxuXHRcdFx0XHRcdFx0XHRpbnB1dC5wYXNzd29yZFxuXHRcdFx0XHRcdFx0KSxcblx0XHRcdFx0ICB9XG5cdFx0XHRcdDoge30pLFxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHVzZXI7XG5cdH1cblxuXHQvKipcblx0ICogVXBkYXRlcyBDdXN0b21lciBwYXNzd29yZFxuXHQgKlxuXHQgKiBAcGFyYW0ge1VzZXJbJ2lkJ119IGlkXG5cdCAqIEBwYXJhbSB7eyBjdXJyZW50OiBzdHJpbmc7IG5ldzogc3RyaW5nIH19IHBhc3N3b3JkXG5cdCAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuXHQgKiBAbWVtYmVyb2YgVXNlcnNBdXRoU2VydmljZVxuXHQgKi9cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyB1cGRhdGVQYXNzd29yZChcblx0XHRpZDogVXNlclsnaWQnXSxcblx0XHRwYXNzd29yZDogeyBjdXJyZW50OiBzdHJpbmc7IG5ldzogc3RyaW5nIH1cblx0KTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0YXdhaXQgdGhpcy51c2Vyc1NlcnZpY2UudGhyb3dJZk5vdEV4aXN0cyhpZCk7XG5cdFx0YXdhaXQgdGhpcy5hdXRoU2VydmljZS51cGRhdGVQYXNzd29yZChpZCwgcGFzc3dvcmQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFVwZGF0ZSBleGl0ZWQgQ3VzdG9tZXIgd2l0aCBnaXZlbiByZWdpc3RyYXRpb24gZGV0YWlscyAoZW1haWwsIHBhc3N3b3JkLCBldGMpXG5cdCAqXG5cdCAqIEBwYXJhbSB7VXNlclsnaWQnXX0gaWRcblx0ICogQHBhcmFtIHtBZGRhYmxlUmVnaXN0cmF0aW9uSW5mb30ge1xuXHQgKiBcdFx0XHRlbWFpbCxcblx0ICogXHRcdFx0cGFzc3dvcmQsXG5cdCAqIFx0XHRcdGZpcnN0TmFtZSxcblx0ICogXHRcdFx0bGFzdE5hbWUsXG5cdCAqIFx0XHRcdHBob25lXG5cdCAqIFx0XHR9XG5cdCAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuXHQgKiBAbWVtYmVyb2YgVXNlcnNBdXRoU2VydmljZVxuXHQgKi9cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyBhZGRSZWdpc3RyYXRpb25JbmZvKFxuXHRcdGlkOiBVc2VyWydpZCddLFxuXHRcdHsgZW1haWwsIHBhc3N3b3JkLCBmaXJzdE5hbWUsIGxhc3ROYW1lLCBwaG9uZSB9OiBBZGRhYmxlUmVnaXN0cmF0aW9uSW5mb1xuXHQpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRhd2FpdCB0aGlzLnVzZXJzU2VydmljZS50aHJvd0lmTm90RXhpc3RzKGlkKTtcblxuXHRcdGNvbnN0IHVzZXIgPSBhd2FpdCB0aGlzLnVzZXJzU2VydmljZS5nZXRDdXJyZW50KGlkKTtcblxuXHRcdGlmICh1c2VyLmVtYWlsID09IG51bGwgJiYgZW1haWwpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignVG8gYWRkIHBhc3N3b3JkIHVzZXIgbXVzdCBoYXZlIGVtYWlsJyk7XG5cdFx0fVxuXG5cdFx0YXdhaXQgdGhpcy5hdXRoU2VydmljZS5hZGRQYXNzd29yZChpZCwgcGFzc3dvcmQpO1xuXG5cdFx0YXdhaXQgdGhpcy51c2Vyc1NlcnZpY2UudXBkYXRlKGlkLCB7XG5cdFx0XHQuLi4oZW1haWwgPyB7IGVtYWlsIH0gOiB7fSksXG5cdFx0XHQuLi4oZmlyc3ROYW1lID8geyBmaXJzdE5hbWUgfSA6IHt9KSxcblx0XHRcdC4uLihsYXN0TmFtZSA/IHsgbGFzdE5hbWUgfSA6IHt9KSxcblx0XHRcdC4uLihwaG9uZSA/IHsgcGhvbmUgfSA6IHt9KSxcblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBMb2dpbiBDdXN0b21lciAocmV0dXJucyB1c2VyIHJlY29yZCBhbmQgQXV0aCB0b2tlbilcblx0ICpcblx0ICogQHBhcmFtIHtzdHJpbmd9IGVtYWlsXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBwYXNzd29yZFxuXHQgKiBAcmV0dXJucyB7KFByb21pc2U8SVVzZXJMb2dpblJlc3BvbnNlIHwgbnVsbD4pfVxuXHQgKiBAbWVtYmVyb2YgVXNlcnNBdXRoU2VydmljZVxuXHQgKi9cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyBsb2dpbihcblx0XHRlbWFpbDogc3RyaW5nLFxuXHRcdHBhc3N3b3JkOiBzdHJpbmdcblx0KTogUHJvbWlzZTxJVXNlckxvZ2luUmVzcG9uc2UgfCBudWxsPiB7XG5cdFx0Y29uc3QgcmVzID0gYXdhaXQgdGhpcy5hdXRoU2VydmljZS5sb2dpbih7IGVtYWlsIH0sIHBhc3N3b3JkKTtcblxuXHRcdGlmICghcmVzIHx8IHJlcy5lbnRpdHkuaXNEZWxldGVkKSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0dXNlcjogcmVzLmVudGl0eSxcblx0XHRcdHRva2VuOiByZXMudG9rZW4sXG5cdFx0fTtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXQgY3VycmVudCBSZWdpc3RyYXRpb24gc2V0dGluZ3MgKGUuZy4gcmVnaXN0cmF0aW9uUmVxdWlyZWRPblN0YXJ0KVxuXHQgKiBUT0RPOiBtYWtlIGFzeW5jXG5cdCAqXG5cdCAqIEBtZW1iZXJvZiBVc2Vyc0F1dGhTZXJ2aWNlXG5cdCAqL1xuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGdldFJlZ2lzdHJhdGlvbnNTZXR0aW5ncygpOiBQcm9taXNlPHtcblx0XHRyZWdpc3RyYXRpb25SZXF1aXJlZE9uU3RhcnQ6IGJvb2xlYW47XG5cdH0+IHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2U8eyByZWdpc3RyYXRpb25SZXF1aXJlZE9uU3RhcnQ6IGJvb2xlYW4gfT4oXG5cdFx0XHQocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRcdHJlc29sdmUoe1xuXHRcdFx0XHRcdHJlZ2lzdHJhdGlvblJlcXVpcmVkT25TdGFydDpcblx0XHRcdFx0XHRcdGVudi5TRVRUSU5HU19SRUdJU1RSQVRJT05TX1JFUVVJUkVEX09OX1NUQVJULFxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHQpO1xuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBfaXNJbnZpdGVkKFxuXHRcdHVzZXJDcmVhdGVPYmplY3Q6IElVc2VyQ3JlYXRlT2JqZWN0XG5cdCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuXHRcdGNvbnN0IGludml0ZUZpbmRPYmplY3QgPSB7XG5cdFx0XHQnZ2VvTG9jYXRpb24uY291bnRyeUlkJzogdXNlckNyZWF0ZU9iamVjdC5nZW9Mb2NhdGlvbi5jb3VudHJ5SWQsXG5cdFx0XHQnZ2VvTG9jYXRpb24uY2l0eSc6IHVzZXJDcmVhdGVPYmplY3QuZ2VvTG9jYXRpb24uY2l0eSxcblx0XHRcdCdnZW9Mb2NhdGlvbi5zdHJlZXRBZGRyZXNzJzpcblx0XHRcdFx0dXNlckNyZWF0ZU9iamVjdC5nZW9Mb2NhdGlvbi5zdHJlZXRBZGRyZXNzLFxuXHRcdFx0J2dlb0xvY2F0aW9uLmhvdXNlJzogdXNlckNyZWF0ZU9iamVjdC5nZW9Mb2NhdGlvbi5ob3VzZSxcblx0XHRcdGFwYXJ0bWVudDogdXNlckNyZWF0ZU9iamVjdC5hcGFydG1lbnQsXG5cdFx0fTtcblxuXHRcdGlmICh1c2VyQ3JlYXRlT2JqZWN0Lmdlb0xvY2F0aW9uLnBvc3Rjb2RlKSB7XG5cdFx0XHRpbnZpdGVGaW5kT2JqZWN0WydnZW9Mb2NhdGlvbi5wb3N0Y29kZSddID1cblx0XHRcdFx0dXNlckNyZWF0ZU9iamVjdC5nZW9Mb2NhdGlvbi5wb3N0Y29kZTtcblx0XHR9XG5cblx0XHRjb25zdCBpbnZpdGUgPSBhd2FpdCB0aGlzLmludml0ZXNTZXJ2aWNlLmZpbmRPbmUoaW52aXRlRmluZE9iamVjdCk7XG5cblx0XHRyZXR1cm4gaW52aXRlICE9IG51bGw7XG5cdH1cbn1cbiIsImltcG9ydCB7IGluamVjdCwgaW5qZWN0YWJsZSwgTGF6eVNlcnZpY2VJZGVudGlmZXIgfSBmcm9tICdpbnZlcnNpZnknO1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IE9yZGVyc1NlcnZpY2UgfSBmcm9tICcuLi9vcmRlcnMnO1xuaW1wb3J0IE9yZGVyIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvT3JkZXInO1xuaW1wb3J0IHsgVXNlcnNTZXJ2aWNlIH0gZnJvbSAnLi9Vc2Vyc1NlcnZpY2UnO1xuaW1wb3J0IHsgY3JlYXRlRXZlckxvZ2dlciB9IGZyb20gJy4uLy4uL2hlbHBlcnMvTG9nJztcbmltcG9ydCBJVXNlck9yZGVyc1JvdXRlciBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL3JvdXRlcnMvSVVzZXJPcmRlcnNSb3V0ZXInO1xuaW1wb3J0IHsgb2JzZXJ2YWJsZUxpc3RlbmVyLCByb3V0ZXJOYW1lIH0gZnJvbSAnQHB5cm8vaW8nO1xuaW1wb3J0IElTZXJ2aWNlIGZyb20gJy4uL0lTZXJ2aWNlJztcbmltcG9ydCB7IEV4aXN0ZW5jZUV2ZW50VHlwZSB9IGZyb20gJ0BweXJvL2RiLXNlcnZlcic7XG5pbXBvcnQgeyBjb25jYXQsIG9mLCBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBleGhhdXN0TWFwLCBmaWx0ZXIsIHNoYXJlIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IFVzZXIgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9Vc2VyJztcbmltcG9ydCBtb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJyk7XG5pbXBvcnQgeyBPYmplY3RJZCB9IGZyb20gJ21vbmdvZGInO1xuaW1wb3J0IE9yZGVyQ2FycmllclN0YXR1cyBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudW1zL09yZGVyQ2FycmllclN0YXR1cyc7XG5pbXBvcnQgT3JkZXJXYXJlaG91c2VTdGF0dXMgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnVtcy9PcmRlcldhcmVob3VzZVN0YXR1cyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJ2J1bnlhbic7XG5cbi8qKlxuICogQ3VzdG9tZXJzIE9yZGVycyBTZXJ2aWNlXG4gKiBUT0RPOiByZW5hbWUgVXNlcnMgdG8gQ3VzdG9tZXJzXG4gKlxuICogQGV4cG9ydFxuICogQGNsYXNzIFVzZXJzT3JkZXJzU2VydmljZVxuICogQGltcGxlbWVudHMge0lVc2VyT3JkZXJzUm91dGVyfVxuICogQGltcGxlbWVudHMge0lTZXJ2aWNlfVxuICovXG5AaW5qZWN0YWJsZSgpXG5Acm91dGVyTmFtZSgndXNlci1vcmRlcnMnKVxuZXhwb3J0IGNsYXNzIFVzZXJzT3JkZXJzU2VydmljZSBpbXBsZW1lbnRzIElVc2VyT3JkZXJzUm91dGVyLCBJU2VydmljZSB7XG5cdHByb3RlY3RlZCByZWFkb25seSBsb2c6IExvZ2dlciA9IGNyZWF0ZUV2ZXJMb2dnZXIoe1xuXHRcdG5hbWU6ICd1c2Vyc09yZGVyc1NlcnZpY2UnLFxuXHR9KTtcblxuXHRjb25zdHJ1Y3Rvcihcblx0XHRAaW5qZWN0KG5ldyBMYXp5U2VydmljZUlkZW50aWZlcigoKSA9PiBPcmRlcnNTZXJ2aWNlKSlcblx0XHRwcm90ZWN0ZWQgb3JkZXJzU2VydmljZTogT3JkZXJzU2VydmljZSxcblx0XHRAaW5qZWN0KG5ldyBMYXp5U2VydmljZUlkZW50aWZlcigoKSA9PiBVc2Vyc1NlcnZpY2UpKVxuXHRcdHByb3RlY3RlZCB1c2Vyc1NlcnZpY2U6IFVzZXJzU2VydmljZVxuXHQpIHt9XG5cblx0LyoqXG5cdCAqIEdldCBPcmRlcnMgZm9yIGdpdmVuIEN1c3RvbWVyc1xuXHQgKiBUT0RPOiBhZGQgcGFnaW5nXG5cdCAqXG5cdCAqIEBwYXJhbSB7VXNlclsnaWQnXX0gdXNlcklkXG5cdCAqIEByZXR1cm5zIHtPYnNlcnZhYmxlPE9yZGVyW10+fVxuXHQgKiBAbWVtYmVyb2YgVXNlcnNPcmRlcnNTZXJ2aWNlXG5cdCAqL1xuXHRAb2JzZXJ2YWJsZUxpc3RlbmVyKClcblx0Z2V0KHVzZXJJZDogVXNlclsnaWQnXSk6IE9ic2VydmFibGU8T3JkZXJbXT4ge1xuXHRcdHJldHVybiBjb25jYXQoXG5cdFx0XHRvZihudWxsKSxcblx0XHRcdHRoaXMub3JkZXJzU2VydmljZS5leGlzdGVuY2UucGlwZShcblx0XHRcdFx0ZmlsdGVyKChlKSA9PiB0aGlzLl9zaG91bGRQdWxsKHVzZXJJZCwgZSkpLFxuXHRcdFx0XHRzaGFyZSgpXG5cdFx0XHQpXG5cdFx0KS5waXBlKGV4aGF1c3RNYXAoKCkgPT4gdGhpcy5nZXRDdXJyZW50KHVzZXJJZCkpKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXQgT3JkZXJzIGZvciBnaXZlbiBDdXN0b21lcnNcblx0ICogVE9ETzogYWRkIHBhZ2luZ1xuXHQgKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdXNlcklkXG5cdCAqIEByZXR1cm5zIHtQcm9taXNlPE9yZGVyW10+fVxuXHQgKiBAbWVtYmVyb2YgVXNlcnNPcmRlcnNTZXJ2aWNlXG5cdCAqL1xuXHRhc3luYyBnZXRDdXJyZW50KHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxPcmRlcltdPiB7XG5cdFx0Y29uc3Qgb3JkZXJzID0gYXdhaXQgdGhpcy5vcmRlcnNTZXJ2aWNlLmZpbmQoe1xuXHRcdFx0J3VzZXIuX2lkJzogbmV3IG1vbmdvb3NlLlR5cGVzLk9iamVjdElkKHVzZXJJZCksXG5cdFx0XHRpc0RlbGV0ZWQ6IHsgJGVxOiBmYWxzZSB9LFxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIF8ub3JkZXJCeShcblx0XHRcdG9yZGVycyxcblx0XHRcdFsob3JkZXIpID0+IG9yZGVyLmNyZWF0ZWRBdCwgKG9yZGVyKSA9PiBvcmRlci5vcmRlck51bWJlcl0sXG5cdFx0XHRbJ2Rlc2MnLCAnZGVzYyddXG5cdFx0KTtcblx0fVxuXG5cdGFzeW5jIGdldEN1c3RvbWVyTWV0cmljcyhpZDogc3RyaW5nKSB7XG5cdFx0Y29uc3QgY29tcGxldGVkVXNlck9yZGVycyA9IGF3YWl0IHRoaXMub3JkZXJzU2VydmljZS5Nb2RlbC5maW5kKHtcblx0XHRcdCRhbmQ6IFtcblx0XHRcdFx0eyAndXNlci5faWQnOiBpZCB9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0JG9yOiBbXG5cdFx0XHRcdFx0XHR7IGNhcnJpZXJTdGF0dXM6IE9yZGVyQ2FycmllclN0YXR1cy5EZWxpdmVyeUNvbXBsZXRlZCB9LFxuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHR3YXJlaG91c2VTdGF0dXM6XG5cdFx0XHRcdFx0XHRcdFx0T3JkZXJXYXJlaG91c2VTdGF0dXMuR2l2ZW5Ub0N1c3RvbWVyLFxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRdLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7IGlzQ2FuY2VsbGVkOiBmYWxzZSB9LFxuXHRcdFx0XSxcblx0XHR9KS5zZWxlY3QoeyBwcm9kdWN0czogMSB9KTtcblxuXHRcdGNvbnN0IGNvbXBsZXRlZE9yZGVyc1RvdGFsU3VtID0gY29tcGxldGVkVXNlck9yZGVyc1xuXHRcdFx0Lm1hcCgobykgPT4ge1xuXHRcdFx0XHRyZXR1cm4gby5wcm9kdWN0c1xuXHRcdFx0XHRcdC5tYXAoKHApID0+IHtcblx0XHRcdFx0XHRcdHJldHVybiBwLnByaWNlICogcC5jb3VudDtcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdC5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiLCAwKTtcblx0XHRcdH0pXG5cdFx0XHQucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCk7XG5cblx0XHRjb25zdCB0b3RhbE9yZGVycyA9IGF3YWl0IHRoaXMub3JkZXJzU2VydmljZS5Nb2RlbC5maW5kKHtcblx0XHRcdCd1c2VyLl9pZCc6IGlkLFxuXHRcdH0pXG5cdFx0XHQuY291bnREb2N1bWVudHMoKVxuXHRcdFx0LmV4ZWMoKTtcblxuXHRcdGNvbnN0IGNhbmNlbGVkT3JkZXJzID0gYXdhaXQgdGhpcy5vcmRlcnNTZXJ2aWNlLk1vZGVsLmZpbmQoe1xuXHRcdFx0JGFuZDogW3sgJ3VzZXIuX2lkJzogaWQgfSwgeyBpc0NhbmNlbGxlZDogdHJ1ZSB9XSxcblx0XHR9KVxuXHRcdFx0LmNvdW50RG9jdW1lbnRzKClcblx0XHRcdC5leGVjKCk7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0dG90YWxPcmRlcnMsXG5cdFx0XHRjYW5jZWxlZE9yZGVycyxcblx0XHRcdGNvbXBsZXRlZE9yZGVyc1RvdGFsU3VtLFxuXHRcdH07XG5cdH1cblxuXHRwcml2YXRlIF9zaG91bGRQdWxsKHVzZXJJZDogVXNlclsnaWQnXSwgZXZlbnQpIHtcblx0XHRzd2l0Y2ggKGV2ZW50LnR5cGUgYXMgRXhpc3RlbmNlRXZlbnRUeXBlKSB7XG5cdFx0XHRjYXNlIEV4aXN0ZW5jZUV2ZW50VHlwZS5DcmVhdGVkOlxuXHRcdFx0XHRyZXR1cm4gZXZlbnQudmFsdWUgIT0gbnVsbCAmJiBldmVudC52YWx1ZS51c2VyLmlkID09PSB1c2VySWQ7XG5cblx0XHRcdGNhc2UgRXhpc3RlbmNlRXZlbnRUeXBlLlVwZGF0ZWQ6XG5cdFx0XHRcdHJldHVybiAoXG5cdFx0XHRcdFx0KGV2ZW50LnZhbHVlICE9IG51bGwgJiYgZXZlbnQudmFsdWUudXNlci5pZCA9PT0gdXNlcklkKSB8fFxuXHRcdFx0XHRcdChldmVudC5sYXN0VmFsdWUgIT0gbnVsbCAmJlxuXHRcdFx0XHRcdFx0ZXZlbnQubGFzdFZhbHVlLnVzZXIuaWQgPT09IHVzZXJJZClcblx0XHRcdFx0KTtcblxuXHRcdFx0Y2FzZSBFeGlzdGVuY2VFdmVudFR5cGUuUmVtb3ZlZDpcblx0XHRcdFx0cmV0dXJuIChcblx0XHRcdFx0XHRldmVudC5sYXN0VmFsdWUgIT0gbnVsbCAmJlxuXHRcdFx0XHRcdGV2ZW50Lmxhc3RWYWx1ZS51c2VyLmlkID09PSB1c2VySWRcblx0XHRcdFx0KTtcblx0XHR9XG5cdH1cbn1cbiIsImltcG9ydCB7IGluamVjdGFibGUgfSBmcm9tICdpbnZlcnNpZnknO1xuaW1wb3J0IHsgb2JzZXJ2YWJsZUxpc3RlbmVyLCByb3V0ZXJOYW1lIH0gZnJvbSAnQHB5cm8vaW8nO1xuaW1wb3J0IElVc2VyUHJvZHVjdHNSb3V0ZXIgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9yb3V0ZXJzL0lVc2VyUHJvZHVjdHNSb3V0ZXInO1xuaW1wb3J0IEhhbmRsZWJhcnMgZnJvbSAnaGFuZGxlYmFycyc7XG5pbXBvcnQgeyBvYnNlcnZlRmlsZSB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IERldmljZXNTZXJ2aWNlIH0gZnJvbSAnLi4vZGV2aWNlcy9EZXZpY2VzU2VydmljZSc7XG5pbXBvcnQgSVNlcnZpY2UgZnJvbSAnLi4vSVNlcnZpY2UnO1xuaW1wb3J0IHtcblx0ZGlzdGluY3RVbnRpbENoYW5nZWQsXG5cdGV4aGF1c3RNYXAsXG5cdHB1Ymxpc2hSZXBsYXksXG5cdHJlZkNvdW50LFxuXHRzaGFyZSxcblx0c3dpdGNoTWFwLFxufSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBjb21iaW5lTGF0ZXN0LCBvZiwgdGhyb3dFcnJvciwgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuXG5AaW5qZWN0YWJsZSgpXG5Acm91dGVyTmFtZSgndXNlci1wcm9kdWN0cycpXG5leHBvcnQgY2xhc3MgVXNlcnNQcm9kdWN0c1NlcnZpY2UgaW1wbGVtZW50cyBJVXNlclByb2R1Y3RzUm91dGVyLCBJU2VydmljZSB7XG5cdHByaXZhdGUgc3RhdGljIHRlbXBsYXRlc0RpclBhdGg6IHN0cmluZyA9IGAke19fZGlybmFtZX0vLi4vLi4vLi4vcmVzL3RlbXBsYXRlcy9gO1xuXG5cdHByb3RlY3RlZCBfcGxhY2Vob2xkZXJUZW1wbGF0ZUZpbGVOYW1lOiBzdHJpbmcgPVxuXHRcdFVzZXJzUHJvZHVjdHNTZXJ2aWNlLnRlbXBsYXRlc0RpclBhdGggKyBgdXNlcl9wcm9kdWN0c19wbGFjZWhvbGRlci5oYnNgO1xuXG5cdHByb3RlY3RlZCBfcGxhY2Vob2xkZXJUcmFuc2xhdGlvbnNGaWxlTmFtZTogc3RyaW5nID1cblx0XHRVc2Vyc1Byb2R1Y3RzU2VydmljZS50ZW1wbGF0ZXNEaXJQYXRoICtcblx0XHRgdXNlcl9wcm9kdWN0c19wbGFjZWhvbGRlci5qc29uYDtcblxuXHRwcml2YXRlIHJlYWRvbmx5IF9wbGFjZWhvbGRlclRlbXBsYXRlU3RyaW5nOiBPYnNlcnZhYmxlPHN0cmluZz47XG5cdHByaXZhdGUgcmVhZG9ubHkgX3BsYWNlaG9sZGVyVHJhbnNsYXRpb25zSlNPTjogT2JzZXJ2YWJsZTxzdHJpbmc+O1xuXG5cdGNvbnN0cnVjdG9yKHByb3RlY3RlZCBkZXZpY2VzU2VydmljZTogRGV2aWNlc1NlcnZpY2UpIHtcblx0XHR0aGlzLl9wbGFjZWhvbGRlclRlbXBsYXRlU3RyaW5nID0gb2JzZXJ2ZUZpbGUoXG5cdFx0XHR0aGlzLl9wbGFjZWhvbGRlclRlbXBsYXRlRmlsZU5hbWVcblx0XHQpLnBpcGUoZGlzdGluY3RVbnRpbENoYW5nZWQoKSwgcHVibGlzaFJlcGxheSgxKSwgcmVmQ291bnQoKSk7XG5cblx0XHR0aGlzLl9wbGFjZWhvbGRlclRyYW5zbGF0aW9uc0pTT04gPSBvYnNlcnZlRmlsZShcblx0XHRcdHRoaXMuX3BsYWNlaG9sZGVyVHJhbnNsYXRpb25zRmlsZU5hbWVcblx0XHQpLnBpcGUoZGlzdGluY3RVbnRpbENoYW5nZWQoKSwgcHVibGlzaFJlcGxheSgxKSwgcmVmQ291bnQoKSk7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyBhIGh0bWwgcmVwcmVzZW50aW5nIHBsYWNlaG9sZGVyIHRvIHNob3cgaW4gYXBwIHdoZW4gdGhlcmUgYXJlIG5vIHByb2R1Y3RzIGF2YWlsYWJsZS5cblx0ICpcblx0ICogQHBhcmFtIHtzdHJpbmd9IHVzZXJJZFxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZGV2aWNlSWRcblx0ICogQHJldHVybnMge09ic2VydmFibGU8c3RyaW5nPn1cblx0ICogQG1lbWJlcm9mIFVzZXJzUHJvZHVjdHNTZXJ2aWNlXG5cdCAqL1xuXHRAb2JzZXJ2YWJsZUxpc3RlbmVyKClcblx0Z2V0UGxhY2Vob2xkZXIodXNlcklkOiBzdHJpbmcsIGRldmljZUlkOiBzdHJpbmcpOiBPYnNlcnZhYmxlPHN0cmluZz4ge1xuXHRcdHJldHVybiB0aGlzLmRldmljZXNTZXJ2aWNlLmdldChkZXZpY2VJZCkucGlwZShcblx0XHRcdGV4aGF1c3RNYXAoKGRldmljZSkgPT4ge1xuXHRcdFx0XHRpZiAoZGV2aWNlID09PSBudWxsKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRocm93RXJyb3IoXG5cdFx0XHRcdFx0XHRuZXcgRXJyb3IoYFVzZXIgd2l0aCB0aGUgaWQgJHt1c2VySWR9IGRvZXNuJ3QgZXhpc3RgKVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmV0dXJuIG9mKGRldmljZSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pLFxuXHRcdFx0ZGlzdGluY3RVbnRpbENoYW5nZWQoXG5cdFx0XHRcdChvbGREZXZpY2UsIG5ld0RldmljZSkgPT5cblx0XHRcdFx0XHRvbGREZXZpY2UubGFuZ3VhZ2UgIT09IG5ld0RldmljZS5sYW5ndWFnZVxuXHRcdFx0KSxcblx0XHRcdHN3aXRjaE1hcCgoZGV2aWNlKSA9PlxuXHRcdFx0XHRjb21iaW5lTGF0ZXN0KFxuXHRcdFx0XHRcdHRoaXMuX3BsYWNlaG9sZGVyVGVtcGxhdGVTdHJpbmcsXG5cdFx0XHRcdFx0dGhpcy5fcGxhY2Vob2xkZXJUcmFuc2xhdGlvbnNKU09OLFxuXHRcdFx0XHRcdCh0ZW1wbGF0ZVN0cmluZzogc3RyaW5nLCB0cmFuc2xhdGlvbnNKU09OOiBzdHJpbmcpID0+IHtcblx0XHRcdFx0XHRcdGNvbnN0IHRyYW5zbGF0aW9ucyA9IEpTT04ucGFyc2UodHJhbnNsYXRpb25zSlNPTik7XG5cblx0XHRcdFx0XHRcdGNvbnN0IHRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKHRlbXBsYXRlU3RyaW5nKTtcblxuXHRcdFx0XHRcdFx0Y29uc3QgbGFuZ3VhZ2UgPSBPYmplY3Qua2V5cyhcblx0XHRcdFx0XHRcdFx0SlNPTi5wYXJzZSh0cmFuc2xhdGlvbnNKU09OKVxuXHRcdFx0XHRcdFx0KS5maWx0ZXIoKGspID0+XG5cdFx0XHRcdFx0XHRcdGtcblx0XHRcdFx0XHRcdFx0XHQudG9Mb3dlckNhc2UoKVxuXHRcdFx0XHRcdFx0XHRcdC5pbmNsdWRlcyhkZXZpY2UubGFuZ3VhZ2UudG9Mb3dlckNhc2UoKSlcblx0XHRcdFx0XHRcdClbMF07XG5cblx0XHRcdFx0XHRcdHJldHVybiB0ZW1wbGF0ZSh0cmFuc2xhdGlvbnNbbGFuZ3VhZ2VdKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdClcblx0XHRcdCksXG5cdFx0XHRzaGFyZSgpXG5cdFx0KTtcblx0fVxufVxuIiwiaW1wb3J0IExvZ2dlciBmcm9tICdidW55YW4nO1xuaW1wb3J0IHsgaW5qZWN0LCBpbmplY3RhYmxlLCBMYXp5U2VydmljZUlkZW50aWZlciB9IGZyb20gJ2ludmVyc2lmeSc7XG5pbXBvcnQgeyBlbnYgfSBmcm9tICcuLi8uLi9lbnYnO1xuaW1wb3J0IFVzZXIgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9Vc2VyJztcbmltcG9ydCB7IGNyZWF0ZUV2ZXJMb2dnZXIgfSBmcm9tICcuLi8uLi9oZWxwZXJzL0xvZyc7XG5pbXBvcnQgeyBJbnZpdGVzU2VydmljZSB9IGZyb20gJy4uL2ludml0ZXMnO1xuaW1wb3J0IHsgREJTZXJ2aWNlIH0gZnJvbSAnQHB5cm8vZGItc2VydmVyJztcbmltcG9ydCB7XG5cdElVc2VyQ3JlYXRlT2JqZWN0LFxuXHRJVXNlckluaXRpYWxpemVPYmplY3QsXG59IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JVXNlcic7XG5pbXBvcnQgSVVzZXJSb3V0ZXIgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9yb3V0ZXJzL0lVc2VyUm91dGVyJztcbmltcG9ydCB7XG5cdGFzeW5jTGlzdGVuZXIsXG5cdG9ic2VydmFibGVMaXN0ZW5lcixcblx0cm91dGVyTmFtZSxcblx0c2VyaWFsaXphdGlvbixcbn0gZnJvbSAnQHB5cm8vaW8nO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgb2JzZXJ2ZUZpbGUgfSBmcm9tICcuLi8uLi91dGlscyc7XG5pbXBvcnQgR2VvTG9jYXRpb24sIHtcblx0Q291bnRyeSxcbn0gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9HZW9Mb2NhdGlvbic7XG5pbXBvcnQgSUdlb0xvY2F0aW9uLCB7XG5cdElHZW9Mb2NhdGlvbkNyZWF0ZU9iamVjdCxcbn0gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9pbnRlcmZhY2VzL0lHZW9Mb2NhdGlvbic7XG5pbXBvcnQgeyBEZXZpY2VzU2VydmljZSB9IGZyb20gJy4uL2RldmljZXMnO1xuaW1wb3J0IElTZXJ2aWNlIGZyb20gJy4uL0lTZXJ2aWNlJztcbmltcG9ydCB7IHYxIGFzIHV1aWQgfSBmcm9tICd1dWlkJztcbmltcG9ydCB7XG5cdGRpc3RpbmN0VW50aWxDaGFuZ2VkLFxuXHRleGhhdXN0TWFwLFxuXHRmaXJzdCxcblx0cHVibGlzaFJlcGxheSxcblx0cmVmQ291bnQsXG5cdHN3aXRjaE1hcCxcblx0dGFwLFxuXHRtYXAsXG59IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IG9mIH0gZnJvbSAncnhqcy9vYnNlcnZhYmxlL29mJztcbmltcG9ydCB7IF90aHJvdyB9IGZyb20gJ3J4anMvb2JzZXJ2YWJsZS90aHJvdyc7XG5pbXBvcnQgSUxhbmd1YWdlIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JTGFuZ3VhZ2UnO1xuaW1wb3J0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcbmltcG9ydCBmYWtlciBmcm9tICdmYWtlcic7XG5pbXBvcnQgeyBXYXJlaG91c2VzU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL3dhcmVob3VzZXMnO1xuaW1wb3J0IElQYWdpbmdPcHRpb25zIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JUGFnaW5nT3B0aW9ucyc7XG5pbXBvcnQgU3RyaXBlID0gcmVxdWlyZSgnc3RyaXBlJyk7XG5cbmludGVyZmFjZSBJV2F0Y2hlZEZpbGVzIHtcblx0YWJvdXRVczogeyBbbGFuZ3VhZ2UgaW4gSUxhbmd1YWdlXTogT2JzZXJ2YWJsZTxzdHJpbmc+IH07XG5cdHByaXZhY3k6IHsgW2xhbmd1YWdlIGluIElMYW5ndWFnZV06IE9ic2VydmFibGU8c3RyaW5nPiB9O1xuXHR0ZXJtc09mVXNlOiB7IFtsYW5ndWFnZSBpbiBJTGFuZ3VhZ2VdOiBPYnNlcnZhYmxlPHN0cmluZz4gfTtcbn1cblxuLyoqXG4gKiBDdXN0b21lcnMgU2VydmljZVxuICogVE9ETzogcmVuYW1lIGZyb20gVXNlcnNTZXJ2aWNlIHRvIEN1c3RvbWVyc1NlcnZpY2VcbiAqXG4gKiBAZXhwb3J0XG4gKiBAY2xhc3MgVXNlcnNTZXJ2aWNlXG4gKiBAZXh0ZW5kcyB7REJTZXJ2aWNlPFVzZXI+fVxuICogQGltcGxlbWVudHMge0lVc2VyUm91dGVyfVxuICogQGltcGxlbWVudHMge0lTZXJ2aWNlfVxuICovXG5AaW5qZWN0YWJsZSgpXG5Acm91dGVyTmFtZSgndXNlcicpXG5leHBvcnQgY2xhc3MgVXNlcnNTZXJ2aWNlIGV4dGVuZHMgREJTZXJ2aWNlPFVzZXI+XG5cdGltcGxlbWVudHMgSVVzZXJSb3V0ZXIsIElTZXJ2aWNlIHtcblx0cHVibGljIHJlYWRvbmx5IERCT2JqZWN0OiBhbnkgPSBVc2VyO1xuXG5cdC8vIFRPRE86IHRoaXMgYW5kIG90aGVyIFN0cmlwZSByZWxhdGVkIHRoaW5ncyBzaG91bGQgYmUgaW5zaWRlIHNlcGFyYXRlIFBheW1lbnRzIFNlcnZpY2Vcblx0cHJpdmF0ZSBzdHJpcGUgPSBuZXcgU3RyaXBlKGVudi5TVFJJUEVfU0VDUkVUX0tFWSk7XG5cblx0cHJvdGVjdGVkIHJlYWRvbmx5IGxvZzogTG9nZ2VyID0gY3JlYXRlRXZlckxvZ2dlcih7XG5cdFx0bmFtZTogJ3VzZXJzU2VydmljZScsXG5cdH0pO1xuXG5cdHB1YmxpYyB3YXRjaGVkRmlsZXM6IElXYXRjaGVkRmlsZXM7XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0QGluamVjdChuZXcgTGF6eVNlcnZpY2VJZGVudGlmZXIoKCkgPT4gSW52aXRlc1NlcnZpY2UpKVxuXHRcdHByb3RlY3RlZCBpbnZpdGVzU2VydmljZTogSW52aXRlc1NlcnZpY2UsXG5cdFx0QGluamVjdChuZXcgTGF6eVNlcnZpY2VJZGVudGlmZXIoKCkgPT4gRGV2aWNlc1NlcnZpY2UpKVxuXHRcdHByb3RlY3RlZCBkZXZpY2VzU2VydmljZTogRGV2aWNlc1NlcnZpY2UsXG5cdFx0QGluamVjdChuZXcgTGF6eVNlcnZpY2VJZGVudGlmZXIoKCkgPT4gV2FyZWhvdXNlc1NlcnZpY2UpKVxuXHRcdHByb3RlY3RlZCBfc3RvcmVzU2VydmljZTogV2FyZWhvdXNlc1NlcnZpY2Vcblx0KSB7XG5cdFx0c3VwZXIoKTtcblxuXHRcdC8vIFRPRE86IHRvbyBtYW55IGhhcmRjb2RlZCBjb25zdGFudHMgdXNlZCBiZWxvdy4gUmVmYWN0b3IhXG5cdFx0dGhpcy53YXRjaGVkRmlsZXMgPSBfLnppcE9iamVjdChcblx0XHRcdFsnYWJvdXRVcycsICdwcml2YWN5JywgJ3Rlcm1zT2ZVc2UnXSxcblx0XHRcdF8ubWFwKFsnYWJvdXRfdXMnLCAncHJpdmFjeScsICd0ZXJtc19vZl91c2UnXSwgKGZvbGRlcikgPT5cblx0XHRcdFx0Xy56aXBPYmplY3QoXG5cdFx0XHRcdFx0Wydlbi1VUycsICdoZS1JTCcsICdydS1SVScsICdiZy1CRyddLFxuXHRcdFx0XHRcdF8ubWFwKFsnZW4tVVMnLCAnaGUtSUwnLCAncnUtUlUnLCAnYmctQkcnXSwgKGxhbmd1YWdlKSA9PlxuXHRcdFx0XHRcdFx0b2JzZXJ2ZUZpbGUoXG5cdFx0XHRcdFx0XHRcdGAke19fZGlybmFtZX0vLi4vLi4vLi4vcmVzL3RlbXBsYXRlcy8ke2ZvbGRlcn0vJHtsYW5ndWFnZX0uaGJzYFxuXHRcdFx0XHRcdFx0KS5waXBlKFxuXHRcdFx0XHRcdFx0XHR0YXAoeyBlcnJvcjogKGVycikgPT4gdGhpcy5sb2cuZXJyb3IoZXJyKSB9KSxcblx0XHRcdFx0XHRcdFx0cHVibGlzaFJlcGxheSgxKSxcblx0XHRcdFx0XHRcdFx0cmVmQ291bnQ8c3RyaW5nPigpXG5cdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpXG5cdFx0XHQpXG5cdFx0KSBhcyBhbnk7XG5cdH1cblxuXHQvKipcblx0ICogVmVyaWZ5IGlmIGN1c3RvbWVyIHdpdGggZ2l2ZW4gZW1haWwgYWxyZWFkeSBleGlzdHNcblx0ICpcblx0ICogQHBhcmFtIHtzdHJpbmd9IGVtYWlsXG5cdCAqIEByZXR1cm5zIHtQcm9taXNlPGJvb2xlYW4+fVxuXHQgKiBAbWVtYmVyb2YgVXNlcnNTZXJ2aWNlXG5cdCAqL1xuXHRhc3luYyBpc1VzZXJFbWFpbEV4aXN0cyhlbWFpbDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG5cdFx0cmV0dXJuIChhd2FpdCB0aGlzLmNvdW50KHsgZW1haWwgfSkpID4gMDtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXQgQ3VzdG9tZXIgYnkgZ2l2ZW4gc29jaWFsIElkXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBzb2NpYWxJZFxuXHQgKiBAcmV0dXJucyB7UHJvbWlzZTxVc2VyPn1cblx0ICogQG1lbWJlcm9mIFVzZXJzU2VydmljZVxuXHQgKi9cblx0YXN5bmMgZ2V0U29jaWFsKHNvY2lhbElkOiBzdHJpbmcpOiBQcm9taXNlPFVzZXI+IHtcblx0XHRyZXR1cm4gc3VwZXIuZmluZE9uZSh7XG5cdFx0XHRzb2NpYWxJZHM6IHsgJGluOiBbc29jaWFsSWRdIH0sXG5cdFx0XHRpc0RlbGV0ZWQ6IHsgJGVxOiBmYWxzZSB9LFxuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZSBuZXcgY3VzdG9tZXIgKGludGlhbGl6ZSByZWNvcmQpXG5cdCAqXG5cdCAqIEBwYXJhbSB7SVVzZXJJbml0aWFsaXplT2JqZWN0fSB1c2VySW5pdGlhbGl6ZU9iamVjdFxuXHQgKiBAcmV0dXJucyB7UHJvbWlzZTxVc2VyPn1cblx0ICogQG1lbWJlcm9mIFVzZXJzU2VydmljZVxuXHQgKi9cblx0YXN5bmMgaW5pdFVzZXIodXNlckluaXRpYWxpemVPYmplY3Q6IElVc2VySW5pdGlhbGl6ZU9iamVjdCk6IFByb21pc2U8VXNlcj4ge1xuXHRcdHJldHVybiBzdXBlci5jcmVhdGUodXNlckluaXRpYWxpemVPYmplY3QgYXMgYW55KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXQgQ3VzdG9tZXJzXG5cdCAqXG5cdCAqIEBwYXJhbSB7Kn0gZmluZElucHV0XG5cdCAqIEBwYXJhbSB7SVBhZ2luZ09wdGlvbnN9IHBhZ2luZ09wdGlvbnNcblx0ICogQHJldHVybnNcblx0ICogQG1lbWJlcm9mIFVzZXJzU2VydmljZVxuXHQgKi9cblx0YXN5bmMgZ2V0VXNlcnMoZmluZElucHV0OiBhbnksIHBhZ2luZ09wdGlvbnM6IElQYWdpbmdPcHRpb25zKSB7XG5cdFx0Y29uc3Qgc29ydE9iaiA9IHt9O1xuXHRcdGlmIChwYWdpbmdPcHRpb25zLnNvcnQpIHtcblx0XHRcdHNvcnRPYmpbcGFnaW5nT3B0aW9ucy5zb3J0LmZpZWxkXSA9IHBhZ2luZ09wdGlvbnMuc29ydC5zb3J0Qnk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuTW9kZWwuZmluZCh7XG5cdFx0XHQuLi5maW5kSW5wdXQsXG5cdFx0XHRpc0RlbGV0ZWQ6IHsgJGVxOiBmYWxzZSB9LFxuXHRcdH0pXG5cdFx0XHQuc29ydChzb3J0T2JqKVxuXHRcdFx0LnNraXAocGFnaW5nT3B0aW9ucy5za2lwKVxuXHRcdFx0LmxpbWl0KHBhZ2luZ09wdGlvbnMubGltaXQpXG5cdFx0XHQubGVhbigpXG5cdFx0XHQuZXhlYygpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFVwZGF0ZXMgQ3VzdG9tZXIgZGV0YWlsc1xuXHQgKiAvLyBUT0RPIGZ1bmN0aW9uIGFjdHVhbGx5IHJldHVybnMgVXNlciB8IG51bGwgd2Ugc2hvdWxkIGZpeCB0aGF0LlxuXHQgKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gaWRcblx0ICogQHBhcmFtIHtJVXNlckNyZWF0ZU9iamVjdH0gdXNlckNyZWF0ZU9iamVjdFxuXHQgKiBAcmV0dXJucyB7UHJvbWlzZTxVc2VyPn1cblx0ICogQG1lbWJlcm9mIFVzZXJzU2VydmljZVxuXHQgKi9cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyB1cGRhdGVVc2VyKFxuXHRcdGlkOiBzdHJpbmcsXG5cdFx0dXNlckNyZWF0ZU9iamVjdDogSVVzZXJDcmVhdGVPYmplY3Rcblx0KTogUHJvbWlzZTxVc2VyPiB7XG5cdFx0YXdhaXQgdGhpcy50aHJvd0lmTm90RXhpc3RzKGlkKTtcblx0XHRyZXR1cm4gc3VwZXIudXBkYXRlKGlkLCB1c2VyQ3JlYXRlT2JqZWN0KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXQgQ3VzdG9tZXIgYnkgSWRcblx0ICpcblx0ICogQHBhcmFtIHtzdHJpbmd9IGN1c3RvbWVySWRcblx0ICogQHJldHVybnMge09ic2VydmFibGU8VXNlcj59XG5cdCAqIEBtZW1iZXJvZiBVc2Vyc1NlcnZpY2Vcblx0ICovXG5cdEBvYnNlcnZhYmxlTGlzdGVuZXIoKVxuXHRnZXQoY3VzdG9tZXJJZDogc3RyaW5nKTogT2JzZXJ2YWJsZTxVc2VyPiB7XG5cdFx0cmV0dXJuIHN1cGVyLmdldChjdXN0b21lcklkKS5waXBlKFxuXHRcdFx0bWFwKGFzeW5jICh1c2VyKSA9PiB7XG5cdFx0XHRcdGF3YWl0IHRoaXMudGhyb3dJZk5vdEV4aXN0cyhjdXN0b21lcklkKTtcblx0XHRcdFx0cmV0dXJuIHVzZXI7XG5cdFx0XHR9KSxcblx0XHRcdHN3aXRjaE1hcCgodXNlcikgPT4gdXNlcilcblx0XHQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldCBTdHJpcGUgQ2FyZHMgZm9yIGdpdmVuIGN1c3RvbWVyXG5cdCAqIFRPRE86IG1vdmUgdG8gc2VwYXJhdGUgU3RyaXBlIChQYXltZW50cykgU2VydmljZVxuXHQgKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdXNlcklkXG5cdCAqIEByZXR1cm5zIHtQcm9taXNlPFN0cmlwZS5jYXJkcy5JQ2FyZFtdPn1cblx0ICogQG1lbWJlcm9mIFVzZXJzU2VydmljZVxuXHQgKi9cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyBnZXRDYXJkcyh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8U3RyaXBlLmNhcmRzLklDYXJkW10+IHtcblx0XHRhd2FpdCB0aGlzLnRocm93SWZOb3RFeGlzdHModXNlcklkKTtcblxuXHRcdGNvbnN0IHVzZXIgPSBhd2FpdCB0aGlzLmdldCh1c2VySWQpLnBpcGUoZmlyc3QoKSkudG9Qcm9taXNlKCk7XG5cblx0XHRpZiAodXNlciAhPSBudWxsKSB7XG5cdFx0XHRpZiAodXNlci5zdHJpcGVDdXN0b21lcklkICE9IG51bGwpIHtcblx0XHRcdFx0cmV0dXJuIChcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnN0cmlwZS5jdXN0b21lcnMubGlzdFNvdXJjZXMoXG5cdFx0XHRcdFx0XHR1c2VyLnN0cmlwZUN1c3RvbWVySWQsXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdG9iamVjdDogJ2NhcmQnLFxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdClcblx0XHRcdFx0KS5kYXRhO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIFtdO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYFVzZXIgd2l0aCB0aGUgaWQgJHt1c2VySWR9IGRvZXNuJ3QgZXhpc3RgKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogQWRkIFBheW1lbnQgTWV0aG9kIChDcmVkaXQgQ2FyZCkgZm9yIHRoZSBjdXN0b21lci5cblx0ICogSWYgbWV0aG9kIGNhbGxlZCBmaXJzdCB0aW1lIGZvciBnaXZlbiBjdXN0b21lciwgaXQgY3JlYXRlcyBDdXN0b21lciByZWNvcmQgaW4gdGhlIFN0cmlwZSBBUEkgYW5kXG5cdCAqIHVwZGF0ZXMgc3RyaXBlQ3VzdG9tZXJJZCBpbiBvdXIgREJcblx0ICpcblx0ICogVE9ETzogbW92ZSB0byBzZXBhcmF0ZSBTdHJpcGUgKFBheW1lbnRzKSBTZXJ2aWNlXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB1c2VySWRcblx0ICogQHBhcmFtIHtzdHJpbmd9IHRva2VuSWRcblx0ICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn1cblx0ICogQG1lbWJlcm9mIFVzZXJzU2VydmljZVxuXHQgKi9cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyBhZGRQYXltZW50TWV0aG9kKHVzZXJJZDogc3RyaW5nLCB0b2tlbklkOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuXHRcdGF3YWl0IHRoaXMudGhyb3dJZk5vdEV4aXN0cyh1c2VySWQpO1xuXG5cdFx0Y29uc3QgY2FsbElkID0gdXVpZCgpO1xuXG5cdFx0dGhpcy5sb2cuaW5mbyhcblx0XHRcdHsgY2FsbElkLCB1c2VySWQsIHRva2VuSWQgfSxcblx0XHRcdCcuYWRkUGF5bWVudE1ldGhvZCh1c2VySWQsIHRva2VuSWQpIGNhbGxlZCdcblx0XHQpO1xuXG5cdFx0bGV0IGNhcmQ6IFN0cmlwZS5jYXJkcy5JQ2FyZDtcblxuXHRcdHRyeSB7XG5cdFx0XHRsZXQgdXNlciA9IGF3YWl0IHRoaXMuZ2V0KHVzZXJJZCkucGlwZShmaXJzdCgpKS50b1Byb21pc2UoKTtcblxuXHRcdFx0aWYgKHVzZXIgIT0gbnVsbCkge1xuXHRcdFx0XHRpZiAodXNlci5zdHJpcGVDdXN0b21lcklkID09IG51bGwpIHtcblx0XHRcdFx0XHRjb25zdCBjdXN0b21lciA9IGF3YWl0IHRoaXMuc3RyaXBlLmN1c3RvbWVycy5jcmVhdGUoe1xuXHRcdFx0XHRcdFx0ZW1haWw6IHVzZXIuZW1haWwsXG5cdFx0XHRcdFx0XHRkZXNjcmlwdGlvbjogJ1VzZXIgaWQ6ICcgKyB1c2VyLmlkLFxuXHRcdFx0XHRcdFx0bWV0YWRhdGE6IHtcblx0XHRcdFx0XHRcdFx0dXNlcklkOiB1c2VyLmlkLFxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdHVzZXIgPSBhd2FpdCB0aGlzLnVwZGF0ZSh1c2VySWQsIHtcblx0XHRcdFx0XHRcdHN0cmlwZUN1c3RvbWVySWQ6IGN1c3RvbWVyLmlkLFxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y2FyZCA9IChhd2FpdCB0aGlzLnN0cmlwZS5jdXN0b21lcnMuY3JlYXRlU291cmNlKFxuXHRcdFx0XHRcdHVzZXIuc3RyaXBlQ3VzdG9tZXJJZCBhcyBzdHJpbmcsXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0c291cmNlOiB0b2tlbklkLFxuXHRcdFx0XHRcdH1cblx0XHRcdFx0KSkgYXMgU3RyaXBlLmNhcmRzLklDYXJkO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBVc2VyIHdpdGggdGhlIGlkICR7dXNlcklkfSBkb2Vzbid0IGV4aXN0YCk7XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHR0aGlzLmxvZy5lcnJvcihcblx0XHRcdFx0eyBjYWxsSWQsIHVzZXJJZCwgdG9rZW5JZCwgZXJyIH0sXG5cdFx0XHRcdCcuYWRkUGF5bWVudE1ldGhvZCh1c2VySWQsIHRva2VuSWQpIHRocm93biBlcnJvciEnXG5cdFx0XHQpO1xuXHRcdFx0dGhyb3cgZXJyO1xuXHRcdH1cblxuXHRcdHRoaXMubG9nLmluZm8oXG5cdFx0XHR7IGNhbGxJZCwgdXNlcklkLCB0b2tlbklkLCBjYXJkIH0sXG5cdFx0XHQnLmFkZFBheW1lbnRNZXRob2QodXNlcklkLCB0b2tlbklkKSBhZGRlZCBwYXltZW50IG1ldGhvZCdcblx0XHQpO1xuXG5cdFx0cmV0dXJuIGNhcmQuaWQ7XG5cdH1cblxuXHQvKipcblx0ICogVXBkYXRlIGVtYWlsIGZvciBnaXZlbiBDdXN0b21lciAoYnkgY3VzdG9tZXIgSWQpXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB1c2VySWRcblx0ICogQHBhcmFtIHtzdHJpbmd9IGVtYWlsXG5cdCAqIEByZXR1cm5zIHtQcm9taXNlPFVzZXI+fVxuXHQgKiBAbWVtYmVyb2YgVXNlcnNTZXJ2aWNlXG5cdCAqL1xuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIHVwZGF0ZUVtYWlsKHVzZXJJZDogc3RyaW5nLCBlbWFpbDogc3RyaW5nKTogUHJvbWlzZTxVc2VyPiB7XG5cdFx0YXdhaXQgdGhpcy50aHJvd0lmTm90RXhpc3RzKHVzZXJJZCk7XG5cdFx0cmV0dXJuIHRoaXMudXBkYXRlKHVzZXJJZCwgeyBlbWFpbCB9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBVcGRhdGUgY3VycmVudCBsb2NhdGlvbiAoYWRkcmVzcykgZm9yIGdpdmVuIEN1c3RvbWVyXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB1c2VySWRcblx0ICogQHBhcmFtIHtHZW9Mb2NhdGlvbn0gZ2VvTG9jYXRpb25cblx0ICogQHJldHVybnMge1Byb21pc2U8VXNlcj59XG5cdCAqIEBtZW1iZXJvZiBVc2Vyc1NlcnZpY2Vcblx0ICovXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgdXBkYXRlR2VvTG9jYXRpb24oXG5cdFx0dXNlcklkOiBzdHJpbmcsXG5cdFx0QHNlcmlhbGl6YXRpb24oKGc6IElHZW9Mb2NhdGlvbikgPT4gbmV3IEdlb0xvY2F0aW9uKGcpKVxuXHRcdGdlb0xvY2F0aW9uOiBHZW9Mb2NhdGlvblxuXHQpOiBQcm9taXNlPFVzZXI+IHtcblx0XHRhd2FpdCB0aGlzLnRocm93SWZOb3RFeGlzdHModXNlcklkKTtcblx0XHRyZXR1cm4gdGhpcy51cGRhdGUodXNlcklkLCB7IGdlb0xvY2F0aW9uIH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldCBBYm91dCBVcyBDb250ZW50IChIVE1MKVxuXHQgKiBOb3RlOiBEZXBlbmRpbmcgb24gdXNlciBjb3VudHJ5LCBsYW5ndWFnZSBhbmQgb3RoZXIgc2V0dGluZ3MsIHdlIG1heSB3YW50IGxhdGVyIHRvIHNob3cgZGlmZmVyZW50IEFib3V0IFVzIHBhZ2Vcblx0ICogKGUuZy4gc2hvdyBkaWZmZXJlbnQgY29udGFjdCBkZXRhaWxzIG9yIGJyYW5jaCBsb2NhdGlvbiBldGMpXG5cdCAqIEBwYXJhbSB1c2VySWRcblx0ICogQHBhcmFtIGRldmljZUlkXG5cdCAqIEByZXR1cm5zIEhUTUwgcmVwcmVzZW50YXRpb24gb2YgQWJvdXQgVXNcblx0ICovXG5cdEBvYnNlcnZhYmxlTGlzdGVuZXIoKVxuXHRnZXRBYm91dFVzKFxuXHRcdHVzZXJJZDogc3RyaW5nLFxuXHRcdGRldmljZUlkOiBzdHJpbmdcblx0KTogT2JzZXJ2YWJsZTxzdHJpbmc+IC8qcmV0dXJucyBodG1sKi8ge1xuXHRcdHJldHVybiB0aGlzLmRldmljZXNTZXJ2aWNlLmdldChkZXZpY2VJZCkucGlwZShcblx0XHRcdGV4aGF1c3RNYXAoKGRldmljZSkgPT4ge1xuXHRcdFx0XHRpZiAoZGV2aWNlID09PSBudWxsKSB7XG5cdFx0XHRcdFx0cmV0dXJuIF90aHJvdyhcblx0XHRcdFx0XHRcdG5ldyBFcnJvcihgVXNlciB3aXRoIHRoZSBpZCAke3VzZXJJZH0gZG9lc24ndCBleGlzdGApXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRyZXR1cm4gb2YoZGV2aWNlKTtcblx0XHRcdFx0fVxuXHRcdFx0fSksXG5cdFx0XHRkaXN0aW5jdFVudGlsQ2hhbmdlZChcblx0XHRcdFx0KG9sZERldmljZSwgbmV3RGV2aWNlKSA9PlxuXHRcdFx0XHRcdG9sZERldmljZS5sYW5ndWFnZSAhPT0gbmV3RGV2aWNlLmxhbmd1YWdlXG5cdFx0XHQpLFxuXHRcdFx0c3dpdGNoTWFwKChkZXZpY2UpID0+IHRoaXMud2F0Y2hlZEZpbGVzLmFib3V0VXNbZGV2aWNlLmxhbmd1YWdlXSlcblx0XHQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldCBUZXJtcyBPZiBVc2UgQ29udGVudCAoSFRNTClcblx0ICogTm90ZTogRGVwZW5kaW5nIG9uIHVzZXIgY291bnRyeSwgbGFuZ3VhZ2UgYW5kIG90aGVyIHNldHRpbmdzLCB3ZSBtYXkgd2FudCBsYXRlciB0byBzaG93IGRpZmZlcmVudCBUZXJtc1xuXHQgKiBAcGFyYW0gdXNlcklkXG5cdCAqIEBwYXJhbSBkZXZpY2VJZFxuXHQgKiBAcmV0dXJucyBIVE1MIHJlcHJlc2VudGF0aW9uIG9mIFRlcm1zIE9mIFVzZVxuXHQgKi9cblx0QG9ic2VydmFibGVMaXN0ZW5lcigpXG5cdGdldFRlcm1zT2ZVc2UodXNlcklkOiBzdHJpbmcsIGRldmljZUlkOiBzdHJpbmcpOiBPYnNlcnZhYmxlPHN0cmluZz4ge1xuXHRcdHJldHVybiB0aGlzLmRldmljZXNTZXJ2aWNlLmdldChkZXZpY2VJZCkucGlwZShcblx0XHRcdGV4aGF1c3RNYXAoKGRldmljZSkgPT4ge1xuXHRcdFx0XHRpZiAoZGV2aWNlID09PSBudWxsKSB7XG5cdFx0XHRcdFx0cmV0dXJuIF90aHJvdyhcblx0XHRcdFx0XHRcdG5ldyBFcnJvcihcblx0XHRcdFx0XHRcdFx0YERldmljZSB3aXRoIHRoZSBpZCAke2RldmljZUlkfSBkb2Vzbid0IGV4aXN0YFxuXHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmV0dXJuIG9mKGRldmljZSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pLFxuXHRcdFx0ZGlzdGluY3RVbnRpbENoYW5nZWQoXG5cdFx0XHRcdChvbGREZXZpY2UsIG5ld0RldmljZSkgPT5cblx0XHRcdFx0XHRvbGREZXZpY2UubGFuZ3VhZ2UgIT09IG5ld0RldmljZS5sYW5ndWFnZVxuXHRcdFx0KSxcblx0XHRcdHN3aXRjaE1hcCgoZGV2aWNlKSA9PiB0aGlzLndhdGNoZWRGaWxlcy50ZXJtc09mVXNlW2RldmljZS5sYW5ndWFnZV0pXG5cdFx0KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXQgUHJpdmFjeSBQb2xpY3kgQ29udGVudCAoSFRNTClcblx0ICogTm90ZTogRGVwZW5kaW5nIG9uIHVzZXIgY291bnRyeSwgbGFuZ3VhZ2UgYW5kIG90aGVyIHNldHRpbmdzLCB3ZSBtYXkgd2FudCBsYXRlciB0byBzaG93IGRpZmZlcmVudCBQb2xpY3lcblx0ICogQHBhcmFtIHVzZXJJZFxuXHQgKiBAcGFyYW0gZGV2aWNlSWRcblx0ICogQHJldHVybnMgSFRNTCByZXByZXNlbnRhdGlvbiBvZiBwcml2YWN5IHBvbGljeVxuXHQgKi9cblx0QG9ic2VydmFibGVMaXN0ZW5lcigpXG5cdGdldFByaXZhY3kodXNlcklkOiBzdHJpbmcsIGRldmljZUlkOiBzdHJpbmcpOiBPYnNlcnZhYmxlPHN0cmluZz4ge1xuXHRcdHJldHVybiB0aGlzLmRldmljZXNTZXJ2aWNlLmdldChkZXZpY2VJZCkucGlwZShcblx0XHRcdGV4aGF1c3RNYXAoKGRldmljZSkgPT4ge1xuXHRcdFx0XHRpZiAoZGV2aWNlID09PSBudWxsKSB7XG5cdFx0XHRcdFx0cmV0dXJuIF90aHJvdyhcblx0XHRcdFx0XHRcdG5ldyBFcnJvcihgVXNlciB3aXRoIHRoZSBpZCAke3VzZXJJZH0gZG9lc24ndCBleGlzdGApXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRyZXR1cm4gb2YoZGV2aWNlKTtcblx0XHRcdFx0fVxuXHRcdFx0fSksXG5cdFx0XHRkaXN0aW5jdFVudGlsQ2hhbmdlZChcblx0XHRcdFx0KG9sZERldmljZSwgbmV3RGV2aWNlKSA9PlxuXHRcdFx0XHRcdG9sZERldmljZS5sYW5ndWFnZSAhPT0gbmV3RGV2aWNlLmxhbmd1YWdlXG5cdFx0XHQpLFxuXHRcdFx0c3dpdGNoTWFwKChkZXZpY2UpID0+IHRoaXMud2F0Y2hlZEZpbGVzLnByaXZhY3lbZGV2aWNlLmxhbmd1YWdlXSlcblx0XHQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdlbmVyYXRlcyBGYWtlIEN1c3RvbWVyIHJlY29yZHNcblx0ICogVE9ETzogbW92ZSB0byBzZXBhcmF0ZSBGYWtlVXNlcnNTZXJ2aWNlIChwdXQgaW50byAnZmFrZS1kYXRhJyBmb2xkZXIpXG5cdCAqIFRPRE86IHJlbmFtZSBtZXRob2QgdG8gXCJnZW5lcmF0ZUN1c3RvbWVyc1wiXG5cdCAqXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBkZWZhdWx0TG5nXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBkZWZhdWx0TGF0XG5cdCAqIEByZXR1cm5zIHtQcm9taXNlPElVc2VyQ3JlYXRlT2JqZWN0W10+fVxuXHQgKiBAbWVtYmVyb2YgVXNlcnNTZXJ2aWNlXG5cdCAqL1xuXHRhc3luYyBnZW5lcmF0ZTEwMDBDdXN0b21lcnMoXG5cdFx0ZGVmYXVsdExuZzogbnVtYmVyLFxuXHRcdGRlZmF1bHRMYXQ6IG51bWJlclxuXHQpOiBQcm9taXNlPElVc2VyQ3JlYXRlT2JqZWN0W10+IHtcblx0XHRjb25zdCBleGlzdGluZ0VtYWlscyA9IF8ubWFwKFxuXHRcdFx0YXdhaXQgdGhpcy5Nb2RlbC5maW5kKHt9KS5zZWxlY3QoeyBlbWFpbDogMSB9KS5sZWFuKCkuZXhlYygpLFxuXHRcdFx0KHUpID0+IHUuZW1haWxcblx0XHQpO1xuXG5cdFx0Y29uc3QgY3VzdG9tZXJzVG9DcmVhdGU6IElVc2VyQ3JlYXRlT2JqZWN0W10gPSBbXTtcblxuXHRcdGNvbnN0IGN1c3RvbWVyQ3JlYXRlZEZyb20gPSBuZXcgRGF0ZSgyMDE1LCAxKTtcblx0XHRjb25zdCBjdXN0b21lckNyZWF0ZWRUbyA9IG5ldyBEYXRlKCk7XG5cblx0XHRsZXQgY3VzdG9tZXJDb3VudCA9IDE7XG5cblx0XHR3aGlsZSAoY3VzdG9tZXJDb3VudCA8PSAxMDAwKSB7XG5cdFx0XHRjb25zdCBmaXJzdE5hbWUgPSBmYWtlci5uYW1lLmZpcnN0TmFtZSgpO1xuXHRcdFx0Y29uc3QgbGFzdE5hbWUgPSBmYWtlci5uYW1lLmxhc3ROYW1lKCk7XG5cdFx0XHRjb25zdCBlbWFpbCA9IGZha2VyLmludGVybmV0LmVtYWlsKGZpcnN0TmFtZSwgbGFzdE5hbWUpO1xuXHRcdFx0Y29uc3QgaXNCYW5uZWQgPSBNYXRoLnJhbmRvbSgpIDwgMC4wMjtcblxuXHRcdFx0Y29uc3QgZ2VvTG9jYXRpb246IElHZW9Mb2NhdGlvbkNyZWF0ZU9iamVjdCA9IHtcblx0XHRcdFx0Y291bnRyeUlkOiBmYWtlci5yYW5kb20ubnVtYmVyKENvdW50cnkuWlcpIGFzIENvdW50cnksXG5cdFx0XHRcdGNpdHk6IGZha2VyLmFkZHJlc3MuY2l0eSgpLFxuXHRcdFx0XHRob3VzZTogYCR7Y3VzdG9tZXJDb3VudH1gLFxuXHRcdFx0XHRsb2M6IHtcblx0XHRcdFx0XHR0eXBlOiAnUG9pbnQnLFxuXHRcdFx0XHRcdGNvb3JkaW5hdGVzOiBbZGVmYXVsdExuZywgZGVmYXVsdExhdF0sXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHN0cmVldEFkZHJlc3M6IGZha2VyLmFkZHJlc3Muc3RyZWV0QWRkcmVzcygpLFxuXHRcdFx0fTtcblxuXHRcdFx0aWYgKCFleGlzdGluZ0VtYWlscy5pbmNsdWRlcyhlbWFpbCkpIHtcblx0XHRcdFx0ZXhpc3RpbmdFbWFpbHMucHVzaChlbWFpbCk7XG5cblx0XHRcdFx0Y3VzdG9tZXJzVG9DcmVhdGUucHVzaCh7XG5cdFx0XHRcdFx0Zmlyc3ROYW1lOiBmYWtlci5uYW1lLmZpcnN0TmFtZSgpLFxuXHRcdFx0XHRcdGxhc3ROYW1lOiBmYWtlci5uYW1lLmxhc3ROYW1lKCksXG5cdFx0XHRcdFx0Z2VvTG9jYXRpb24sXG5cdFx0XHRcdFx0YXBhcnRtZW50OiBgJHtjdXN0b21lckNvdW50fWAsXG5cdFx0XHRcdFx0ZW1haWwsXG5cdFx0XHRcdFx0aXNCYW5uZWQsXG5cdFx0XHRcdFx0aW1hZ2U6IGZha2VyLmltYWdlLmF2YXRhcigpLFxuXHRcdFx0XHRcdHBob25lOiBmYWtlci5waG9uZS5waG9uZU51bWJlcigpLFxuXHRcdFx0XHRcdF9jcmVhdGVkQXQ6IGZha2VyLmRhdGUuYmV0d2Vlbihcblx0XHRcdFx0XHRcdGN1c3RvbWVyQ3JlYXRlZEZyb20sXG5cdFx0XHRcdFx0XHRjdXN0b21lckNyZWF0ZWRUb1xuXHRcdFx0XHRcdCksXG5cdFx0XHRcdH0gYXMgYW55KTtcblxuXHRcdFx0XHRjdXN0b21lckNvdW50ICs9IDE7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuTW9kZWwuaW5zZXJ0TWFueShjdXN0b21lcnNUb0NyZWF0ZSk7XG5cdH1cblxuXHRhc3luYyBiYW5Vc2VyKGlkOiBzdHJpbmcpOiBQcm9taXNlPFVzZXI+IHtcblx0XHRhd2FpdCB0aGlzLnRocm93SWZOb3RFeGlzdHMoaWQpO1xuXHRcdHJldHVybiB0aGlzLnVwZGF0ZShpZCwgeyBpc0Jhbm5lZDogdHJ1ZSB9KTtcblx0fVxuXG5cdGFzeW5jIHVuYmFuVXNlcihpZDogc3RyaW5nKTogUHJvbWlzZTxVc2VyPiB7XG5cdFx0YXdhaXQgdGhpcy50aHJvd0lmTm90RXhpc3RzKGlkKTtcblx0XHRyZXR1cm4gdGhpcy51cGRhdGUoaWQsIHsgaXNCYW5uZWQ6IGZhbHNlIH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIENoZWNrIGlmIG5vdCBkZWxldGVkIGN1c3RvbWVyIHdpdGggZ2l2ZW4gSWQgZXhpc3RzIGluIERCIGFuZCB0aHJvdyBleGNlcHRpb24gaWYgaXQncyBub3QgZXhpc3RzIG9yIGRlbGV0ZWRcblx0ICpcblx0ICogQHBhcmFtIHtzdHJpbmd9IHVzZXJJZFxuXHQgKiBAbWVtYmVyb2YgVXNlcnNTZXJ2aWNlXG5cdCAqL1xuXHRhc3luYyB0aHJvd0lmTm90RXhpc3RzKHVzZXJJZDogc3RyaW5nKSB7XG5cdFx0Y29uc3QgdXNlciA9IGF3YWl0IHN1cGVyLmdldCh1c2VySWQpLnBpcGUoZmlyc3QoKSkudG9Qcm9taXNlKCk7XG5cblx0XHRpZiAoIXVzZXIgfHwgdXNlci5pc0RlbGV0ZWQpIHtcblx0XHRcdHRocm93IEVycm9yKGBDdXN0b21lciB3aXRoIGlkICcke3VzZXJJZH0nIGRvZXMgbm90IGV4aXN0cyFgKTtcblx0XHR9XG5cdH1cbn1cbiIsImV4cG9ydCAqIGZyb20gJy4vVXNlcnNTZXJ2aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vU29jaWFsU3RyYXRlZ2llc1NlcnZpY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9Tb2NpYWxSZWdpc3RlclNlcnZpY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9Vc2Vyc09yZGVyc1NlcnZpY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9Vc2Vyc1Byb2R1Y3RzU2VydmljZSc7XG5leHBvcnQgKiBmcm9tICcuL1VzZXJDb21tYW5kU2VydmljZSc7XG5leHBvcnQgKiBmcm9tICcuL1VzZXJzQXV0aFNlcnZpY2UnO1xuIiwiaW1wb3J0IHsgaW5qZWN0LCBpbmplY3RhYmxlLCBMYXp5U2VydmljZUlkZW50aWZlciB9IGZyb20gJ2ludmVyc2lmeSc7XG5pbXBvcnQgQ2FycmllciBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL0NhcnJpZXInO1xuaW1wb3J0IHsgb2YsIE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IENhcnJpZXJzU2VydmljZSB9IGZyb20gJy4uL2NhcnJpZXJzJztcbmltcG9ydCB7IFdhcmVob3VzZXNTZXJ2aWNlIH0gZnJvbSAnLi9XYXJlaG91c2VzU2VydmljZSc7XG5pbXBvcnQgV2FyZWhvdXNlIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvV2FyZWhvdXNlJztcbmltcG9ydCB7XG5cdGNhdGNoRXJyb3IsXG5cdGRpc3RpbmN0VW50aWxDaGFuZ2VkLFxuXHRleGhhdXN0TWFwLFxuXHRtYXAsXG5cdHN3aXRjaE1hcCxcbn0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHsgcm91dGVyTmFtZSwgb2JzZXJ2YWJsZUxpc3RlbmVyLCBhc3luY0xpc3RlbmVyIH0gZnJvbSAnQHB5cm8vaW8nO1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBJV2FyZWhvdXNlQ2FycmllcnNSb3V0ZXIgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9yb3V0ZXJzL0lXYXJlaG91c2VDYXJyaWVyc1JvdXRlcic7XG5pbXBvcnQgeyBlbnYgfSBmcm9tICcuLi8uLi9lbnYnO1xuaW1wb3J0IHsgQXV0aFNlcnZpY2UsIEF1dGhTZXJ2aWNlRmFjdG9yeSB9IGZyb20gJy4uL2F1dGgnO1xuXG5jbGFzcyBOb1dhcmVob3VzZVJlc3RyaWN0ZWRDYXJyaWVyc0Vycm9yIGV4dGVuZHMgRXJyb3Ige1xuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHRzdXBlcihcIldhcmVob3VzZSBkb2Vzbid0IGhhdmUgY2FycmllcnMgcmVzdHJpY3RlZCB0byBoaW1zZWxmXCIpO1xuXHR9XG59XG5cbi8qKlxuICogV2FyZWhvdXNlcyBDYXJyaWVycyBTZXJ2aWNlXG4gKlxuICogQGV4cG9ydFxuICogQGNsYXNzIFdhcmVob3VzZXNDYXJyaWVyc1NlcnZpY2VcbiAqIEBpbXBsZW1lbnRzIHtJV2FyZWhvdXNlQ2FycmllcnNSb3V0ZXJ9XG4gKi9cbkBpbmplY3RhYmxlKClcbkByb3V0ZXJOYW1lKCd3YXJlaG91c2UtY2FycmllcnMnKVxuZXhwb3J0IGNsYXNzIFdhcmVob3VzZXNDYXJyaWVyc1NlcnZpY2UgaW1wbGVtZW50cyBJV2FyZWhvdXNlQ2FycmllcnNSb3V0ZXIge1xuXHRwcml2YXRlIHJlYWRvbmx5IGF1dGhTZXJ2aWNlOiBBdXRoU2VydmljZTxDYXJyaWVyPjtcblxuXHRjb25zdHJ1Y3Rvcihcblx0XHRAaW5qZWN0KG5ldyBMYXp5U2VydmljZUlkZW50aWZlcigoKSA9PiBDYXJyaWVyc1NlcnZpY2UpKVxuXHRcdHByaXZhdGUgcmVhZG9ubHkgY2FycmllcnNTZXJ2aWNlOiBDYXJyaWVyc1NlcnZpY2UsXG5cdFx0QGluamVjdChuZXcgTGF6eVNlcnZpY2VJZGVudGlmZXIoKCkgPT4gV2FyZWhvdXNlc1NlcnZpY2UpKVxuXHRcdHByaXZhdGUgcmVhZG9ubHkgd2FyZWhvdXNlc1NlcnZpY2U6IFdhcmVob3VzZXNTZXJ2aWNlLFxuXHRcdEBpbmplY3QoJ0ZhY3Rvcnk8QXV0aFNlcnZpY2U+Jylcblx0XHRwcml2YXRlIHJlYWRvbmx5IGF1dGhTZXJ2aWNlRmFjdG9yeTogQXV0aFNlcnZpY2VGYWN0b3J5XG5cdCkge1xuXHRcdHRoaXMuYXV0aFNlcnZpY2UgPSB0aGlzLmF1dGhTZXJ2aWNlRmFjdG9yeSh7XG5cdFx0XHRyb2xlOiAnY2FycmllcicsXG5cdFx0XHRFbnRpdHk6IENhcnJpZXIsXG5cdFx0XHRzYWx0Um91bmRzOiBlbnYuQ0FSUklFUl9QQVNTV09SRF9CQ1JZUFRfU0FMVF9ST1VORFMsXG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogR2V0IENhcnJpZXJzIGFzc2lnbmVkIHRvIGdpdmVuIFN0b3JlXG5cdCAqIFJldHVybnMgbnVsbCBpZiAhd2FyZWhvdXNlLmhhc1Jlc3RyaWN0ZWRDYXJyaWVyc1xuXHQgKiBAcGFyYW0ge1N0cmluZ30gd2FyZWhvdXNlSWRcblx0ICogQHJldHVybnMge09ic2VydmFibGU8Q2FycmllcltdIHwgbnVsbD59XG5cdCAqL1xuXHRAb2JzZXJ2YWJsZUxpc3RlbmVyKClcblx0Z2V0KHdhcmVob3VzZUlkOiBXYXJlaG91c2VbJ2lkJ10pOiBPYnNlcnZhYmxlPENhcnJpZXJbXSB8IG51bGw+IHtcblx0XHRyZXR1cm4gdGhpcy53YXJlaG91c2VzU2VydmljZS5nZXQod2FyZWhvdXNlSWQpLnBpcGUoXG5cdFx0XHRtYXAoKHdhcmVob3VzZSkgPT4ge1xuXHRcdFx0XHRpZiAoIXdhcmVob3VzZS5oYXNSZXN0cmljdGVkQ2FycmllcnMpIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgTm9XYXJlaG91c2VSZXN0cmljdGVkQ2FycmllcnNFcnJvcigpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIHdhcmVob3VzZS51c2VkQ2FycmllcnNJZHM7XG5cdFx0XHR9KSxcblx0XHRcdGRpc3RpbmN0VW50aWxDaGFuZ2VkKChjYXJyaWVySWRzMSwgY2FycmllcklkczIpID0+IHtcblx0XHRcdFx0cmV0dXJuIF8uaXNFcXVhbChjYXJyaWVySWRzMS5zb3J0KCksIGNhcnJpZXJJZHMyLnNvcnQoKSk7XG5cdFx0XHR9KSxcblx0XHRcdGV4aGF1c3RNYXAoKGNhcnJpZXJJZHMpID0+IHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuY2FycmllcnNTZXJ2aWNlLmdldE11bHRpcGxlQnlJZHMoY2Fycmllcklkcyk7XG5cdFx0XHR9KSxcblx0XHRcdHN3aXRjaE1hcCgoY2FycmllcnMpID0+IGNhcnJpZXJzKSxcblx0XHRcdGNhdGNoRXJyb3IoKGVycikgPT4ge1xuXHRcdFx0XHRpZiAoIShlcnIgaW5zdGFuY2VvZiBOb1dhcmVob3VzZVJlc3RyaWN0ZWRDYXJyaWVyc0Vycm9yKSkge1xuXHRcdFx0XHRcdHRocm93IGVycjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBvZihudWxsKTtcblx0XHRcdH0pXG5cdFx0KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBVcGRhdGUgY2FycmllciBwYXNzd29yZFxuXHQgKlxuXHQgKiBAcGFyYW0ge0NhcnJpZXJbJ2lkJ119IGlkXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBwYXNzd29yZFxuXHQgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZXNDYXJyaWVyc1NlcnZpY2Vcblx0ICovXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgdXBkYXRlUGFzc3dvcmQoaWQ6IENhcnJpZXJbJ2lkJ10sIHBhc3N3b3JkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRhd2FpdCB0aGlzLmNhcnJpZXJzU2VydmljZS50aHJvd0lmTm90RXhpc3RzKGlkKTtcblx0XHRhd2FpdCB0aGlzLmF1dGhTZXJ2aWNlLl9zYXZlUGFzc3dvcmQoaWQsIHBhc3N3b3JkKTtcblx0fVxufVxuIiwiaW1wb3J0IExvZ2dlciBmcm9tICdidW55YW4nO1xuaW1wb3J0IHsgaW5qZWN0LCBpbmplY3RhYmxlLCBMYXp5U2VydmljZUlkZW50aWZlciB9IGZyb20gJ2ludmVyc2lmeSc7XG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgQmx1ZWJpcmQgZnJvbSAnYmx1ZWJpcmQnO1xuaW1wb3J0IHsgY3JlYXRlRXZlckxvZ2dlciB9IGZyb20gJy4uLy4uL2hlbHBlcnMvTG9nJztcbmltcG9ydCBPcmRlclByb2R1Y3QgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9PcmRlclByb2R1Y3QnO1xuaW1wb3J0IE9yZGVyIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvT3JkZXInO1xuaW1wb3J0IFByb2R1Y3QgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9Qcm9kdWN0JztcbmltcG9ydCB7IFdhcmVob3VzZXNTZXJ2aWNlIH0gZnJvbSAnLi9XYXJlaG91c2VzU2VydmljZSc7XG5pbXBvcnQgeyBQcm9kdWN0c1NlcnZpY2UgfSBmcm9tICcuLi9wcm9kdWN0cyc7XG5pbXBvcnQgeyBPcmRlcnNTZXJ2aWNlIH0gZnJvbSAnLi4vb3JkZXJzJztcbmltcG9ydCB7IElPcmRlclByb2R1Y3RDcmVhdGVPYmplY3QgfSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2ludGVyZmFjZXMvSU9yZGVyUHJvZHVjdCc7XG5pbXBvcnQgSU9yZGVyIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JT3JkZXInO1xuaW1wb3J0IHsgV2FyZWhvdXNlc1Byb2R1Y3RzU2VydmljZSB9IGZyb20gJy4vV2FyZWhvdXNlc1Byb2R1Y3RzU2VydmljZSc7XG5pbXBvcnQgSVdhcmVob3VzZU9yZGVyc1JvdXRlciwge1xuXHRJT3JkZXJDcmVhdGVJbnB1dCxcbn0gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9yb3V0ZXJzL0lXYXJlaG91c2VPcmRlcnNSb3V0ZXInO1xuaW1wb3J0IHsgYXN5bmNMaXN0ZW5lciwgb2JzZXJ2YWJsZUxpc3RlbmVyLCByb3V0ZXJOYW1lIH0gZnJvbSAnQHB5cm8vaW8nO1xuaW1wb3J0IHsgVXNlcnNTZXJ2aWNlIH0gZnJvbSAnLi4vdXNlcnMnO1xuaW1wb3J0IElTZXJ2aWNlIGZyb20gJy4uL0lTZXJ2aWNlJztcbmltcG9ydCB7XG5cdGV4aGF1c3RNYXAsXG5cdGZpbHRlcixcblx0Zmlyc3QsXG5cdHNoYXJlLFxuXHRzd2l0Y2hNYXAsXG5cdG1hcCxcbn0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHsgRXhpc3RlbmNlRXZlbnQsIEV4aXN0ZW5jZUV2ZW50VHlwZSB9IGZyb20gJ0BweXJvL2RiLXNlcnZlcic7XG5pbXBvcnQgeyBjb25jYXQsIG9mLCBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgV2FyZWhvdXNlLCB7XG5cdFdpdGhGdWxsUHJvZHVjdHMsXG59IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvV2FyZWhvdXNlJztcbmltcG9ydCBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5pbXBvcnQgSVBhZ2luZ09wdGlvbnMgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9pbnRlcmZhY2VzL0lQYWdpbmdPcHRpb25zJztcbmltcG9ydCBPcmRlcldhcmVob3VzZVN0YXR1cyBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudW1zL09yZGVyV2FyZWhvdXNlU3RhdHVzJztcbmltcG9ydCBPcmRlckNhcnJpZXJTdGF0dXMgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnVtcy9PcmRlckNhcnJpZXJTdGF0dXMnO1xuaW1wb3J0IERlbGl2ZXJ5VHlwZSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudW1zL0RlbGl2ZXJ5VHlwZSc7XG5cbi8qKlxuICogV2FyZWhvdXNlcyBPcmRlcnMgU2VydmljZVxuICpcbiAqIEBleHBvcnRcbiAqIEBjbGFzcyBXYXJlaG91c2VzT3JkZXJzU2VydmljZVxuICogQGltcGxlbWVudHMge0lXYXJlaG91c2VPcmRlcnNSb3V0ZXJ9XG4gKiBAaW1wbGVtZW50cyB7SVNlcnZpY2V9XG4gKi9cbkBpbmplY3RhYmxlKClcbkByb3V0ZXJOYW1lKCd3YXJlaG91c2Utb3JkZXJzJylcbmV4cG9ydCBjbGFzcyBXYXJlaG91c2VzT3JkZXJzU2VydmljZVxuXHRpbXBsZW1lbnRzIElXYXJlaG91c2VPcmRlcnNSb3V0ZXIsIElTZXJ2aWNlIHtcblx0cHJvdGVjdGVkIGxvZzogTG9nZ2VyID0gY3JlYXRlRXZlckxvZ2dlcih7XG5cdFx0bmFtZTogJ3dhcmVob3VzZXNPcmRlcnNTZXJ2aWNlJyxcblx0fSk7XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0QGluamVjdChuZXcgTGF6eVNlcnZpY2VJZGVudGlmZXIoKCkgPT4gV2FyZWhvdXNlc1NlcnZpY2UpKVxuXHRcdHByb3RlY3RlZCB3YXJlaG91c2VzU2VydmljZTogV2FyZWhvdXNlc1NlcnZpY2UsXG5cdFx0QGluamVjdChuZXcgTGF6eVNlcnZpY2VJZGVudGlmZXIoKCkgPT4gUHJvZHVjdHNTZXJ2aWNlKSlcblx0XHRwcm90ZWN0ZWQgcHJvZHVjdHNTZXJ2aWNlOiBQcm9kdWN0c1NlcnZpY2UsXG5cdFx0QGluamVjdChuZXcgTGF6eVNlcnZpY2VJZGVudGlmZXIoKCkgPT4gV2FyZWhvdXNlc1Byb2R1Y3RzU2VydmljZSkpXG5cdFx0cHJvdGVjdGVkIHdhcmVob3VzZXNQcm9kdWN0c1NlcnZpY2U6IFdhcmVob3VzZXNQcm9kdWN0c1NlcnZpY2UsXG5cdFx0QGluamVjdChuZXcgTGF6eVNlcnZpY2VJZGVudGlmZXIoKCkgPT4gT3JkZXJzU2VydmljZSkpXG5cdFx0cHJvdGVjdGVkIG9yZGVyc1NlcnZpY2U6IE9yZGVyc1NlcnZpY2UsXG5cdFx0QGluamVjdChuZXcgTGF6eVNlcnZpY2VJZGVudGlmZXIoKCkgPT4gVXNlcnNTZXJ2aWNlKSlcblx0XHRwcm90ZWN0ZWQgdXNlcnNTZXJ2aWNlOiBVc2Vyc1NlcnZpY2Vcblx0KSB7fVxuXG5cdC8qKlxuXHQgKiBUT0RPOiBkb2N1bWVudFxuXHQgKlxuXHQgKiBAcGFyYW0ge1dhcmVob3VzZVsnaWQnXX0gd2FyZWhvdXNlSWRcblx0ICogQHJldHVybnMge09ic2VydmFibGU8RXhpc3RlbmNlRXZlbnQ8T3JkZXI+Pn1cblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZXNPcmRlcnNTZXJ2aWNlXG5cdCAqL1xuXHRnZXRFeGlzdGVuY2UoXG5cdFx0d2FyZWhvdXNlSWQ6IFdhcmVob3VzZVsnaWQnXVxuXHQpOiBPYnNlcnZhYmxlPEV4aXN0ZW5jZUV2ZW50PE9yZGVyPj4ge1xuXHRcdHJldHVybiB0aGlzLm9yZGVyc1NlcnZpY2UuZXhpc3RlbmNlLnBpcGUoXG5cdFx0XHRmaWx0ZXIoKGV4aXN0ZW5jZUV2ZW50KSA9PiB7XG5cdFx0XHRcdHN3aXRjaCAoZXhpc3RlbmNlRXZlbnQudHlwZSBhcyBFeGlzdGVuY2VFdmVudFR5cGUpIHtcblx0XHRcdFx0XHRjYXNlIEV4aXN0ZW5jZUV2ZW50VHlwZS5DcmVhdGVkOlxuXHRcdFx0XHRcdFx0cmV0dXJuIChcblx0XHRcdFx0XHRcdFx0ZXhpc3RlbmNlRXZlbnQudmFsdWUgIT0gbnVsbCAmJlxuXHRcdFx0XHRcdFx0XHRleGlzdGVuY2VFdmVudC52YWx1ZS53YXJlaG91c2VJZCA9PT0gd2FyZWhvdXNlSWRcblx0XHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRjYXNlIEV4aXN0ZW5jZUV2ZW50VHlwZS5VcGRhdGVkOlxuXHRcdFx0XHRcdFx0cmV0dXJuIChcblx0XHRcdFx0XHRcdFx0KGV4aXN0ZW5jZUV2ZW50LnZhbHVlICE9IG51bGwgJiZcblx0XHRcdFx0XHRcdFx0XHRleGlzdGVuY2VFdmVudC52YWx1ZS53YXJlaG91c2VJZCA9PT1cblx0XHRcdFx0XHRcdFx0XHRcdHdhcmVob3VzZUlkKSB8fFxuXHRcdFx0XHRcdFx0XHQoZXhpc3RlbmNlRXZlbnQubGFzdFZhbHVlICE9IG51bGwgJiZcblx0XHRcdFx0XHRcdFx0XHRleGlzdGVuY2VFdmVudC5sYXN0VmFsdWUud2FyZWhvdXNlSWQgPT09XG5cdFx0XHRcdFx0XHRcdFx0XHR3YXJlaG91c2VJZClcblx0XHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRjYXNlIEV4aXN0ZW5jZUV2ZW50VHlwZS5SZW1vdmVkOlxuXHRcdFx0XHRcdFx0cmV0dXJuIChcblx0XHRcdFx0XHRcdFx0ZXhpc3RlbmNlRXZlbnQubGFzdFZhbHVlICE9IG51bGwgJiZcblx0XHRcdFx0XHRcdFx0ZXhpc3RlbmNlRXZlbnQubGFzdFZhbHVlLndhcmVob3VzZUlkID09PSB3YXJlaG91c2VJZFxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0fSksXG5cdFx0XHRzaGFyZSgpXG5cdFx0KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXQgT3JkZXJzIGZyb20gZ2l2ZW4gV2FyZWhvdXNlXG5cdCAqXG5cdCAqIEBwYXJhbSB7V2FyZWhvdXNlWydpZCddfSB3YXJlaG91c2VJZFxuXHQgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZTxPcmRlcltdPn1cblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZXNPcmRlcnNTZXJ2aWNlXG5cdCAqL1xuXHRAb2JzZXJ2YWJsZUxpc3RlbmVyKClcblx0Z2V0KFxuXHRcdHdhcmVob3VzZUlkOiBXYXJlaG91c2VbJ2lkJ10sXG5cdFx0b3B0aW9uczoge1xuXHRcdFx0cG9wdWxhdGVXYXJlaG91c2U/OiBib29sZWFuO1xuXHRcdFx0cG9wdWxhdGVDYXJyaWVyPzogYm9vbGVhbjtcblx0XHRcdG9yZGVyPzogYm9vbGVhbjtcblx0XHR9ID0ge31cblx0KTogT2JzZXJ2YWJsZTxPcmRlcltdPiB7XG5cdFx0cmV0dXJuIGNvbmNhdChvZihudWxsKSwgdGhpcy5nZXRFeGlzdGVuY2Uod2FyZWhvdXNlSWQpKS5waXBlKFxuXHRcdFx0bWFwKGFzeW5jIChyZXMpID0+IHtcblx0XHRcdFx0YXdhaXQgdGhpcy53YXJlaG91c2VzU2VydmljZS50aHJvd0lmTm90RXhpc3RzKHdhcmVob3VzZUlkKTtcblx0XHRcdFx0cmV0dXJuIHJlcztcblx0XHRcdH0pLFxuXHRcdFx0c3dpdGNoTWFwKChyZXMpID0+IHJlcyksXG5cdFx0XHRleGhhdXN0TWFwKCgpID0+XG5cdFx0XHRcdHRoaXMuX2dldCh3YXJlaG91c2VJZCwge1xuXHRcdFx0XHRcdHBvcHVsYXRlV2FyZWhvdXNlOiAhIW9wdGlvbnMucG9wdWxhdGVXYXJlaG91c2UsXG5cdFx0XHRcdFx0cG9wdWxhdGVDYXJyaWVyOiAhIW9wdGlvbnMucG9wdWxhdGVDYXJyaWVyLFxuXHRcdFx0XHRcdG9ubHlBdmFpbGFibGVUb0NhcnJpZXI6IGZhbHNlLFxuXHRcdFx0XHR9KVxuXHRcdFx0KVxuXHRcdCk7XG5cdH1cblxuXHQvKipcblx0ICogR2V0IG5leHQgb3JkZXIgbnVtYmVyIGluIGdpdmVuIFN0b3JlXG5cdCAqIEltcGxlbWVudGVkIHNpbXBsZSwgYnV0IG5vdCBlZmZpY2llbnQvc3RhYmxlIHdheTpcblx0ICogLSBnbyBvdmVyIGV4aXN0ZWQgb3JkZXJzIGluIHRoZSBTdG9yZVxuXHQgKiAtIGZpbmQgbGFzdCBvbmVcblx0ICogLSByZXR1cm4gbnVtYmVyIG9mIGxhc3Qgb25lIHBsdXMgMVxuXHQgKlxuXHQgKiBXaWxsIE5PVCB3b3JrIHdlbGwgaWYgY2FsbGVkIGluIHBhcmFsbGVsLCB1bmxlc3Mgd2U6XG5cdCAqIFRPRE86IGltcGxlbWVudCBkaXN0cmlidXRlZCBsb2NraW5nIG9yIHN0b3JlIGxhc3Qgb3JkZXIgaWQgc2VwYXJhdGVseVxuXHQgKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gd2FyZWhvdXNlSWRcblx0ICogQHJldHVybnMge1Byb21pc2U8bnVtYmVyPn1cblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZXNPcmRlcnNTZXJ2aWNlXG5cdCAqL1xuXHRhc3luYyBnZXROZXh0T3JkZXJOdW1iZXIod2FyZWhvdXNlSWQ6IHN0cmluZyk6IFByb21pc2U8bnVtYmVyPiB7XG5cdFx0YXdhaXQgdGhpcy53YXJlaG91c2VzU2VydmljZS50aHJvd0lmTm90RXhpc3RzKHdhcmVob3VzZUlkKTtcblxuXHRcdGNvbnN0IG9yZGVyRG9jdW1lbnQgPSAoYXdhaXQgdGhpcy5vcmRlcnNTZXJ2aWNlLk1vZGVsLmZpbmRPbmUoe1xuXHRcdFx0d2FyZWhvdXNlOiB3YXJlaG91c2VJZCxcblx0XHRcdGlzRGVsZXRlZDogeyAkZXE6IGZhbHNlIH0sXG5cdFx0XHRfY3JlYXRlZEF0OiB7XG5cdFx0XHRcdCRndGU6ICg8YW55Pm1vbWVudCkoKS5zdGFydE9mKCdkYXknKS50b0RhdGUoKSxcblx0XHRcdH0sXG5cdFx0fSlcblx0XHRcdC5zZWxlY3QoJ29yZGVyTnVtYmVyJylcblx0XHRcdC5zb3J0KHsgb3JkZXJOdW1iZXI6IC0xIH0pXG5cdFx0XHQuZXhlYygpKSBhcyBhbnk7XG5cblx0XHRpZiAob3JkZXJEb2N1bWVudCA9PSBudWxsKSB7XG5cdFx0XHRyZXR1cm4gMTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIG9yZGVyRG9jdW1lbnQub3JkZXJOdW1iZXIgKyAxO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBPcmRlciBmb3IgbXVsdGlwbGUgcHJvZHVjdHNcblx0ICogVXNlciBhbHdheXMgb3JkZXIgcHJvZHVjdCBmcm9tIHNwZWNpZmljIHN0b3JlIGJlY2F1c2UgdGhlIHByaWNlIGFuZCBhdmFpbGFiaWxpdHkgaXMgcGVyIHN0b3JlXG5cdCAqIEl0IGlzIHBvc3NpYmxlIHRoYXQgdXNlciBpcyBudWxsLlxuXHQgKiBJbiB0aGlzIGNhc2UsIGl0IG1lYW4gdGhhdCBjdXN0b21lciBkb2VzIG5vdCBwdXJjaGFzZSBwcm9kdWN0cyB5ZXQsIGJ1dCBjYXJyaWVyIGFycml2ZXMgdG8gd2FyZWhvdXNlXG5cdCAqIGFuZCBnZXQgdGhpcyBzcGVjaWZpYyBwcm9kdWN0cyBhbmQgaGUgaXMgcmVhZHkgdG8gZGVsaXZlcnkgdGhlbSB0byBjdXN0b21lclxuXHQgKiAoaW4gc3VjaCBhZHZhbmNlZCBzY2VuYXJpb3MsIHdlIGNyZWF0ZSBcIm9yZGVyc1wiLCBhc3NpZ24gY2FycmllcnMsIGJ1dCBkbyBub3QgYXNzaWduIGN1c3RvbWVyIHlldClcblx0ICpcblx0ICogQHBhcmFtIHtJT3JkZXJDcmVhdGVJbnB1dH0ge1xuXHQgKiBcdFx0d2FyZWhvdXNlSWQsXG5cdCAqIFx0XHR1c2VySWQsXG5cdCAqIFx0XHRwcm9kdWN0cyxcblx0ICogXHRcdG9wdGlvbnNcblx0ICogXHR9XG5cdCAqIEByZXR1cm5zIHtQcm9taXNlPE9yZGVyPn1cblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZXNPcmRlcnNTZXJ2aWNlXG5cdCAqL1xuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIGNyZWF0ZSh7XG5cdFx0d2FyZWhvdXNlSWQsXG5cdFx0dXNlcklkLFxuXHRcdHByb2R1Y3RzLFxuXHRcdG9yZGVyVHlwZSxcblx0XHRvcHRpb25zLFxuXHR9OiBJT3JkZXJDcmVhdGVJbnB1dCk6IFByb21pc2U8T3JkZXI+IHtcblx0XHRpZiAoIW9wdGlvbnMpIHtcblx0XHRcdG9wdGlvbnMgPSB7fTtcblx0XHR9XG5cblx0XHRvcHRpb25zID0ge1xuXHRcdFx0YXV0b0NvbmZpcm06ICEhb3B0aW9ucy5hdXRvQ29uZmlybSxcblx0XHR9O1xuXG5cdFx0Y29uc3QgdXNlciA9IGF3YWl0IHRoaXMudXNlcnNTZXJ2aWNlXG5cdFx0XHQuZ2V0KHVzZXJJZClcblx0XHRcdC5waXBlKGZpcnN0KCkpXG5cdFx0XHQudG9Qcm9taXNlKCk7XG5cblx0XHRjb25zdCB3YXJlaG91c2UgPSAoYXdhaXQgdGhpcy53YXJlaG91c2VzU2VydmljZVxuXHRcdFx0LmdldCh3YXJlaG91c2VJZCwgdHJ1ZSlcblx0XHRcdC5waXBlKGZpcnN0KCkpXG5cdFx0XHQudG9Qcm9taXNlKCkpIGFzIFdpdGhGdWxsUHJvZHVjdHM7XG5cblx0XHRjb25zdCB3YXJlaG91c2VQcm9kdWN0cyA9IF8ua2V5Qnkod2FyZWhvdXNlLnByb2R1Y3RzLCAncHJvZHVjdElkJyk7XG5cblx0XHRpZiAodXNlciA9PSBudWxsKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYFRoZXJlIGlzIG5vIHVzZXIgd2l0aCB0aGUgaWQgJHt1c2VySWR9YCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5sb2cuaW5mbyhcblx0XHRcdHtcblx0XHRcdFx0dXNlcixcblx0XHRcdFx0d2FyZWhvdXNlSWQsXG5cdFx0XHRcdHByb2R1Y3RzLFxuXHRcdFx0fSxcblx0XHRcdCdPcmRlciBjcmVhdGUgY2FsbCdcblx0XHQpO1xuXG5cdFx0Ly8gSWYgbm8gaW1hZ2Ugd2FzIGdpdmVuIGZyb20gY2xpZW50IHNpZGUgZm9yIGFuIG9yZGVyIHByb2R1Y3QsXG5cdFx0Ly8gd2Ugc2hvdWxkIGNvcHkgaXQgZnJvbSBwcm9kdWN0IGluIERCXG5cdFx0Y29uc3Qgb3JkZXJQcm9kdWN0cyA9IGF3YWl0IF8ubWFwKFxuXHRcdFx0cHJvZHVjdHMsXG5cdFx0XHQoYXJncyk6IElPcmRlclByb2R1Y3RDcmVhdGVPYmplY3QgPT4ge1xuXHRcdFx0XHRjb25zdCB3UHJvZHVjdCA9IHdhcmVob3VzZVByb2R1Y3RzW2FyZ3MucHJvZHVjdElkXTtcblxuXHRcdFx0XHRpZiAoIXdQcm9kdWN0KSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRcdFx0YFdhcmVob3VzZU9yZGVyc1NlcnZpY2UgZ290IGNhbGwgdG8gY3JlYXRlKHVzZXJJZCwgb3JkZXJQcm9kdWN0cykgLSBCdXQgdGhlcmUgaXMgbm8gcHJvZHVjdCB3aXRoIHRoZSBpZCAke2FyZ3MucHJvZHVjdElkfSFgXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0Y291bnQ6IGFyZ3MuY291bnQsXG5cdFx0XHRcdFx0cHJpY2U6IHdQcm9kdWN0LnByaWNlLFxuXHRcdFx0XHRcdGluaXRpYWxQcmljZTogd1Byb2R1Y3QuaW5pdGlhbFByaWNlLFxuXHRcdFx0XHRcdGRlbGl2ZXJ5VGltZU1pbjogd1Byb2R1Y3QuZGVsaXZlcnlUaW1lTWluLFxuXHRcdFx0XHRcdGRlbGl2ZXJ5VGltZU1heDogd1Byb2R1Y3QuZGVsaXZlcnlUaW1lTWF4LFxuXHRcdFx0XHRcdHByb2R1Y3Q6IHdQcm9kdWN0LnByb2R1Y3QgYXMgUHJvZHVjdCxcblx0XHRcdFx0XHRpc01hbnVmYWN0dXJpbmc6IHdQcm9kdWN0LmlzTWFudWZhY3R1cmluZyxcblx0XHRcdFx0XHRpc0NhcnJpZXJSZXF1aXJlZDogd1Byb2R1Y3QuaXNDYXJyaWVyUmVxdWlyZWQsXG5cdFx0XHRcdFx0aXNEZWxpdmVyeVJlcXVpcmVkOiB3UHJvZHVjdC5pc0RlbGl2ZXJ5UmVxdWlyZWQsXG5cdFx0XHRcdFx0aXNUYWtlYXdheTogd1Byb2R1Y3QuaXNUYWtlYXdheSxcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHQpO1xuXG5cdFx0Ly8gVE9ETyBuZXh0IHNob3VsZCBiZSBpbiB0aGUgc2luZ2xlIHRyYW5zYWN0aW9uIVxuXHRcdC8vIChpLmUuIGNyZWF0ZSBvcmRlciBhbmQgZGVjcmVhc2UgcHJvZHVjdCBhdmFpbGFiaWxpdHkgaW4gdGhlIHdhcmVob3VzZSlcblx0XHQvLyBodHRwOi8vbW9uZ29vc2Vqcy5jb20vZG9jcy90cmFuc2FjdGlvbnMuaHRtbFxuXG5cdFx0Y29uc3Qgb3JkZXIgPSBhd2FpdCB0aGlzLm9yZGVyc1NlcnZpY2UuY3JlYXRlKHtcblx0XHRcdHVzZXIsXG5cdFx0XHRwcm9kdWN0czogb3JkZXJQcm9kdWN0cyxcblx0XHRcdHdhcmVob3VzZTogd2FyZWhvdXNlSWQsXG5cdFx0XHRvcmRlck51bWJlcjogYXdhaXQgdGhpcy5nZXROZXh0T3JkZXJOdW1iZXIod2FyZWhvdXNlSWQpLFxuXHRcdFx0b3JkZXJUeXBlLFxuXHRcdFx0Li4uKG9wdGlvbnMuYXV0b0NvbmZpcm0gPyB7IGlzQ29uZmlybWVkOiB0cnVlIH0gOiB7fSksXG5cdFx0fSk7XG5cblx0XHQvLyB3ZSBkbyBhbGwgcmVtb3ZlIG9wZXJhdGlvbnMgYW5kIG5vdGlmeSBhYm91dCB3YXJlaG91c2Ugb3JkZXJzIGNoYW5nZSBhZnRlciB3ZSByZW1vdmUgcHJvZHVjdHMgZnJvbSB3YXJlaG91c2Vcblx0XHRhd2FpdCAoPGFueT5CbHVlYmlyZCkubWFwKFxuXHRcdFx0b3JkZXIucHJvZHVjdHMsXG5cdFx0XHRhc3luYyAob3JkZXJQcm9kdWN0OiBPcmRlclByb2R1Y3QpID0+IHtcblx0XHRcdFx0Y29uc3QgcHJvZHVjdElkID0gb3JkZXJQcm9kdWN0LnByb2R1Y3QuaWQ7XG5cblx0XHRcdFx0dGhpcy5sb2cuaW5mbyhcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHR3YXJlaG91c2VJZCxcblx0XHRcdFx0XHRcdHByb2R1Y3RJZCxcblx0XHRcdFx0XHRcdGNvdW50OiBvcmRlclByb2R1Y3QuY291bnQsXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHQnT3JkZXIgY3JlYXRlIHJlbW92ZSBwcm9kdWN0cyBjYWxsJ1xuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdGF3YWl0IHRoaXMud2FyZWhvdXNlc1Byb2R1Y3RzU2VydmljZS5kZWNyZWFzZUNvdW50KFxuXHRcdFx0XHRcdHdhcmVob3VzZUlkLFxuXHRcdFx0XHRcdHByb2R1Y3RJZCwgLy8gd2hhdCBwcm9kdWN0IGF2YWlsYWJpbGl0eSBzaG91bGQgYmUgZGVjcmVhc2VkXG5cdFx0XHRcdFx0b3JkZXJQcm9kdWN0LmNvdW50IC8vIGhvdyBtYW55IHRvIHJlbW92ZVxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdGF3YWl0IHRoaXMud2FyZWhvdXNlc1Byb2R1Y3RzU2VydmljZS5pbmNyZWFzZVNvbGRDb3VudChcblx0XHRcdFx0XHR3YXJlaG91c2VJZCxcblx0XHRcdFx0XHRwcm9kdWN0SWQsXG5cdFx0XHRcdFx0b3JkZXJQcm9kdWN0LmNvdW50XG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0dGhpcy5sb2cuaW5mbyhcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHR3YXJlaG91c2VJZCxcblx0XHRcdFx0XHRcdHByb2R1Y3RJZCxcblx0XHRcdFx0XHRcdGNvdW50OiBvcmRlclByb2R1Y3QuY291bnQsXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHQnT3JkZXIgY3JlYXRlIHJlbW92ZSBwcm9kdWN0cyBjYWxsIHN1Y2NlZWQnXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0KTtcblxuXHRcdHJldHVybiBvcmRlcjtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGUgT3JkZXIgYnkgZ2l2ZW4gY3VzdG9tZXIgaW4gdGhlIGdpdmVuIFN0b3JlIGZvciAxIHNwZWNpZmljIHByb2R1Y3Rcblx0ICogKG9wdGltaXplZCBmb3Igc2luZ2xlIHByb2R1Y3QgcHVyY2hhc2VzKVxuXHQgKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdXNlcklkXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB3YXJlaG91c2VJZFxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcHJvZHVjdElkXG5cdCAqIEByZXR1cm5zIHtQcm9taXNlPE9yZGVyPn1cblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZXNPcmRlcnNTZXJ2aWNlXG5cdCAqL1xuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIGNyZWF0ZUJ5UHJvZHVjdFR5cGUoXG5cdFx0dXNlcklkOiBzdHJpbmcsXG5cdFx0d2FyZWhvdXNlSWQ6IHN0cmluZyxcblx0XHRwcm9kdWN0SWQ6IHN0cmluZyxcblx0XHRvcmRlclR5cGU/OiBEZWxpdmVyeVR5cGVcblx0KTogUHJvbWlzZTxPcmRlcj4ge1xuXHRcdGF3YWl0IHRoaXMudXNlcnNTZXJ2aWNlLnRocm93SWZOb3RFeGlzdHModXNlcklkKTtcblx0XHRhd2FpdCB0aGlzLndhcmVob3VzZXNTZXJ2aWNlLnRocm93SWZOb3RFeGlzdHMod2FyZWhvdXNlSWQpO1xuXHRcdGF3YWl0IHRoaXMucHJvZHVjdHNTZXJ2aWNlLnRocm93SWZOb3RFeGlzdHMocHJvZHVjdElkKTtcblxuXHRcdHJldHVybiB0aGlzLmNyZWF0ZSh7XG5cdFx0XHR1c2VySWQsXG5cdFx0XHR3YXJlaG91c2VJZCxcblx0XHRcdG9yZGVyVHlwZSxcblx0XHRcdHByb2R1Y3RzOiBbXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRwcm9kdWN0SWQsXG5cdFx0XHRcdFx0Y291bnQ6IDEsXG5cdFx0XHRcdH0sXG5cdFx0XHRdLFxuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIENhbmNlbCBhbiBvcmRlci5cblx0ICogTW9uZXkgYmFjayBhbmQgY2FuY2VsIHNoaXBwaW5nIHRvIHRoZSBjbGllbnQgaWYgaXQncyBzdGFydGVkIGFscmVhZHlcblx0ICogRm9yIG5vbi1jb25maXJtZWQgb3JkZXJzIHdlIG9ubHkgaW5jcmVhc2UgYXZhaWxhYmlsaXR5XG5cdCAqIEZvciBjb25maXJtZWQgb3JkZXJzIHdlIGluY3JlYXNlIGF2YWlsYWJpbGl0eSwgcmV0dXJuIHBheW1lbnQgYW5kIGNhbmNlbCBzaGlwcGluZ1xuXHQgKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gb3JkZXJJZFxuXHQgKiBAcmV0dXJucyB7UHJvbWlzZTxPcmRlcj59XG5cdCAqIEBtZW1iZXJvZiBXYXJlaG91c2VzT3JkZXJzU2VydmljZVxuXHQgKi9cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyBjYW5jZWwob3JkZXJJZDogc3RyaW5nKTogUHJvbWlzZTxPcmRlcj4ge1xuXHRcdGxldCBvcmRlciA9IGF3YWl0IHRoaXMub3JkZXJzU2VydmljZVxuXHRcdFx0LmdldChvcmRlcklkKVxuXHRcdFx0LnBpcGUoZmlyc3QoKSlcblx0XHRcdC50b1Byb21pc2UoKTtcblxuXHRcdGlmIChvcmRlciA9PSBudWxsKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdGBUaGVyZSBpcyBubyBvcmRlciB3aXRoIHRoZSBpZCAke29yZGVySWR9IHRvIGNhbmNlbGBcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0aWYgKG9yZGVyLmlzQ2FuY2VsbGVkKSB7XG5cdFx0XHR0aGlzLmxvZy53YXJuKGBPcmRlciB3aXRoIGlkICR7b3JkZXJJZH0gaXMgYWxyZWFkeSBjYW5jZWxsZWQhYCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gY2FuY2VsaW5nIG9yZGVyXG5cdFx0b3JkZXIgPSBhd2FpdCB0aGlzLm9yZGVyc1NlcnZpY2UuY2FuY2VsKG9yZGVySWQpO1xuXG5cdFx0aWYgKG9yZGVyLmlzQ29uZmlybWVkKSB7XG5cdFx0XHQvLyBUT0RPOiByZXR1cm4gcGF5bWVudCBiYWNrIGFuZCBjYW5jZWwgc2hpcHBpbmdcblx0XHR9XG5cblx0XHR0aGlzLmxvZy5pbmZvKFxuXHRcdFx0e1xuXHRcdFx0XHR3YXJlaG91c2VJZDogb3JkZXIud2FyZWhvdXNlSWQsXG5cdFx0XHRcdHByb2R1Y3RzOiBvcmRlci5wcm9kdWN0cyxcblx0XHRcdH0sXG5cdFx0XHQnT3JkZXIgY2FuY2VsIGFkZCBwcm9kdWN0cyBiYWNrIGNhbGwnXG5cdFx0KTtcblxuXHRcdC8vIGFkZCBwcm9kdWN0cyBiYWNrIHRvIHdhcmVob3VzZVxuXHRcdGF3YWl0IHRoaXMud2FyZWhvdXNlc1Byb2R1Y3RzU2VydmljZS5hZGQoXG5cdFx0XHRvcmRlci53YXJlaG91c2VJZCxcblx0XHRcdF8ubWFwKG9yZGVyLnByb2R1Y3RzLCAob3JkZXJQcm9kdWN0KSA9PiB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0cHJvZHVjdDogb3JkZXJQcm9kdWN0LnByb2R1Y3QuaWQsXG5cdFx0XHRcdFx0Y291bnQ6IG9yZGVyUHJvZHVjdC5jb3VudCxcblx0XHRcdFx0XHRwcmljZTogb3JkZXJQcm9kdWN0LnByaWNlLFxuXHRcdFx0XHRcdGluaXRpYWxQcmljZTogb3JkZXJQcm9kdWN0LmluaXRpYWxQcmljZSxcblx0XHRcdFx0XHRkZWxpdmVyeVRpbWVNaW46IG9yZGVyUHJvZHVjdC5kZWxpdmVyeVRpbWVNaW4sXG5cdFx0XHRcdFx0ZGVsaXZlcnlUaW1lTWF4OiBvcmRlclByb2R1Y3QuZGVsaXZlcnlUaW1lTWF4LFxuXHRcdFx0XHR9O1xuXHRcdFx0fSlcblx0XHQpO1xuXG5cdFx0Ly8gcmV2ZXJ0IG9yZGVyIHNvbGQgY291bnRcblx0XHRhd2FpdCAoPGFueT5CbHVlYmlyZCkubWFwKFxuXHRcdFx0b3JkZXIucHJvZHVjdHMsXG5cdFx0XHRhc3luYyAob3JkZXJQcm9kdWN0OiBPcmRlclByb2R1Y3QpID0+IHtcblx0XHRcdFx0Y29uc3QgcHJvZHVjdElkID0gb3JkZXJQcm9kdWN0LnByb2R1Y3QuaWQ7XG5cblx0XHRcdFx0YXdhaXQgdGhpcy53YXJlaG91c2VzUHJvZHVjdHNTZXJ2aWNlLmRlY3JlYXNlU29sZENvdW50KFxuXHRcdFx0XHRcdG9yZGVyLndhcmVob3VzZUlkLFxuXHRcdFx0XHRcdHByb2R1Y3RJZCxcblx0XHRcdFx0XHRvcmRlclByb2R1Y3QuY291bnRcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHQpO1xuXG5cdFx0dGhpcy5sb2cuaW5mbyhcblx0XHRcdHtcblx0XHRcdFx0d2FyZWhvdXNlSWQ6IG9yZGVyLndhcmVob3VzZUlkLFxuXHRcdFx0XHRwcm9kdWN0czogb3JkZXIucHJvZHVjdHMsXG5cdFx0XHR9LFxuXHRcdFx0J09yZGVyIGNhbmNlbCBhZGQgcHJvZHVjdHMgYmFjayBjYWxsIHN1Y2NlZWQnXG5cdFx0KTtcblxuXHRcdHJldHVybiBvcmRlcjtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXQgT3JkZXJzIGZvciBnaXZlbiBTdG9yZVxuXHQgKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gc3RvcmVJZFxuXHQgKiBAcGFyYW0ge0lQYWdpbmdPcHRpb25zfSBwYWdpbmdPcHRpb25zXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBzdGF0dXNcblx0ICogQHJldHVybnNcblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZXNPcmRlcnNTZXJ2aWNlXG5cdCAqL1xuXHRhc3luYyBnZXRTdG9yZU9yZGVycyhcblx0XHRzdG9yZUlkOiBzdHJpbmcsXG5cdFx0cGFnaW5nT3B0aW9uczogSVBhZ2luZ09wdGlvbnMsXG5cdFx0c3RhdHVzOiBzdHJpbmdcblx0KSB7XG5cdFx0Y29uc3Qgc29ydE9iaiA9IHt9O1xuXG5cdFx0Y29uc3QgZmluZE9iaiA9IGdldFN0b3JlT3JkZXJzRmluZ09iaihzdG9yZUlkLCBzdGF0dXMpO1xuXG5cdFx0aWYgKHBhZ2luZ09wdGlvbnMuc29ydCkge1xuXHRcdFx0c29ydE9ialtwYWdpbmdPcHRpb25zLnNvcnQuZmllbGRdID0gcGFnaW5nT3B0aW9ucy5zb3J0LnNvcnRCeTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5vcmRlcnNTZXJ2aWNlLk1vZGVsLmZpbmQoZmluZE9iailcblx0XHRcdC5zb3J0KHNvcnRPYmopXG5cdFx0XHQuc2tpcChwYWdpbmdPcHRpb25zLnNraXApXG5cdFx0XHQubGltaXQocGFnaW5nT3B0aW9ucy5saW1pdClcblx0XHRcdC5sZWFuKClcblx0XHRcdC5leGVjKCk7XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIF9nZXQoXG5cdFx0d2FyZWhvdXNlSWQ6IFdhcmVob3VzZVsnaWQnXSxcblx0XHRvcHRpb25zOiB7XG5cdFx0XHRwb3B1bGF0ZVdhcmVob3VzZT86IGJvb2xlYW47XG5cdFx0XHRwb3B1bGF0ZUNhcnJpZXI/OiBib29sZWFuO1xuXHRcdFx0b25seUF2YWlsYWJsZVRvQ2Fycmllcj86IGJvb2xlYW47XG5cdFx0fSA9IHt9XG5cdCk6IFByb21pc2U8T3JkZXJbXT4ge1xuXHRcdGF3YWl0IHRoaXMud2FyZWhvdXNlc1NlcnZpY2UudGhyb3dJZk5vdEV4aXN0cyh3YXJlaG91c2VJZCk7XG5cblx0XHRjb25zdCBmaW5kT2JqID0geyB3YXJlaG91c2U6IHdhcmVob3VzZUlkIH07XG5cblx0XHRpZiAob3B0aW9ucy5vbmx5QXZhaWxhYmxlVG9DYXJyaWVyKSB7XG5cdFx0XHRfLmV4dGVuZChcblx0XHRcdFx0ZmluZE9iaixcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGNhcnJpZXJTdGF0dXM6IDAsXG5cdFx0XHRcdFx0JG9yOiBbXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdGNhcnJpZXI6IHsgJGV4aXN0czogZmFsc2UgfSxcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdGNhcnJpZXI6IG51bGwsXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdF0sXG5cdFx0XHRcdFx0d2FyZWhvdXNlU3RhdHVzOiB7ICRndGU6IDIsICRsdDogMjAwIH0sXG5cdFx0XHRcdH0sXG5cdFx0XHRcdE9yZGVyc1NlcnZpY2UuRmluZE9iamVjdHMuaXNDb21wbGV0ZWRcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0bGV0IHRvUG9wdWxhdGUgPSAnJztcblxuXHRcdGlmIChvcHRpb25zLnBvcHVsYXRlQ2Fycmllcikge1xuXHRcdFx0dG9Qb3B1bGF0ZSArPSAnY2FycmllciAnO1xuXHRcdH1cblxuXHRcdGlmIChvcHRpb25zLnBvcHVsYXRlV2FyZWhvdXNlKSB7XG5cdFx0XHR0b1BvcHVsYXRlICs9ICd3YXJlaG91c2UgJztcblx0XHR9XG5cblx0XHRjb25zdCBvcmRlcnMgPSBfLm1hcChcblx0XHRcdChhd2FpdCB0aGlzLm9yZGVyc1NlcnZpY2UuTW9kZWwuZmluZCh7XG5cdFx0XHRcdC4uLmZpbmRPYmosXG5cdFx0XHRcdGlzRGVsZXRlZDogeyAkZXE6IGZhbHNlIH0sXG5cdFx0XHR9KVxuXHRcdFx0XHQucG9wdWxhdGUodG9Qb3B1bGF0ZSlcblx0XHRcdFx0LnNvcnQoe1xuXHRcdFx0XHRcdF9jcmVhdGVkQXQ6IC0xLCAvLyBTb3J0IGJ5IERhdGUgQWRkZWQgREVTQ1xuXHRcdFx0XHR9KVxuXHRcdFx0XHQubGVhbigpXG5cdFx0XHRcdC5leGVjKCkpIGFzIElPcmRlcltdLFxuXHRcdFx0KG9yZGVyKSA9PiBuZXcgT3JkZXIob3JkZXIpXG5cdFx0KTtcblxuXHRcdHRoaXMubG9nLmluZm8oXG5cdFx0XHR7XG5cdFx0XHRcdHdhcmVob3VzZUlkLFxuXHRcdFx0XHRvcmRlcnMsXG5cdFx0XHR9LFxuXHRcdFx0J29yZGVycyBieSB3YXJlaG91c2UgKGluIGdldEJ5V2FyZWhvdXNlKSdcblx0XHQpO1xuXG5cdFx0cmV0dXJuIG9yZGVycztcblx0fVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3RvcmVPcmRlcnNGaW5nT2JqKHN0b3JlSWQ6IHN0cmluZywgc3RhdHVzOiBzdHJpbmcpIHtcblx0Y29uc3QgZmluZE9iaiA9IHtcblx0XHRpc0RlbGV0ZWQ6IHsgJGVxOiBmYWxzZSB9LFxuXHRcdHdhcmVob3VzZTogc3RvcmVJZCxcblx0fTtcblxuXHRzd2l0Y2ggKHN0YXR1cykge1xuXHRcdGNhc2UgJ2NvbmZpcm1lZCc6XG5cdFx0XHRmaW5kT2JqWyckYW5kJ10gPSBbXG5cdFx0XHRcdHtcblx0XHRcdFx0XHR3YXJlaG91c2VTdGF0dXM6IHtcblx0XHRcdFx0XHRcdCRndDogT3JkZXJXYXJlaG91c2VTdGF0dXMuTm9TdGF0dXMsXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHdhcmVob3VzZVN0YXR1czoge1xuXHRcdFx0XHRcdFx0JGx0OiBPcmRlcldhcmVob3VzZVN0YXR1cy5HaXZlblRvQ3VzdG9tZXIsXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGNhcnJpZXJTdGF0dXM6IHtcblx0XHRcdFx0XHRcdCRsdGU6IE9yZGVyQ2FycmllclN0YXR1cy5DYXJyaWVyU2VsZWN0ZWRPcmRlcixcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHR9LFxuXHRcdFx0XTtcblx0XHRcdGZpbmRPYmpbJ2lzQ2FuY2VsbGVkJ10gPSBmYWxzZTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgJ2luX2RlbGl2ZXJ5Jzpcblx0XHRcdGZpbmRPYmpbJyRhbmQnXSA9IFtcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGNhcnJpZXJTdGF0dXM6IHtcblx0XHRcdFx0XHRcdCRndGU6IE9yZGVyQ2FycmllclN0YXR1cy5DYXJyaWVyUGlja2VkVXBPcmRlcixcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0d2FyZWhvdXNlU3RhdHVzOiB7XG5cdFx0XHRcdFx0XHQkbHQ6IE9yZGVyV2FyZWhvdXNlU3RhdHVzLkFsbG9jYXRpb25GYWlsZWQsXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGNhcnJpZXJTdGF0dXM6IHtcblx0XHRcdFx0XHRcdCRsdDogT3JkZXJDYXJyaWVyU3RhdHVzLkRlbGl2ZXJ5Q29tcGxldGVkLFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdH0sXG5cdFx0XHRdO1xuXHRcdFx0ZmluZE9ialsnaXNDYW5jZWxsZWQnXSA9IGZhbHNlO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAnbm90X2NvbmZpcm1lZCc6XG5cdFx0XHRmaW5kT2JqWyd3YXJlaG91c2VTdGF0dXMnXSA9IE9yZGVyV2FyZWhvdXNlU3RhdHVzLk5vU3RhdHVzO1xuXHRcdFx0ZmluZE9ialsnaXNDYW5jZWxsZWQnXSA9IGZhbHNlO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAnbm90X3BhaWQnOlxuXHRcdFx0ZmluZE9ialsnaXNQYWlkJ10gPSBmYWxzZTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgJ2NhbmNlbGxlZCc6XG5cdFx0XHRmaW5kT2JqWydpc0NhbmNlbGxlZCddID0gdHJ1ZTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgJ3JlbGV2YW50Jzpcblx0XHRcdGZpbmRPYmpbJyRhbmQnXSA9IFtcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHdhcmVob3VzZVN0YXR1czoge1xuXHRcdFx0XHRcdFx0JGd0ZTogT3JkZXJXYXJlaG91c2VTdGF0dXMuTm9TdGF0dXMsXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHdhcmVob3VzZVN0YXR1czoge1xuXHRcdFx0XHRcdFx0JGx0OiBPcmRlcldhcmVob3VzZVN0YXR1cy5HaXZlblRvQ3VzdG9tZXIsXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGNhcnJpZXJTdGF0dXM6IHtcblx0XHRcdFx0XHRcdCRsdGU6IE9yZGVyQ2FycmllclN0YXR1cy5DYXJyaWVyU2VsZWN0ZWRPcmRlcixcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHR9LFxuXHRcdFx0XTtcblx0XHRcdGZpbmRPYmpbJ2lzQ2FuY2VsbGVkJ10gPSBmYWxzZTtcblx0XHRcdGJyZWFrO1xuXHRcdGRlZmF1bHQ6XG5cdFx0XHRicmVhaztcblx0fVxuXG5cdHJldHVybiBmaW5kT2JqO1xufVxuIiwiaW1wb3J0IHsgaW5qZWN0YWJsZSB9IGZyb20gJ2ludmVyc2lmeSc7XG5pbXBvcnQgeyBjcmVhdGVFdmVyTG9nZ2VyIH0gZnJvbSAnLi4vLi4vaGVscGVycy9Mb2cnO1xuaW1wb3J0IExvZ2dlciBmcm9tICdidW55YW4nO1xuaW1wb3J0IFdhcmVob3VzZVByb2R1Y3QgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9lbnRpdGllcy9XYXJlaG91c2VQcm9kdWN0JztcbmltcG9ydCB7IFdhcmVob3VzZXNTZXJ2aWNlIH0gZnJvbSAnLi9XYXJlaG91c2VzU2VydmljZSc7XG5pbXBvcnQgSVdhcmVob3VzZVByb2R1Y3QsIHtcblx0SVdhcmVob3VzZVByb2R1Y3RDcmVhdGVPYmplY3QsXG59IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vaW50ZXJmYWNlcy9JV2FyZWhvdXNlUHJvZHVjdCc7XG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IFdhcmVob3VzZSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL1dhcmVob3VzZSc7XG5pbXBvcnQgSVdhcmVob3VzZSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2ludGVyZmFjZXMvSVdhcmVob3VzZSc7XG5pbXBvcnQgeyBFeGlzdGVuY2VFdmVudFR5cGUsIERCU2VydmljZSB9IGZyb20gJ0BweXJvL2RiLXNlcnZlcic7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgSVdhcmVob3VzZVByb2R1Y3RzUm91dGVyIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vcm91dGVycy9JV2FyZWhvdXNlUHJvZHVjdHNSb3V0ZXInO1xuaW1wb3J0IHtcblx0YXN5bmNMaXN0ZW5lcixcblx0b2JzZXJ2YWJsZUxpc3RlbmVyLFxuXHRyb3V0ZXJOYW1lLFxuXHRzZXJpYWxpemF0aW9uLFxufSBmcm9tICdAcHlyby9pbyc7XG5pbXBvcnQgSVByb2R1Y3QgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9pbnRlcmZhY2VzL0lQcm9kdWN0JztcbmltcG9ydCBJU2VydmljZSBmcm9tICcuLi9JU2VydmljZSc7XG5pbXBvcnQgeyBleGhhdXN0TWFwLCBmaXJzdCwgbWFwIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHsgb2YgfSBmcm9tICdyeGpzL29ic2VydmFibGUvb2YnO1xuaW1wb3J0IHsgX3Rocm93IH0gZnJvbSAncnhqcy9vYnNlcnZhYmxlL3Rocm93JztcbmltcG9ydCBtb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJyk7XG5pbXBvcnQgSVBhZ2luZ09wdGlvbnMgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9pbnRlcmZhY2VzL0lQYWdpbmdPcHRpb25zJztcblxuY29uc3Qgbm9HZXRQcm9kdWN0VHlwZU1lc3NhZ2UgPSBgVGhlcmUgc2hvdWxkIGJlIHRydWUgYXQgbGVhc3Qgb25lIG9mIHRoZSB0d28gLSBcImlzQ2FycmllclJlcXVpcmVkXCIgb3IgXCJpc1Rha2Vhd2F5XCIhYDtcblxuLyoqXG4gKiBXYXJlaG91c2VzIFByb2R1Y3RzIFNlcnZpY2VcbiAqXG4gKiBAZXhwb3J0XG4gKiBAY2xhc3MgV2FyZWhvdXNlc1Byb2R1Y3RzU2VydmljZVxuICogQGltcGxlbWVudHMge0lXYXJlaG91c2VQcm9kdWN0c1JvdXRlcn1cbiAqIEBpbXBsZW1lbnRzIHtJU2VydmljZX1cbiAqL1xuQGluamVjdGFibGUoKVxuQHJvdXRlck5hbWUoJ3dhcmVob3VzZS1wcm9kdWN0cycpXG5leHBvcnQgY2xhc3MgV2FyZWhvdXNlc1Byb2R1Y3RzU2VydmljZVxuXHRpbXBsZW1lbnRzIElXYXJlaG91c2VQcm9kdWN0c1JvdXRlciwgSVNlcnZpY2Uge1xuXHRwcm90ZWN0ZWQgcmVhZG9ubHkgbG9nOiBMb2dnZXIgPSBjcmVhdGVFdmVyTG9nZ2VyKHtcblx0XHRuYW1lOiAnd2FyZWhvdXNlUHJvZHVjdHNTZXJ2aWNlJyxcblx0fSk7XG5cblx0Y29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSB3YXJlaG91c2VzU2VydmljZTogV2FyZWhvdXNlc1NlcnZpY2UpIHt9XG5cblx0LyoqXG5cdCAqIEdldCBhbGwgcHJvZHVjdHMgZm9yIGdpdmVuIHdhcmVob3VzZSAobm90IG9ubHkgYXZhaWxhYmxlLCBidXQgYWxsIGFzc2lnbmVkKVxuXHQgKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gd2FyZWhvdXNlSWRcblx0ICogQHBhcmFtIHtib29sZWFufSBbZnVsbFByb2R1Y3RzPXRydWVdIGlmIHRydWUsIGluY2x1ZGUgZnVsbCBwcm9kdWN0cyBkZXRhaWxzXG5cdCAqIEByZXR1cm5zIHtPYnNlcnZhYmxlPFdhcmVob3VzZVByb2R1Y3RbXT59XG5cdCAqIEBtZW1iZXJvZiBXYXJlaG91c2VzUHJvZHVjdHNTZXJ2aWNlXG5cdCAqL1xuXHRAb2JzZXJ2YWJsZUxpc3RlbmVyKClcblx0Z2V0KFxuXHRcdHdhcmVob3VzZUlkOiBzdHJpbmcsXG5cdFx0ZnVsbFByb2R1Y3RzOiBib29sZWFuID0gdHJ1ZVxuXHQpOiBPYnNlcnZhYmxlPFdhcmVob3VzZVByb2R1Y3RbXT4ge1xuXHRcdHJldHVybiB0aGlzLndhcmVob3VzZXNTZXJ2aWNlLmdldCh3YXJlaG91c2VJZCwgZnVsbFByb2R1Y3RzKS5waXBlKFxuXHRcdFx0ZXhoYXVzdE1hcCgod2FyZWhvdXNlKSA9PiB7XG5cdFx0XHRcdGlmICh3YXJlaG91c2UgPT09IG51bGwpIHtcblx0XHRcdFx0XHRyZXR1cm4gX3Rocm93KFxuXHRcdFx0XHRcdFx0bmV3IEVycm9yKFxuXHRcdFx0XHRcdFx0XHRgV2FyZWhvdXNlIHdpdGggdGhlIGlkICR7d2FyZWhvdXNlSWR9IGRvZXNuJ3QgZXhpc3RgXG5cdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRyZXR1cm4gb2Yod2FyZWhvdXNlKTtcblx0XHRcdFx0fVxuXHRcdFx0fSksXG5cdFx0XHRtYXAoKHdhcmVob3VzZSkgPT4gd2FyZWhvdXNlLnByb2R1Y3RzKVxuXHRcdCk7XG5cdH1cblxuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIGdldFByb2R1Y3RzV2l0aFBhZ2luYXRpb24oXG5cdFx0aWQ6IHN0cmluZyxcblx0XHRwYWdpbmdPcHRpb25zOiBJUGFnaW5nT3B0aW9uc1xuXHQpOiBQcm9taXNlPFdhcmVob3VzZVByb2R1Y3RbXT4ge1xuXHRcdGNvbnN0IGFsbFByb2R1Y3RzID0gYXdhaXQgdGhpcy5nZXQoaWQpLnBpcGUoZmlyc3QoKSkudG9Qcm9taXNlKCk7XG5cblx0XHRjb25zdCBwcm9kdWN0cyA9IFsuLi5hbGxQcm9kdWN0c107XG5cblx0XHRpZiAocGFnaW5nT3B0aW9ucy5saW1pdCAmJiBwYWdpbmdPcHRpb25zLnNraXApIHtcblx0XHRcdHJldHVybiBwcm9kdWN0c1xuXHRcdFx0XHQuc2xpY2UocGFnaW5nT3B0aW9ucy5za2lwKVxuXHRcdFx0XHQuc2xpY2UoMCwgcGFnaW5nT3B0aW9ucy5saW1pdClcblx0XHRcdFx0LnNvcnQoKGEsIGIpID0+IGIuc29sZENvdW50IC0gYS5zb2xkQ291bnQpO1xuXHRcdH0gZWxzZSBpZiAocGFnaW5nT3B0aW9ucy5saW1pdCkge1xuXHRcdFx0cmV0dXJuIHByb2R1Y3RzXG5cdFx0XHRcdC5zbGljZSgwLCBwYWdpbmdPcHRpb25zLmxpbWl0KVxuXHRcdFx0XHQuc29ydCgoYSwgYikgPT4gYi5zb2xkQ291bnQgLSBhLnNvbGRDb3VudCk7XG5cdFx0fSBlbHNlIGlmIChwYWdpbmdPcHRpb25zLnNraXApIHtcblx0XHRcdHJldHVybiBwcm9kdWN0c1xuXHRcdFx0XHQuc2xpY2UocGFnaW5nT3B0aW9ucy5za2lwKVxuXHRcdFx0XHQuc29ydCgoYSwgYikgPT4gYi5zb2xkQ291bnQgLSBhLnNvbGRDb3VudCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHByb2R1Y3RzLnNvcnQoKGEsIGIpID0+IGIuc29sZENvdW50IC0gYS5zb2xkQ291bnQpO1xuXHR9XG5cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyBnZXRQcm9kdWN0c0NvdW50KGlkOiBzdHJpbmcpIHtcblx0XHRjb25zdCBhbGxQcm9kdWN0cyA9IGF3YWl0IHRoaXMuZ2V0KGlkKS5waXBlKGZpcnN0KCkpLnRvUHJvbWlzZSgpO1xuXG5cdFx0cmV0dXJuIGFsbFByb2R1Y3RzLmxlbmd0aDtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXQgcHJvZHVjdHMgZm9yIGdpdmVuIHdhcmVob3VzZSB3aGljaCBhdmFpbGFibGUgZm9yIHB1cmNoYXNlXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB3YXJlaG91c2VJZFxuXHQgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZTxXYXJlaG91c2VQcm9kdWN0W10+fVxuXHQgKiBAbWVtYmVyb2YgV2FyZWhvdXNlc1Byb2R1Y3RzU2VydmljZVxuXHQgKi9cblx0QG9ic2VydmFibGVMaXN0ZW5lcigpXG5cdGdldEF2YWlsYWJsZSh3YXJlaG91c2VJZDogc3RyaW5nKTogT2JzZXJ2YWJsZTxXYXJlaG91c2VQcm9kdWN0W10+IHtcblx0XHRyZXR1cm4gdGhpcy5nZXQod2FyZWhvdXNlSWQpLnBpcGUoXG5cdFx0XHRtYXAoKHdhcmVob3VzZVByb2R1Y3RzKSA9PlxuXHRcdFx0XHRfLmZpbHRlcihcblx0XHRcdFx0XHR3YXJlaG91c2VQcm9kdWN0cyxcblx0XHRcdFx0XHQod2FyZWhvdXNlUHJvZHVjdCkgPT4gd2FyZWhvdXNlUHJvZHVjdC5jb3VudCA+IDBcblx0XHRcdFx0KVxuXHRcdFx0KVxuXHRcdCk7XG5cdH1cblxuXHQvKipcblx0ICogUmVtb3ZlIHByb2R1Y3RzIGZyb20gd2FyZWhvdXNlXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB3YXJlaG91c2VJZFxuXHQgKiBAcGFyYW0ge3N0cmluZ1tdfSBwcm9kdWN0c0lkc1xuXHQgKiBAcmV0dXJucyB7UHJvbWlzZTxXYXJlaG91c2VQcm9kdWN0W10+fVxuXHQgKiBAbWVtYmVyb2YgV2FyZWhvdXNlc1Byb2R1Y3RzU2VydmljZVxuXHQgKi9cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyByZW1vdmUoXG5cdFx0d2FyZWhvdXNlSWQ6IHN0cmluZyxcblx0XHRwcm9kdWN0c0lkczogc3RyaW5nW11cblx0KTogUHJvbWlzZTxXYXJlaG91c2VQcm9kdWN0W10+IHtcblx0XHR0aGlzLmxvZy5pbmZvKCdSZW1vdmluZyBwcm9kdWN0cyAnICsgcHJvZHVjdHNJZHMpO1xuXG5cdFx0Y29uc3Qgd2FyZWhvdXNlID0gYXdhaXQgdGhpcy53YXJlaG91c2VzU2VydmljZVxuXHRcdFx0LmdldCh3YXJlaG91c2VJZCwgdHJ1ZSlcblx0XHRcdC5waXBlKGZpcnN0KCkpXG5cdFx0XHQudG9Qcm9taXNlKCk7XG5cblx0XHRpZiAod2FyZWhvdXNlID09IG51bGwpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgVGhlcmUgaXMgbm8gd2FyZWhvdXNlIHdpdGggdGhlIGlkICR7d2FyZWhvdXNlfSFgKTtcblx0XHR9XG5cblx0XHR3YXJlaG91c2UucHJvZHVjdHMgPSB3YXJlaG91c2UucHJvZHVjdHMuZmlsdGVyKChwKSA9PiB7XG5cdFx0XHRpZiAoIXAucHJvZHVjdFsnX2lkJ10pIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBwcm9kdWN0SWQgPSBwLnByb2R1Y3RbJ2lkJ107XG5cdFx0XHRyZXR1cm4gIXByb2R1Y3RzSWRzLmluY2x1ZGVzKHByb2R1Y3RJZCk7XG5cdFx0fSk7XG5cdFx0YXdhaXQgdGhpcy53YXJlaG91c2VzU2VydmljZS5zYXZlKHdhcmVob3VzZSk7XG5cblx0XHRyZXR1cm4gd2FyZWhvdXNlLnByb2R1Y3RzO1xuXHR9XG5cblx0LyoqXG5cdCAqIEFkZCBwcm9kdWN0cyB0byB3YXJlaG91c2Vcblx0ICogVE9ETzogc2hvdWxkIFwibWVyZ2VcIiBwcm9kdWN0cywgbm90IGp1c3QgYWRkIHRoZW0hXG5cdCAqIEJ5IG1lcmdlIEkgbWVhbiBpbmNyZWFzZSBxdHkgaWYgcHJvZHVjdCBhbHJlYWR5IGluIHdhcmVob3VzZSBvciBhZGQgbmV3IHByb2R1Y3QgaWYgaXQncyBub3QuXG5cdCAqIFdlIGFsc28gc2hvdWxkIHRoaW5rIHdoYXQgdG8gZG8gd2l0aCBwcmljZXM/XG5cdCAqIElzIGl0IHBvc3NpYmxlIHRvIGhhdmUgMiBzYW1lIHByb2R1Y3RzIGJ1dCBjb21lIHdpdGggZGlmZmVyZW50IHByaWNlP1xuXHQgKiBPciB3ZSBzaG91bGQgbWVyZ2UgcHJvZHVjdHMgYW5kIHVzZSBsYXRlc3QgcHJpY2U/XG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB3YXJlaG91c2VJZFxuXHQgKiBAcGFyYW0ge0lXYXJlaG91c2VQcm9kdWN0Q3JlYXRlT2JqZWN0W119IHByb2R1Y3RzXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gW3RyaWdnZXJDaGFuZ2U9dHJ1ZV1cblx0ICogQHJldHVybnMge1Byb21pc2U8V2FyZWhvdXNlUHJvZHVjdFtdPn1cblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZXNQcm9kdWN0c1NlcnZpY2Vcblx0ICovXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgYWRkKFxuXHRcdHdhcmVob3VzZUlkOiBzdHJpbmcsXG5cdFx0cHJvZHVjdHM6IElXYXJlaG91c2VQcm9kdWN0Q3JlYXRlT2JqZWN0W10sXG5cdFx0dHJpZ2dlckNoYW5nZTogYm9vbGVhbiA9IHRydWVcblx0KTogUHJvbWlzZTxXYXJlaG91c2VQcm9kdWN0W10+IHtcblx0XHQvLyBUT0RPOiB1c2UgYXRvbWljIG9wZXJhdGlvbnMgKGUuZy46ZmluZEFuZE1vZGlmeSkgb3IgMiBwaGFzZSBjb21taXRcblx0XHQvLyBzZWUgaHR0cDovL2Jsb2cub2NsaXcuY29tLzIwMTIvMTEvMjUvbW9uZ29vc2UtYWRkLXRvLWFuLWV4aXN0aW5nLWFycmF5L1xuXG5cdFx0dGhpcy5sb2cuaW5mbygnQWRkaW5nIHByb2R1Y3RzICcgKyBKU09OLnN0cmluZ2lmeShwcm9kdWN0cykpO1xuXG5cdFx0bGV0IHdhcmVob3VzZSA9IGF3YWl0IHRoaXMud2FyZWhvdXNlc1NlcnZpY2Vcblx0XHRcdC5nZXQod2FyZWhvdXNlSWQsIGZhbHNlKVxuXHRcdFx0LnBpcGUoZmlyc3QoKSlcblx0XHRcdC50b1Byb21pc2UoKTsgLy8gcHJvZHVjdHMgbm90IHBvcHVsYXRlZCFcblxuXHRcdGlmICh3YXJlaG91c2UgPT0gbnVsbCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBUaGVyZSBpcyBubyB3YXJlaG91c2Ugd2l0aCB0aGUgaWQgJHt3YXJlaG91c2V9IWApO1xuXHRcdH1cblxuXHRcdGNvbnN0IG5vdFVwZGF0ZWRXYXJlaG91c2UgPSBfLmNsb25lKHdhcmVob3VzZSk7XG5cblx0XHQvLyBJbiBwcmFjdGljZSB0byBtYWtlIGl0IG1vcmUgcmVsaWFibGUsIHdlIHNob3VsZCBnbyBvbmUgYnkgb25lLCBpLmUuIG9uZSBwcm9kdWN0IGEgdGltZVxuXHRcdC8vIGFuZCBlYWNoIHRpbWUgZXhlY3V0ZSBhdG9taWMgb3BlcmF0aW9uIG9uIGVhY2ggcHJvZHVjdC5cblx0XHQvLyBTYXkgaWYgcHJvZHVjdCBhbHJlYWR5IHRoZXJlLCB3ZSB3YW50IHRvIGluY3JlYXNlIGNvdW50IHVzaW5nIGF0b21pYyBvcGVyYXRpb24gYnkgZ2l2ZW4gdmFsdWUgaW4gdGhlIHN0b3JhZ2UuXG5cdFx0Ly8gZXRjXG5cblx0XHRsZXQgbmV3UHJvZHM6IElXYXJlaG91c2VQcm9kdWN0Q3JlYXRlT2JqZWN0W107XG5cblx0XHRpZiAod2FyZWhvdXNlLnByb2R1Y3RzICYmIHdhcmVob3VzZS5wcm9kdWN0cy5sZW5ndGggPiAwKSB7XG5cdFx0XHRuZXdQcm9kcyA9IF8uY2xvbmUod2FyZWhvdXNlLnByb2R1Y3RzKTtcblxuXHRcdFx0Xy5lYWNoKHByb2R1Y3RzLCAocHJvZHVjdCkgPT4ge1xuXHRcdFx0XHRpZiAoIXByb2R1Y3QuaXNEZWxpdmVyeVJlcXVpcmVkICYmICFwcm9kdWN0LmlzVGFrZWF3YXkpIHtcblx0XHRcdFx0XHRwcm9kdWN0LmlzRGVsaXZlcnlSZXF1aXJlZCA9IHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y29uc3QgZXhpc3RlZCA9IF8uZmluZChcblx0XHRcdFx0XHRuZXdQcm9kcyxcblx0XHRcdFx0XHQobmV3UHJvZCkgPT5cblx0XHRcdFx0XHRcdChuZXdQcm9kLnByb2R1Y3QgYXMgc3RyaW5nKSA9PT1cblx0XHRcdFx0XHRcdChwcm9kdWN0LnByb2R1Y3QgYXMgc3RyaW5nKVxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHR0eXBlb2YgZXhpc3RlZCA9PT0gJ3VuZGVmaW5lZCcgfHxcblx0XHRcdFx0XHRleGlzdGVkID09PSB1bmRlZmluZWQgfHxcblx0XHRcdFx0XHRleGlzdGVkID09IG51bGxcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0bmV3UHJvZHMucHVzaChwcm9kdWN0KTsgLy8gaWYgbm8gc3VjaCBwcm9kdWN0IGV4aXN0ZWQgeWV0LCB3ZSBhZGQgaXRcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyBpZiBwcm9kdWN0IHdpdGggc2FtZSBpZCBhbHJlYWR5IGV4aXN0cywgd2Ugc2hvdWxkIGluY3JlYXNlIGhpcyBxdHlcblx0XHRcdFx0XHRpZiAoZXhpc3RlZC5jb3VudCAmJiBwcm9kdWN0LmNvdW50KSB7XG5cdFx0XHRcdFx0XHRleGlzdGVkLmNvdW50ICs9IHByb2R1Y3QuY291bnQ7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGV4aXN0ZWQuY291bnQgPSBwcm9kdWN0LmNvdW50O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQvLyBzaG91bGQgd2UgbWVyZ2UgcHJpY2UgaGVyZT8gV2hhdCBpZiBuZXcgcHJvZHVjdHMgY29tZSB3aXRoIG5ldyBwcmljZSxcblx0XHRcdFx0XHQvLyBzaG91bGQgd2UgbWFrZSBcImF2ZXJhZ2VcIiBwcmljZSBpbiB3YXJlaG91c2Ugb3IgdXNlIGxhdGVzdCBwcmljZSBpbnN0ZWFkP1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bmV3UHJvZHMgPSBwcm9kdWN0cztcblx0XHR9XG5cblx0XHR0cnkge1xuXHRcdFx0d2FyZWhvdXNlID0gbmV3IFdhcmVob3VzZShcblx0XHRcdFx0KGF3YWl0IHRoaXMud2FyZWhvdXNlc1NlcnZpY2UuTW9kZWwuZmluZEJ5SWRBbmRVcGRhdGUoXG5cdFx0XHRcdFx0d2FyZWhvdXNlSWQsXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0JHNldDogeyBwcm9kdWN0czogbmV3UHJvZHMgfSxcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHsgbmV3OiB0cnVlIH1cblx0XHRcdFx0KVxuXHRcdFx0XHRcdC5wb3B1bGF0ZSgncHJvZHVjdHMucHJvZHVjdCcpXG5cdFx0XHRcdFx0LmxlYW4oKVxuXHRcdFx0XHRcdC5leGVjKCkpIGFzIElXYXJlaG91c2Vcblx0XHRcdCk7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdHRoaXMubG9nLmVycm9yKGVycm9yKTtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdGlmICh0cmlnZ2VyQ2hhbmdlKSB7XG5cdFx0XHR0aGlzLndhcmVob3VzZXNTZXJ2aWNlLmV4aXN0ZW5jZS5uZXh0KHtcblx0XHRcdFx0aWQ6IHdhcmVob3VzZS5pZCxcblx0XHRcdFx0dmFsdWU6IHdhcmVob3VzZSxcblx0XHRcdFx0bGFzdFZhbHVlOiBub3RVcGRhdGVkV2FyZWhvdXNlLFxuXHRcdFx0XHR0eXBlOiBFeGlzdGVuY2VFdmVudFR5cGUuVXBkYXRlZCxcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdGNvbnN0IG5ld1Byb2RzSWRzID0gXy5tYXAobmV3UHJvZHMsICh3YXJlaG91c2VQcm9kdWN0KSA9PiB7XG5cdFx0XHRpZiAodHlwZW9mIHdhcmVob3VzZVByb2R1Y3QucHJvZHVjdCA9PT0gJ3N0cmluZycpIHtcblx0XHRcdFx0cmV0dXJuIHdhcmVob3VzZVByb2R1Y3QucHJvZHVjdCBhcyBzdHJpbmc7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gKHdhcmVob3VzZVByb2R1Y3QucHJvZHVjdCBhcyBJUHJvZHVjdCkuX2lkLnRvU3RyaW5nKCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gXy5maWx0ZXIod2FyZWhvdXNlLnByb2R1Y3RzLCAod2FyZWhvdXNlUHJvZHVjdCkgPT4ge1xuXHRcdFx0cmV0dXJuIF8uaW5jbHVkZXMobmV3UHJvZHNJZHMsIHdhcmVob3VzZVByb2R1Y3QucHJvZHVjdElkKTtcblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBJbmNyZWFzZSBpbnZlbnRvcnkgb2YgZ2l2ZW4gcHJvZHVjdCB1c2luZyBleGlzdGVkIHByb2R1Y3QgcHJpY2UgYnkgZ2l2ZW4gY291bnRcblx0ICogSWYgbm8gc3VjaCBwcm9kdWN0IGV4aXN0cyBpbiB3YXJlaG91c2UgeWV0LCBkbyBub3RoaW5nXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB3YXJlaG91c2VJZFxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcHJvZHVjdElkXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBjb3VudFxuXHQgKiBAcmV0dXJucyB7UHJvbWlzZTxXYXJlaG91c2VQcm9kdWN0Pn1cblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZXNQcm9kdWN0c1NlcnZpY2Vcblx0ICovXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgaW5jcmVhc2VDb3VudChcblx0XHR3YXJlaG91c2VJZDogc3RyaW5nLFxuXHRcdHByb2R1Y3RJZDogc3RyaW5nLFxuXHRcdGNvdW50OiBudW1iZXJcblx0KTogUHJvbWlzZTxXYXJlaG91c2VQcm9kdWN0PiB7XG5cdFx0Y29uc3Qgd2FyZWhvdXNlID0gYXdhaXQgdGhpcy53YXJlaG91c2VzU2VydmljZVxuXHRcdFx0LmdldCh3YXJlaG91c2VJZClcblx0XHRcdC5waXBlKGZpcnN0KCkpXG5cdFx0XHQudG9Qcm9taXNlKCk7XG5cblx0XHRpZiAod2FyZWhvdXNlKSB7XG5cdFx0XHRjb25zdCBleGlzdGVkUHJvZHVjdCA9IF8uZmluZChcblx0XHRcdFx0d2FyZWhvdXNlLnByb2R1Y3RzLFxuXHRcdFx0XHQod2FyZWhvdXNlUHJvZHVjdCkgPT4gd2FyZWhvdXNlUHJvZHVjdC5wcm9kdWN0SWQgPT09IHByb2R1Y3RJZFxuXHRcdFx0KTtcblxuXHRcdFx0aWYgKGV4aXN0ZWRQcm9kdWN0KSB7XG5cdFx0XHRcdC8vIHdlIHdhbnQgdG8gYWRkIGdpdmVuIHF0eSBvZiBzdWNoIHByb2R1Y3RzXG5cdFx0XHRcdGV4aXN0ZWRQcm9kdWN0LmNvdW50ICs9IGNvdW50O1xuXG5cdFx0XHRcdHJldHVybiB0aGlzLnNhdmVVcGRhdGVkKHdhcmVob3VzZUlkLCBleGlzdGVkUHJvZHVjdCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zdCBlcnJNc2cgPSAnQ2Fubm90IGZpbmQgcHJvZHVjdCc7XG5cdFx0XHRcdHRoaXMubG9nLmVycm9yKG5ldyBFcnJvcihlcnJNc2cpKTtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGVyck1zZyk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnN0IGVyck1zZyA9ICdDYW5ub3QgZmluZCB3YXJlaG91c2UnO1xuXHRcdFx0dGhpcy5sb2cuZXJyb3IobmV3IEVycm9yKGVyck1zZykpO1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGVyck1zZyk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEluY3JlYXNlIHNvbGQgcXR5IG9mIGdpdmVuIHByb2R1Y3QgYnkgZ2l2ZW4gY291bnRcblx0ICogSWYgbm8gc3VjaCBwcm9kdWN0IGV4aXN0cyBpbiB3YXJlaG91c2UgeWV0LCBkbyBub3RoaW5nXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB3YXJlaG91c2VJZFxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcHJvZHVjdElkXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBjb3VudFxuXHQgKiBAcmV0dXJucyB7UHJvbWlzZTxXYXJlaG91c2VQcm9kdWN0Pn1cblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZXNQcm9kdWN0c1NlcnZpY2Vcblx0ICovXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgaW5jcmVhc2VTb2xkQ291bnQoXG5cdFx0d2FyZWhvdXNlSWQ6IHN0cmluZyxcblx0XHRwcm9kdWN0SWQ6IHN0cmluZyxcblx0XHRjb3VudDogbnVtYmVyXG5cdCk6IFByb21pc2U8V2FyZWhvdXNlUHJvZHVjdD4ge1xuXHRcdGNvbnN0IHdhcmVob3VzZSA9IGF3YWl0IHRoaXMud2FyZWhvdXNlc1NlcnZpY2Vcblx0XHRcdC5nZXQod2FyZWhvdXNlSWQpXG5cdFx0XHQucGlwZShmaXJzdCgpKVxuXHRcdFx0LnRvUHJvbWlzZSgpO1xuXG5cdFx0aWYgKHdhcmVob3VzZSkge1xuXHRcdFx0Y29uc3QgZXhpc3RlZFByb2R1Y3QgPSBfLmZpbmQoXG5cdFx0XHRcdHdhcmVob3VzZS5wcm9kdWN0cyxcblx0XHRcdFx0KHdhcmVob3VzZVByb2R1Y3QpID0+IHdhcmVob3VzZVByb2R1Y3QucHJvZHVjdElkID09PSBwcm9kdWN0SWRcblx0XHRcdCk7XG5cblx0XHRcdGlmIChleGlzdGVkUHJvZHVjdCkge1xuXHRcdFx0XHQvLyB3ZSB3YW50IHRvIGFkZCBnaXZlbiBxdHkgb2Ygc3VjaCBwcm9kdWN0c1xuXHRcdFx0XHRleGlzdGVkUHJvZHVjdC5zb2xkQ291bnQgKz0gY291bnQ7XG5cblx0XHRcdFx0cmV0dXJuIHRoaXMuc2F2ZVVwZGF0ZWQod2FyZWhvdXNlSWQsIGV4aXN0ZWRQcm9kdWN0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnN0IGVyck1zZyA9ICdDYW5ub3QgZmluZCBwcm9kdWN0Jztcblx0XHRcdFx0dGhpcy5sb2cuZXJyb3IobmV3IEVycm9yKGVyck1zZykpO1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZXJyTXNnKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc3QgZXJyTXNnID0gJ0Nhbm5vdCBmaW5kIHdhcmVob3VzZSc7XG5cdFx0XHR0aGlzLmxvZy5lcnJvcihuZXcgRXJyb3IoZXJyTXNnKSk7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoZXJyTXNnKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogVE9ETzogZG9jdW1lbnRcblx0ICpcblx0ICogQHBhcmFtIHtzdHJpbmd9IHdhcmVob3VzZUlkXG5cdCAqIEBwYXJhbSB7V2FyZWhvdXNlUHJvZHVjdH0gX3VwZGF0ZWRXYXJlaG91c2VQcm9kdWN0XG5cdCAqIEByZXR1cm5zIHtQcm9taXNlPFdhcmVob3VzZVByb2R1Y3Q+fVxuXHQgKiBAbWVtYmVyb2YgV2FyZWhvdXNlc1Byb2R1Y3RzU2VydmljZVxuXHQgKi9cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyBzYXZlVXBkYXRlZChcblx0XHR3YXJlaG91c2VJZDogc3RyaW5nLFxuXHRcdEBzZXJpYWxpemF0aW9uKCh1OiBJV2FyZWhvdXNlUHJvZHVjdCkgPT4gbmV3IFdhcmVob3VzZVByb2R1Y3QodSkpXG5cdFx0X3VwZGF0ZWRXYXJlaG91c2VQcm9kdWN0OiBXYXJlaG91c2VQcm9kdWN0XG5cdCk6IFByb21pc2U8V2FyZWhvdXNlUHJvZHVjdD4ge1xuXHRcdGF3YWl0IHRoaXMud2FyZWhvdXNlc1NlcnZpY2UudGhyb3dJZk5vdEV4aXN0cyh3YXJlaG91c2VJZCk7XG5cdFx0aWYgKFxuXHRcdFx0IV91cGRhdGVkV2FyZWhvdXNlUHJvZHVjdC5pc0RlbGl2ZXJ5UmVxdWlyZWQgJiZcblx0XHRcdCFfdXBkYXRlZFdhcmVob3VzZVByb2R1Y3QuaXNUYWtlYXdheVxuXHRcdCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKG5vR2V0UHJvZHVjdFR5cGVNZXNzYWdlKTtcblx0XHR9XG5cblx0XHRjb25zdCB1cGRhdGVkV2FyZWhvdXNlUHJvZHVjdCA9IF8uY2xvbmUoX3VwZGF0ZWRXYXJlaG91c2VQcm9kdWN0KTtcblx0XHR1cGRhdGVkV2FyZWhvdXNlUHJvZHVjdC5wcm9kdWN0ID0gdXBkYXRlZFdhcmVob3VzZVByb2R1Y3QucHJvZHVjdElkO1xuXG5cdFx0Y29uc3QgdXBkYXRlZFdhcmVob3VzZSA9IChcblx0XHRcdGF3YWl0IHRoaXMud2FyZWhvdXNlc1NlcnZpY2UudXBkYXRlTXVsdGlwbGUoXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRfaWQ6IG5ldyBtb25nb29zZS5UeXBlcy5PYmplY3RJZCh3YXJlaG91c2VJZCksXG5cdFx0XHRcdFx0J3Byb2R1Y3RzLl9pZCc6IHVwZGF0ZWRXYXJlaG91c2VQcm9kdWN0Ll9pZCxcblx0XHRcdFx0fSxcblx0XHRcdFx0e1xuXHRcdFx0XHRcdCdwcm9kdWN0cy4kJzogdXBkYXRlZFdhcmVob3VzZVByb2R1Y3QsXG5cdFx0XHRcdH1cblx0XHRcdClcblx0XHQpWzBdO1xuXG5cdFx0cmV0dXJuIF8uZmluZChcblx0XHRcdHVwZGF0ZWRXYXJlaG91c2UucHJvZHVjdHMsXG5cdFx0XHQod2FyZWhvdXNlUHJvZHVjdCkgPT5cblx0XHRcdFx0d2FyZWhvdXNlUHJvZHVjdC5wcm9kdWN0SWQgPT09IHVwZGF0ZWRXYXJlaG91c2VQcm9kdWN0LnByb2R1Y3RJZFxuXHRcdCkgYXMgV2FyZWhvdXNlUHJvZHVjdDtcblx0fVxuXG5cdC8qKlxuXHQgKiBDaGFuZ2UgcHJpY2UgZm9yIHRoZSBwcm9kdWN0XG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB3YXJlaG91c2VJZFxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcHJvZHVjdElkIHdoaWNoIHByb2R1Y3QgcHJpY2Ugc2hvdWxkIGJlIGNoYW5nZWRcblx0ICogQHBhcmFtIHtudW1iZXJ9IHByaWNlIG5ldyBwcmljZVxuXHQgKiBAcmV0dXJucyB7UHJvbWlzZTxXYXJlaG91c2VQcm9kdWN0Pn1cblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZXNQcm9kdWN0c1NlcnZpY2Vcblx0ICovXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgY2hhbmdlUHJpY2UoXG5cdFx0d2FyZWhvdXNlSWQ6IHN0cmluZyxcblx0XHRwcm9kdWN0SWQ6IHN0cmluZyxcblx0XHRwcmljZTogbnVtYmVyXG5cdCk6IFByb21pc2U8V2FyZWhvdXNlUHJvZHVjdD4ge1xuXHRcdC8vIFRPRE86IFNvbWUgZ2xvYmFsIGRpc3RyaWJ1dGVkIGxvY2sgc2hvdWxkIGJlIGFwcGx5IGhlcmVcblx0XHQvLyBzbyB3ZSBjYW4ndCBjaGFuZ2UgcHJvZHVjdCBwcmljZSBvbiAyIHNlcGFyYXRlIHNlcnZlcnMgYXQgdGhlIHNhbWUgdGltZT9cblxuXHRcdGNvbnN0IHdhcmVob3VzZSA9IGF3YWl0IHRoaXMud2FyZWhvdXNlc1NlcnZpY2Vcblx0XHRcdC5nZXQod2FyZWhvdXNlSWQsIGZhbHNlKVxuXHRcdFx0LnBpcGUoZmlyc3QoKSlcblx0XHRcdC50b1Byb21pc2UoKTtcblxuXHRcdGlmICh3YXJlaG91c2UgPT0gbnVsbCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRgVGhlcmUgaXMgbm8gc3VjaCBhbiB3YXJlaG91c2Ugd2l0aCB0aGUgaWQgJHt3YXJlaG91c2VJZH1gXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdHRoaXMubG9nLmluZm8oXG5cdFx0XHQnQ2hhbmdlIHByb2R1Y3QgcHJpY2UgcmVxdWVzdGVkIGluIHdhcmVob3VzZTogJyArXG5cdFx0XHRcdEpTT04uc3RyaW5naWZ5KHdhcmVob3VzZSkgK1xuXHRcdFx0XHQnIGZvciBwcm9kdWN0IGlkOiAnICtcblx0XHRcdFx0cHJvZHVjdElkXG5cdFx0KTtcblxuXHRcdGNvbnN0IHByb2R1Y3QgPSBfLmZpbmQoXG5cdFx0XHR3YXJlaG91c2UucHJvZHVjdHMsXG5cdFx0XHQocCkgPT4gcC5wcm9kdWN0SWQgPT09IHByb2R1Y3RJZFxuXHRcdCk7XG5cblx0XHRpZiAocHJvZHVjdCAhPSBudWxsKSB7XG5cdFx0XHR0aGlzLmxvZy5pbmZvKFxuXHRcdFx0XHRgUHJvZHVjdCBwcmljZSBiZWZvcmU6ICR7cHJvZHVjdC5wcmljZX0gYW5kIHdlIHdhbnQgdG8gY2hhbmdlIGl0IHRvOiAke3ByaWNlfWBcblx0XHRcdCk7XG5cdFx0XHRwcm9kdWN0LnByaWNlID0gcHJpY2U7XG5cblx0XHRcdHJldHVybiB0aGlzLnNhdmVVcGRhdGVkKHdhcmVob3VzZUlkLCBwcm9kdWN0KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRgVGhlcmUgaXMgbm8gc3VjaCBhbiBwcm9kdWN0IHdpdGggdGhlIGlkICR7cHJvZHVjdElkfSBpbiB0aGUgd2FyZWhvdXNlIHdpdGggdGhlIGlkICR7d2FyZWhvdXNlSWR9YFxuXHRcdFx0KTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogUmVtb3ZlcyBwcm9kdWN0cyBmcm9tIHdhcmVob3VzZSAoY2FsbGVkIGR1cmluZyBzZWxsIG9mIHRoZSBwcm9kdWN0KVxuXHQgKiBBbHdheXMgY2F1c2UgY2hhbmdlIG5vdGlmaWNhdGlvbiB0byBiZSBzZW5kIHRvIHRoZSBjbGllbnRzXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB3YXJlaG91c2VJZFxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcHJvZHVjdElkIHdoYXQgcHJvZHVjdCBhdmFpbGFiaWxpdHkgc2hvdWxkIGJlIGRlY3JlYXNlZFxuXHQgKiBAcGFyYW0ge251bWJlcn0gY291bnQgaG93IG1hbnkgdG8gcmVtb3ZlXG5cdCAqIEByZXR1cm5zIHtQcm9taXNlPFdhcmVob3VzZVByb2R1Y3Q+fVxuXHQgKiBAbWVtYmVyb2YgV2FyZWhvdXNlc1Byb2R1Y3RzU2VydmljZVxuXHQgKi9cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyBkZWNyZWFzZUNvdW50KFxuXHRcdHdhcmVob3VzZUlkOiBzdHJpbmcsXG5cdFx0cHJvZHVjdElkOiBzdHJpbmcsXG5cdFx0Y291bnQ6IG51bWJlclxuXHQpOiBQcm9taXNlPFdhcmVob3VzZVByb2R1Y3Q+IHtcblx0XHQvLyBUT0RPOiBTb21lIGdsb2JhbCBkaXN0cmlidXRlZCBsb2NrIHNob3VsZCBiZSBhcHBseSBoZXJlXG5cdFx0Ly8gc28gd2UgY2FuJ3QgZGVjcmVhc2UgcHJvZHVjdCBjb3VudCBvbiAyIHNlcGFyYXRlIHNlcnZlcnMgYXQgdGhlIHNhbWUgdGltZSFcblxuXHRcdGNvbnN0IHdhcmVob3VzZSA9IGF3YWl0IHRoaXMud2FyZWhvdXNlc1NlcnZpY2Vcblx0XHRcdC5nZXQod2FyZWhvdXNlSWQpXG5cdFx0XHQucGlwZShmaXJzdCgpKVxuXHRcdFx0LnRvUHJvbWlzZSgpO1xuXG5cdFx0aWYgKHdhcmVob3VzZSA9PSBudWxsKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBmaW5kIHdhcmVob3VzZTogJHt3YXJlaG91c2VJZH1gKTtcblx0XHR9XG5cblx0XHR0aGlzLmxvZy5pbmZvKFxuXHRcdFx0YFJlbW92ZSByZXF1ZXN0ZWQgaW4gd2FyZWhvdXNlOiAke0pTT04uc3RyaW5naWZ5KFxuXHRcdFx0XHR3YXJlaG91c2Vcblx0XHRcdCl9IGZvciBwcm9kdWN0IGlkOiAke3Byb2R1Y3RJZH1gXG5cdFx0KTtcblxuXHRcdGNvbnN0IHByb2R1Y3QgPSBfLmZpbmQoXG5cdFx0XHR3YXJlaG91c2UucHJvZHVjdHMsXG5cdFx0XHQocCkgPT4gcC5wcm9kdWN0SWQgPT09IHByb2R1Y3RJZFxuXHRcdCk7XG5cblx0XHRpZiAocHJvZHVjdCAhPSBudWxsKSB7XG5cdFx0XHR0aGlzLmxvZy5pbmZvKFxuXHRcdFx0XHRgUHJvZHVjdCBjb3VudCBiZWZvcmUgcmVtb3ZlOiAke3Byb2R1Y3QuY291bnR9IGFuZCB3ZSB3YW50IHRvIHJlbW92ZSAke2NvdW50fSBwcm9kdWN0c2Bcblx0XHRcdCk7XG5cblx0XHRcdGlmIChwcm9kdWN0LmNvdW50ID49IGNvdW50KSB7XG5cdFx0XHRcdHByb2R1Y3QuY291bnQgLT0gY291bnQ7XG5cdFx0XHRcdHJldHVybiB0aGlzLnNhdmVVcGRhdGVkKHdhcmVob3VzZUlkLCBwcm9kdWN0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnN0IGVycm9yTXNnID1cblx0XHRcdFx0XHQnUmVxdWVzdCB0byByZW1vdmUgbW9yZSBwcm9kdWN0cyB0aGFuIGF2YWlsYWJsZSc7XG5cblx0XHRcdFx0dGhpcy5sb2cuZXJyb3Ioe1xuXHRcdFx0XHRcdGVycjogbmV3IEVycm9yKGVycm9yTXNnKSxcblx0XHRcdFx0XHRwcm9kdWN0LFxuXHRcdFx0XHRcdGNvdW50LFxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZXJyb3JNc2cpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdGBUaGVyZSBpcyBubyBzdWNoIGFuIHByb2R1Y3Qgd2l0aCB0aGUgaWQgJHtwcm9kdWN0SWR9IGluIHRoZSB3YXJlaG91c2Ugd2l0aCB0aGUgaWQgJHt3YXJlaG91c2VJZH1gXG5cdFx0XHQpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBEZWNyZWFzZSBwcm9kdWN0cyBzb2xkIGNvdW50IGZyb20gd2FyZWhvdXNlIChjYWxsZWQgZHVyaW5nIHRoZSBvcmRlciBjYW5jZWwpXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB3YXJlaG91c2VJZFxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcHJvZHVjdElkXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBjb3VudFxuXHQgKiBAcmV0dXJucyB7UHJvbWlzZTxXYXJlaG91c2VQcm9kdWN0Pn1cblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZXNQcm9kdWN0c1NlcnZpY2Vcblx0ICovXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgZGVjcmVhc2VTb2xkQ291bnQoXG5cdFx0d2FyZWhvdXNlSWQ6IHN0cmluZyxcblx0XHRwcm9kdWN0SWQ6IHN0cmluZyxcblx0XHRjb3VudDogbnVtYmVyXG5cdCk6IFByb21pc2U8V2FyZWhvdXNlUHJvZHVjdD4ge1xuXHRcdC8vIFRPRE86IFNvbWUgZ2xvYmFsIGRpc3RyaWJ1dGVkIGxvY2sgc2hvdWxkIGJlIGFwcGx5IGhlcmVcblx0XHQvLyBzbyB3ZSBjYW4ndCBkZWNyZWFzZSBwcm9kdWN0IHNvbGQgY291bnQgb24gMiBzZXBhcmF0ZSBzZXJ2ZXJzIGF0IHRoZSBzYW1lIHRpbWUhXG5cblx0XHRjb25zdCB3YXJlaG91c2UgPSBhd2FpdCB0aGlzLndhcmVob3VzZXNTZXJ2aWNlXG5cdFx0XHQuZ2V0KHdhcmVob3VzZUlkKVxuXHRcdFx0LnBpcGUoZmlyc3QoKSlcblx0XHRcdC50b1Byb21pc2UoKTtcblxuXHRcdGlmICh3YXJlaG91c2UgPT0gbnVsbCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgZmluZCB3YXJlaG91c2U6ICR7d2FyZWhvdXNlSWR9YCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5sb2cuaW5mbyhcblx0XHRcdGBSZW1vdmUgcmVxdWVzdGVkIGluIHdhcmVob3VzZTogJHtKU09OLnN0cmluZ2lmeShcblx0XHRcdFx0d2FyZWhvdXNlXG5cdFx0XHQpfSBmb3IgcHJvZHVjdCBpZDogJHtwcm9kdWN0SWR9YFxuXHRcdCk7XG5cblx0XHRjb25zdCBwcm9kdWN0ID0gXy5maW5kKFxuXHRcdFx0d2FyZWhvdXNlLnByb2R1Y3RzLFxuXHRcdFx0KHApID0+IHAucHJvZHVjdElkID09PSBwcm9kdWN0SWRcblx0XHQpO1xuXG5cdFx0aWYgKHByb2R1Y3QgIT0gbnVsbCkge1xuXHRcdFx0dGhpcy5sb2cuaW5mbyhcblx0XHRcdFx0YFByb2R1Y3Qgc29sZCBjb3VudCBiZWZvcmUgZGVjcmVhc2U6ICR7cHJvZHVjdC5zb2xkQ291bnR9IGFuZCB3ZSB3YW50IHRvIGRlY3JlYXNlICR7Y291bnR9IHByb2R1Y3RzYFxuXHRcdFx0KTtcblxuXHRcdFx0aWYgKHByb2R1Y3Quc29sZENvdW50ID49IGNvdW50KSB7XG5cdFx0XHRcdHByb2R1Y3Quc29sZENvdW50IC09IGNvdW50O1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5zYXZlVXBkYXRlZCh3YXJlaG91c2VJZCwgcHJvZHVjdCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zdCBlcnJvck1zZyA9XG5cdFx0XHRcdFx0J1JlcXVlc3QgdG8gZGVjcmVhc2UgY291bnQgb2YgbW9yZSBwcm9kdWN0cyB0aGFuIGF2YWlsYWJsZSc7XG5cblx0XHRcdFx0dGhpcy5sb2cuZXJyb3Ioe1xuXHRcdFx0XHRcdGVycjogbmV3IEVycm9yKGVycm9yTXNnKSxcblx0XHRcdFx0XHRwcm9kdWN0LFxuXHRcdFx0XHRcdGNvdW50LFxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZXJyb3JNc2cpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdGBUaGVyZSBpcyBubyBzdWNoIGFuIHByb2R1Y3Qgd2l0aCB0aGUgaWQgJHtwcm9kdWN0SWR9IGluIHRoZSB3YXJlaG91c2Ugd2l0aCB0aGUgaWQgJHt3YXJlaG91c2VJZH1gXG5cdFx0XHQpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBHZXQgVG9wIHNvbGQgcHJvZHVjdHMgZnJvbSBnaXZlbiBXYXJlaG91c2Vcblx0ICpcblx0ICogQHBhcmFtIHtzdHJpbmd9IHdhcmVob3VzZUlkIHdhcmVob3VzZSBmcm9tIHdoaWNoIHRvIHJldHVybiBwcm9kdWN0c1xuXHQgKiBAcGFyYW0ge251bWJlcn0gcXVhbnRpdHkgaG93IG1hbnkgcHJvZHVjdHMgdG8gcmV0dXJuXG5cdCAqIEByZXR1cm5zIHtPYnNlcnZhYmxlPFdhcmVob3VzZVByb2R1Y3RbXT59XG5cdCAqIEBtZW1iZXJvZiBXYXJlaG91c2VzUHJvZHVjdHNTZXJ2aWNlXG5cdCAqL1xuXHRAb2JzZXJ2YWJsZUxpc3RlbmVyKClcblx0Z2V0VG9wUHJvZHVjdHMoXG5cdFx0d2FyZWhvdXNlSWQ6IHN0cmluZyxcblx0XHRxdWFudGl0eTogbnVtYmVyXG5cdCk6IE9ic2VydmFibGU8V2FyZWhvdXNlUHJvZHVjdFtdPiB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0KHdhcmVob3VzZUlkKS5waXBlKFxuXHRcdFx0bWFwKCh3YXJlaG91c2VQcm9kdWN0cykgPT4ge1xuXHRcdFx0XHRsZXQgdG9wUHJvZHVjdHMgPSBfLmZpbHRlcihcblx0XHRcdFx0XHR3YXJlaG91c2VQcm9kdWN0cyxcblx0XHRcdFx0XHQod2FyZWhvdXNlUHJvZHVjdCkgPT4gd2FyZWhvdXNlUHJvZHVjdC5zb2xkQ291bnQgPiAwXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0dG9wUHJvZHVjdHMgPSBfLm9yZGVyQnkodG9wUHJvZHVjdHMsIFsnc29sZENvdW50J10sIFsnZGVzYyddKTtcblxuXHRcdFx0XHRyZXR1cm4gXy50YWtlKHRvcFByb2R1Y3RzLCBxdWFudGl0eSk7XG5cdFx0XHR9KVxuXHRcdCk7XG5cdH1cblxuXHRAb2JzZXJ2YWJsZUxpc3RlbmVyKClcblx0Z2V0UHJvZHVjdChcblx0XHR3YXJlaG91c2VJZDogc3RyaW5nLFxuXHRcdHdhcmVob3VzZVByb2R1Y3RJZDogc3RyaW5nXG5cdCk6IE9ic2VydmFibGU8V2FyZWhvdXNlUHJvZHVjdD4ge1xuXHRcdHJldHVybiB0aGlzLndhcmVob3VzZXNTZXJ2aWNlLmdldCh3YXJlaG91c2VJZCwgdHJ1ZSkucGlwZShcblx0XHRcdGV4aGF1c3RNYXAoKHdhcmVob3VzZSkgPT4ge1xuXHRcdFx0XHRpZiAod2FyZWhvdXNlID09PSBudWxsKSB7XG5cdFx0XHRcdFx0cmV0dXJuIF90aHJvdyhcblx0XHRcdFx0XHRcdG5ldyBFcnJvcihcblx0XHRcdFx0XHRcdFx0YFdhcmVob3VzZSB3aXRoIHRoZSBpZCAke3dhcmVob3VzZUlkfSBkb2Vzbid0IGV4aXN0YFxuXHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmV0dXJuIG9mKHdhcmVob3VzZSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pLFxuXHRcdFx0bWFwKCh3YXJlaG91c2UpID0+XG5cdFx0XHRcdHdhcmVob3VzZS5wcm9kdWN0cy5maW5kKChwKSA9PiBwLmlkID09PSB3YXJlaG91c2VQcm9kdWN0SWQpXG5cdFx0XHQpXG5cdFx0KTtcblx0fVxufVxuIiwiaW1wb3J0IExvZ2dlciBmcm9tICdidW55YW4nO1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IGluamVjdCwgaW5qZWN0YWJsZSB9IGZyb20gJ2ludmVyc2lmeSc7XG5pbXBvcnQgeyBQcm9kdWN0c1NlcnZpY2UgfSBmcm9tICcuLi9wcm9kdWN0cyc7XG5pbXBvcnQgeyBjcmVhdGVFdmVyTG9nZ2VyIH0gZnJvbSAnLi4vLi4vaGVscGVycy9Mb2cnO1xuaW1wb3J0IFdhcmVob3VzZSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL1dhcmVob3VzZSc7XG5pbXBvcnQgeyBkZWZhdWx0IGFzIElXYXJlaG91c2UgfSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2ludGVyZmFjZXMvSVdhcmVob3VzZSc7XG5pbXBvcnQgeyBJR2VvTG9jYXRpb25DcmVhdGVPYmplY3QgfSBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2ludGVyZmFjZXMvSUdlb0xvY2F0aW9uJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCBJV2FyZWhvdXNlUm91dGVyLCB7XG5cdElXYXJlaG91c2VSZWdpc3RyYXRpb25JbnB1dCxcbn0gZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9yb3V0ZXJzL0lXYXJlaG91c2VSb3V0ZXInO1xuaW1wb3J0IHtcblx0YXN5bmNMaXN0ZW5lcixcblx0b2JzZXJ2YWJsZUxpc3RlbmVyLFxuXHRyb3V0ZXJOYW1lLFxuXHRzZXJpYWxpemF0aW9uLFxufSBmcm9tICdAcHlyby9pbyc7XG5pbXBvcnQgSVNlcnZpY2UgZnJvbSAnLi4vSVNlcnZpY2UnO1xuaW1wb3J0IHsgY29uY2F0LCBleGhhdXN0TWFwLCB0YXAsIGZpcnN0LCBtYXAsIHN3aXRjaE1hcCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IG9mIH0gZnJvbSAncnhqcy9vYnNlcnZhYmxlL29mJztcbmltcG9ydCB7IERCU2VydmljZSB9IGZyb20gJ0BweXJvL2RiLXNlcnZlcic7XG5pbXBvcnQgeyBJV2FyZWhvdXNlTG9naW5SZXNwb25zZSB9IGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vcm91dGVycy9JV2FyZWhvdXNlUm91dGVyJztcbmltcG9ydCB7IGVudiB9IGZyb20gJy4uLy4uL2Vudic7XG5pbXBvcnQgeyBBdXRoU2VydmljZSwgQXV0aFNlcnZpY2VGYWN0b3J5IH0gZnJvbSAnLi4vYXV0aCc7XG5pbXBvcnQgeyB2MSBhcyB1dWlkIH0gZnJvbSAndXVpZCc7XG5pbXBvcnQgSVBhZ2luZ09wdGlvbnMgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9pbnRlcmZhY2VzL0lQYWdpbmdPcHRpb25zJztcblxuLyoqXG4gKiBXYXJlaG91c2VzIFNlcnZpY2VcbiAqXG4gKiBAZXhwb3J0XG4gKiBAY2xhc3MgV2FyZWhvdXNlc1NlcnZpY2VcbiAqIEBleHRlbmRzIHtEQlNlcnZpY2U8V2FyZWhvdXNlPn1cbiAqIEBpbXBsZW1lbnRzIHtJV2FyZWhvdXNlUm91dGVyfVxuICogQGltcGxlbWVudHMge0lTZXJ2aWNlfVxuICovXG5AaW5qZWN0YWJsZSgpXG5Acm91dGVyTmFtZSgnd2FyZWhvdXNlJylcbmV4cG9ydCBjbGFzcyBXYXJlaG91c2VzU2VydmljZSBleHRlbmRzIERCU2VydmljZTxXYXJlaG91c2U+XG5cdGltcGxlbWVudHMgSVdhcmVob3VzZVJvdXRlciwgSVNlcnZpY2Uge1xuXHRwdWJsaWMgcmVhZG9ubHkgREJPYmplY3Q6IGFueSA9IFdhcmVob3VzZTtcblxuXHRwcm90ZWN0ZWQgbG9nOiBMb2dnZXIgPSBjcmVhdGVFdmVyTG9nZ2VyKHsgbmFtZTogJ3dhcmVob3VzZXNTZXJ2aWNlJyB9KTtcblxuXHRwcml2YXRlIHJlYWRvbmx5IGF1dGhTZXJ2aWNlOiBBdXRoU2VydmljZTxXYXJlaG91c2U+O1xuXG5cdGNvbnN0cnVjdG9yKFxuXHRcdEBpbmplY3QoUHJvZHVjdHNTZXJ2aWNlKVxuXHRcdHByaXZhdGUgcmVhZG9ubHkgcHJvZHVjdHNTZXJ2aWNlOiBQcm9kdWN0c1NlcnZpY2UsXG5cdFx0QGluamVjdCgnRmFjdG9yeTxBdXRoU2VydmljZT4nKVxuXHRcdHByaXZhdGUgcmVhZG9ubHkgYXV0aFNlcnZpY2VGYWN0b3J5OiBBdXRoU2VydmljZUZhY3Rvcnlcblx0KSB7XG5cdFx0c3VwZXIoKTtcblx0XHR0aGlzLmF1dGhTZXJ2aWNlID0gdGhpcy5hdXRoU2VydmljZUZhY3Rvcnkoe1xuXHRcdFx0cm9sZTogJ3dhcmVob3VzZScsXG5cdFx0XHRFbnRpdHk6IFdhcmVob3VzZSxcblx0XHRcdHNhbHRSb3VuZHM6IGVudi5VU0VSX1BBU1NXT1JEX0JDUllQVF9TQUxUX1JPVU5EUyxcblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXQgTWVyY2hhbnRzXG5cdCAqXG5cdCAqIEBwYXJhbSB7Kn0gZmluZElucHV0XG5cdCAqIEBwYXJhbSB7SVBhZ2luZ09wdGlvbnN9IHBhZ2luZ09wdGlvbnNcblx0ICogQHJldHVybnNcblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZXNTZXJ2aWNlXG5cdCAqL1xuXHRhc3luYyBnZXRNZXJjaGFudHMoZmluZElucHV0OiBhbnksIHBhZ2luZ09wdGlvbnM6IElQYWdpbmdPcHRpb25zKSB7XG5cdFx0Y29uc3Qgc29ydE9iaiA9IHt9O1xuXHRcdGlmIChwYWdpbmdPcHRpb25zLnNvcnQpIHtcblx0XHRcdHNvcnRPYmpbcGFnaW5nT3B0aW9ucy5zb3J0LmZpZWxkXSA9IHBhZ2luZ09wdGlvbnMuc29ydC5zb3J0Qnk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuTW9kZWwuZmluZCh7XG5cdFx0XHQuLi5maW5kSW5wdXQsXG5cdFx0XHRpc0RlbGV0ZWQ6IHsgJGVxOiBmYWxzZSB9LFxuXHRcdH0pXG5cdFx0XHQuc29ydChzb3J0T2JqKVxuXHRcdFx0LnNraXAocGFnaW5nT3B0aW9ucy5za2lwKVxuXHRcdFx0LmxpbWl0KHBhZ2luZ09wdGlvbnMubGltaXQpXG5cdFx0XHQubGVhbigpXG5cdFx0XHQuZXhlYygpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldCBhbGwgYWN0aXZlIG1lcmNoYW50c1xuXHQgKlxuXHQgKiBAcGFyYW0ge2Jvb2xlYW59IFtmdWxsUHJvZHVjdHM9ZmFsc2VdXG5cdCAqIEByZXR1cm5zIHtPYnNlcnZhYmxlPFdhcmVob3VzZVtdPn1cblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZXNTZXJ2aWNlXG5cdCAqL1xuXHRAb2JzZXJ2YWJsZUxpc3RlbmVyKClcblx0Z2V0QWxsQWN0aXZlKGZ1bGxQcm9kdWN0czogYm9vbGVhbiA9IGZhbHNlKTogT2JzZXJ2YWJsZTxXYXJlaG91c2VbXT4ge1xuXHRcdGNvbnN0IGNhbGxJZCA9IHV1aWQoKTtcblxuXHRcdHRoaXMubG9nLmluZm8oXG5cdFx0XHR7IGNhbGxJZCwgZnVsbFByb2R1Y3RzIH0sXG5cdFx0XHQnLmdldEFsbEFjdGl2ZShmdWxsUHJvZHVjdHMpIGNhbGxlZCdcblx0XHQpO1xuXG5cdFx0cmV0dXJuIG9mKG51bGwpLnBpcGUoXG5cdFx0XHRjb25jYXQodGhpcy5leGlzdGVuY2UpLFxuXHRcdFx0ZXhoYXVzdE1hcCgoKSA9PiB0aGlzLl9nZXRBbGxDdXJyZW50QWN0aXZlKGZ1bGxQcm9kdWN0cykpLFxuXHRcdFx0dGFwKHtcblx0XHRcdFx0bmV4dDogKHdhcmVob3VzZXMpID0+IHtcblx0XHRcdFx0XHR0aGlzLmxvZy5pbmZvKFxuXHRcdFx0XHRcdFx0eyBjYWxsSWQsIGZ1bGxQcm9kdWN0cywgd2FyZWhvdXNlcyB9LFxuXHRcdFx0XHRcdFx0Jy5nZXRBbGxBY3RpdmUoZnVsbFByb2R1Y3RzKSBlbWl0dGVkIG5leHQgdmFsdWUnXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fSxcblx0XHRcdFx0ZXJyb3I6IChlcnIpID0+IHtcblx0XHRcdFx0XHR0aGlzLmxvZy5lcnJvcihcblx0XHRcdFx0XHRcdHsgY2FsbElkLCBmdWxsUHJvZHVjdHMsIGVyciB9LFxuXHRcdFx0XHRcdFx0Jy5nZXRBbGxBY3RpdmUoZnVsbFByb2R1Y3RzKSB0aHJvd24gZXJyb3IhJ1xuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH0sXG5cdFx0XHR9KVxuXHRcdCk7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlIG5ldyBNZXJjaGFudFxuXHQgKlxuXHQgKiBAcGFyYW0ge0lXYXJlaG91c2VSZWdpc3RyYXRpb25JbnB1dH0gaW5wdXRcblx0ICogQHJldHVybnNcblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZXNTZXJ2aWNlXG5cdCAqL1xuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIHJlZ2lzdGVyKGlucHV0OiBJV2FyZWhvdXNlUmVnaXN0cmF0aW9uSW5wdXQpIHtcblx0XHRjb25zdCB3YXJlaG91c2UgPSBhd2FpdCBzdXBlci5jcmVhdGUoe1xuXHRcdFx0Li4uaW5wdXQud2FyZWhvdXNlLFxuXHRcdFx0Li4uKGlucHV0LnBhc3N3b3JkXG5cdFx0XHRcdD8ge1xuXHRcdFx0XHRcdFx0aGFzaDogYXdhaXQgdGhpcy5hdXRoU2VydmljZS5nZXRQYXNzd29yZEhhc2goXG5cdFx0XHRcdFx0XHRcdGlucHV0LnBhc3N3b3JkXG5cdFx0XHRcdFx0XHQpLFxuXHRcdFx0XHQgIH1cblx0XHRcdFx0OiB7fSksXG5cdFx0fSk7XG5cdFx0cmV0dXJuIHdhcmVob3VzZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBVcGRhdGUgcGFzc3dvcmQgZm9yIE1lcmNoYW50IGFkbWluIHVzZXJcblx0ICpcblx0ICogQHBhcmFtIHtXYXJlaG91c2VbJ2lkJ119IGlkXG5cdCAqIEBwYXJhbSB7eyBjdXJyZW50OiBzdHJpbmc7IG5ldzogc3RyaW5nIH19IHBhc3N3b3JkXG5cdCAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuXHQgKiBAbWVtYmVyb2YgV2FyZWhvdXNlc1NlcnZpY2Vcblx0ICovXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgdXBkYXRlUGFzc3dvcmQoXG5cdFx0aWQ6IFdhcmVob3VzZVsnaWQnXSxcblx0XHRwYXNzd29yZDogeyBjdXJyZW50OiBzdHJpbmc7IG5ldzogc3RyaW5nIH1cblx0KTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0YXdhaXQgdGhpcy50aHJvd0lmTm90RXhpc3RzKGlkKTtcblx0XHRhd2FpdCB0aGlzLmF1dGhTZXJ2aWNlLnVwZGF0ZVBhc3N3b3JkKGlkLCBwYXNzd29yZCk7XG5cdH1cblxuXHQvKipcblx0ICogQXV0aGVudGljYXRlIHVzZXIgaW4gdGhlIE1lcmNoYW50IGFwcFxuXHQgKiBUT0RPOiBtb3ZlIHRvIHNlcGFyYXRlIEF1dGggc2VydmljZVxuXHQgKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdXNlcm5hbWVcblx0ICogQHBhcmFtIHtzdHJpbmd9IHBhc3N3b3JkXG5cdCAqIEByZXR1cm5zIHsoUHJvbWlzZTxJV2FyZWhvdXNlTG9naW5SZXNwb25zZSB8IG51bGw+KX1cblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZXNTZXJ2aWNlXG5cdCAqL1xuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIGxvZ2luKFxuXHRcdHVzZXJuYW1lOiBzdHJpbmcsXG5cdFx0cGFzc3dvcmQ6IHN0cmluZ1xuXHQpOiBQcm9taXNlPElXYXJlaG91c2VMb2dpblJlc3BvbnNlIHwgbnVsbD4ge1xuXHRcdGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuYXV0aFNlcnZpY2UubG9naW4oeyB1c2VybmFtZSB9LCBwYXNzd29yZCk7XG5cblx0XHRpZiAoIXJlcyB8fCByZXMuZW50aXR5LmlzRGVsZXRlZCkge1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHdhcmVob3VzZTogcmVzLmVudGl0eSxcblx0XHRcdHRva2VuOiByZXMudG9rZW4sXG5cdFx0fTtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXQgTWVyY2hhbnRcblx0ICpcblx0ICogQHBhcmFtIHtzdHJpbmd9IGlkXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Z1bGxQcm9kdWN0cz10cnVlXVxuXHQgKiBAcmV0dXJucyB7KE9ic2VydmFibGU8V2FyZWhvdXNlIHwgbnVsbD4pfVxuXHQgKiBAbWVtYmVyb2YgV2FyZWhvdXNlc1NlcnZpY2Vcblx0ICovXG5cdEBvYnNlcnZhYmxlTGlzdGVuZXIoKVxuXHRnZXQoaWQ6IHN0cmluZywgZnVsbFByb2R1Y3RzID0gdHJ1ZSk6IE9ic2VydmFibGU8V2FyZWhvdXNlIHwgbnVsbD4ge1xuXHRcdGlmICghZnVsbFByb2R1Y3RzKSB7XG5cdFx0XHRyZXR1cm4gc3VwZXIuZ2V0KGlkKS5waXBlKFxuXHRcdFx0XHRtYXAoYXN5bmMgKHdhcmVob3VzZSkgPT4ge1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMudGhyb3dJZk5vdEV4aXN0cyhpZCk7XG5cdFx0XHRcdFx0cmV0dXJuIHdhcmVob3VzZTtcblx0XHRcdFx0fSksXG5cdFx0XHRcdHN3aXRjaE1hcCgod2FyZWhvdXNlKSA9PiB3YXJlaG91c2UpXG5cdFx0XHQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gc3VwZXJcblx0XHRcdFx0LmdldChpZClcblx0XHRcdFx0LnBpcGUoXG5cdFx0XHRcdFx0bWFwKGFzeW5jICh3YXJlaG91c2UpID0+IHtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMudGhyb3dJZk5vdEV4aXN0cyhpZCk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gd2FyZWhvdXNlO1xuXHRcdFx0XHRcdH0pLFxuXHRcdFx0XHRcdHN3aXRjaE1hcCgod2FyZWhvdXNlKSA9PiB3YXJlaG91c2UpXG5cdFx0XHRcdClcblx0XHRcdFx0LnBpcGUoZXhoYXVzdE1hcCgoKSA9PiB0aGlzLl9nZXQoaWQsIHRydWUpKSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFNldCBuZXcgbG9jYXRpb24gZm9yIGV4aXN0ZWQgd2FyZWhvdXNlXG5cdCAqIE5vdGU6IHdlIHN1cHBvcnQgbW92aW5nIG1lcmNoYW50cy4gRm9yIGV4YW1wbGUsIHNvbWUgcGVvcGxlL2NvbXBhbmllcyBzZWxsIHByb2R1Y3RzIG9uIHRoZSBcImdvXCIuXG5cdCAqIEluIHN1Y2ggY2FzZSwgdGhpcyBtZXRob2Qgd2lsbCBiZSBjYWxsZWQgcGVyaW9kaWNhbGx5IHRvIHVwZGF0ZSBNZXJjaGFudCBsb2NhdGlvbiBpbiByZWFsLXRpbWVcblx0ICpcblx0ICogQHBhcmFtIHtzdHJpbmd9IHdhcmVob3VzZUlkXG5cdCAqIEBwYXJhbSB7SUdlb0xvY2F0aW9uQ3JlYXRlT2JqZWN0fSBnZW9Mb2NhdGlvblxuXHQgKiBAcmV0dXJucyB7UHJvbWlzZTxXYXJlaG91c2U+fVxuXHQgKiBAbWVtYmVyb2YgV2FyZWhvdXNlc1NlcnZpY2Vcblx0ICovXG5cdEBhc3luY0xpc3RlbmVyKClcblx0YXN5bmMgdXBkYXRlR2VvTG9jYXRpb24oXG5cdFx0d2FyZWhvdXNlSWQ6IHN0cmluZyxcblx0XHRnZW9Mb2NhdGlvbjogSUdlb0xvY2F0aW9uQ3JlYXRlT2JqZWN0XG5cdCk6IFByb21pc2U8V2FyZWhvdXNlPiB7XG5cdFx0YXdhaXQgdGhpcy50aHJvd0lmTm90RXhpc3RzKHdhcmVob3VzZUlkKTtcblx0XHRyZXR1cm4gdGhpcy51cGRhdGUod2FyZWhvdXNlSWQsIHsgZ2VvTG9jYXRpb24gfSk7XG5cdH1cblxuXHQvKipcblx0ICogU2V0IHdhcmVob3VzZSB0byBhdmFpbGFibGUgb3Igbm90IGF2YWlsYWJsZVxuXHQgKiAoZS5nLiB3YXJlaG91c2UgY2xvc2Ugb3Igb3BlbiBldGMpXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB3YXJlaG91c2VJZFxuXHQgKiBAcGFyYW0ge2Jvb2xlYW59IGlzQXZhaWxhYmxlXG5cdCAqIEByZXR1cm5zIHtQcm9taXNlPFdhcmVob3VzZT59XG5cdCAqIEBtZW1iZXJvZiBXYXJlaG91c2VzU2VydmljZVxuXHQgKi9cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyB1cGRhdGVBdmFpbGFiaWxpdHkoXG5cdFx0d2FyZWhvdXNlSWQ6IHN0cmluZyxcblx0XHRpc0F2YWlsYWJsZTogYm9vbGVhblxuXHQpOiBQcm9taXNlPFdhcmVob3VzZT4ge1xuXHRcdGF3YWl0IHRoaXMudGhyb3dJZk5vdEV4aXN0cyh3YXJlaG91c2VJZCk7XG5cdFx0cmV0dXJuIHRoaXMudXBkYXRlKHdhcmVob3VzZUlkLCB7IGlzQWN0aXZlOiBpc0F2YWlsYWJsZSB9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBVcGRhdGUgTWVyY2hhbnQgZGV0YWlsc1xuXHQgKlxuXHQgKiBAcGFyYW0ge1dhcmVob3VzZX0gd2FyZWhvdXNlXG5cdCAqIEByZXR1cm5zIHtQcm9taXNlPFdhcmVob3VzZT59XG5cdCAqIEBtZW1iZXJvZiBXYXJlaG91c2VzU2VydmljZVxuXHQgKi9cblx0QGFzeW5jTGlzdGVuZXIoKVxuXHRhc3luYyBzYXZlKFxuXHRcdEBzZXJpYWxpemF0aW9uKCh3OiBJV2FyZWhvdXNlKSA9PiBuZXcgV2FyZWhvdXNlKHcpKSB3YXJlaG91c2U6IFdhcmVob3VzZVxuXHQpOiBQcm9taXNlPFdhcmVob3VzZT4ge1xuXHRcdGF3YWl0IHRoaXMudGhyb3dJZk5vdEV4aXN0cyh3YXJlaG91c2UuaWQpO1xuXG5cdFx0d2FyZWhvdXNlID0gXy5jbG9uZSh3YXJlaG91c2UpO1xuXG5cdFx0Xy5lYWNoKHdhcmVob3VzZS5wcm9kdWN0cywgKHdhcmVob3VzZVByb2R1Y3QpID0+IHtcblx0XHRcdHdhcmVob3VzZVByb2R1Y3QucHJvZHVjdCA9IHdhcmVob3VzZVByb2R1Y3QucHJvZHVjdElkO1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHRoaXMudXBkYXRlKHdhcmVob3VzZS5pZCwgd2FyZWhvdXNlKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDaGVjayBpZiBtZXJjaGFudCByZWNvcmQgZXhpc3RzIGFuZCBub3QgZGVsZXRlZC5cblx0ICogVGhyb3dzIGV4Y2VwdGlvbiBpZiBub3QgZm91bmQgb3IgZGVsZXRlZC5cblx0ICpcblx0ICogQHBhcmFtIHtzdHJpbmd9IHN0b3JlSWRcblx0ICogQG1lbWJlcm9mIFdhcmVob3VzZXNTZXJ2aWNlXG5cdCAqL1xuXHRhc3luYyB0aHJvd0lmTm90RXhpc3RzKHN0b3JlSWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGNvbnN0IHN0b3JlID0gYXdhaXQgc3VwZXIuZ2V0KHN0b3JlSWQpLnBpcGUoZmlyc3QoKSkudG9Qcm9taXNlKCk7XG5cblx0XHRpZiAoIXN0b3JlIHx8IHN0b3JlLmlzRGVsZXRlZCkge1xuXHRcdFx0dGhyb3cgRXJyb3IoYFN0b3JlIHdpdGggaWQgJyR7c3RvcmVJZH0nIGRvZXMgbm90IGV4aXN0cyFgKTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIF9nZXQoaWQ6IHN0cmluZywgZnVsbFByb2R1Y3RzID0gZmFsc2UpOiBQcm9taXNlPFdhcmVob3VzZT4ge1xuXHRcdGNvbnN0IF93YXJlaG91c2UgPSAoYXdhaXQgdGhpcy5Nb2RlbC5maW5kQnlJZChpZClcblx0XHRcdC5wb3B1bGF0ZShmdWxsUHJvZHVjdHMgPyAncHJvZHVjdHMucHJvZHVjdCcgOiAnJylcblx0XHRcdC5sZWFuKClcblx0XHRcdC5leGVjKCkpIGFzIElXYXJlaG91c2U7XG5cblx0XHRyZXR1cm4gbmV3IFdhcmVob3VzZShfd2FyZWhvdXNlKTtcblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgX2dldEFsbEN1cnJlbnRBY3RpdmUoXG5cdFx0ZnVsbFByb2R1Y3RzID0gZmFsc2Vcblx0KTogUHJvbWlzZTxXYXJlaG91c2VbXT4ge1xuXHRcdHJldHVybiBfLm1hcChcblx0XHRcdChhd2FpdCB0aGlzLk1vZGVsLmZpbmQoe1xuXHRcdFx0XHRpc0FjdGl2ZTogdHJ1ZSxcblx0XHRcdFx0aXNEZWxldGVkOiB7ICRlcTogZmFsc2UgfSxcblx0XHRcdH0pXG5cdFx0XHRcdC5wb3B1bGF0ZShmdWxsUHJvZHVjdHMgPyAncHJvZHVjdHMucHJvZHVjdCcgOiAnJylcblx0XHRcdFx0LmxlYW4oKVxuXHRcdFx0XHQuZXhlYygpKSBhcyBJV2FyZWhvdXNlW10sXG5cdFx0XHQod2FyZWhvdXNlKSA9PiBuZXcgV2FyZWhvdXNlKHdhcmVob3VzZSlcblx0XHQpO1xuXHR9XG59XG4iLCJpbXBvcnQgTG9nZ2VyIGZyb20gJ2J1bnlhbic7XG5pbXBvcnQgeyBpbmplY3QsIGluamVjdGFibGUsIExhenlTZXJ2aWNlSWRlbnRpZmVyIH0gZnJvbSAnaW52ZXJzaWZ5JztcbmltcG9ydCB7IGNyZWF0ZUV2ZXJMb2dnZXIgfSBmcm9tICcuLi8uLi9oZWxwZXJzL0xvZyc7XG5pbXBvcnQgeyBvYnNlcnZhYmxlTGlzdGVuZXIsIHJvdXRlck5hbWUsIGFzeW5jTGlzdGVuZXIgfSBmcm9tICdAcHlyby9pbyc7XG5pbXBvcnQgSVNlcnZpY2UgZnJvbSAnLi4vSVNlcnZpY2UnO1xuaW1wb3J0IHsgY29uY2F0LCBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgVXNlciBmcm9tICdAbW9kdWxlcy9zZXJ2ZXIuY29tbW9uL2VudGl0aWVzL1VzZXInO1xuaW1wb3J0IHsgT3JkZXJzU2VydmljZSB9IGZyb20gJy4uL29yZGVycyc7XG5pbXBvcnQgV2FyZWhvdXNlIGZyb20gJ0Btb2R1bGVzL3NlcnZlci5jb21tb24vZW50aXRpZXMvV2FyZWhvdXNlJztcbmltcG9ydCB7IFdhcmVob3VzZXNPcmRlcnNTZXJ2aWNlIH0gZnJvbSAnLi9XYXJlaG91c2VzT3JkZXJzU2VydmljZSc7XG5pbXBvcnQgeyBleGhhdXN0TWFwLCBtYXAsIHN3aXRjaE1hcCwgdGFwLCBmaXJzdCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCBJV2FyZWhvdXNlVXNlcnNSb3V0ZXIgZnJvbSAnQG1vZHVsZXMvc2VydmVyLmNvbW1vbi9yb3V0ZXJzL0lXYXJlaG91c2VVc2Vyc1JvdXRlcic7XG5pbXBvcnQgeyBXYXJlaG91c2VzU2VydmljZSB9IGZyb20gJy4vV2FyZWhvdXNlc1NlcnZpY2UnO1xuXG4vKipcbiAqIFdhcmVob3VzZXMgQ3VzdG9tZXJzIFNlcnZpY2VcbiAqXG4gKiBAZXhwb3J0XG4gKiBAY2xhc3MgV2FyZWhvdXNlc1VzZXJzU2VydmljZVxuICogQGltcGxlbWVudHMge0lTZXJ2aWNlfVxuICogQGltcGxlbWVudHMge0lXYXJlaG91c2VVc2Vyc1JvdXRlcn1cbiAqL1xuQGluamVjdGFibGUoKVxuQHJvdXRlck5hbWUoJ3dhcmVob3VzZS11c2VycycpXG5leHBvcnQgY2xhc3MgV2FyZWhvdXNlc1VzZXJzU2VydmljZSBpbXBsZW1lbnRzIElTZXJ2aWNlLCBJV2FyZWhvdXNlVXNlcnNSb3V0ZXIge1xuXHRwcm90ZWN0ZWQgbG9nOiBMb2dnZXIgPSBjcmVhdGVFdmVyTG9nZ2VyKHtcblx0XHRuYW1lOiAnd2FyZWhvdXNlc1VzZXJzU2VydmljZScsXG5cdH0pO1xuXG5cdGNvbnN0cnVjdG9yKFxuXHRcdEBpbmplY3QobmV3IExhenlTZXJ2aWNlSWRlbnRpZmVyKCgpID0+IFdhcmVob3VzZXNPcmRlcnNTZXJ2aWNlKSlcblx0XHRwcml2YXRlIHJlYWRvbmx5IHdhcmVob3VzZXNPcmRlcnNTZXJ2aWNlOiBXYXJlaG91c2VzT3JkZXJzU2VydmljZSxcblx0XHRAaW5qZWN0KG5ldyBMYXp5U2VydmljZUlkZW50aWZlcigoKSA9PiBPcmRlcnNTZXJ2aWNlKSlcblx0XHRwcml2YXRlIHJlYWRvbmx5IG9yZGVyc1NlcnZpY2U6IE9yZGVyc1NlcnZpY2UsXG5cdFx0QGluamVjdChuZXcgTGF6eVNlcnZpY2VJZGVudGlmZXIoKCkgPT4gV2FyZWhvdXNlc1NlcnZpY2UpKVxuXHRcdHByaXZhdGUgcmVhZG9ubHkgX3dhcmVob3VzZXNTZXJ2aWNlOiBXYXJlaG91c2VzU2VydmljZVxuXHQpIHt9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgdGhlIGN1c3RvbWVycyB3aG8gbWFkZSBvcmRlcnMgZnJvbSB0aGUgZ2l2ZW4gU3RvcmVcblx0ICogQHBhcmFtIHtTdHJpbmd9IHdhcmVob3VzZUlkXG5cdCAqIEByZXR1cm5zIHtPYnNlcnZhYmxlPFVzZXJbXT59XG5cdCAqL1xuXHRAb2JzZXJ2YWJsZUxpc3RlbmVyKClcblx0Z2V0KHdhcmVob3VzZUlkOiBXYXJlaG91c2VbJ2lkJ10pOiBPYnNlcnZhYmxlPFVzZXJbXT4ge1xuXHRcdHJldHVybiBjb25jYXQoXG5cdFx0XHRudWxsLFxuXHRcdFx0dGhpcy53YXJlaG91c2VzT3JkZXJzU2VydmljZS5nZXRFeGlzdGVuY2Uod2FyZWhvdXNlSWQpXG5cdFx0KS5waXBlKFxuXHRcdFx0ZXhoYXVzdE1hcCgoKSA9PiB7XG5cdFx0XHRcdHJldHVybiB0aGlzLm9yZGVyc1NlcnZpY2UuTW9kZWwuZGlzdGluY3QoJ3VzZXIuX2lkJywge1xuXHRcdFx0XHRcdHdhcmVob3VzZTogd2FyZWhvdXNlSWQsXG5cdFx0XHRcdFx0aXNEZWxldGVkOiB7ICRlcTogZmFsc2UgfSxcblx0XHRcdFx0fSlcblx0XHRcdFx0XHQubGVhbigpXG5cdFx0XHRcdFx0LmV4ZWMoKTtcblx0XHRcdH0pLFxuXHRcdFx0bWFwKCh1c2VyczogVXNlcltdKSA9PiB7XG5cdFx0XHRcdHJldHVybiB1c2Vycy5tYXAoKHUpID0+IG5ldyBVc2VyKHUpKTtcblx0XHRcdH0pXG5cdFx0KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRoZSBjdXN0b21lcnMgd2hvIG1hZGUgb3JkZXJzIGZyb20gZnJvbSB0aGUgZ2l2ZW4gU3RvcmVcblx0ICpcblx0ICogQHBhcmFtIHtXYXJlaG91c2VbJ2lkJ119IHdhcmVob3VzZUlkXG5cdCAqIEByZXR1cm5zIHtQcm9taXNlPFVzZXJbXT59XG5cdCAqIEBtZW1iZXJvZiBXYXJlaG91c2VzVXNlcnNTZXJ2aWNlXG5cdCAqL1xuXHRAYXN5bmNMaXN0ZW5lcigpXG5cdGFzeW5jIGdldFByb21pc2Uod2FyZWhvdXNlSWQ6IFdhcmVob3VzZVsnaWQnXSk6IFByb21pc2U8VXNlcltdPiB7XG5cdFx0YXdhaXQgdGhpcy5fd2FyZWhvdXNlc1NlcnZpY2UudGhyb3dJZk5vdEV4aXN0cyh3YXJlaG91c2VJZCk7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0KHdhcmVob3VzZUlkKS5waXBlKGZpcnN0KCkpLnRvUHJvbWlzZSgpO1xuXHR9XG59XG4iLCJleHBvcnQgKiBmcm9tICcuL1dhcmVob3VzZXNTZXJ2aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vV2FyZWhvdXNlc09yZGVyc1NlcnZpY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9XYXJlaG91c2VzUHJvZHVjdHNTZXJ2aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vV2FyZWhvdXNlc1VzZXJzU2VydmljZSc7XG5leHBvcnQgKiBmcm9tICcuL1dhcmVob3VzZXNDYXJyaWVyc1NlcnZpY2UnO1xuIiwiLy8gVE9ETzogbW92ZSBhbGwgdXRpbHMgaW50byBzaGFyZWQvY29yZVxuXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xuXG5leHBvcnQgZnVuY3Rpb24gb2JzZXJ2ZUZpbGUoZmlsZU5hbWU6IHN0cmluZyk6IE9ic2VydmFibGU8c3RyaW5nPiB7XG5cdHJldHVybiBPYnNlcnZhYmxlLmNyZWF0ZSgob2JzZXJ2ZXIpID0+IHtcblx0XHRjb25zdCBmZXRjaFRyYW5zbGF0aW9ucyA9ICgpID0+IHtcblx0XHRcdGZzLnJlYWRGaWxlKGZpbGVOYW1lLCAndXRmLTgnLCAoZXJyLCBjb250ZW50KSA9PiB7XG5cdFx0XHRcdG9ic2VydmVyLm5leHQoY29udGVudCk7XG5cblx0XHRcdFx0aWYgKGVycikge1xuXHRcdFx0XHRcdG9ic2VydmVyLmVycm9yKGVycik7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH07XG5cblx0XHRmZXRjaFRyYW5zbGF0aW9ucygpO1xuXG5cdFx0ZnMud2F0Y2hGaWxlKGZpbGVOYW1lLCBmZXRjaFRyYW5zbGF0aW9ucyk7XG5cblx0XHRyZXR1cm4gKCkgPT4ge1xuXHRcdFx0ZnMudW53YXRjaEZpbGUoZmlsZU5hbWUsIGZldGNoVHJhbnNsYXRpb25zKTtcblx0XHR9O1xuXHR9KTtcbn1cblxuLyoqXG4gKiBnZWVcbiAqIEBwYXJhbSB7W251bWJlciwgbnVtYmVyXX0gcG9pbnQgLSBhcm91bmQgd2hpY2ggcG9pbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBpbiBtZXRlcnNcbiAqIEByZXR1cm5zIHtbbnVtYmVyXX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbUNvb3JkaW5hdGVzTmVhcihcblx0W2xvbmdpdHVkZSwgbGF0aXR1ZGVdOiBbbnVtYmVyLCBudW1iZXJdLFxuXHRyYWRpdXM6IG51bWJlclxuKTogW251bWJlciwgbnVtYmVyXSB7XG5cdGNvbnN0IHIgPSAxMDAgLyAxMTEzMDA7IC8vID0gMTAwIG1ldGVyc1xuXHRjb25zdCB5MCA9IGxvbmdpdHVkZTtcblx0Y29uc3QgeDAgPSBsYXRpdHVkZTtcblx0Y29uc3QgdSA9IE1hdGgucmFuZG9tKCk7XG5cdGNvbnN0IHYgPSBNYXRoLnJhbmRvbSgpO1xuXHRjb25zdCB3ID0gciAqIE1hdGguc3FydCh1KTtcblx0Y29uc3QgdCA9IDIgKiBNYXRoLlBJICogdjtcblx0Y29uc3QgeCA9IHcgKiBNYXRoLmNvcyh0KTtcblx0Y29uc3QgeTEgPSB3ICogTWF0aC5zaW4odCk7XG5cdGNvbnN0IHgxID0geCAvIE1hdGguY29zKHkwKTtcblxuXHRyZXR1cm4gW3kwICsgeTEsIHgwICsgeDFdO1xufVxuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiQGNhcHRlbXVsYXRpb24vZ2V0LXBhcmFtZXRlci1uYW1lc1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJAbmVzdGpzL2NvbW1vblwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJAbmVzdGpzL2NvcmVcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiQG5lc3Rqcy9jcXJzXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIkBuZXN0anMvZ3JhcGhxbFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJAbmVzdGpzL3Bhc3Nwb3J0XCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIkBuZXN0anMvc3dhZ2dlclwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJAbmVzdGpzL3R5cGVvcm1cIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYXBvbGxvLXNlcnZlci1leHByZXNzXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImF4aW9zXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImJjcnlwdFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJibHVlYmlyZFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJib2R5LXBhcnNlclwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJic29uXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImJ1bnlhblwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJidW55YW4tY2xvdWR3YXRjaFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJidW55YW4tcHJldHR5c3RyZWFtXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImNvcnNcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiZG90ZW52XCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImVudmFsaWRcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiZXJyb3JoYW5kbGVyXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImV4cHJlc3NcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiZXhwcmVzcy1oYW5kbGViYXJzXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImZha2VyXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImZzXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImdyYXBocWxcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiZ3JhcGhxbC1zdWJzY3JpcHRpb25zXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImhhbmRsZWJhcnNcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiaHR0cFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJodHRwc1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJpbnZlcnNpZnlcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiaXBzdGFja1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJqc29ud2VidG9rZW5cIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwibG9kYXNoXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIm1lcmdlLWdyYXBocWwtc2NoZW1hc1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJtZXRob2Qtb3ZlcnJpZGVcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwibWtkaXJwXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIm1vbWVudFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJtb25nb2RiXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIm1vbmdvb3NlXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIm1vcmdhblwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJvc1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJwYXNzcG9ydFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJwYXNzcG9ydC1mYWNlYm9va1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJwYXNzcG9ydC1nb29nbGUtb2F1dGgyMFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJwYXNzcG9ydC1qd3RcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicGF0aFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJwZW1cIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVmbGVjdC1tZXRhZGF0YVwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZXF1ZXN0LWlwXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJlcXVlc3QtcHJvbWlzZVwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyeGpzXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJ4anMvU3Vic2NyaXB0aW9uXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJ4anMvb2JzZXJ2YWJsZS9mcm9tXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJ4anMvb2JzZXJ2YWJsZS9vZlwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyeGpzL29ic2VydmFibGUvdGhyb3dcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicnhqcy9vcGVyYXRvcnNcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwic29ja2V0LmlvXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInN0cmlwZVwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJzdWJzY3JpcHRpb25zLXRyYW5zcG9ydC13c1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJ0c2xpYlwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJ0eXBlb3JtXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInV0aWxcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwidXVpZFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJ3ZWJwYWNrL2hvdC9wb2xsPzEwMFwiKTsiXSwic291cmNlUm9vdCI6IiJ9