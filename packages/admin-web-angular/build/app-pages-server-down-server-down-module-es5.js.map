{"version":3,"sources":["webpack:///src/app/pages/+server-down/server-down.page.html","webpack:///src/app/pages/+server-down/server-down.module.ts","webpack:///src/app/pages/+server-down/server-down.page.scss","webpack:///src/app/pages/+server-down/server-down.page.ts"],"names":["HttpLoaderFactory","http","routes","path","component","ServerDownModule","imports","forChild","loader","provide","useFactory","deps","declarations","ServerDownPage","store","location","translate","serverConnectionService","browserLang","getBrowserLang","use","match","noInternetLogo","testConnection","interval","setInterval","checkServerConnection","SERVICES_ENDPOINT","Number","serverConnection","clearInterval","back","template"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACUR,aAASA,iBAAT,CAA2BC,IAA3B,EAA6C;AACnD,aAAO,IAAI,8EAAJ,CAAwBA,IAAxB,EAA8B,uBAA9B,EAAuD,OAAvD,CAAP;AACA;;AAED,QAAMC,MAAM,GAAW,CACtB;AACCC,UAAI,EAAE,EADP;AAECC,eAAS,EAAE;AAFZ,KADsB,CAAvB;;AAuBA,QAAaC,gBAAgB;AAAA;AAAA,KAA7B;;AAAaA,oBAAgB,6DAhB5B,+DAAS;AACTC,aAAO,EAAE,CACR,4DADQ,EAER,0DAFQ,EAGR,sDAHQ,EAIR,6DAAaC,QAAb,CAAsBL,MAAtB,CAJQ,EAKR,oEAAgBK,QAAhB,CAAyB;AACxBC,cAAM,EAAE;AACPC,iBAAO,EAAE,mEADF;AAEPC,oBAAU,EAAEV,iBAFL;AAGPW,cAAI,EAAE,CAAC,+DAAD;AAHC;AADgB,OAAzB,CALQ,CADA;AAcTC,kBAAY,EAAE,CAAC,gEAAD;AAdL,KAAT,CAgB4B,GAAhBP,gBAAgB,CAAhB;;;;;;;;;;;;;;;;ACrCb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACYf,QAAaQ,cAAc;AAI1B,8BACSC,KADT,EAEkBb,IAFlB,EAGSc,QAHT,EAISC,SAJT,EAKSC,uBALT,EAKyD;AAAA;;AAJhD,aAAAH,KAAA,GAAAA,KAAA;AACS,aAAAb,IAAA,GAAAA,IAAA;AACT,aAAAc,QAAA,GAAAA,QAAA;AACA,aAAAC,SAAA,GAAAA,SAAA;AACA,aAAAC,uBAAA,GAAAA,uBAAA;AAER,YAAMC,WAAW,GAAGF,SAAS,CAACG,cAAV,EAApB;AACAH,iBAAS,CAACI,GAAV,CAAcF,WAAW,CAACG,KAAZ,CAAkB,aAAlB,IAAmCH,WAAnC,GAAiD,OAA/D;AAEA,aAAKI,cAAL,GAAsB,qEAAY,kBAAZ,CAAtB;AACA,aAAKC,cAAL;AACA;;AAhByB;AAAA;AAAA,yCAkBK;;;;;;;;AAC9B,yBAAKC,QAAL,GAAgBC,WAAW,CAAC;AAAA,6BAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AACvC,uCAAM,KAAKR,uBAAL,CAA6BS,qBAA7B,CACL,qEAAYC,iBADP,EAEL,KAAKb,KAFA,CAAN;;AADuC;AAMvC,oCAAIc,MAAM,CAAC,KAAKd,KAAL,CAAWe,gBAAZ,CAAN,KAAwC,CAA5C,EAA+C;AAC9CC,+CAAa,CAAC,KAAKN,QAAN,CAAb;AACA,uCAAKT,QAAL,CAAcgB,IAAd;AACA;;AATsC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAZ;AAAA,qBAAD,EAUxB,IAVwB,CAA3B;;;;;;;;;AAWA;AA9ByB;AAAA;AAAA,sCAgCf;AACVD,uBAAa,CAAC,KAAKN,QAAN,CAAb;AACA;AAlCyB;;AAAA;AAAA,OAA3B;;;;cAKiB;;cACQ;;cACL;;cACC;;cACc;;;;AATtBX,kBAAc,6DAJ1B,gEAAU;AAEVmB,cAAQ,EAAR;AAAA;AAAA,iHAFU;;;;AAAA,KAAV,CAI0B,E,+EAKV,kE,EACQ,+D,EACL,wD,EACC,oE,EACc,0H,EATR,GAAdnB,cAAc,CAAd","file":"app-pages-server-down-server-down-module-es5.js","sourcesContent":["export default \"<nb-layout>\\n\\t<nb-layout-column class=\\\"login-view info-page\\\" scroll=\\\"false\\\">\\n\\t\\t<div class=\\\"server-down-content\\\">\\n\\t\\t\\t<div class=\\\"logo app-hide-on-keyboard-open\\\">\\n\\t\\t\\t\\t<img src=\\\"{{ noInternetLogo }}\\\" />\\n\\t\\t\\t</div>\\n\\n\\t\\t\\t<div class=\\\"info-massage\\\">\\n\\t\\t\\t\\t<h3 class=\\\"mt-4\\\">\\n\\t\\t\\t\\t\\t{{ 'NO_SERVER_VIEW.NO_SERVER' | translate }}\\n\\t\\t\\t\\t</h3>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</nb-layout-column>\\n</nb-layout>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { ServerDownPage } from './server-down.page';\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\nimport { HttpClient } from '@angular/common/http';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\nimport { ThemeModule } from '@app/@theme';\n\nexport function HttpLoaderFactory(http: HttpClient) {\n\treturn new TranslateHttpLoader(http, '../../../assets/i18n/', '.json');\n}\n\nconst routes: Routes = [\n\t{\n\t\tpath: '',\n\t\tcomponent: ServerDownPage,\n\t},\n];\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tFormsModule,\n\t\tThemeModule,\n\t\tRouterModule.forChild(routes),\n\t\tTranslateModule.forChild({\n\t\t\tloader: {\n\t\t\t\tprovide: TranslateLoader,\n\t\t\t\tuseFactory: HttpLoaderFactory,\n\t\t\t\tdeps: [HttpClient],\n\t\t\t},\n\t\t}),\n\t],\n\tdeclarations: [ServerDownPage],\n})\nexport class ServerDownModule {}\n","export default \".info-page {\\n  padding: 0 !important;\\n}\\n\\n.info-page .server-down-content {\\n  color: white;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n  text-align: center;\\n  height: 100%;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: column;\\n          flex-direction: column;\\n}\\n\\n.info-page .info-massage h3 {\\n  color: red;\\n  width: 100%;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9tbnQvZC9Xb3JrL0FuZ3VsYXIvTmV3IGZvbGRlciAoMikvRG9sY2VHcm9jZXJ5L3BhY2thZ2VzL2FkbWluLXdlYi1hbmd1bGFyL3NyYy9hcHAvcGFnZXMvK3NlcnZlci1kb3duL3NlcnZlci1kb3duLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvK3NlcnZlci1kb3duL3NlcnZlci1kb3duLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFJQTtFQUNDLHFCQUFxQjtBQ0h0Qjs7QURFQTtFQUlFLFlBQVk7RUFJWixvQkFBYTtFQUFiLG9CQUFhO0VBQWIsYUFBYTtFQUNiLHlCQUFtQjtNQUFuQixzQkFBbUI7VUFBbkIsbUJBQW1CO0VBQ25CLHdCQUF1QjtNQUF2QixxQkFBdUI7VUFBdkIsdUJBQXVCO0VBQ3ZCLGtCQUFrQjtFQUNsQixZQUFZO0VBQ1osNEJBQXNCO0VBQXRCLDZCQUFzQjtNQUF0QiwwQkFBc0I7VUFBdEIsc0JBQXNCO0FDTHhCOztBRFJBO0VBaUJFLFVBQVU7RUFDVixXQUFXO0FDTGIiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy8rc2VydmVyLWRvd24vc2VydmVyLWRvd24ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gQGltcG9ydCAnQG1vZHVsZXMvY2xpZW50LmNvbW1vbi5hbmd1bGFyMi9zY3NzL2V2ZXJiaWUuY29tbW9uJztcbi8vIEBpbXBvcnQgXCJ+QG1vZHVsZXMvY2xpZW50LmNvbW1vbi5hbmd1bGFyMi9zY3NzL2V2ZXJiaWUuY29tbW9uLnNjc3MnO1xuLy8gQGltcG9ydCBcIn5AZXZlci1wbGF0Zm9ybS9jb21tb24tYW5ndWxhci9zY3NzL2V2ZXJiaWUuY29tbW9uLnNjc3MnO1xuXG4uaW5mby1wYWdlIHtcblx0cGFkZGluZzogMCAhaW1wb3J0YW50O1xuXG5cdC5zZXJ2ZXItZG93bi1jb250ZW50IHtcblx0XHRjb2xvcjogd2hpdGU7XG5cblx0XHQvLyBiYWNrZ3JvdW5kOiAkYnJhbmQ7XG5cblx0XHRkaXNwbGF5OiBmbGV4O1xuXHRcdGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cdFx0anVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG5cdFx0dGV4dC1hbGlnbjogY2VudGVyO1xuXHRcdGhlaWdodDogMTAwJTtcblx0XHRmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuXHR9XG5cblx0LmluZm8tbWFzc2FnZSBoMyB7XG5cdFx0Y29sb3I6IHJlZDtcblx0XHR3aWR0aDogMTAwJTtcblx0fVxufVxuIiwiLmluZm8tcGFnZSB7XG4gIHBhZGRpbmc6IDAgIWltcG9ydGFudDtcbn1cblxuLmluZm8tcGFnZSAuc2VydmVyLWRvd24tY29udGVudCB7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgaGVpZ2h0OiAxMDAlO1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xufVxuXG4uaW5mby1wYWdlIC5pbmZvLW1hc3NhZ2UgaDMge1xuICBjb2xvcjogcmVkO1xuICB3aWR0aDogMTAwJTtcbn1cbiJdfQ== */\"","import { Component, OnDestroy } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Location } from '@angular/common';\nimport { Store } from '@app/@core/data/store.service';\nimport { environment } from 'environments/environment';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ServerConnectionService } from '@modules/client.common.angular2/services/server-connection.service';\n\n@Component({\n\tstyleUrls: ['./server-down.page.scss'],\n\ttemplateUrl: 'server-down.page.html',\n})\nexport class ServerDownPage implements OnDestroy {\n\tnoInternetLogo: string;\n\tinterval;\n\n\tconstructor(\n\t\tprivate store: Store,\n\t\tprivate readonly http: HttpClient,\n\t\tprivate location: Location,\n\t\tprivate translate: TranslateService,\n\t\tprivate serverConnectionService: ServerConnectionService\n\t) {\n\t\tconst browserLang = translate.getBrowserLang();\n\t\ttranslate.use(browserLang.match(/en|bg|he|ru/) ? browserLang : 'en-US');\n\n\t\tthis.noInternetLogo = environment['NO_INTERNET_LOGO'];\n\t\tthis.testConnection();\n\t}\n\n\tprivate async testConnection() {\n\t\tthis.interval = setInterval(async () => {\n\t\t\tawait this.serverConnectionService.checkServerConnection(\n\t\t\t\tenvironment.SERVICES_ENDPOINT,\n\t\t\t\tthis.store\n\t\t\t);\n\n\t\t\tif (Number(this.store.serverConnection) !== 0) {\n\t\t\t\tclearInterval(this.interval);\n\t\t\t\tthis.location.back();\n\t\t\t}\n\t\t}, 5000);\n\t}\n\n\tngOnDestroy(): void {\n\t\tclearInterval(this.interval);\n\t}\n}\n"]}