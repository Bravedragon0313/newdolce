{"version":3,"sources":["./src/app/@shared/user/user-mutation/user-mutation.component.html","./src/app/@core/data/geo-location.service.ts","./src/app/@shared/user/user-mutation/index.ts","./src/app/@shared/user/user-mutation/user-mutation.component.scss","./src/app/@shared/user/user-mutation/user-mutation.component.ts","./src/app/@shared/user/user-mutation/user-mutation.module.ts"],"names":[],"mappings":"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","file":"default~app-pages-customers-customers-module~app-pages-simulation-simulation-module-es2015.js","sourcesContent":["export default \"<nb-card [nbSpinner]=\\\"loading\\\" class=\\\"user-modal\\\">\\n\\t<div class=\\\"modal-header\\\">\\n\\t\\t<span class=\\\"modal-title\\\">{{\\n\\t\\t\\t'SIMULATION_VIEW.USER_MUTATION.TITLE' | translate\\n\\t\\t}}</span>\\n\\t\\t<button class=\\\"close\\\" aria-label=\\\"Close\\\" (click)=\\\"cancel()\\\">\\n\\t\\t\\t<span aria-hidden=\\\"true\\\">&times;</span>\\n\\t\\t</button>\\n\\t</div>\\n\\n\\t<form-wizard\\n\\t\\tclass=\\\"form-horizontal\\\"\\n\\t\\t[formGroup]=\\\"form\\\"\\n\\t\\t[buttonDone]=\\\"buttonDone\\\"\\n\\t\\t[buttonNext]=\\\"buttonNext\\\"\\n\\t\\t[buttonPrevious]=\\\"buttonPrevious\\\"\\n\\t>\\n\\t\\t<wizard-step\\n\\t\\t\\t[title]=\\\"\\n\\t\\t\\t\\t'SIMULATION_VIEW.USER_MUTATION.WIZARD_TITLES.ADDITIONAL_INFO'\\n\\t\\t\\t\\t\\t| translate\\n\\t\\t\\t\\\"\\n\\t\\t\\t[isValid]=\\\"basicInfo.valid\\\"\\n\\t\\t>\\n\\t\\t\\t<br />\\n\\t\\t\\t<ea-user-basic-info-form\\n\\t\\t\\t\\t#basicInfoForm\\n\\t\\t\\t\\t[form]=\\\"basicInfo\\\"\\n\\t\\t\\t\\t[showBasicInfoLabel]=\\\"true\\\"\\n\\t\\t\\t></ea-user-basic-info-form>\\n\\t\\t</wizard-step>\\n\\n\\t\\t<wizard-step\\n\\t\\t\\t[title]=\\\"\\n\\t\\t\\t\\t'SIMULATION_VIEW.USER_MUTATION.WIZARD_TITLES.LOCATION'\\n\\t\\t\\t\\t\\t| translate\\n\\t\\t\\t\\\"\\n\\t\\t\\t(onComplete)=\\\"create()\\\"\\n\\t\\t\\t[isValid]=\\\"location.valid\\\"\\n\\t\\t>\\n\\t\\t\\t<br />\\n\\t\\t\\t<ea-location-form\\n\\t\\t\\t\\t#locationForm\\n\\t\\t\\t\\t[form]=\\\"location\\\"\\n\\t\\t\\t\\t[apartment]=\\\"apartment\\\"\\n\\t\\t\\t\\t[showAutocompleteSearch]=\\\"true\\\"\\n\\t\\t\\t\\t(mapCoordinatesEmitter)=\\\"onCoordinatesChanges($event)\\\"\\n\\t\\t\\t\\t(mapGeometryEmitter)=\\\"onGeometrySend($event)\\\"\\n\\t\\t\\t>\\n\\t\\t\\t</ea-location-form>\\n\\n\\t\\t\\t<google-map\\n\\t\\t\\t\\t[mapCoordEvent]=\\\"mapCoordEmitter\\\"\\n\\t\\t\\t\\t[mapGeometryEvent]=\\\"mapGeometryEmitter\\\"\\n\\t\\t\\t>\\n\\t\\t\\t</google-map>\\n\\t\\t</wizard-step>\\n\\t</form-wizard>\\n</nb-card>\\n\"","import { Injectable } from '@angular/core';\nimport GeoLocation from '@modules/server.common/entities/GeoLocation';\nimport { Apollo } from 'apollo-angular';\nimport ProductInfo from '@modules/server.common/entities/ProductInfo';\nimport { Observable } from 'rxjs';\nimport gql from 'graphql-tag';\nimport { map, share } from 'rxjs/operators';\n\n@Injectable()\nexport class GeoLocationService {\n\tconstructor(private readonly apollo: Apollo) {}\n\n\tgetGeoLocationProducts(\n\t\tgeoLocation: GeoLocation\n\t): Observable<ProductInfo[]> {\n\t\treturn this.apollo\n\t\t\t.watchQuery<{ geoLocationProducts: ProductInfo[] }>({\n\t\t\t\tquery: gql`\n\t\t\t\t\tquery geoLocationProducts(\n\t\t\t\t\t\t$geoLocation: GeoLocationFindInput!\n\t\t\t\t\t) {\n\t\t\t\t\t\tgeoLocationProducts(geoLocation: $geoLocation) {\n\t\t\t\t\t\t\tdistance\n\t\t\t\t\t\t\twarehouseId\n\t\t\t\t\t\t\twarehouseLogo\n\t\t\t\t\t\t\twarehouseProduct {\n\t\t\t\t\t\t\t\tprice\n\t\t\t\t\t\t\t\tinitialPrice\n\t\t\t\t\t\t\t\tcount\n\t\t\t\t\t\t\t\tisManufacturing\n\t\t\t\t\t\t\t\tisCarrierRequired\n\t\t\t\t\t\t\t\tisDeliveryRequired\n\t\t\t\t\t\t\t\tdeliveryTimeMin\n\t\t\t\t\t\t\t\tdeliveryTimeMax\n\t\t\t\t\t\t\t\tproduct {\n\t\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\t\ttitle {\n\t\t\t\t\t\t\t\t\t\tlocale\n\t\t\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tdescription {\n\t\t\t\t\t\t\t\t\t\tlocale\n\t\t\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tdetails {\n\t\t\t\t\t\t\t\t\t\tlocale\n\t\t\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\timages {\n\t\t\t\t\t\t\t\t\t\tlocale\n\t\t\t\t\t\t\t\t\t\turl\n\t\t\t\t\t\t\t\t\t\twidth\n\t\t\t\t\t\t\t\t\t\theight\n\t\t\t\t\t\t\t\t\t\torientation\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t`,\n\t\t\t\tvariables: {\n\t\t\t\t\tgeoLocation: {\n\t\t\t\t\t\tcountryId: geoLocation.countryId,\n\t\t\t\t\t\tcity: geoLocation.city,\n\t\t\t\t\t\tpostcode: geoLocation.postcode,\n\t\t\t\t\t\tstreetAddress: geoLocation.streetAddress,\n\t\t\t\t\t\thouse: geoLocation.house,\n\t\t\t\t\t\tloc: geoLocation.loc,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tpollInterval: 2000,\n\t\t\t})\n\t\t\t.valueChanges.pipe(\n\t\t\t\tmap((res) => res.data.geoLocationProducts),\n\t\t\t\tshare()\n\t\t\t);\n\t}\n}\n","export * from './user-mutation.component';\nexport * from './user-mutation.module';\n","export default \":host ::ng-deep .card-footer button {\\n  background-color: #111111 !important;\\n  border: none !important;\\n  color: white !important;\\n  cursor: pointer !important;\\n}\\n\\n:host ::ng-deep .card-footer button:hover {\\n  background-color: #bebebe !important;\\n  color: #111111 !important;\\n}\\n\\nnb-card-header ul {\\n  padding-left: 0;\\n}\\n\\ngoogle-map {\\n  margin-top: 25px;\\n}\\n\\n.user-modal {\\n  margin: 0px;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9tbnQvZC9Xb3JrL0FuZ3VsYXIvTmV3IGZvbGRlciAoMikvRG9sY2VHcm9jZXJ5L3BhY2thZ2VzL2FkbWluLXdlYi1hbmd1bGFyL3NyYy9hcHAvQHNoYXJlZC91c2VyL3VzZXItbXV0YXRpb24vdXNlci1tdXRhdGlvbi5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvQHNoYXJlZC91c2VyL3VzZXItbXV0YXRpb24vdXNlci1tdXRhdGlvbi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNDLG9DQUFvQztFQUNwQyx1QkFBdUI7RUFDdkIsdUJBQXVCO0VBQ3ZCLDBCQUEwQjtBQ0MzQjs7QURFQTtFQUNDLG9DQUFvQztFQUNwQyx5QkFBeUI7QUNDMUI7O0FERUE7RUFDQyxlQUFlO0FDQ2hCOztBREVBO0VBQ0MsZ0JBQWdCO0FDQ2pCOztBREVBO0VBQ0MsV0FBVztBQ0NaIiwiZmlsZSI6InNyYy9hcHAvQHNoYXJlZC91c2VyL3VzZXItbXV0YXRpb24vdXNlci1tdXRhdGlvbi5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IDo6bmctZGVlcCAuY2FyZC1mb290ZXIgYnV0dG9uIHtcblx0YmFja2dyb3VuZC1jb2xvcjogIzExMTExMSAhaW1wb3J0YW50O1xuXHRib3JkZXI6IG5vbmUgIWltcG9ydGFudDtcblx0Y29sb3I6IHdoaXRlICFpbXBvcnRhbnQ7XG5cdGN1cnNvcjogcG9pbnRlciAhaW1wb3J0YW50O1xufVxuXG46aG9zdCA6Om5nLWRlZXAgLmNhcmQtZm9vdGVyIGJ1dHRvbjpob3ZlciB7XG5cdGJhY2tncm91bmQtY29sb3I6ICNiZWJlYmUgIWltcG9ydGFudDtcblx0Y29sb3I6ICMxMTExMTEgIWltcG9ydGFudDtcbn1cblxubmItY2FyZC1oZWFkZXIgdWwge1xuXHRwYWRkaW5nLWxlZnQ6IDA7XG59XG5cbmdvb2dsZS1tYXAge1xuXHRtYXJnaW4tdG9wOiAyNXB4O1xufVxuXG4udXNlci1tb2RhbCB7XG5cdG1hcmdpbjogMHB4O1xufVxuIiwiOmhvc3QgOjpuZy1kZWVwIC5jYXJkLWZvb3RlciBidXR0b24ge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMTExMTExICFpbXBvcnRhbnQ7XG4gIGJvcmRlcjogbm9uZSAhaW1wb3J0YW50O1xuICBjb2xvcjogd2hpdGUgIWltcG9ydGFudDtcbiAgY3Vyc29yOiBwb2ludGVyICFpbXBvcnRhbnQ7XG59XG5cbjpob3N0IDo6bmctZGVlcCAuY2FyZC1mb290ZXIgYnV0dG9uOmhvdmVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2JlYmViZSAhaW1wb3J0YW50O1xuICBjb2xvcjogIzExMTExMSAhaW1wb3J0YW50O1xufVxuXG5uYi1jYXJkLWhlYWRlciB1bCB7XG4gIHBhZGRpbmctbGVmdDogMDtcbn1cblxuZ29vZ2xlLW1hcCB7XG4gIG1hcmdpbi10b3A6IDI1cHg7XG59XG5cbi51c2VyLW1vZGFsIHtcbiAgbWFyZ2luOiAwcHg7XG59XG4iXX0= */\"","import { Component, ViewChild, EventEmitter } from '@angular/core';\nimport { FormBuilder, FormControl, FormGroup } from '@angular/forms';\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\nimport { ToasterService } from 'angular2-toaster';\nimport { BasicInfoFormComponent } from '../forms/basic-info';\nimport { LocationFormComponent } from '../../forms/location';\nimport { UserAuthRouter } from '@modules/client.common.angular2/routers/user-auth-router.service';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Component({\n\tselector: 'ea-user-mutation',\n\ttemplateUrl: './user-mutation.component.html',\n\tstyleUrls: ['/user-mutation.component.scss'],\n})\nexport class UserMutationComponent {\n\t@ViewChild('basicInfoForm')\n\tbasicInfoForm: BasicInfoFormComponent;\n\n\t@ViewChild('locationForm')\n\tlocationForm: LocationFormComponent;\n\n\tmapTypeEmitter = new EventEmitter<string>();\n\tmapCoordEmitter = new EventEmitter<number[]>();\n\tmapGeometryEmitter = new EventEmitter<any>();\n\n\tpublic BUTTON_DONE: string = 'BUTTON_DONE';\n\tpublic BUTTON_NEXT: string = 'BUTTON_NEXT';\n\tpublic BUTTON_PREV: string = 'BUTTON_PREV';\n\n\treadonly form: FormGroup = this.formBuilder.group({\n\t\tbasicInfo: BasicInfoFormComponent.buildForm(this.formBuilder),\n\t\tapartment: LocationFormComponent.buildApartmentForm(this.formBuilder),\n\t\tlocation: LocationFormComponent.buildForm(this.formBuilder),\n\t});\n\n\treadonly basicInfo = this.form.get('basicInfo') as FormControl;\n\treadonly apartment = this.form.get('apartment') as FormControl;\n\treadonly location = this.form.get('location') as FormControl;\n\n\tpublic loading: boolean;\n\n\tconstructor(\n\t\tprotected readonly userAuthRouter: UserAuthRouter,\n\t\tprivate readonly toasterService: ToasterService,\n\t\tprivate readonly activeModal: NgbActiveModal,\n\t\tprivate readonly formBuilder: FormBuilder,\n\t\tprivate readonly translateService: TranslateService\n\t) {}\n\n\tget buttonDone() {\n\t\treturn this._translate(this.BUTTON_DONE);\n\t}\n\n\tget buttonNext() {\n\t\treturn this._translate(this.BUTTON_NEXT);\n\t}\n\n\tget buttonPrevious() {\n\t\treturn this._translate(this.BUTTON_PREV);\n\t}\n\n\tonCoordinatesChanges(coords: number[]) {\n\t\tthis.mapCoordEmitter.emit(coords);\n\t}\n\n\tonGeometrySend(geometry: any) {\n\t\tthis.mapGeometryEmitter.emit(geometry);\n\t}\n\n\temitMapType(mapType: string) {\n\t\tthis.mapTypeEmitter.emit(mapType);\n\t}\n\n\tasync create() {\n\t\ttry {\n\t\t\tthis.loading = true;\n\n\t\t\t// GeoJSON in MongoDB save coordinates lng-lat, but locationForm return lat-lng for that we reverse them\n\t\t\tconst location = this.locationForm.getValue();\n\t\t\tlocation.loc.coordinates.reverse();\n\n\t\t\tconst user = await this.userAuthRouter.register({\n\t\t\t\tuser: {\n\t\t\t\t\t...this.basicInfoForm.getValue(),\n\t\t\t\t\tgeoLocation: location,\n\t\t\t\t\tapartment: this.locationForm.getApartment(),\n\t\t\t\t},\n\t\t\t});\n\t\t\tthis.loading = false;\n\t\t\tthis.toasterService.pop(\n\t\t\t\t'success',\n\t\t\t\t`Customer with '${user.id}' was added`\n\t\t\t);\n\t\t\tthis.activeModal.close(user);\n\t\t} catch (err) {\n\t\t\tthis.loading = false;\n\t\t\tthis.toasterService.pop(\n\t\t\t\t'error',\n\t\t\t\t`Error in creating customer: \"${err.message}\"`\n\t\t\t);\n\t\t}\n\t}\n\n\tcancel() {\n\t\tthis.activeModal.dismiss('canceled');\n\t}\n\n\tprivate _translate(key: string): string {\n\t\tlet translationResult = '';\n\n\t\tthis.translateService.get(key).subscribe((res) => {\n\t\t\ttranslationResult = res;\n\t\t});\n\n\t\treturn translationResult;\n\t}\n}\n","import { NgModule } from '@angular/core';\nimport { UserMutationComponent } from './user-mutation.component';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { FormWizardModule } from 'angular2-wizard';\nimport { ThemeModule } from '../../../@theme/theme.module';\nimport { UserFormsModule } from '../forms';\nimport { LocationFormModule } from '../../forms/location';\nimport { GoogleMapModule } from '../../forms/google-map/google-map.module';\nimport { NbSpinnerModule } from '@nebular/theme';\n\n@NgModule({\n\timports: [\n\t\tThemeModule,\n\t\tFormWizardModule,\n\t\tTranslateModule.forChild(),\n\t\tUserFormsModule,\n\t\tLocationFormModule,\n\t\tGoogleMapModule,\n\t\tNbSpinnerModule,\n\t],\n\texports: [UserMutationComponent],\n\tdeclarations: [UserMutationComponent],\n\tentryComponents: [UserMutationComponent],\n})\nexport class UserMutationModule {}\n"],"sourceRoot":"webpack:///"}