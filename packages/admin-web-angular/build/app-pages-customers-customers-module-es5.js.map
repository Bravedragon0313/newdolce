{"version":3,"sources":["webpack:///src/app/@shared/render-component/customer-table/customer-orders-number/customer-orders-number.component.html","webpack:///src/app/@shared/render-component/customer-table/customer-table/customer-image.component.html","webpack:///src/app/@shared/user/ban-confirm/ban-confirm.component.html","webpack:///src/app/pages/+customers/+invites/country-render/country-render.component.html","webpack:///src/app/pages/+customers/customers.component.html","webpack:///src/app/@core/services/notify/notify.service.ts","webpack:///src/app/@shared/render-component/customer-table/customer-orders-number/customer-orders-number.component.scss","webpack:///src/app/@shared/render-component/customer-table/customer-orders-number/customer-orders-number.component.ts","webpack:///src/app/@shared/render-component/customer-table/customer-table.module.ts","webpack:///src/app/@shared/render-component/customer-table/customer-table/customer-image.component.scss","webpack:///src/app/@shared/render-component/customer-table/customer-table/customer-image.component.ts","webpack:///src/app/@shared/user/ban-confirm/ban-confirm.component.scss","webpack:///src/app/@shared/user/ban-confirm/ban-confirm.component.ts","webpack:///src/app/@shared/user/ban-confirm/ban-confirm.module.ts","webpack:///src/app/pages/+customers/+invites/country-render/country-render.component.ts","webpack:///src/app/pages/+customers/customers.component.scss","webpack:///src/app/pages/+customers/customers.component.ts","webpack:///src/app/pages/+customers/customers.module.ts"],"names":["NotifyService","_toasterService","title","body","_setupToast","_notify","type","_toast","pop","CustomerOrdersNumberComponent","_router","numberQTY","rowData","ordersQty","template","COMPONENTS","CustomerTableModule","imports","forRoot","theme","forChild","declarations","entryComponents","exports","CustomerImageComponent","router","imageUrl","image","redirectPage","navigate","id","BanConfirmComponent","modal","selector","BanConfirmModule","CountryRenderComponent","e","perPage","CustomersComponent","_ordersService","_usersService","_modalService","_translateService","_notifyService","ngDestroy$","showBanLoading","customers","orders","sourceSmartTable","_selectedCustomers","_loadSettingsSmartTable","_addCustomHTMLElements","_applyTranslationOnSmartTable","smartTableChange","_loadDataSmartTable","ev","userId","data","open","size","container","windowClass","backdrop","selected","idsForDelete","map","w","loading","removeByIds","pipe","toPromise","message","success","error","isUserBanned","showUnbanPopup","showBanPopup","componentInstance","user","result","then","unbanUser","name","_","banUser","columnTitlePrefix","getTranslate","get","subscribe","email","phone","country","city","address","settingsSmartTable","actions","selectMode","columns","images","renderComponent","onComponentInitFunction","instance","filter","editor","component","pager","display","page","$users","unsubscribe","users","loadData","getUsersOrdersCountInfo","u","usersOrders","usersVM","userOrders","find","res","noInfoSign","firstName","lastName","geoLocation","countryId","trim","streetAddress","house","ordersCount","isBanned","loadDataCount","showOnlyBanned","usersData","Array","dataCount","splice","load","getUsers","skip","limit","onLangChange","document","querySelector","innerHTML","onChanged","event","action","paging","getCountOfUsers","next","complete","length","v","_showOnlyBanned","routes","path","loadChildren","m","InvitesModule","CustomerModule","CustomersModule","providers"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACIf,QAAaA,aAAa;AAGzB,6BAA6BC,eAA7B,EAA8D;AAAA;;AAAjC,aAAAA,eAAA,GAAAA,eAAA;AAAmC;;AAHvC;AAAA;AAAA,gCAKjBC,KALiB,EAKDC,IALC,EAKc;AACtC,eAAKC,WAAL,CAAiB,SAAjB,EAA4BF,KAA5B,EAAmCC,IAAnC;;AACA,eAAKE,OAAL;AACA;AARwB;AAAA;AAAA,6BAUpBH,KAVoB,EAUJC,IAVI,EAUW;AACnC,eAAKC,WAAL,CAAiB,SAAjB,EAA4BF,KAA5B,EAAmCC,IAAnC;;AACA,eAAKE,OAAL;AACA;AAbwB;AAAA;AAAA,8BAenBH,KAfmB,EAeHC,IAfG,EAeY;AACpC,eAAKC,WAAL,CAAiB,OAAjB,EAA0BF,KAA1B,EAAiCC,IAAjC;;AACA,eAAKE,OAAL;AACA;AAlBwB;AAAA;AAAA,oCAoBLC,IApBK,EAoBSJ,KApBT,EAoBwBC,IApBxB,EAoBsC;AAC9D,eAAKI,MAAL,GAAc;AAAED,gBAAI,EAAJA,IAAF;AAAQJ,iBAAK,EAALA,KAAR;AAAeC,gBAAI,EAAJA;AAAf,WAAd;AACA;AAtBwB;AAAA;AAAA,kCAwBP;AACjB,eAAKF,eAAL,CAAqBO,GAArB,CAAyB,KAAKD,MAA9B;AACA;AA1BwB;;AAAA;AAAA,OAA1B;;;;cAG+C;;;;AAHlCP,iBAAa,6DADzB,kEACyB,E,+EAGqB,+D,EAHrB,GAAbA,aAAa,CAAb;;;;;;;;;;;;;;;;ACJb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACQf,QAAaS,6BAA6B;AAKzC,6CAA6BC,OAA7B,EAA8C;AAAA;;AAAjB,aAAAA,OAAA,GAAAA,OAAA;AAAmB;;AALP;AAAA;AAAA,mCAO9B;AACV,eAAKC,SAAL,GAAiB,KAAKC,OAAL,CAAaC,SAA9B;AACA;AATwC;;AAAA;AAAA,OAA1C;;;;cAKuC;;;;AAL1BJ,iCAA6B,6DAJzC,gEAAU;AAEVK,cAAQ,EAAR;AAAA;AAAA,6KAFU;;;;AAAA,KAAV,CAIyC,E,+EAKH,sD,EALG,GAA7BL,6BAA6B,CAA7B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAb,QAAMM,UAAU,GAAG,CAAC,+FAAD,EAAyB,sHAAzB,CAAnB;;AAaA,QAAaC,mBAAmB;AAAA;AAAA,KAAhC;;AAAaA,uBAAmB,6DAX/B,+DAAS;AACTC,aAAO,EAAE,CACR,4DADQ,EAER,kDAFQ,EAGR,gEAAgBC,OAAhB,CAAwB;AAAEC,aAAK,EAAE;AAAT,OAAxB,CAHQ,EAIR,oEAAgBC,QAAhB,EAJQ,CADA;AAOTC,kBAAY,EAAEN,UAPL;AAQTO,qBAAe,EAAEP,UARR;AASTQ,aAAO,EAAER;AATA,KAAT,CAW+B,GAAnBC,mBAAmB,CAAnB;;;;;;;;;;;;;;;;ACrBb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACQf,QAAaQ,sBAAsB;AAMlC,sCAA6BC,MAA7B,EAA6C;AAAA;;AAAhB,aAAAA,MAAA,GAAAA,MAAA;AAAkB;;AANb;AAAA;AAAA,mCAQvB;AACV,eAAKC,QAAL,GAAgB,KAAKd,OAAL,CAAae,KAA7B;AACA;AAViC;AAAA;AAAA,mCAYvB;AACV,cAAI,KAAKC,YAAT,EAAuB;AACtB,iBAAKH,MAAL,CAAYI,QAAZ,CAAqB,WAAI,KAAKD,YAAT,cAAyB,KAAKhB,OAAL,CAAakB,EAAtC,EAArB;AACA;AACD;AAhBiC;;AAAA;AAAA,OAAnC;;;;cAMsC;;;;AANzBN,0BAAsB,6DAJlC,gEAAU;AAEVV,cAAQ,EAAR;AAAA;AAAA,6JAFU;;;;AAAA,KAAV,CAIkC,E,+EAMG,sD,EANH,GAAtBU,sBAAsB,CAAtB;;;;;;;;;;;;;;;;ACRb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACSf,QAAaO,mBAAmB;AAE/B,mCAA6BC,KAA7B,EAAoD;AAAA;;AAAvB,aAAAA,KAAA,GAAAA,KAAA;AAAyB;;AAFvB;AAAA;AAAA,mCAIpB,CAAE;AAJkB;;AAAA;AAAA,OAAhC;;;;cAEqC;;;;AAD3B,8DAAR,6DAAQ,E,+EAAA,G,6BAAA,E,MAAA,E,MAAA;AADGD,uBAAmB,6DAL/B,gEAAU;AACVE,cAAQ,EAAE,gBADA;AAEVnB,cAAQ,EAAR;AAAA;AAAA,4HAFU;;;;AAAA,KAAV,CAK+B,E,+EAEK,yE,EAFL,GAAnBiB,mBAAmB,CAAnB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACCb,QAAaG,gBAAgB;AAAA;AAAA,KAA7B;;AAAaA,oBAAgB,6DAN5B,+DAAS;AACTb,kBAAY,EAAE,CAAC,0EAAD,CADL;AAETE,aAAO,EAAE,CAAC,0EAAD,CAFA;AAGTD,qBAAe,EAAE,CAAC,0EAAD,CAHR;AAITL,aAAO,EAAE,CAAC,4DAAD;AAJA,KAAT,CAM4B,GAAhBiB,gBAAgB,CAAhB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACEb,QAAaC,sBAAsB;AAAA;;AAAA;;AAOlC,wCAAc;AAAA;;AAAA;AAEb;;AATiC;AAAA;AAAA,0CAehB,CAAE;AAfc;AAAA;AAAA,kCAiBxBC,CAjBwB,EAiBrB,CAAE;AAjBmB;AAAA;AAAA,4BAWrB;AACZ,iBAAO,oGAAP;AACA;AAbiC;;AAAA;AAAA,MAAS,6DAAT,CAAnC;;AAGC,8DADC,6DACD,E,wEAAM,oD,CAAN,G,gCAAA,E,MAAA,E,MAAA;AAHYD,0BAAsB,6DAHlC,gEAAU;AACVrB,cAAQ,EAAR;AAAA;AAAA;AADU,KAAV,CAGkC,E,iFAAA,GAAtBqB,sBAAsB,CAAtB;;;;;;;;;;;;;;;;ACZb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACsCf,QAAME,OAAO,GAAG,CAAhB;;AAOA,QAAaC,kBAAkB;AAmB9B,kCACkB5B,OADlB,EAEkB6B,cAFlB,EAGkBC,aAHlB,EAIkBC,aAJlB,EAKkBC,iBALlB,EAMkBC,cANlB,EAM+C;AAAA;;AAL7B,aAAAjC,OAAA,GAAAA,OAAA;AACA,aAAA6B,cAAA,GAAAA,cAAA;AACA,aAAAC,aAAA,GAAAA,aAAA;AACA,aAAAC,aAAA,GAAAA,aAAA;AACA,aAAAC,iBAAA,GAAAA,iBAAA;AACA,aAAAC,cAAA,GAAAA,cAAA;AAxBV,aAAAC,UAAA,GAAa,IAAI,gDAAJ,EAAb;AAID,aAAAC,cAAA,GAAiB,KAAjB;AAEG,aAAAC,SAAA,GAAoB,EAApB;AACA,aAAAC,MAAA,GAAkB,EAAlB;AAGA,aAAAC,gBAAA,GAAmB,IAAI,+DAAJ,EAAnB;AAEF,aAAAC,kBAAA,GAA0C,EAA1C;;AAcP,aAAKC,uBAAL;AACA;;AA5B6B;AAAA;AAAA,0CAkCZ;AACjB,eAAKC,sBAAL;;AACA,eAAKC,6BAAL;;AACA,eAAKC,gBAAL;;AACA,eAAKC,mBAAL;AACA;AAvC6B;AAAA;AAAA,mCAyCTC,EAzCS,EAyCL;AACxB,cAAMC,MAAM,GAAWD,EAAE,CAACE,IAAH,CAAQ3B,EAA/B;;AACA,eAAKpB,OAAL,CAAamB,QAAb,CAAsB,CAAC,oBAAoB2B,MAArB,CAAtB;AACA;AA5C6B;AAAA;AAAA,8CA8CE;AAC/B,eAAKf,aAAL,CAAmBiB,IAAnB,CAAwB,gFAAxB,EAA+C;AAC9CC,gBAAI,EAAE,IADwC;AAE9CC,qBAAS,EAAE,WAFmC;AAG9CC,uBAAW,EAAE,WAHiC;AAI9CC,oBAAQ,EAAE;AAJoC,WAA/C;AAMA;AArD6B;AAAA;AAAA,0CAuDFP,EAvDE,EAuDE;AAC/B,eAAKN,kBAAL,GAA0BM,EAAE,CAACQ,QAA7B;AACA;AAzD6B;AAAA;AAAA,6CA2DC;AAC9B,cAAMC,YAAY,GAAa,KAAKf,kBAAL,CAAwBgB,GAAxB,CAA4B,UAACC,CAAD;AAAA,mBAAOA,CAAC,CAACpC,EAAT;AAAA,WAA5B,CAA/B;;AAEA,cAAI;AACH,iBAAKqC,OAAL,GAAe,IAAf;;AACA,iBAAK3B,aAAL,CACE4B,WADF,CACcJ,YADd,EAEEK,IAFF,CAEO,+DAFP,EAGEC,SAHF;;AAIA,iBAAKrB,kBAAL,GAA0B,EAA1B;AAEA,iBAAKkB,OAAL,GAAe,KAAf;AACA,gBAAMI,OAAO,sBAAb;;AACA,iBAAK5B,cAAL,CAAoB6B,OAApB,CAA4BD,OAA5B;AACA,WAXD,CAWE,OAAOE,KAAP,EAAc;AACf,gBAAIF,QAAO,yBAAX;;AACA,gBAAIE,KAAK,CAACF,OAAN,KAAkB,kBAAtB,EAA0C;AACzCA,sBAAO,GAAGE,KAAK,CAACF,OAAhB;AACA;;AACD,iBAAKJ,OAAL,GAAe,KAAf;;AACA,iBAAKxB,cAAL,CAAoB8B,KAApB,CAA0BF,QAA1B;AACA;AACD;AAjF6B;AAAA;AAAA,0CAmFF;AAC3B,cAAI,KAAKG,YAAT,EAAuB;AACtB,iBAAKC,cAAL;AACA,WAFD,MAEO;AACN,iBAAKC,YAAL;AACA;AACD;AAzF6B;AAAA;AAAA,yCA2FL;AAAA;;AACxB,cAAM5C,KAAK,GAAG,KAAKS,aAAL,CAAmBiB,IAAnB,CAAwB,iFAAxB,EAA6C;AAC1DC,gBAAI,EAAE,IADoD;AAE1DC,qBAAS,EAAE,WAF+C;AAG1DC,uBAAW,EAAE,WAH6C;AAI1DC,oBAAQ,EAAE;AAJgD,WAA7C,CAAd;;AAMA9B,eAAK,CAAC6C,iBAAN,CAAwBC,IAAxB,GAA+B,KAAK7B,kBAAL,CAAwB,CAAxB,CAA/B;AACAjB,eAAK,CAAC+C,MAAN,CACEC,IADF,CACO,UAAOF,IAAP;AAAA,mBAAgB;AAAA;AAAA;AAAA;AAAA;AACrB,2BAAKjC,cAAL,GAAsB,IAAtB;AADqB;AAErB,6BAAM,KAAKL,aAAL,CAAmByC,SAAnB,CAA6BH,IAAI,CAAChD,EAAlC,CAAN;;AAFqB;AAGrB,2BAAKwB,mBAAL;;AACA,2BAAKT,cAAL,GAAsB,KAAtB;;AACA,2BAAKF,cAAL,CAAoB6B,OAApB,WAA+BM,IAAI,CAACI,IAApC;;AALqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAhB;AAAA,WADP,WAQQ,UAACC,CAAD,EAAO,CAAE,CARjB;AASA;AA5G6B;AAAA;AAAA,uCA8GP;AAAA;;AACtB,cAAMnD,KAAK,GAAG,KAAKS,aAAL,CAAmBiB,IAAnB,CAAwB,iFAAxB,EAA6C;AAC1DC,gBAAI,EAAE,IADoD;AAE1DC,qBAAS,EAAE,WAF+C;AAG1DC,uBAAW,EAAE,WAH6C;AAI1DC,oBAAQ,EAAE;AAJgD,WAA7C,CAAd;;AAMA9B,eAAK,CAAC6C,iBAAN,CAAwBC,IAAxB,GAA+B,KAAK7B,kBAAL,CAAwB,CAAxB,CAA/B;AACAjB,eAAK,CAAC+C,MAAN,CACEC,IADF,CACO,UAAOF,IAAP;AAAA,mBAAgB;AAAA;AAAA;AAAA;AAAA;AACrB,2BAAKjC,cAAL,GAAsB,IAAtB;AADqB;AAErB,6BAAM,KAAKL,aAAL,CAAmB4C,OAAnB,CAA2BN,IAAI,CAAChD,EAAhC,CAAN;;AAFqB;AAGrB,2BAAKwB,mBAAL;;AACA,2BAAKT,cAAL,GAAsB,KAAtB;;AACA,2BAAKF,cAAL,CAAoB6B,OAApB,WAA+BM,IAAI,CAACI,IAApC;;AALqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAhB;AAAA,WADP,WAQQ,UAACC,CAAD,EAAO,CAAE,CARjB;AASA;AA/H6B;AAAA;AAAA,kDAiII;AAAA;;AACjC,cAAME,iBAAiB,GAAG,qCAA1B;;AACA,cAAMC,YAAY,GAAG,SAAfA,YAAe,CAACJ,IAAD;AAAA,mBACpB,MAAI,CAACxC,iBAAL,CAAuB6C,GAAvB,CAA2BF,iBAAiB,GAAGH,IAA/C,CADoB;AAAA,WAArB;;AAGA,gEACC,KAAKxC,iBAAL,CAAuB6C,GAAvB,CAA2B,IAA3B,CADD,EAECD,YAAY,CAAC,OAAD,CAFb,EAGCA,YAAY,CAAC,MAAD,CAHb,EAICA,YAAY,CAAC,OAAD,CAJb,EAKCA,YAAY,CAAC,OAAD,CALb,EAMCA,YAAY,CAAC,SAAD,CANb,EAOCA,YAAY,CAAC,MAAD,CAPb,EAQCA,YAAY,CAAC,SAAD,CARb,EASCA,YAAY,CAAC,YAAD,CATb,EAUEE,SAVF,CAWC,gBAUM;AAAA;AAAA,gBATL1D,EASK;AAAA,gBARLH,KAQK;AAAA,gBAPLuD,IAOK;AAAA,gBANLO,KAMK;AAAA,gBALLC,KAKK;AAAA,gBAJLC,OAIK;AAAA,gBAHLC,IAGK;AAAA,gBAFLC,OAEK;AAAA,gBADLhF,SACK;;AACL,kBAAI,CAACiF,kBAAL,GAA0B;AACzBC,qBAAO,EAAE,KADgB;AAEzBC,wBAAU,EAAE,OAFa;AAGzBC,qBAAO,EAAE;AACRC,sBAAM,EAAE;AACPhG,uBAAK,EAAEyB,KADA;AAEP,2BAAO,gBAFA;AAGPrB,sBAAI,EAAE,QAHC;AAIP6F,iCAAe,EAAE,uIAJV;AAKPC,yCAAuB,EAAE,iCAACC,QAAD,EAAc;AACtCA,4BAAQ,CAACzE,YAAT,GAAwB,gBAAxB;AACA,mBAPM;AAQP0E,wBAAM,EAAE;AARD,iBADA;AAWRpB,oBAAI,EAAE;AACLhF,uBAAK,EAAEgF,IADF;AAEL5E,sBAAI,EAAE,QAFD;AAGL6F,iCAAe,EAAE,qHAHZ;AAILC,yCAAuB,EAAE,iCAACC,QAAD,EAAc;AACtCA,4BAAQ,CAACzE,YAAT,GAAwB,gBAAxB;AACA;AANI,iBAXE;AAmBR6D,qBAAK,EAAE;AACNvF,uBAAK,EAAEuF,KADD;AAENnF,sBAAI,EAAE,QAFA;AAGN6F,iCAAe,EAAE;AAHX,iBAnBC;AAwBRT,qBAAK,EAAE;AACNxF,uBAAK,EAAEwF,KADD;AAENpF,sBAAI,EAAE,QAFA;AAGN6F,iCAAe,EAAE;AAHX,iBAxBC;AA6BRR,uBAAO,EAAE;AACRzF,uBAAK,EAAEyF,OADC;AAERY,wBAAM,EAAE;AACPjG,wBAAI,EAAE,QADC;AAEPkG,6BAAS,EAAE;AAFJ;AAFA,iBA7BD;AAoCRZ,oBAAI,EAAE;AAAE1F,uBAAK,EAAE0F;AAAT,iBApCE;AAqCRC,uBAAO,EAAE;AAAE3F,uBAAK,EAAE2F;AAAT,iBArCD;AAsCRhF,yBAAS,EAAE;AACVX,uBAAK,EAAEW,SADG;AAEVP,sBAAI,EAAE,QAFI;AAGV6F,iCAAe,EAAE,8JAHP;AAIVG,wBAAM,EAAE;AAJE;AAtCH,eAHgB;AAgDzBG,mBAAK,EAAE;AACNC,uBAAO,EAAE,IADH;AAENrE,uBAAO,EAAPA;AAFM;AAhDkB,aAA1B;AAqDA,WA3EF;AA6EA;AAnN6B;AAAA;AAAA,8CAqNc;AAAA,cAAVsE,IAAU,uEAAH,CAAG;;;;;;;;;yBACvC,KAAKC,M;;;;;;AACR,2BAAM,KAAKA,MAAL,CAAYC,WAAZ,EAAN;;;AAEGC,yB,GAAgB,E;;AAEdC,4B,GAAW,SAAXA,QAAW;AAAA,6BAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACR,uCAAM,KAAKxE,cAAL,CAAoByE,uBAApB,CACzBF,KAAK,CAAC7C,GAAN,CAAU,UAACgD,CAAD;AAAA,yCAAOA,CAAC,CAACnF,EAAT;AAAA,iCAAV,CADyB,CAAN;;AADQ;AACtBoF,2CADsB;AAKxBC,uCALwB,GAKdL,KAAK,CAAC7C,GAAN,CAAU,UAACa,IAAD,EAAU;AACjC,sCAAMsC,UAAU,GAAGF,WAAW,CAACG,IAAZ,CAClB,UAACC,GAAD;AAAA,2CAASA,GAAG,CAAC,IAAD,CAAH,KAAcxC,IAAI,CAAChD,EAA5B;AAAA,mCADkB,CAAnB;AAIA,yCAAO;AACNA,sCAAE,EAAEgD,IAAI,CAAChD,EADH;AAENH,yCAAK,EAAEmD,IAAI,CAACnD,KAAL,IAAc,oBAAkB,CAAC4F,UAFlC;AAGNrC,wCAAI,EACHJ,IAAI,CAAC0C,SAAL,IAAkB1C,IAAI,CAAC2C,QAAvB,aACM3C,IAAI,CAAC0C,SADX,cACwB1C,IAAI,CAAC2C,QAD7B,IAEG3C,IAAI,CAAC0C,SAAL,GACA1C,IAAI,CAAC0C,SADL,GAEA1C,IAAI,CAAC2C,QAAL,GACA3C,IAAI,CAAC2C,QADL,GAEA3C,IAAI,CAAChD,EAVH;AAWN2D,yCAAK,EAAEX,IAAI,CAACW,KAAL,IAAc,oBAAkB,CAAC8B,UAXlC;AAYN7B,yCAAK,EAAEZ,IAAI,CAACY,KAAL,IAAc,oBAAkB,CAAC6B,UAZlC;AAaN5B,2CAAO,EACN,oGAAeb,IAAI,CAAC4C,WAAL,CAAiBC,SAAhC,EAA2CC,IAA3C,MACA,oBAAkB,CAACL,UAfd;AAgBN3B,wCAAI,EACHd,IAAI,CAAC4C,WAAL,CAAiB9B,IAAjB,IAAyB,oBAAkB,CAAC2B,UAjBvC;AAkBN1B,2CAAO,gBACNf,IAAI,CAAC4C,WAAL,CAAiBG,aAAjB,IACA,oBAAkB,CAACN,UAFb,2BAINzC,IAAI,CAAC4C,WAAL,CAAiBI,KAAjB,IAA0B,oBAAkB,CAACP,UAJvC,CAlBD;AAwBN1G,6CAAS,EAAEuG,UAAU,GAAGA,UAAU,CAACW,WAAd,GAA4B,CAxB3C;AAyBNC,4CAAQ,EAAElD,IAAI,CAACkD;AAzBT,mCAAP;AA2BA,iCAhCa,CALc;AAAA;AAuC5B,uCAAM,KAAKC,aAAL,EAAN;;AAvC4B;AAyC5B,oCAAI,KAAKC,cAAT,EAAyB;AACxBf,yCAAO,GAAGA,OAAO,CAACb,MAAR,CAAe,UAACxB,IAAD;AAAA,2CAAUA,IAAI,CAACkD,QAAf;AAAA,mCAAf,CAAV;AACA;;AAEKG,yCA7CsB,GA6CV,IAAIC,KAAJ,CAAU,KAAKC,SAAf,CA7CU;AA+C5BF,yCAAS,CAACG,MAAV,OAAAH,SAAS,GAAQ9F,OAAO,IAAIsE,IAAI,GAAG,CAAX,CAAf,EAA8BtE,OAA9B,4BAA0C8E,OAA1C,GAAT;AA/C4B;AAgD5B,uCAAM,KAAKnE,gBAAL,CAAsBuF,IAAtB,CAA2BJ,SAA3B,CAAN;;AAhD4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAZ;AAAA,qB;;AAqDjB,yBAAKvB,MAAL,GAAc,KAAKpE,aAAL,CACZgG,QADY,CACH;AACTC,0BAAI,EAAEpG,OAAO,IAAIsE,IAAI,GAAG,CAAX,CADJ;AAET+B,2BAAK,EAAErG;AAFE,qBADG,EAKZgC,IALY,CAKP,kEAAU,KAAKzB,UAAf,CALO,EAMZ4C,SANY,CAMF,UAAOyB,CAAP;AAAA,6BAAqB;AAAA;AAAA;AAAA;AAAA;AAC/BH,qCAAK,GAAGG,CAAR;AAD+B;AAE/B,uCAAMF,QAAQ,EAAd;;AAF+B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAArB;AAAA,qBANE,CAAd;;;;;;;;;AAUA;AA1R6B;AAAA;AAAA,wDA4RU;AAAA;;AACvC,eAAKrE,iBAAL,CAAuBiG,YAAvB,CACEtE,IADF,CACO,kEAAU,KAAKzB,UAAf,CADP,EAEE4C,SAFF,CAEY,YAAM;AAChB,kBAAI,CAACtC,uBAAL;AACA,WAJF;AAKA;AAlS6B;AAAA;AAAA,iDAqSA;AAC7B0F,kBAAQ,CAACC,aAAT,CACC,wCADD,EAEEC,SAFF,GAEc,oDAFd;AAGA;AAzS6B;AAAA;AAAA,2CA2SG;;;;;;;;AAChC,yBAAK9F,gBAAL,CACE+F,SADF,GAEE1E,IAFF,CAEO,kEAAU,KAAKzB,UAAf,CAFP,EAGE4C,SAHF,CAGY,UAAOwD,KAAP;AAAA,6BAAiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAC3B,oCAAIA,KAAK,CAACC,MAAN,KAAiB,MAArB,EAA6B;AACtBtC,sCADsB,GACfqC,KAAK,CAACE,MAAN,CAAavC,IADE;;AAE5B,uCAAKrD,mBAAL,CAAyBqD,IAAzB;AACA;;AAJ0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAjB;AAAA,qBAHZ;;;;;;;;;AASA;AArT6B;AAAA;AAAA,wCAuTA;;;;;;;AACZ,2BAAM,KAAKnE,aAAL,CAAmB2G,eAAnB,EAAN;;;AAAjB,yBAAKd,S;;;;;;;;;AACL;AAzT6B;AAAA;AAAA,sCA8UhB;AACb,eAAKzF,UAAL,CAAgBwG,IAAhB;AACA,eAAKxG,UAAL,CAAgByG,QAAhB;AACA;AAjV6B;AAAA;AAAA,4BA8BI;AACjC,iBAAO,KAAKpG,kBAAL,CAAwBqG,MAAxB,GAAiC,CAAxC;AACA;AAhC6B;AAAA;AAAA,4BA2TM;AACnC,iBAAO,KAAKrG,kBAAL,CAAwBqG,MAAxB,KAAmC,CAA1C;AACA;AA7T6B;AAAA;AAAA,4BA+TJ;AACzB,iBACC,KAAKrG,kBAAL,CAAwB,CAAxB,KAA8B,KAAKA,kBAAL,CAAwB,CAAxB,EAA2B+E,QAD1D;AAGA;AAnU6B;AAAA;AAAA,0BAqUJuB,CArUI,EAqUQ;AACrC,eAAKC,eAAL,GAAuBD,CAAvB;;AACA,eAAKjG,mBAAL;AACA,SAxU6B;AAAA,4BA0UL;AACxB,iBAAO,KAAKkG,eAAZ;AACA;AA5U6B;;AAAA;AAAA,OAA/B;;AAGQ,uBAAAjC,UAAA,GAAa,EAAb;;;;cAiBoB;;cACO;;cACD;;cACA;;cACI;;cACH;;;;AAzBtBjF,sBAAkB,oFAL9B,gEAAU;AACVL,cAAQ,EAAE,cADA;AAEVnB,cAAQ,EAAR;AAAA;AAAA,kHAFU;;;;AAAA,KAAV,CAK8B,E,+EAoBH,sD,EACO,uE,EACD,qE,EACA,mE,EACI,oE,EACH,mF,EAzBJ,GAAlBwB,kBAAkB,CAAlB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5Bb,QAAMmH,MAAM,GAAW,CACtB;AACCC,UAAI,EAAE,MADP;AAEClD,eAAS,EAAE;AAFZ,KADsB,EAKtB;AACCkD,UAAI,EAAE,SADP;AAECC,kBAAY,EAAE;AAAA,eACb;AAAA;AAAA;AAAA;AAAA,kEAAoC3E,IAApC,CAAyC,UAAC4E,CAAD;AAAA,iBAAOA,CAAC,CAACC,aAAT;AAAA,SAAzC,CADa;AAAA;AAFf,KALsB,EAUtB;AACCH,UAAI,EAAE,UADP;AAECC,kBAAY,EAAE;AAAA,eACb;AAAA;AAAA;AAAA;AAAA,oEAAsC3E,IAAtC,CAA2C,UAAC4E,CAAD;AAAA,iBAAOA,CAAC,CAACE,cAAT;AAAA,SAA3C,CADa;AAAA;AAFf,KAVsB,CAAvB;;AAoCA,QAAaC,eAAe;AAAA;AAAA,KAA5B;;AACe,oBAAAN,MAAA,GAASA,MAAT;AADFM,mBAAe,6DAnB3B,+DAAS;AACT9I,aAAO,EAAE,CACR,4DADQ,EAER,mEAFQ,EAGR,kDAHQ,EAIR,+DAAcC,OAAd,EAJQ,EAKR,6DAAaE,QAAb,CAAsBqI,MAAtB,CALQ,EAMR,oEAAgBrI,QAAhB,EANQ,EAOR,gEAAgBF,OAAhB,CAAwB;AAAEC,aAAK,EAAE;AAAT,OAAxB,CAPQ,EAQR,yGARQ,EASR,8EATQ,EAUR,kHAVQ,EAWR,+DAXQ,EAYR,8EAZQ,EAaR,8DAbQ,CADA;AAgBTE,kBAAY,EAAE,CAAC,uEAAD,CAhBL;AAiBT2I,eAAS,EAAE,CAAC,wDAAD,EAAW,mFAAX,EAA+B,uFAA/B;AAjBF,KAAT,CAmB2B,GAAfD,eAAe,CAAf","file":"app-pages-customers-customers-module-es5.js","sourcesContent":["export default \"<div class=\\\"text-center\\\">\\n\\t<div class=\\\"badge badge-pill badge-secondary number-qty\\\">\\n\\t\\t{{ numberQTY }}\\n\\t</div>\\n</div>\\n\"","export default \"<img\\n\\tclass=\\\"redirect-image\\\"\\n\\t*ngIf=\\\"imageUrl\\\"\\n\\t(click)=\\\"redirect()\\\"\\n\\tsrc=\\\"{{ imageUrl }}\\\"\\n/>\\n\"","export default \"<div class=\\\"modal-header\\\">\\n\\t<h4 class=\\\"modal-title\\\" id=\\\"modal-title\\\">Profile Ban</h4>\\n\\t<button\\n\\t\\ttype=\\\"button\\\"\\n\\t\\tclass=\\\"close\\\"\\n\\t\\taria-label=\\\"Close button\\\"\\n\\t\\taria-describedby=\\\"modal-title\\\"\\n\\t\\t(click)=\\\"modal.dismiss()\\\"\\n\\t>\\n\\t\\t<span aria-hidden=\\\"true\\\">&times;</span>\\n\\t</button>\\n</div>\\n<div class=\\\"modal-body\\\">\\n\\t<p>\\n\\t\\t<strong\\n\\t\\t\\t>Are you sure you want to {{ user.isBanned ? 'unban' : 'ban' }}\\n\\t\\t\\t<span class=\\\"text-primary\\\">\\\"{{ user.name }}\\\"</span>?</strong\\n\\t\\t>\\n\\t</p>\\n</div>\\n<div class=\\\"modal-footer\\\">\\n\\t<button\\n\\t\\ttype=\\\"button\\\"\\n\\t\\tclass=\\\"btn btn-outline-secondary\\\"\\n\\t\\t(click)=\\\"modal.dismiss()\\\"\\n\\t>\\n\\t\\tCancel\\n\\t</button>\\n\\t<button\\n\\t\\ttype=\\\"button\\\"\\n\\t\\tngbAutofocus\\n\\t\\tclass=\\\"btn btn-danger\\\"\\n\\t\\t(click)=\\\"modal.close(user)\\\"\\n\\t>\\n\\t\\tOk\\n\\t</button>\\n</div>\\n\"","export default \"<select\\n\\t[(ngModel)]=\\\"this.cell.newValue\\\"\\n\\t(change)=\\\"onChanged($event)\\\"\\n\\tclass=\\\"form-control ng-pristine ng-valid ng-touched\\\"\\n>\\n\\t<option *ngFor=\\\"let country of countries\\\" value=\\\"{{ country.name }}\\\">\\n\\t\\t{{ country.name }}\\n\\t</option>\\n</select>\\n\"","export default \"<nb-card>\\n\\t<toaster-container></toaster-container>\\n\\n\\t<nb-card-header>\\n\\t\\t<button\\n\\t\\t\\tnbButton\\n\\t\\t\\tstatus=\\\"success\\\"\\n\\t\\t\\tclass=\\\"mr-2 d-inline-block\\\"\\n\\t\\t\\t(click)=\\\"showCreateUserModal()\\\"\\n\\t\\t>\\n\\t\\t\\t<i class=\\\"ion-md-add button-icon mr-1\\\"></i>\\n\\n\\t\\t\\t<small _ngcontent-c55=\\\"\\\">{{\\n\\t\\t\\t\\t'CUSTOMERS_VIEW.CREATE' | translate\\n\\t\\t\\t}}</small>\\n\\t\\t</button>\\n\\n\\t\\t<button\\n\\t\\t\\tnbButton\\n\\t\\t\\tstatus=\\\"danger\\\"\\n\\t\\t\\tclass=\\\"mr-2 d-inline-block\\\"\\n\\t\\t\\t[disabled]=\\\"!hasSelectedCustomers\\\"\\n\\t\\t\\t(click)=\\\"deleteSelectedRows()\\\"\\n\\t\\t>\\n\\t\\t\\t<i class=\\\"ion-md-trash button-icon mr-1\\\"></i>\\n\\n\\t\\t\\t<small _ngcontent-c55=\\\"\\\">{{\\n\\t\\t\\t\\t'CUSTOMERS_VIEW.DELETE' | translate\\n\\t\\t\\t}}</small>\\n\\t\\t</button>\\n\\n\\t\\t<button\\n\\t\\t\\tnbButton\\n\\t\\t\\tstatus=\\\"info\\\"\\n\\t\\t\\tclass=\\\"mr-2 d-inline-block\\\"\\n\\t\\t\\t[routerLink]=\\\"['/devices']\\\"\\n\\t\\t>\\n\\t\\t\\t<i class=\\\"ion-md-phone-portrait\\\"></i>&nbsp;&nbsp;\\n\\t\\t\\t{{ 'CUSTOMERS_VIEW.CUSTOMERS_DEVICES' | translate }}\\n\\t\\t</button>\\n\\n\\t\\t<button\\n\\t\\t\\tnbButton\\n\\t\\t\\tstatus=\\\"danger\\\"\\n\\t\\t\\tclass=\\\"mr-2 d-inline-block\\\"\\n\\t\\t\\t[disabled]=\\\"!isOnlyOneCustomerSelected || showBanLoading\\\"\\n\\t\\t\\t[nbSpinner]=\\\"showBanLoading\\\"\\n\\t\\t\\t(click)=\\\"banSelectedRows()\\\"\\n\\t\\t>\\n\\t\\t\\t<i class=\\\"ion-md-close-circle button-icon mr-1\\\"></i>\\n\\n\\t\\t\\t<small _ngcontent-c55=\\\"\\\" *ngIf=\\\"isUserBanned\\\">{{\\n\\t\\t\\t\\t'CUSTOMERS_VIEW.UNBAN' | translate\\n\\t\\t\\t}}</small>\\n\\n\\t\\t\\t<small _ngcontent-c55=\\\"\\\" *ngIf=\\\"!isUserBanned\\\">{{\\n\\t\\t\\t\\t'CUSTOMERS_VIEW.BAN' | translate\\n\\t\\t\\t}}</small>\\n\\t\\t</button>\\n\\t\\t<input\\n\\t\\t\\ttype=\\\"checkbox\\\"\\n\\t\\t\\tname=\\\"bannedOnly\\\"\\n\\t\\t\\tid=\\\"showBannedOnly\\\"\\n\\t\\t\\t[(ngModel)]=\\\"showOnlyBanned\\\"\\n\\t\\t\\t[ngModelOptions]=\\\"{ standalone: true }\\\"\\n\\t\\t/>\\n\\t\\t<label for=\\\"bannedOnly\\\">Show Banned Only</label>\\n\\t</nb-card-header>\\n\\n\\t<nb-card-body [nbSpinner]=\\\"loading\\\">\\n\\t\\t<ng2-smart-table\\n\\t\\t\\t[settings]=\\\"settingsSmartTable\\\"\\n\\t\\t\\t[source]=\\\"sourceSmartTable\\\"\\n\\t\\t\\t(userRowSelect)=\\\"selectCustomerTmp($event)\\\"\\n\\t\\t>\\n\\t\\t</ng2-smart-table>\\n\\t</nb-card-body>\\n</nb-card>\\n\"","import { ToasterService, Toast } from 'angular2-toaster';\nimport { Injectable } from '@angular/core';\n\n@Injectable()\nexport class NotifyService {\n\tprivate _toast: Toast;\n\n\tconstructor(private readonly _toasterService: ToasterService) {}\n\n\tsuccess(title?: string, body?: string) {\n\t\tthis._setupToast('success', title, body);\n\t\tthis._notify();\n\t}\n\n\twarn(title?: string, body?: string) {\n\t\tthis._setupToast('warning', title, body);\n\t\tthis._notify();\n\t}\n\n\terror(title?: string, body?: string) {\n\t\tthis._setupToast('error', title, body);\n\t\tthis._notify();\n\t}\n\n\tprivate _setupToast(type: string, title: string, body: string) {\n\t\tthis._toast = { type, title, body };\n\t}\n\n\tprivate _notify() {\n\t\tthis._toasterService.pop(this._toast);\n\t}\n}\n","export default \".number-qty {\\n  cursor: pointer;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9tbnQvZC9Xb3JrL0FuZ3VsYXIvTmV3IGZvbGRlciAoMikvRG9sY2VHcm9jZXJ5L3BhY2thZ2VzL2FkbWluLXdlYi1hbmd1bGFyL3NyYy9hcHAvQHNoYXJlZC9yZW5kZXItY29tcG9uZW50L2N1c3RvbWVyLXRhYmxlL2N1c3RvbWVyLW9yZGVycy1udW1iZXIvY3VzdG9tZXItb3JkZXJzLW51bWJlci5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvQHNoYXJlZC9yZW5kZXItY29tcG9uZW50L2N1c3RvbWVyLXRhYmxlL2N1c3RvbWVyLW9yZGVycy1udW1iZXIvY3VzdG9tZXItb3JkZXJzLW51bWJlci5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNDLGVBQWU7QUNDaEIiLCJmaWxlIjoic3JjL2FwcC9Ac2hhcmVkL3JlbmRlci1jb21wb25lbnQvY3VzdG9tZXItdGFibGUvY3VzdG9tZXItb3JkZXJzLW51bWJlci9jdXN0b21lci1vcmRlcnMtbnVtYmVyLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm51bWJlci1xdHkge1xuXHRjdXJzb3I6IHBvaW50ZXI7XG59XG4iLCIubnVtYmVyLXF0eSB7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cbiJdfQ== */\"","import { OnInit, Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ViewCell } from 'ng2-smart-table';\n\n@Component({\n\tstyleUrls: ['customer-orders-number.component.scss'],\n\ttemplateUrl: 'customer-orders-number.component.html',\n})\nexport class CustomerOrdersNumberComponent implements ViewCell, OnInit {\n\tvalue: any;\n\trowData: any;\n\tnumberQTY: number;\n\n\tconstructor(private readonly _router: Router) {}\n\n\tngOnInit() {\n\t\tthis.numberQTY = this.rowData.ordersQty;\n\t}\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ThemeModule } from '../../../@theme';\nimport { HighlightModule } from 'ngx-highlightjs';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { CustomerImageComponent } from './customer-table/customer-image.component';\nimport { CustomerOrdersNumberComponent } from './customer-orders-number/customer-orders-number.component';\n\nconst COMPONENTS = [CustomerImageComponent, CustomerOrdersNumberComponent];\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tThemeModule,\n\t\tHighlightModule.forRoot({ theme: 'github' }),\n\t\tTranslateModule.forChild(),\n\t],\n\tdeclarations: COMPONENTS,\n\tentryComponents: COMPONENTS,\n\texports: COMPONENTS,\n})\nexport class CustomerTableModule {}\n","export default \"img {\\n  width: 64px;\\n  height: 64px;\\n}\\n\\n.redirect-image {\\n  cursor: pointer;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9tbnQvZC9Xb3JrL0FuZ3VsYXIvTmV3IGZvbGRlciAoMikvRG9sY2VHcm9jZXJ5L3BhY2thZ2VzL2FkbWluLXdlYi1hbmd1bGFyL3NyYy9hcHAvQHNoYXJlZC9yZW5kZXItY29tcG9uZW50L2N1c3RvbWVyLXRhYmxlL2N1c3RvbWVyLXRhYmxlL2N1c3RvbWVyLWltYWdlLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9Ac2hhcmVkL3JlbmRlci1jb21wb25lbnQvY3VzdG9tZXItdGFibGUvY3VzdG9tZXItdGFibGUvY3VzdG9tZXItaW1hZ2UuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDQyxXQUFXO0VBQ1gsWUFBWTtBQ0NiOztBREVBO0VBQ0MsZUFBZTtBQ0NoQiIsImZpbGUiOiJzcmMvYXBwL0BzaGFyZWQvcmVuZGVyLWNvbXBvbmVudC9jdXN0b21lci10YWJsZS9jdXN0b21lci10YWJsZS9jdXN0b21lci1pbWFnZS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImltZyB7XG5cdHdpZHRoOiA2NHB4O1xuXHRoZWlnaHQ6IDY0cHg7XG59XG5cbi5yZWRpcmVjdC1pbWFnZSB7XG5cdGN1cnNvcjogcG9pbnRlcjtcbn1cbiIsImltZyB7XG4gIHdpZHRoOiA2NHB4O1xuICBoZWlnaHQ6IDY0cHg7XG59XG5cbi5yZWRpcmVjdC1pbWFnZSB7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cbiJdfQ== */\"","import { OnInit, Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ViewCell } from 'ng2-smart-table';\n\n@Component({\n\tstyleUrls: ['customer-image.component.scss'],\n\ttemplateUrl: 'customer-image.component.html',\n})\nexport class CustomerImageComponent implements ViewCell, OnInit {\n\tvalue: any;\n\trowData: any;\n\timageUrl: string;\n\tredirectPage: string;\n\n\tconstructor(private readonly router: Router) {}\n\n\tngOnInit() {\n\t\tthis.imageUrl = this.rowData.image;\n\t}\n\n\tredirect() {\n\t\tif (this.redirectPage) {\n\t\t\tthis.router.navigate([`${this.redirectPage}/${this.rowData.id}`]);\n\t\t}\n\t}\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL0BzaGFyZWQvdXNlci9iYW4tY29uZmlybS9iYW4tY29uZmlybS5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit, Input } from '@angular/core';\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\nimport { CustomerViewModel } from '@app/pages/+customers/customers.component';\n\n@Component({\n\tselector: 'ea-ban-confirm',\n\ttemplateUrl: './ban-confirm.component.html',\n\tstyleUrls: ['./ban-confirm.component.scss'],\n})\nexport class BanConfirmComponent implements OnInit {\n\t@Input() user: CustomerViewModel;\n\tconstructor(private readonly modal: NgbActiveModal) {}\n\n\tngOnInit() {}\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { BanConfirmComponent } from './ban-confirm.component';\n\n@NgModule({\n\tdeclarations: [BanConfirmComponent],\n\texports: [BanConfirmComponent],\n\tentryComponents: [BanConfirmComponent],\n\timports: [CommonModule],\n})\nexport class BanConfirmModule {}\n","import { Component, AfterViewInit, Input } from '@angular/core';\nimport { DefaultEditor, Cell } from 'ng2-smart-table';\n\nimport {\n\tCountry,\n\tCountryName,\n\tcountriesIdsToNamesArray,\n} from '@modules/server.common/entities/GeoLocation';\n\n@Component({\n\ttemplateUrl: './country-render.component.html',\n})\nexport class CountryRenderComponent extends DefaultEditor\n\timplements AfterViewInit {\n\t@Input()\n\tcell: Cell;\n\n\tcountry: string;\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tget countries(): Array<{ id: Country; name: CountryName }> {\n\t\treturn countriesIdsToNamesArray;\n\t}\n\n\tngAfterViewInit() {}\n\n\tonChanged(e) {}\n}\n","export default \"nb-card-header {\\n  border-bottom: 0;\\n}\\n\\nnb-card-body {\\n  padding: 0;\\n  border-bottom-left-radius: 0.5rem;\\n  border-bottom-right-radius: 0.5rem;\\n}\\n\\n:host ::ng-deep ng2-smart-table tr th {\\n  padding: 18px !important;\\n}\\n\\n:host ::ng-deep ng2-smart-table tr td {\\n  padding: 17px !important;\\n}\\n\\n:host ::ng-deep ng2-smart-table tr.ng2-smart-titles > th:nth-child(1) {\\n  text-align: center;\\n  cursor: pointer;\\n}\\n\\n:host ::ng-deep ng2-smart-table tr.ng2-smart-titles > th:nth-child(1) input {\\n  margin-left: 1px !important;\\n  cursor: pointer;\\n}\\n\\n:host ::ng-deep ng2-smart-table td.ng2-smart-actions.ng2-smart-action-multiple-select {\\n  text-align: center;\\n  cursor: pointer;\\n}\\n\\n:host ::ng-deep ng2-smart-table tr.ng2-smart-filters th {\\n  text-align: center;\\n}\\n\\n:host ::ng-deep ng2-smart-table tr td:first-of-type,\\n:host ::ng-deep ng2-smart-table th:first-of-type {\\n  border-left: none;\\n}\\n\\n:host ::ng-deep ng2-smart-table tr td:last-of-type,\\n:host ::ng-deep ng2-smart-table th:last-of-type {\\n  border-right: none;\\n}\\n\\n:host ::ng-deep ng2-smart-table input[type='checkbox'] {\\n  cursor: pointer;\\n}\\n\\n:host ::ng-deep ng2-smart-table .customer-image {\\n  width: 74px;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9tbnQvZC9Xb3JrL0FuZ3VsYXIvTmV3IGZvbGRlciAoMikvRG9sY2VHcm9jZXJ5L3BhY2thZ2VzL2FkbWluLXdlYi1hbmd1bGFyL3NyYy9hcHAvcGFnZXMvK2N1c3RvbWVycy9jdXN0b21lcnMuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL3BhZ2VzLytjdXN0b21lcnMvY3VzdG9tZXJzLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0MsZ0JBQWdCO0FDQ2pCOztBREVBO0VBQ0MsVUFBVTtFQUNWLGlDQUFpQztFQUNqQyxrQ0FBa0M7QUNDbkM7O0FERUE7RUFHRyx3QkFBd0I7QUNEM0I7O0FERkE7RUFNRyx3QkFBd0I7QUNBM0I7O0FETkE7RUFXRSxrQkFBa0I7RUFDbEIsZUFBZTtBQ0RqQjs7QURYQTtFQWVHLDJCQUEyQjtFQUMzQixlQUFlO0FDQWxCOztBRGhCQTtFQXFCRSxrQkFBa0I7RUFDbEIsZUFBZTtBQ0RqQjs7QURyQkE7RUEwQkUsa0JBQWtCO0FDRHBCOztBRHpCQTs7RUFnQ0csaUJBQWlCO0FDRnBCOztBRDlCQTs7RUFtQ0csa0JBQWtCO0FDQXJCOztBRG5DQTtFQXdDRSxlQUFlO0FDRGpCOztBREtBO0VBQ0MsV0FBVztBQ0ZaIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvK2N1c3RvbWVycy9jdXN0b21lcnMuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJuYi1jYXJkLWhlYWRlciB7XG5cdGJvcmRlci1ib3R0b206IDA7XG59XG5cbm5iLWNhcmQtYm9keSB7XG5cdHBhZGRpbmc6IDA7XG5cdGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDAuNXJlbTtcblx0Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDAuNXJlbTtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIG5nMi1zbWFydC10YWJsZSB7XG5cdHRyIHtcblx0XHR0aCB7XG5cdFx0XHRwYWRkaW5nOiAxOHB4ICFpbXBvcnRhbnQ7XG5cdFx0fVxuXHRcdHRkIHtcblx0XHRcdHBhZGRpbmc6IDE3cHggIWltcG9ydGFudDtcblx0XHR9XG5cdH1cblxuXHR0ci5uZzItc21hcnQtdGl0bGVzID4gdGg6bnRoLWNoaWxkKDEpIHtcblx0XHR0ZXh0LWFsaWduOiBjZW50ZXI7XG5cdFx0Y3Vyc29yOiBwb2ludGVyO1xuXG5cdFx0aW5wdXQge1xuXHRcdFx0bWFyZ2luLWxlZnQ6IDFweCAhaW1wb3J0YW50O1xuXHRcdFx0Y3Vyc29yOiBwb2ludGVyO1xuXHRcdH1cblx0fVxuXG5cdHRkLm5nMi1zbWFydC1hY3Rpb25zLm5nMi1zbWFydC1hY3Rpb24tbXVsdGlwbGUtc2VsZWN0IHtcblx0XHR0ZXh0LWFsaWduOiBjZW50ZXI7XG5cdFx0Y3Vyc29yOiBwb2ludGVyO1xuXHR9XG5cblx0dHIubmcyLXNtYXJ0LWZpbHRlcnMgdGgge1xuXHRcdHRleHQtYWxpZ246IGNlbnRlcjtcblx0fVxuXG5cdHRyIHRkLFxuXHR0aCB7XG5cdFx0JjpmaXJzdC1vZi10eXBlIHtcblx0XHRcdGJvcmRlci1sZWZ0OiBub25lO1xuXHRcdH1cblx0XHQmOmxhc3Qtb2YtdHlwZSB7XG5cdFx0XHRib3JkZXItcmlnaHQ6IG5vbmU7XG5cdFx0fVxuXHR9XG5cblx0aW5wdXRbdHlwZT0nY2hlY2tib3gnXSB7XG5cdFx0Y3Vyc29yOiBwb2ludGVyO1xuXHR9XG59XG5cbjpob3N0IDo6bmctZGVlcCBuZzItc21hcnQtdGFibGUgLmN1c3RvbWVyLWltYWdlIHtcblx0d2lkdGg6IDc0cHg7XG59XG4iLCJuYi1jYXJkLWhlYWRlciB7XG4gIGJvcmRlci1ib3R0b206IDA7XG59XG5cbm5iLWNhcmQtYm9keSB7XG4gIHBhZGRpbmc6IDA7XG4gIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDAuNXJlbTtcbiAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDAuNXJlbTtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIG5nMi1zbWFydC10YWJsZSB0ciB0aCB7XG4gIHBhZGRpbmc6IDE4cHggIWltcG9ydGFudDtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIG5nMi1zbWFydC10YWJsZSB0ciB0ZCB7XG4gIHBhZGRpbmc6IDE3cHggIWltcG9ydGFudDtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIG5nMi1zbWFydC10YWJsZSB0ci5uZzItc21hcnQtdGl0bGVzID4gdGg6bnRoLWNoaWxkKDEpIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbjpob3N0IDo6bmctZGVlcCBuZzItc21hcnQtdGFibGUgdHIubmcyLXNtYXJ0LXRpdGxlcyA+IHRoOm50aC1jaGlsZCgxKSBpbnB1dCB7XG4gIG1hcmdpbi1sZWZ0OiAxcHggIWltcG9ydGFudDtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG46aG9zdCA6Om5nLWRlZXAgbmcyLXNtYXJ0LXRhYmxlIHRkLm5nMi1zbWFydC1hY3Rpb25zLm5nMi1zbWFydC1hY3Rpb24tbXVsdGlwbGUtc2VsZWN0IHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbjpob3N0IDo6bmctZGVlcCBuZzItc21hcnQtdGFibGUgdHIubmcyLXNtYXJ0LWZpbHRlcnMgdGgge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbjpob3N0IDo6bmctZGVlcCBuZzItc21hcnQtdGFibGUgdHIgdGQ6Zmlyc3Qtb2YtdHlwZSxcbjpob3N0IDo6bmctZGVlcCBuZzItc21hcnQtdGFibGUgdGg6Zmlyc3Qtb2YtdHlwZSB7XG4gIGJvcmRlci1sZWZ0OiBub25lO1xufVxuXG46aG9zdCA6Om5nLWRlZXAgbmcyLXNtYXJ0LXRhYmxlIHRyIHRkOmxhc3Qtb2YtdHlwZSxcbjpob3N0IDo6bmctZGVlcCBuZzItc21hcnQtdGFibGUgdGg6bGFzdC1vZi10eXBlIHtcbiAgYm9yZGVyLXJpZ2h0OiBub25lO1xufVxuXG46aG9zdCA6Om5nLWRlZXAgbmcyLXNtYXJ0LXRhYmxlIGlucHV0W3R5cGU9J2NoZWNrYm94J10ge1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbjpob3N0IDo6bmctZGVlcCBuZzItc21hcnQtdGFibGUgLmN1c3RvbWVyLWltYWdlIHtcbiAgd2lkdGg6IDc0cHg7XG59XG4iXX0= */\"","import { AfterViewInit, Component, OnDestroy } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { LocalDataSource } from 'ng2-smart-table';\nimport { UsersService } from '../../@core/data/users.service';\nimport { OrdersService } from '../../@core/data/orders.service';\nimport User from '@modules/server.common/entities/User';\nimport Order from '@modules/server.common/entities/Order';\nimport { UserMutationComponent } from '../../@shared/user/user-mutation';\nimport { ToasterService } from 'angular2-toaster';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Observable, forkJoin } from 'rxjs';\nimport _ from 'lodash';\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport { Subject } from 'rxjs/Rx';\nimport { takeUntil, first } from 'rxjs/operators';\nimport { getCountryName } from '@modules/server.common/entities/GeoLocation';\nimport { CountryRenderComponent } from './+invites/country-render/country-render.component';\nimport { RedirectNameComponent } from '../../@shared/render-component/name-redirect/name-redirect.component';\nimport { CustomerImageComponent } from '../../@shared/render-component/customer-table/customer-table/customer-image.component';\nimport { NotifyService } from '../../@core/services/notify/notify.service';\nimport { CustomerOrdersNumberComponent } from '../../@shared/render-component/customer-table/customer-orders-number/customer-orders-number.component';\nimport { CustomerEmailComponent } from '../../@shared/render-component/customer-email/customer-email.component';\nimport { CustomerPhoneComponent } from '../../@shared/render-component/customer-phone/customer-phone.component';\nimport { BanConfirmComponent } from '@app/@shared/user/ban-confirm';\n\nexport interface CustomerViewModel {\n\tid: string;\n\tname: string;\n\timage: string;\n\temail: string;\n\tphone: string;\n\tcountry: string;\n\tcity: string;\n\taddress: string;\n\tordersQty: number;\n\tisBanned: boolean;\n}\n\nconst perPage = 7;\n\n@Component({\n\tselector: 'ea-customers',\n\ttemplateUrl: './customers.component.html',\n\tstyleUrls: ['/customers.component.scss'],\n})\nexport class CustomersComponent implements AfterViewInit, OnDestroy {\n\tprivate ngDestroy$ = new Subject<void>();\n\n\tstatic noInfoSign = '';\n\tpublic loading: boolean;\n\tpublic showBanLoading = false;\n\n\tprotected customers: User[] = [];\n\tprotected orders: Order[] = [];\n\n\tprotected settingsSmartTable: object;\n\tprotected sourceSmartTable = new LocalDataSource();\n\n\tprivate _selectedCustomers: CustomerViewModel[] = [];\n\tprivate dataCount: number;\n\tprivate $users;\n\n\tpublic _showOnlyBanned: boolean;\n\n\tconstructor(\n\t\tprivate readonly _router: Router,\n\t\tprivate readonly _ordersService: OrdersService,\n\t\tprivate readonly _usersService: UsersService,\n\t\tprivate readonly _modalService: NgbModal,\n\t\tprivate readonly _translateService: TranslateService,\n\t\tprivate readonly _notifyService: NotifyService\n\t) {\n\t\tthis._loadSettingsSmartTable();\n\t}\n\n\tprotected get hasSelectedCustomers(): boolean {\n\t\treturn this._selectedCustomers.length > 0;\n\t}\n\n\tngAfterViewInit() {\n\t\tthis._addCustomHTMLElements();\n\t\tthis._applyTranslationOnSmartTable();\n\t\tthis.smartTableChange();\n\t\tthis._loadDataSmartTable();\n\t}\n\n\tprotected selectUser(ev) {\n\t\tconst userId: string = ev.data.id;\n\t\tthis._router.navigate(['/customers/list' + userId]);\n\t}\n\n\tprotected showCreateUserModal() {\n\t\tthis._modalService.open(UserMutationComponent, {\n\t\t\tsize: 'lg',\n\t\t\tcontainer: 'nb-layout',\n\t\t\twindowClass: 'ng-custom',\n\t\t\tbackdrop: 'static',\n\t\t});\n\t}\n\n\tprotected selectCustomerTmp(ev) {\n\t\tthis._selectedCustomers = ev.selected;\n\t}\n\n\tprotected deleteSelectedRows() {\n\t\tconst idsForDelete: string[] = this._selectedCustomers.map((w) => w.id);\n\n\t\ttry {\n\t\t\tthis.loading = true;\n\t\t\tthis._usersService\n\t\t\t\t.removeByIds(idsForDelete)\n\t\t\t\t.pipe(first())\n\t\t\t\t.toPromise();\n\t\t\tthis._selectedCustomers = [];\n\n\t\t\tthis.loading = false;\n\t\t\tconst message = `Users was removed`;\n\t\t\tthis._notifyService.success(message);\n\t\t} catch (error) {\n\t\t\tlet message = `Something went wrong`;\n\t\t\tif (error.message === 'Validation error') {\n\t\t\t\tmessage = error.message;\n\t\t\t}\n\t\t\tthis.loading = false;\n\t\t\tthis._notifyService.error(message);\n\t\t}\n\t}\n\n\tprotected banSelectedRows() {\n\t\tif (this.isUserBanned) {\n\t\t\tthis.showUnbanPopup();\n\t\t} else {\n\t\t\tthis.showBanPopup();\n\t\t}\n\t}\n\n\tprivate showUnbanPopup() {\n\t\tconst modal = this._modalService.open(BanConfirmComponent, {\n\t\t\tsize: 'lg',\n\t\t\tcontainer: 'nb-layout',\n\t\t\twindowClass: 'ng-custom',\n\t\t\tbackdrop: 'static',\n\t\t});\n\t\tmodal.componentInstance.user = this._selectedCustomers[0];\n\t\tmodal.result\n\t\t\t.then(async (user) => {\n\t\t\t\tthis.showBanLoading = true;\n\t\t\t\tawait this._usersService.unbanUser(user.id);\n\t\t\t\tthis._loadDataSmartTable();\n\t\t\t\tthis.showBanLoading = false;\n\t\t\t\tthis._notifyService.success(`${user.name} is unbanned!`);\n\t\t\t})\n\t\t\t.catch((_) => {});\n\t}\n\n\tprivate showBanPopup() {\n\t\tconst modal = this._modalService.open(BanConfirmComponent, {\n\t\t\tsize: 'lg',\n\t\t\tcontainer: 'nb-layout',\n\t\t\twindowClass: 'ng-custom',\n\t\t\tbackdrop: 'static',\n\t\t});\n\t\tmodal.componentInstance.user = this._selectedCustomers[0];\n\t\tmodal.result\n\t\t\t.then(async (user) => {\n\t\t\t\tthis.showBanLoading = true;\n\t\t\t\tawait this._usersService.banUser(user.id);\n\t\t\t\tthis._loadDataSmartTable();\n\t\t\t\tthis.showBanLoading = false;\n\t\t\t\tthis._notifyService.success(`${user.name} is banned!`);\n\t\t\t})\n\t\t\t.catch((_) => {});\n\t}\n\n\tprivate _loadSettingsSmartTable() {\n\t\tconst columnTitlePrefix = 'CUSTOMERS_VIEW.SMART_TABLE_COLUMNS.';\n\t\tconst getTranslate = (name: string): Observable<any> =>\n\t\t\tthis._translateService.get(columnTitlePrefix + name);\n\n\t\tforkJoin(\n\t\t\tthis._translateService.get('Id'),\n\t\t\tgetTranslate('IMAGE'),\n\t\t\tgetTranslate('NAME'),\n\t\t\tgetTranslate('EMAIL'),\n\t\t\tgetTranslate('PHONE'),\n\t\t\tgetTranslate('COUNTRY'),\n\t\t\tgetTranslate('CITY'),\n\t\t\tgetTranslate('ADDRESS'),\n\t\t\tgetTranslate('ORDERS_QTY')\n\t\t).subscribe(\n\t\t\t([\n\t\t\t\tid,\n\t\t\t\timage,\n\t\t\t\tname,\n\t\t\t\temail,\n\t\t\t\tphone,\n\t\t\t\tcountry,\n\t\t\t\tcity,\n\t\t\t\taddress,\n\t\t\t\tordersQty,\n\t\t\t]) => {\n\t\t\t\tthis.settingsSmartTable = {\n\t\t\t\t\tactions: false,\n\t\t\t\t\tselectMode: 'multi',\n\t\t\t\t\tcolumns: {\n\t\t\t\t\t\timages: {\n\t\t\t\t\t\t\ttitle: image,\n\t\t\t\t\t\t\tclass: 'customer-image',\n\t\t\t\t\t\t\ttype: 'custom',\n\t\t\t\t\t\t\trenderComponent: CustomerImageComponent,\n\t\t\t\t\t\t\tonComponentInitFunction: (instance) => {\n\t\t\t\t\t\t\t\tinstance.redirectPage = 'customers/list';\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfilter: false,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tname: {\n\t\t\t\t\t\t\ttitle: name,\n\t\t\t\t\t\t\ttype: 'custom',\n\t\t\t\t\t\t\trenderComponent: RedirectNameComponent,\n\t\t\t\t\t\t\tonComponentInitFunction: (instance) => {\n\t\t\t\t\t\t\t\tinstance.redirectPage = 'customers/list';\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\temail: {\n\t\t\t\t\t\t\ttitle: email,\n\t\t\t\t\t\t\ttype: 'custom',\n\t\t\t\t\t\t\trenderComponent: CustomerEmailComponent,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tphone: {\n\t\t\t\t\t\t\ttitle: phone,\n\t\t\t\t\t\t\ttype: 'custom',\n\t\t\t\t\t\t\trenderComponent: CustomerPhoneComponent,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcountry: {\n\t\t\t\t\t\t\ttitle: country,\n\t\t\t\t\t\t\teditor: {\n\t\t\t\t\t\t\t\ttype: 'custom',\n\t\t\t\t\t\t\t\tcomponent: CountryRenderComponent,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcity: { title: city },\n\t\t\t\t\t\taddress: { title: address },\n\t\t\t\t\t\tordersQty: {\n\t\t\t\t\t\t\ttitle: ordersQty,\n\t\t\t\t\t\t\ttype: 'custom',\n\t\t\t\t\t\t\trenderComponent: CustomerOrdersNumberComponent,\n\t\t\t\t\t\t\tfilter: false,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tpager: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tperPage,\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t}\n\t\t);\n\t}\n\n\tprivate async _loadDataSmartTable(page = 1) {\n\t\tif (this.$users) {\n\t\t\tawait this.$users.unsubscribe();\n\t\t}\n\t\tlet users: User[] = [];\n\n\t\tconst loadData = async () => {\n\t\t\tconst usersOrders = await this._ordersService.getUsersOrdersCountInfo(\n\t\t\t\tusers.map((u) => u.id)\n\t\t\t);\n\n\t\t\tlet usersVM = users.map((user) => {\n\t\t\t\tconst userOrders = usersOrders.find(\n\t\t\t\t\t(res) => res['id'] === user.id\n\t\t\t\t);\n\n\t\t\t\treturn {\n\t\t\t\t\tid: user.id,\n\t\t\t\t\timage: user.image || CustomersComponent.noInfoSign,\n\t\t\t\t\tname:\n\t\t\t\t\t\tuser.firstName && user.lastName\n\t\t\t\t\t\t\t? `${user.firstName} ${user.lastName}`\n\t\t\t\t\t\t\t: user.firstName\n\t\t\t\t\t\t\t? user.firstName\n\t\t\t\t\t\t\t: user.lastName\n\t\t\t\t\t\t\t? user.lastName\n\t\t\t\t\t\t\t: user.id,\n\t\t\t\t\temail: user.email || CustomersComponent.noInfoSign,\n\t\t\t\t\tphone: user.phone || CustomersComponent.noInfoSign,\n\t\t\t\t\tcountry:\n\t\t\t\t\t\tgetCountryName(user.geoLocation.countryId).trim() ||\n\t\t\t\t\t\tCustomersComponent.noInfoSign,\n\t\t\t\t\tcity:\n\t\t\t\t\t\tuser.geoLocation.city || CustomersComponent.noInfoSign,\n\t\t\t\t\taddress: `st. ${\n\t\t\t\t\t\tuser.geoLocation.streetAddress ||\n\t\t\t\t\t\tCustomersComponent.noInfoSign\n\t\t\t\t\t}, hse. № ${\n\t\t\t\t\t\tuser.geoLocation.house || CustomersComponent.noInfoSign\n\t\t\t\t\t}`,\n\t\t\t\t\tordersQty: userOrders ? userOrders.ordersCount : 0,\n\t\t\t\t\tisBanned: user.isBanned,\n\t\t\t\t};\n\t\t\t});\n\n\t\t\tawait this.loadDataCount();\n\n\t\t\tif (this.showOnlyBanned) {\n\t\t\t\tusersVM = usersVM.filter((user) => user.isBanned);\n\t\t\t}\n\n\t\t\tconst usersData = new Array(this.dataCount);\n\n\t\t\tusersData.splice(perPage * (page - 1), perPage, ...usersVM);\n\t\t\tawait this.sourceSmartTable.load(usersData);\n\t\t};\n\n\t\t// We call two times 'loadData'\n\t\t// This is need because in every change on one of them the server emit and we want to receive it\n\t\tthis.$users = this._usersService\n\t\t\t.getUsers({\n\t\t\t\tskip: perPage * (page - 1),\n\t\t\t\tlimit: perPage,\n\t\t\t})\n\t\t\t.pipe(takeUntil(this.ngDestroy$))\n\t\t\t.subscribe(async (u: User[]) => {\n\t\t\t\tusers = u;\n\t\t\t\tawait loadData();\n\t\t\t});\n\t}\n\n\tprivate _applyTranslationOnSmartTable() {\n\t\tthis._translateService.onLangChange\n\t\t\t.pipe(takeUntil(this.ngDestroy$))\n\t\t\t.subscribe(() => {\n\t\t\t\tthis._loadSettingsSmartTable();\n\t\t\t});\n\t}\n\n\t// This is just workaround to show some search icon on smart table, in the future maybe we must find better solution.\n\tprivate _addCustomHTMLElements(): any {\n\t\tdocument.querySelector(\n\t\t\t'tr.ng2-smart-filters > th:nth-child(1)'\n\t\t).innerHTML = '<i class=\"fa fa-search\" style=\"font-size: 1.3em\"/>';\n\t}\n\n\tprivate async smartTableChange() {\n\t\tthis.sourceSmartTable\n\t\t\t.onChanged()\n\t\t\t.pipe(takeUntil(this.ngDestroy$))\n\t\t\t.subscribe(async (event) => {\n\t\t\t\tif (event.action === 'page') {\n\t\t\t\t\tconst page = event.paging.page;\n\t\t\t\t\tthis._loadDataSmartTable(page);\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tprivate async loadDataCount() {\n\t\tthis.dataCount = await this._usersService.getCountOfUsers();\n\t}\n\n\tpublic get isOnlyOneCustomerSelected(): boolean {\n\t\treturn this._selectedCustomers.length === 1;\n\t}\n\n\tpublic get isUserBanned() {\n\t\treturn (\n\t\t\tthis._selectedCustomers[0] && this._selectedCustomers[0].isBanned\n\t\t);\n\t}\n\n\tpublic set showOnlyBanned(v: boolean) {\n\t\tthis._showOnlyBanned = v;\n\t\tthis._loadDataSmartTable();\n\t}\n\n\tpublic get showOnlyBanned(): boolean {\n\t\treturn this._showOnlyBanned;\n\t}\n\n\tngOnDestroy() {\n\t\tthis.ngDestroy$.next();\n\t\tthis.ngDestroy$.complete();\n\t}\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule, JsonPipe } from '@angular/common';\nimport { RouterModule, Routes } from '@angular/router';\nimport { Ng2SmartTableModule } from 'ng2-smart-table';\nimport { ToasterModule } from 'angular2-toaster';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { CustomersComponent } from './customers.component';\nimport { ThemeModule } from '../../@theme';\nimport { HighlightModule } from 'ngx-highlightjs';\nimport { RenderComponentsModule } from '../../@shared/render-component/render-components.module';\nimport { GeoLocationService } from '../../@core/data/geo-location.service';\nimport { UserMutationModule } from '../../@shared/user/user-mutation';\nimport { CustomerTableModule } from '../../@shared/render-component/customer-table/customer-table.module';\nimport { NbSpinnerModule, NbButtonModule } from '@nebular/theme';\nimport { NotifyService } from '@app/@core/services/notify/notify.service';\nimport { BanConfirmModule } from '@app/@shared/user/ban-confirm';\n\nconst routes: Routes = [\n\t{\n\t\tpath: 'list',\n\t\tcomponent: CustomersComponent,\n\t},\n\t{\n\t\tpath: 'invites',\n\t\tloadChildren: () =>\n\t\t\timport('./+invites/invites.module').then((m) => m.InvitesModule),\n\t},\n\t{\n\t\tpath: 'list/:id',\n\t\tloadChildren: () =>\n\t\t\timport('./+customer/customer.module').then((m) => m.CustomerModule),\n\t},\n];\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tNg2SmartTableModule,\n\t\tThemeModule,\n\t\tToasterModule.forRoot(),\n\t\tRouterModule.forChild(routes),\n\t\tTranslateModule.forChild(),\n\t\tHighlightModule.forRoot({ theme: 'github' }),\n\t\tRenderComponentsModule,\n\t\tUserMutationModule,\n\t\tCustomerTableModule,\n\t\tNbSpinnerModule,\n\t\tBanConfirmModule,\n\t\tNbButtonModule,\n\t],\n\tdeclarations: [CustomersComponent],\n\tproviders: [JsonPipe, GeoLocationService, NotifyService],\n})\nexport class CustomersModule {\n\tpublic static routes = routes;\n}\n"]}