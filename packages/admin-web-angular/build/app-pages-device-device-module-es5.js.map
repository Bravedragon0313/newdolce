{"version":3,"sources":["webpack:///src/app/@shared/confirmation-modal/confirmation-modal.component.html","webpack:///src/app/pages/+device/device-mutation/device-mutation.component.html","webpack:///src/app/pages/+device/device.component.html","webpack:///src/app/@core/services/notify/notify.service.ts","webpack:///src/app/@shared/confirmation-modal/confirmation-modal.component.scss","webpack:///src/app/@shared/confirmation-modal/confirmation-modal.component.ts","webpack:///src/app/@shared/confirmation-modal/confirmation-modal.module.ts","webpack:///src/app/pages/+device/device-mutation/device-mutation.component.ts","webpack:///src/app/pages/+device/device.component.scss","webpack:///src/app/pages/+device/device.component.ts","webpack:///src/app/pages/+device/device.module.ts"],"names":["NotifyService","_toasterService","title","body","_setupToast","_notify","type","_toast","pop","ConfimationModalComponent","activeModal","translateService","ngDestroy$","prefix","confirmButton","cancelButton","confirmEvent","mainText","forTranslate","_translate","dismiss","key","translationResult","get","subscribe","res","next","complete","template","COMPONENTS","ConfirmationModalModule","imports","forChild","forRoot","declarations","entryComponents","exports","DeviceMutationComponent","fb","deviceService","_notifyService","form","group","id","required","language","uuid","loading","update","value","pipe","toPromise","dev","message","success","error","cancel","setValue","device","selector","DeviceComponent","_deviceService","_modalService","_translateService","_selectedDevices","sourceSmartTable","_loadSmartTableSettings","_setupDataForSmartTable","_listenForEntityLocaleTranslate","_applyTranslationOnSmartTable","open","size","container","backdrop","modalComponent","componentInstance","event","data","idsForDelete","map","c","removeByIds","length","ev","selected","e","dataEvent","idsArray","push","onLangChange","columnTitlePrefix","getTranslate","name","settingsSmartTable","selectMode","actions","add","position","edit","editButtonContent","deleteButtonContent","confirmDelete","mode","hideSubHeader","columns","filter","pager","display","perPage","getDevices","devicesVm","noInfoSign","load","device$","unsubscribe","routes","path","component","DeviceModule","providers"],"mappings":"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","file":"app-pages-device-device-module-es5.js","sourcesContent":["export default \"<div class=\\\"modal-header\\\">\\n\\t<span>{{ mainTextTr() }}</span\\n\\t><button aria-label=\\\"Close\\\" class=\\\"close\\\" (click)=\\\"cancel()\\\">\\n\\t\\t<span aria-hidden=\\\"true\\\">×</span>\\n\\t</button>\\n</div>\\n\\n<div class=\\\"modal-footer\\\">\\n\\t<button nbButton status=\\\"danger\\\" (click)=\\\"cancel()\\\">\\n\\t\\t{{ cancelButtonTr() }}\\n\\t</button>\\n\\t<button nbButton status=\\\"success\\\" (click)=\\\"confirmEvent.emit()\\\">\\n\\t\\t{{ confirmButtonTr() }}\\n\\t</button>\\n</div>\\n\"","export default \"<div class=\\\"modal-header\\\">\\n\\t<span class=\\\"modal-title\\\">\\n\\t\\t{{ 'CUSTOMERS_VIEW.DEVICE.UPDATE_DEVICE' | translate }}\\n\\t</span>\\n\\t<button class=\\\"close\\\" aria-label=\\\"Close\\\" (click)=\\\"cancel()\\\">\\n\\t\\t<span aria-hidden=\\\"true\\\">&times;</span>\\n\\t</button>\\n</div>\\n<div class=\\\"modal-body\\\" [nbSpinner]=\\\"loading\\\">\\n\\t<form [formGroup]=\\\"form\\\">\\n\\t\\t<div class=\\\"form-group\\\">\\n\\t\\t\\t<label for=\\\"exampleInputId\\\">{{\\n\\t\\t\\t\\t'CUSTOMERS_VIEW.DEVICE.DEVICE_ID' | translate\\n\\t\\t\\t}}</label>\\n\\t\\t\\t<input\\n\\t\\t\\t\\tformControlName=\\\"id\\\"\\n\\t\\t\\t\\tname=\\\"deviceId\\\"\\n\\t\\t\\t\\tclass=\\\"form-control\\\"\\n\\t\\t\\t\\tid=\\\"exampleInputId\\\"\\n\\t\\t\\t\\treadonly\\n\\t\\t\\t\\tplaceholder=\\\"{{\\n\\t\\t\\t\\t\\t'CUSTOMERS_VIEW.DEVICE.DEVICE_ID' | translate\\n\\t\\t\\t\\t}}\\\"\\n\\t\\t\\t/>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"form-group\\\">\\n\\t\\t\\t<label for=\\\"exampleInputLanguage\\\">{{\\n\\t\\t\\t\\t'LANGUAGE' | translate\\n\\t\\t\\t}}</label>\\n\\t\\t\\t<input\\n\\t\\t\\t\\tformControlName=\\\"language\\\"\\n\\t\\t\\t\\tname=\\\"language\\\"\\n\\t\\t\\t\\tclass=\\\"form-control\\\"\\n\\t\\t\\t\\tid=\\\"exampleInputLanguage\\\"\\n\\t\\t\\t\\tplaceholder=\\\"{{ 'LANGUAGE' | translate }}\\\"\\n\\t\\t\\t/>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"form-group\\\">\\n\\t\\t\\t<label for=\\\"exampleInputType\\\">{{\\n\\t\\t\\t\\t'CUSTOMERS_VIEW.DEVICE.TYPEU' | translate\\n\\t\\t\\t}}</label>\\n\\t\\t\\t<input\\n\\t\\t\\t\\tformControlName=\\\"type\\\"\\n\\t\\t\\t\\tname=\\\"type\\\"\\n\\t\\t\\t\\tclass=\\\"form-control\\\"\\n\\t\\t\\t\\tid=\\\"exampleInputType\\\"\\n\\t\\t\\t\\tplaceholder=\\\"{{ 'CUSTOMERS_VIEW.DEVICE.TYPEU' | translate }}\\\"\\n\\t\\t\\t/>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"form-group\\\">\\n\\t\\t\\t<label for=\\\"exampleInputUuid\\\">{{\\n\\t\\t\\t\\t'CUSTOMERS_VIEW.DEVICE.DEVICE_UUID' | translate\\n\\t\\t\\t}}</label>\\n\\t\\t\\t<input\\n\\t\\t\\t\\tformControlName=\\\"uuid\\\"\\n\\t\\t\\t\\tname=\\\"uuid\\\"\\n\\t\\t\\t\\tclass=\\\"form-control\\\"\\n\\t\\t\\t\\tid=\\\"exampleInputUuid\\\"\\n\\t\\t\\t\\treadonly\\n\\t\\t\\t\\tplaceholder=\\\"{{\\n\\t\\t\\t\\t\\t'CUSTOMERS_VIEW.DEVICE.DEVICE_UUID' | translate\\n\\t\\t\\t\\t}}\\\"\\n\\t\\t\\t/>\\n\\t\\t</div>\\n\\t\\t<button (click)=\\\"update()\\\" type=\\\"submit\\\" class=\\\"btn btn-success\\\">\\n\\t\\t\\t{{ 'CUSTOMERS_VIEW.DEVICE.UPDATE' | translate }}\\n\\t\\t</button>\\n\\t\\t<button (click)=\\\"cancel()\\\" class=\\\"btn btn-default float-right\\\">\\n\\t\\t\\t{{ 'CANCEL' | translate }}\\n\\t\\t</button>\\n\\t</form>\\n</div>\\n\"","export default \"<nb-card>\\n\\t<toaster-container></toaster-container>\\n\\t<nb-card-header>\\n\\t\\t<h1>{{ 'CUSTOMERS_VIEW.DEVICE.CUSTOMERS_DEVICES' | translate }}</h1>\\n\\t</nb-card-header>\\n</nb-card>\\n\\n<nb-card>\\n\\t<nb-card-header>\\n\\t\\t<div class=\\\"row\\\">\\n\\t\\t\\t<div class=\\\"col\\\">\\n\\t\\t\\t\\t<button\\n\\t\\t\\t\\t\\tnbButton\\n\\t\\t\\t\\t\\tstatus=\\\"danger\\\"\\n\\t\\t\\t\\t\\t[disabled]=\\\"!hasSelectedDevices\\\"\\n\\t\\t\\t\\t\\t(click)=\\\"deleteSelectedDevices()\\\"\\n\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t<i class=\\\"ion-md-trash button-icon mr-1\\\"></i>\\n\\t\\t\\t\\t\\t<small _ngcontent-c55=\\\"\\\">{{\\n\\t\\t\\t\\t\\t\\t'CUSTOMERS_VIEW.DEVICE.DELETE' | translate\\n\\t\\t\\t\\t\\t}}</small>\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</nb-card-header>\\n\\n\\t<nb-card-body [nbSpinner]=\\\"loading\\\">\\n\\t\\t<ng2-smart-table\\n\\t\\t\\t[settings]=\\\"settingsSmartTable\\\"\\n\\t\\t\\t[source]=\\\"sourceSmartTable\\\"\\n\\t\\t\\t(edit)=\\\"edit($event)\\\"\\n\\t\\t\\t(delete)=\\\"deleteDevice($event)\\\"\\n\\t\\t\\t(userRowSelect)=\\\"selectProductTmp($event)\\\"\\n\\t\\t>\\n\\t\\t</ng2-smart-table>\\n\\t</nb-card-body>\\n</nb-card>\\n\"","import { ToasterService, Toast } from 'angular2-toaster';\nimport { Injectable } from '@angular/core';\n\n@Injectable()\nexport class NotifyService {\n\tprivate _toast: Toast;\n\n\tconstructor(private readonly _toasterService: ToasterService) {}\n\n\tsuccess(title?: string, body?: string) {\n\t\tthis._setupToast('success', title, body);\n\t\tthis._notify();\n\t}\n\n\twarn(title?: string, body?: string) {\n\t\tthis._setupToast('warning', title, body);\n\t\tthis._notify();\n\t}\n\n\terror(title?: string, body?: string) {\n\t\tthis._setupToast('error', title, body);\n\t\tthis._notify();\n\t}\n\n\tprivate _setupToast(type: string, title: string, body: string) {\n\t\tthis._toast = { type, title, body };\n\t}\n\n\tprivate _notify() {\n\t\tthis._toasterService.pop(this._toast);\n\t}\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL0BzaGFyZWQvY29uZmlybWF0aW9uLW1vZGFsL2NvbmZpcm1hdGlvbi1tb2RhbC5jb21wb25lbnQuc2NzcyJ9 */\"","import {\n\tComponent,\n\tOnInit,\n\tOutput,\n\tEventEmitter,\n\tOnDestroy,\n} from '@angular/core';\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\nimport { Subject } from 'rxjs';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Component({\n\tstyleUrls: ['./confirmation-modal.component.scss'],\n\ttemplateUrl: './confirmation-modal.component.html',\n})\nexport class ConfimationModalComponent implements OnInit, OnDestroy {\n\tpublic ngDestroy$ = new Subject<void>();\n\n\tpublic prefix: string = 'CONFIRM_MODAL.';\n\tpublic confirmButton: string = 'YES';\n\tpublic cancelButton: string = 'NO';\n\tpublic mainText: string;\n\n\t@Output()\n\tconfirmEvent = new EventEmitter();\n\n\tconstructor(\n\t\tprivate readonly activeModal: NgbActiveModal,\n\t\tprivate translateService: TranslateService\n\t) {\n\t\tif (!this.mainText) {\n\t\t\tthis.mainText = 'ARE_YOU_SURE';\n\t\t}\n\t}\n\n\tngOnInit(): void {}\n\n\tmainTextTr() {\n\t\tconst forTranslate = this.prefix + this.mainText;\n\t\treturn this._translate(forTranslate);\n\t}\n\tconfirmButtonTr() {\n\t\tconst forTranslate = this.prefix + this.confirmButton;\n\t\treturn this._translate(forTranslate);\n\t}\n\n\tcancelButtonTr() {\n\t\tconst forTranslate = this.prefix + this.cancelButton;\n\t\treturn this._translate(forTranslate);\n\t}\n\n\tcancel() {\n\t\tthis.activeModal.dismiss('canceled');\n\t}\n\n\tprivate _translate(key: string): string {\n\t\tlet translationResult = '';\n\n\t\tthis.translateService.get(key).subscribe((res) => {\n\t\t\ttranslationResult = res;\n\t\t});\n\n\t\treturn translationResult;\n\t}\n\n\tngOnDestroy() {\n\t\tthis.ngDestroy$.next();\n\t\tthis.ngDestroy$.complete();\n\t}\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ThemeModule } from '../../@theme';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { ConfimationModalComponent } from './confirmation-modal.component';\nimport { ToasterModule } from 'angular2-toaster';\nimport { NbSpinnerModule, NbButtonModule } from '@nebular/theme';\n\nconst COMPONENTS = [ConfimationModalComponent];\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tThemeModule,\n\t\tTranslateModule.forChild(),\n\t\tToasterModule.forRoot(),\n\t\tNbSpinnerModule,\n\t\tNbButtonModule,\n\t],\n\tdeclarations: COMPONENTS,\n\tentryComponents: COMPONENTS,\n\texports: COMPONENTS,\n})\nexport class ConfirmationModalModule {}\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport Device from '@modules/server.common/entities/Device';\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { DeviceService } from '../../../@core/data/device.service';\nimport { first } from 'rxjs/operators';\nimport { Subject } from 'rxjs';\nimport { NotifyService } from '../../../@core/services/notify/notify.service';\n\n@Component({\n\tselector: 'ea-device-mutation',\n\ttemplateUrl: './device-mutation.component.html',\n})\nexport class DeviceMutationComponent implements OnDestroy, OnInit {\n\tprivate ngDestroy$ = new Subject<void>();\n\tpublic device: Device;\n\tpublic loading: boolean;\n\n\treadonly form = this.fb.group({\n\t\tid: ['', Validators.required],\n\t\tlanguage: ['', Validators.required],\n\t\ttype: ['', Validators.required],\n\t\tuuid: ['', Validators.required],\n\t});\n\n\tpublic id = this.form.get('id');\n\tpublic language = this.form.get('language');\n\tpublic type = this.form.get('type');\n\tpublic uuid = this.form.get('uuid');\n\n\tconstructor(\n\t\tprivate readonly activeModal: NgbActiveModal,\n\t\tprivate readonly fb: FormBuilder,\n\t\tprivate readonly deviceService: DeviceService,\n\t\tprivate readonly _notifyService: NotifyService\n\t) {}\n\n\tcancel() {\n\t\tthis.activeModal.dismiss('canceled');\n\t}\n\n\tasync update() {\n\t\ttry {\n\t\t\tthis.loading = true;\n\t\t\tconst dev = await this.deviceService\n\t\t\t\t.update(this.id.value, {\n\t\t\t\t\tlanguage: this.language.value,\n\t\t\t\t\ttype: this.type.value,\n\t\t\t\t\tuuid: this.uuid.value,\n\t\t\t\t})\n\t\t\t\t.pipe(first())\n\t\t\t\t.toPromise();\n\t\t\tthis.loading = false;\n\t\t\tconst message = `Device was updated! BLQKS`;\n\t\t\tthis._notifyService.success(message);\n\t\t} catch (error) {\n\t\t\tlet message = `Something went wrong`;\n\t\t\tif (error.message === 'Validation error') {\n\t\t\t\tmessage = error.message;\n\t\t\t}\n\t\t\tthis.loading = false;\n\t\t\tthis._notifyService.error(message);\n\t\t}\n\n\t\tthis.cancel();\n\t}\n\n\tngOnInit(): void {\n\t\tthis.id.setValue(this.device.id);\n\t\tthis.language.setValue(this.device.language);\n\t\tthis.type.setValue(this.device.type);\n\t\tthis.uuid.setValue(this.device.uuid);\n\t}\n\n\tngOnDestroy(): void {\n\t\tthis.ngDestroy$.next();\n\t\tthis.ngDestroy$.complete();\n\t}\n}\n","export default \"nb-card-header {\\n  border-bottom: 0;\\n}\\n\\n.title {\\n  text-align: left;\\n}\\n\\nnb-card-body {\\n  padding: 0;\\n  border-bottom-left-radius: 0.5rem;\\n  border-bottom-right-radius: 0.5rem;\\n}\\n\\n:host ::ng-deep ng2-smart-table tr.ng2-smart-titles > th:nth-child(1) {\\n  text-align: center;\\n  cursor: pointer;\\n}\\n\\n:host ::ng-deep ng2-smart-table tr.ng2-smart-titles > th:nth-child(1) input {\\n  margin-left: 5px !important;\\n  cursor: pointer;\\n}\\n\\n:host ::ng-deep ng2-smart-table td.ng2-smart-actions.ng2-smart-action-multiple-select {\\n  text-align: center;\\n  cursor: pointer;\\n}\\n\\n:host ::ng-deep ng2-smart-table tr.ng2-smart-filters th {\\n  text-align: center;\\n}\\n\\n:host ::ng-deep ng2-smart-table tr td:first-of-type,\\n:host ::ng-deep ng2-smart-table th:first-of-type {\\n  border-left: none;\\n}\\n\\n:host ::ng-deep ng2-smart-table tr td:last-of-type,\\n:host ::ng-deep ng2-smart-table th:last-of-type {\\n  border-right: none;\\n}\\n\\n:host ::ng-deep ng2-smart-table input[type='checkbox'] {\\n  cursor: pointer;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9tbnQvZC9Xb3JrL0FuZ3VsYXIvTmV3IGZvbGRlciAoMikvRG9sY2VHcm9jZXJ5L3BhY2thZ2VzL2FkbWluLXdlYi1hbmd1bGFyL3NyYy9hcHAvcGFnZXMvK2RldmljZS9kZXZpY2UuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL3BhZ2VzLytkZXZpY2UvZGV2aWNlLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0MsZ0JBQWdCO0FDQ2pCOztBRENBO0VBQ0MsZ0JBQWdCO0FDRWpCOztBREFBO0VBQ0MsVUFBVTtFQUNWLGlDQUFpQztFQUNqQyxrQ0FBa0M7QUNHbkM7O0FEQUE7RUFFRSxrQkFBa0I7RUFDbEIsZUFBZTtBQ0VqQjs7QURMQTtFQU1HLDJCQUEyQjtFQUMzQixlQUFlO0FDR2xCOztBRFZBO0VBWUUsa0JBQWtCO0VBQ2xCLGVBQWU7QUNFakI7O0FEZkE7RUFpQkUsa0JBQWtCO0FDRXBCOztBRG5CQTs7RUF1QkcsaUJBQWlCO0FDQ3BCOztBRHhCQTs7RUEwQkcsa0JBQWtCO0FDR3JCOztBRDdCQTtFQStCRSxlQUFlO0FDRWpCIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvK2RldmljZS9kZXZpY2UuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJuYi1jYXJkLWhlYWRlciB7XG5cdGJvcmRlci1ib3R0b206IDA7XG59XG4udGl0bGUge1xuXHR0ZXh0LWFsaWduOiBsZWZ0O1xufVxubmItY2FyZC1ib2R5IHtcblx0cGFkZGluZzogMDtcblx0Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMC41cmVtO1xuXHRib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMC41cmVtO1xufVxuXG46aG9zdCA6Om5nLWRlZXAgbmcyLXNtYXJ0LXRhYmxlIHtcblx0dHIubmcyLXNtYXJ0LXRpdGxlcyA+IHRoOm50aC1jaGlsZCgxKSB7XG5cdFx0dGV4dC1hbGlnbjogY2VudGVyO1xuXHRcdGN1cnNvcjogcG9pbnRlcjtcblxuXHRcdGlucHV0IHtcblx0XHRcdG1hcmdpbi1sZWZ0OiA1cHggIWltcG9ydGFudDtcblx0XHRcdGN1cnNvcjogcG9pbnRlcjtcblx0XHR9XG5cdH1cblxuXHR0ZC5uZzItc21hcnQtYWN0aW9ucy5uZzItc21hcnQtYWN0aW9uLW11bHRpcGxlLXNlbGVjdCB7XG5cdFx0dGV4dC1hbGlnbjogY2VudGVyO1xuXHRcdGN1cnNvcjogcG9pbnRlcjtcblx0fVxuXG5cdHRyLm5nMi1zbWFydC1maWx0ZXJzIHRoIHtcblx0XHR0ZXh0LWFsaWduOiBjZW50ZXI7XG5cdH1cblxuXHR0ciB0ZCxcblx0dGgge1xuXHRcdCY6Zmlyc3Qtb2YtdHlwZSB7XG5cdFx0XHRib3JkZXItbGVmdDogbm9uZTtcblx0XHR9XG5cdFx0JjpsYXN0LW9mLXR5cGUge1xuXHRcdFx0Ym9yZGVyLXJpZ2h0OiBub25lO1xuXHRcdH1cblx0fVxuXG5cdGlucHV0W3R5cGU9J2NoZWNrYm94J10ge1xuXHRcdGN1cnNvcjogcG9pbnRlcjtcblx0fVxufVxuIiwibmItY2FyZC1oZWFkZXIge1xuICBib3JkZXItYm90dG9tOiAwO1xufVxuXG4udGl0bGUge1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xufVxuXG5uYi1jYXJkLWJvZHkge1xuICBwYWRkaW5nOiAwO1xuICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAwLjVyZW07XG4gIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAwLjVyZW07XG59XG5cbjpob3N0IDo6bmctZGVlcCBuZzItc21hcnQtdGFibGUgdHIubmcyLXNtYXJ0LXRpdGxlcyA+IHRoOm50aC1jaGlsZCgxKSB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG46aG9zdCA6Om5nLWRlZXAgbmcyLXNtYXJ0LXRhYmxlIHRyLm5nMi1zbWFydC10aXRsZXMgPiB0aDpudGgtY2hpbGQoMSkgaW5wdXQge1xuICBtYXJnaW4tbGVmdDogNXB4ICFpbXBvcnRhbnQ7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIG5nMi1zbWFydC10YWJsZSB0ZC5uZzItc21hcnQtYWN0aW9ucy5uZzItc21hcnQtYWN0aW9uLW11bHRpcGxlLXNlbGVjdCB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG46aG9zdCA6Om5nLWRlZXAgbmcyLXNtYXJ0LXRhYmxlIHRyLm5nMi1zbWFydC1maWx0ZXJzIHRoIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG46aG9zdCA6Om5nLWRlZXAgbmcyLXNtYXJ0LXRhYmxlIHRyIHRkOmZpcnN0LW9mLXR5cGUsXG46aG9zdCA6Om5nLWRlZXAgbmcyLXNtYXJ0LXRhYmxlIHRoOmZpcnN0LW9mLXR5cGUge1xuICBib3JkZXItbGVmdDogbm9uZTtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIG5nMi1zbWFydC10YWJsZSB0ciB0ZDpsYXN0LW9mLXR5cGUsXG46aG9zdCA6Om5nLWRlZXAgbmcyLXNtYXJ0LXRhYmxlIHRoOmxhc3Qtb2YtdHlwZSB7XG4gIGJvcmRlci1yaWdodDogbm9uZTtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIG5nMi1zbWFydC10YWJsZSBpbnB1dFt0eXBlPSdjaGVja2JveCddIHtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuIl19 */\"","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { DeviceService } from '../../@core/data/device.service';\nimport Device from '@modules/server.common/entities/Device';\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport { DeviceMutationComponent } from './device-mutation/device-mutation.component';\nimport { LocalDataSource } from 'ng2-smart-table';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Observable, forkJoin, Subject } from 'rxjs';\nimport { takeUntil, first } from 'rxjs/operators';\nimport { NotifyService } from '../../@core/services/notify/notify.service';\nimport { ConfimationModalComponent } from '../../@shared/confirmation-modal/confirmation-modal.component';\n\n@Component({\n\tselector: 'ea-device',\n\tstyleUrls: ['./device.component.scss'],\n\ttemplateUrl: './device.component.html',\n})\nexport class DeviceComponent implements OnDestroy, OnInit {\n\tprivate ngDestroy$ = new Subject<void>();\n\n\tpublic devices: Device[];\n\tprivate device$: any;\n\tpublic _selectedDevices: Device[] = [];\n\n\tpublic loading: boolean;\n\n\tstatic noInfoSign = '';\n\n\tprotected sourceSmartTable: LocalDataSource = new LocalDataSource();\n\tprotected settingsSmartTable: object;\n\n\tconstructor(\n\t\tprivate readonly _deviceService: DeviceService,\n\t\tprivate readonly _modalService: NgbModal,\n\t\tprivate readonly _translateService: TranslateService,\n\t\tprivate readonly _notifyService: NotifyService\n\t) {\n\t\tthis._loadSmartTableSettings();\n\t\tthis._setupDataForSmartTable();\n\t\tthis._listenForEntityLocaleTranslate();\n\t\tthis._applyTranslationOnSmartTable();\n\t}\n\n\t// Maybe \"updateDevice\" this function is not in use?!\n\tupdateDevice(device: Device) {\n\t\tconst activeModal = this._modalService.open(DeviceMutationComponent, {\n\t\t\tsize: 'lg',\n\t\t\tcontainer: 'nb-layout',\n\t\t\tbackdrop: 'static',\n\t\t});\n\t\tconst modalComponent: DeviceMutationComponent =\n\t\t\tactiveModal.componentInstance;\n\t\tmodalComponent.device = device;\n\t}\n\n\tngOnInit(): void {}\n\n\tedit(event) {\n\t\tconst activeModal = this._modalService.open(DeviceMutationComponent, {\n\t\t\tsize: 'lg',\n\t\t\tcontainer: 'nb-layout',\n\t\t\tbackdrop: 'static',\n\t\t});\n\t\tconst modalComponent: DeviceMutationComponent =\n\t\t\tactiveModal.componentInstance;\n\t\tmodalComponent.device = event.data;\n\t\tmodalComponent.loading = this.loading;\n\t}\n\n\tasync deleteSelectedDevices() {\n\t\tconst idsForDelete: string[] = this._selectedDevices.map((c) => c.id);\n\n\t\ttry {\n\t\t\tthis.loading = true;\n\t\t\tawait this._deviceService\n\t\t\t\t.removeByIds(idsForDelete)\n\t\t\t\t.pipe(first())\n\t\t\t\t.toPromise();\n\n\t\t\tthis.loading = false;\n\t\t\tconst message = `${idsForDelete.length} devices was deleted`;\n\t\t\tthis._notifyService.success(message);\n\t\t} catch (error) {\n\t\t\tthis.loading = false;\n\t\t\tconst message = `Something went wrong!`;\n\t\t\tthis._notifyService.error(message);\n\t\t}\n\t}\n\n\tget hasSelectedDevices(): boolean {\n\t\treturn this._selectedDevices.length > 0;\n\t}\n\n\tselectProductTmp(ev) {\n\t\tthis._selectedDevices = ev.selected;\n\t}\n\n\tget selectedProducts() {\n\t\treturn [...this._selectedDevices];\n\t}\n\n\tasync deleteDevice(e) {\n\t\tconst activeModal = this._modalService.open(ConfimationModalComponent, {\n\t\t\tsize: 'sm',\n\t\t\tcontainer: 'nb-layout',\n\t\t\tbackdrop: 'static',\n\t\t});\n\t\tconst modalComponent: ConfimationModalComponent =\n\t\t\tactiveModal.componentInstance;\n\n\t\tawait modalComponent.confirmEvent\n\t\t\t.pipe(takeUntil(modalComponent.ngDestroy$))\n\t\t\t.subscribe((dataEvent) => {\n\t\t\t\tconst idsArray: any = [];\n\t\t\t\tidsArray.push(e.data.id);\n\t\t\t\ttry {\n\t\t\t\t\tthis.loading = true;\n\t\t\t\t\tthis._deviceService\n\t\t\t\t\t\t.removeByIds(idsArray)\n\t\t\t\t\t\t.pipe()\n\t\t\t\t\t\t.toPromise();\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t\tconst message = `${idsArray[0]} device was deleted`;\n\t\t\t\t\tthis._notifyService.success(message);\n\t\t\t\t} catch (error) {\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t\tconst message = `Something went wrong!`;\n\t\t\t\t\tthis._notifyService.error(message);\n\t\t\t\t}\n\t\t\t\tmodalComponent.cancel();\n\t\t\t});\n\t}\n\n\tprivate _listenForEntityLocaleTranslate() {\n\t\tthis._translateService.onLangChange\n\t\t\t.pipe(takeUntil(this.ngDestroy$))\n\t\t\t.subscribe(() => {\n\t\t\t\tthis._setupDataForSmartTable();\n\t\t\t\tthis._loadSmartTableSettings();\n\t\t\t});\n\t}\n\n\tprivate _applyTranslationOnSmartTable() {\n\t\tthis._translateService.onLangChange.subscribe(() => {\n\t\t\tthis._loadSmartTableSettings();\n\t\t});\n\t}\n\n\tprivate _loadSmartTableSettings() {\n\t\tconst columnTitlePrefix = 'CUSTOMERS_VIEW.DEVICE.';\n\t\tconst getTranslate = (name: string): Observable<string | any> =>\n\t\t\tthis._translateService.get(columnTitlePrefix + name);\n\n\t\tforkJoin(\n\t\t\tgetTranslate('ID'),\n\t\t\tgetTranslate('LANGUAGE'),\n\t\t\tgetTranslate('TYPE'),\n\t\t\tgetTranslate('UUID')\n\t\t)\n\t\t\t.pipe(takeUntil(this.ngDestroy$))\n\t\t\t.subscribe(([id, language, type, uuid]) => {\n\t\t\t\tthis.settingsSmartTable = {\n\t\t\t\t\tselectMode: 'multi',\n\t\t\t\t\tactions: {\n\t\t\t\t\t\tadd: false,\n\t\t\t\t\t\tposition: 'left',\n\t\t\t\t\t},\n\t\t\t\t\tedit: {\n\t\t\t\t\t\teditButtonContent: '<i class=\"ion-md-create\"></i>',\n\t\t\t\t\t},\n\t\t\t\t\tdelete: {\n\t\t\t\t\t\tdeleteButtonContent: '<i class=\"ion-md-trash\"></i>',\n\t\t\t\t\t\tconfirmDelete: true,\n\t\t\t\t\t},\n\t\t\t\t\tmode: 'external',\n\t\t\t\t\thideSubHeader: true,\n\t\t\t\t\tcolumns: {\n\t\t\t\t\t\tid: {\n\t\t\t\t\t\t\ttitle: id,\n\t\t\t\t\t\t\tfilter: false,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlanguage: {\n\t\t\t\t\t\t\ttitle: language,\n\t\t\t\t\t\t\tfilter: false,\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttype: {\n\t\t\t\t\t\t\ttitle: type,\n\t\t\t\t\t\t\tfilter: false,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tuuid: {\n\t\t\t\t\t\t\ttitle: uuid,\n\t\t\t\t\t\t\tfilter: false,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tpager: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tperPage: 5,\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t});\n\t}\n\n\tprivate _setupDataForSmartTable() {\n\t\tthis._deviceService\n\t\t\t.getDevices()\n\t\t\t.pipe(takeUntil(this.ngDestroy$))\n\t\t\t.subscribe((data: Device[]) => {\n\t\t\t\tconst devicesVm = data.map((c) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tid: c.id,\n\t\t\t\t\t\tlanguage: c.language || DeviceComponent.noInfoSign,\n\t\t\t\t\t\ttype: c.type || DeviceComponent.noInfoSign,\n\t\t\t\t\t\tuuid: c.uuid || DeviceComponent.noInfoSign,\n\t\t\t\t\t};\n\t\t\t\t});\n\n\t\t\t\tthis.sourceSmartTable.load(devicesVm);\n\t\t\t});\n\t}\n\n\tngOnDestroy(): void {\n\t\tthis.ngDestroy$.next();\n\t\tthis.ngDestroy$.complete();\n\n\t\tif (this.device$) {\n\t\t\tthis.device$.unsubscribe();\n\t\t}\n\t}\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ThemeModule } from '../../@theme/theme.module';\nimport { RouterModule, Routes } from '@angular/router';\nimport { DeviceComponent } from './device.component';\nimport { DeviceMutationComponent } from './device-mutation/device-mutation.component';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { Ng2SmartTableModule } from 'ng2-smart-table';\nimport { ToasterModule } from 'angular2-toaster';\nimport { NbSpinnerModule, NbButtonModule } from '@nebular/theme';\nimport { NotifyService } from '@app/@core/services/notify/notify.service';\nimport { ConfirmationModalModule } from '../../@shared/confirmation-modal/confirmation-modal.module';\n\nconst routes: Routes = [\n\t{\n\t\tpath: '',\n\t\tcomponent: DeviceComponent,\n\t},\n];\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tThemeModule,\n\t\tNg2SmartTableModule,\n\t\tNbSpinnerModule,\n\t\tConfirmationModalModule,\n\t\tToasterModule.forRoot(),\n\t\tTranslateModule.forChild(),\n\t\tRouterModule.forChild(routes),\n\t\tNbButtonModule,\n\t],\n\tproviders: [NotifyService],\n\tdeclarations: [DeviceComponent, DeviceMutationComponent],\n\tentryComponents: [DeviceMutationComponent],\n\texports: [],\n})\nexport class DeviceModule {\n\tpublic static routes = routes;\n\n\tconstructor() {}\n}\n"]}