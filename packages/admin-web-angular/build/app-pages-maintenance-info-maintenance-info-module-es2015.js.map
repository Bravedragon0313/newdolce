{"version":3,"sources":["./src/app/pages/+maintenance-info/maintenance-info.component.html","./src/app/@theme/index.ts","./src/app/pages/+maintenance-info/maintenance-info.component.ts","./src/app/pages/+maintenance-info/maintenance-info.module.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,6P;;;;;;;;;;;;;;;;;;;;ACAgB;;;;;;;;;;;;;;;;;;;;;;ACAsB;AAC6C;AAC3C;AACd;AACa;AAKtD,IAAa,wBAAwB,GAArC,MAAa,wBAAwB;IAIpC,YACS,kBAAsC,EACtC,MAAc,EACd,KAAY;QAFZ,uBAAkB,GAAlB,kBAAkB,CAAoB;QACtC,WAAM,GAAN,MAAM,CAAQ;QACd,UAAK,GAAL,KAAK,CAAO;QAEpB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC;QAClD,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,IAAI,CAAC,SAAS,EAAE,CAAC;IAClB,CAAC;IAEK,UAAU;;YACf,IAAI,CAAC,OAAO,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,UAAU,CACtD,IAAI,CAAC,eAAe,EACpB,oEAAW,CAAC,8BAA8B,CAAC,CAC3C,CAAC;QACH,CAAC;KAAA;IAEa,SAAS;;YACtB,MAAM,QAAQ,GAAG,WAAW,CAAC,GAAS,EAAE,CAAC;gBACxC,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,SAAS,CACrD,oEAAW,CAAC,mBAAmB,CAAC,EAChC,oEAAW,CAAC,8BAA8B,CAAC,CAC3C,CAAC;gBACF,OAAO,CAAC,IAAI,CAAC,mBAAmB,IAAI,CAAC,eAAe,MAAM,MAAM,EAAE,CAAC,CAAC;gBAEpE,IAAI,CAAC,MAAM,EAAE;oBACZ,aAAa,CAAC,QAAQ,CAAC,CAAC;oBACxB,IAAI,CAAC,KAAK,CAAC,oBAAoB,EAAE,CAAC;oBAClC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;iBAC3B;YACF,CAAC,GAAE,IAAI,CAAC,CAAC;QACV,CAAC;KAAA;CACD;;YA/B6B,+GAAkB;YAC9B,sDAAM;YACP,kEAAK;;AAPT,wBAAwB;IAHpC,+DAAS,CAAC;QACV,uQAAgD;KAChD,CAAC;mFAM4B,+GAAkB;QAC9B,sDAAM;QACP,kEAAK;GAPT,wBAAwB,CAoCpC;AApCoC;;;;;;;;;;;;;;;;;;;;;;;;ACTI;AACM;AACQ;AAE2C;AAC1B;AACS;AACvC;AAE1C,MAAM,MAAM,GAAW;IACtB;QACC,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,oFAAwB;KACnC;CACD,CAAC;AAYF,IAAa,qBAAqB,GAAlC,MAAa,qBAAqB;CAAG;AAAxB,qBAAqB;IAVjC,8DAAQ,CAAC;QACT,OAAO,EAAE;YACR,4DAAY;YACZ,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;YAC7B,8FAAW;YACX,sDAAW;SACX;QACD,SAAS,EAAE,CAAC,+GAAkB,CAAC;QAC/B,YAAY,EAAE,CAAC,oFAAwB,CAAC;KACxC,CAAC;GACW,qBAAqB,CAAG;AAAH","file":"app-pages-maintenance-info-maintenance-info-module-es2015.js","sourcesContent":["export default \"<nb-layout>\\n\\t<nb-layout-column\\n\\t\\t*ngIf=\\\"message\\\"\\n\\t\\tclass=\\\"maintenance-message-container\\\"\\n\\t\\t[innerHTML]=\\\"message | safe: 'html'\\\"\\n\\t>\\n\\t</nb-layout-column>\\n</nb-layout>\\n\"","export * from './theme.module';\n","import { Component, OnDestroy } from '@angular/core';\nimport { MaintenanceService } from '@modules/client.common.angular2/services/maintenance.service';\nimport { environment } from 'environments/environment';\nimport { Router } from '@angular/router';\nimport { Store } from '@app/@core/data/store.service';\n\n@Component({\n\ttemplateUrl: './maintenance-info.component.html',\n})\nexport class MaintenanceInfoComponent {\n\tpublic message: string;\n\tprivate maintenanceMode: string;\n\n\tconstructor(\n\t\tprivate maintenanceService: MaintenanceService,\n\t\tprivate router: Router,\n\t\tprivate store: Store\n\t) {\n\t\tthis.maintenanceMode = this.store.maintenanceMode;\n\t\tthis.getMessage();\n\t\tthis.getStatus();\n\t}\n\n\tasync getMessage() {\n\t\tthis.message = await this.maintenanceService.getMessage(\n\t\t\tthis.maintenanceMode,\n\t\t\tenvironment['SETTINGS_MAINTENANCE_API_URL']\n\t\t);\n\t}\n\n\tprivate async getStatus() {\n\t\tconst interval = setInterval(async () => {\n\t\t\tconst status = await this.maintenanceService.getStatus(\n\t\t\t\tenvironment['SETTINGS_APP_TYPE'],\n\t\t\t\tenvironment['SETTINGS_MAINTENANCE_API_URL']\n\t\t\t);\n\t\t\tconsole.warn(`Maintenance on '${this.maintenanceMode}': ${status}`);\n\n\t\t\tif (!status) {\n\t\t\t\tclearInterval(interval);\n\t\t\t\tthis.store.clearMaintenanceMode();\n\t\t\t\tthis.router.navigate(['']);\n\t\t\t}\n\t\t}, 5000);\n\t}\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { MaintenanceService } from '@modules/client.common.angular2/services/maintenance.service';\nimport { MaintenanceInfoComponent } from './maintenance-info.component';\nimport { PipesModule } from '@modules/client.common.angular2/pipes/pipes.module';\nimport { ThemeModule } from '@app/@theme';\n\nconst routes: Routes = [\n\t{\n\t\tpath: '',\n\t\tcomponent: MaintenanceInfoComponent,\n\t},\n];\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tRouterModule.forChild(routes),\n\t\tPipesModule,\n\t\tThemeModule,\n\t],\n\tproviders: [MaintenanceService],\n\tdeclarations: [MaintenanceInfoComponent],\n})\nexport class MaintenanceInfoModule {}\n"],"sourceRoot":"webpack:///"}