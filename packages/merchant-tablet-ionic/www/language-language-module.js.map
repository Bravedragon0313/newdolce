{"version":3,"sources":["./src/pages/+language/language.html","./src/pages/+language/language.module.ts","./src/pages/+language/language.scss","./src/pages/+language/language.ts"],"names":[],"mappings":"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","file":"language-language-module.js","sourcesContent":["export default \"<div class=\\\"bar bar-header bar-brand language-header\\\">\\n\\t<h1 class=\\\"title\\\">{{ 'LANGUAGE_VIEW.TITLE' | translate }}</h1>\\n\\t<div class=\\\"buttons buttons-left header-item\\\">\\n\\t\\t<span class=\\\"left-buttons\\\">\\n\\t\\t\\t<div class=\\\"waves-effect waves-classic\\\">\\n\\t\\t\\t\\t<ion-menu-toggle class=\\\"button-icon\\\" menuToggle>\\n\\t\\t\\t\\t\\t<ion-icon ios=\\\"ios-menu\\\" md=\\\"md-menu\\\"></ion-icon>\\n\\t\\t\\t\\t</ion-menu-toggle>\\n\\t\\t\\t</div>\\n\\t\\t</span>\\n\\t</div>\\n</div>\\n\\n<ion-content class=\\\"language-content\\\" scroll=\\\"false\\\" padding>\\n\\t<ion-list>\\n\\t\\t<ion-item>\\n\\t\\t\\t<ion-label\\n\\t\\t\\t\\t>{{ 'SIDE_MENU.GROUPS.SETTINGS.ITEMS.LANGUAGE' | translate\\n\\t\\t\\t\\t}}</ion-label\\n\\t\\t\\t>\\n\\t\\t\\t<ion-select\\n\\t\\t\\t\\t[(ngModel)]=\\\"selected\\\"\\n\\t\\t\\t\\t(ionChange)=\\\"switchLanguage(selected)\\\"\\n\\t\\t\\t\\t[cancelText]=\\\"buttonCancel\\\"\\n\\t\\t\\t\\t[okText]=\\\"buttonOK\\\"\\n\\t\\t\\t>\\n\\t\\t\\t\\t<ion-select-option\\n\\t\\t\\t\\t\\t*ngFor=\\\"let lang of translate?.getLangs()\\\"\\n\\t\\t\\t\\t\\t[value]=\\\"lang\\\"\\n\\t\\t\\t\\t\\t[selected]=\\\"lang === translate.currentLang\\\"\\n\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t{{ lang }}\\n\\t\\t\\t\\t</ion-select-option>\\n\\t\\t\\t</ion-select>\\n\\t\\t</ion-item>\\n\\t</ion-list>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { LanguagePage } from './language';\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\nimport { HttpClient } from '@angular/common/http';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\nimport { Store } from '../../services/store.service';\nimport { Routes, RouterModule } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nexport function HttpLoaderFactory(http: HttpClient) {\n\treturn new TranslateHttpLoader(http, './assets/i18n/', '.json');\n}\n\nconst routes: Routes = [\n\t{\n\t\tpath: '',\n\t\tcomponent: LanguagePage,\n\t},\n];\n\n@NgModule({\n\tdeclarations: [LanguagePage],\n\timports: [\n\t\tIonicModule,\n\t\tRouterModule.forChild(routes),\n\t\tCommonModule,\n\t\tFormsModule,\n\t\tTranslateModule.forChild({\n\t\t\tloader: {\n\t\t\t\tprovide: TranslateLoader,\n\t\t\t\tuseFactory: HttpLoaderFactory,\n\t\t\t\tdeps: [HttpClient],\n\t\t\t},\n\t\t}),\n\t],\n\tproviders: [Store],\n})\nexport class LanguagePageModule {}\n","export default \".language-header {\\n  position: relative;\\n}\\n\\n.language-header .button-icon ion-icon {\\n  font-size: 2rem;\\n}\\n\\n.language-content .toolbar-title.toolbar-title-md {\\n  text-align: center;\\n  color: white;\\n  font-size: 100%;\\n}\\n\\n.language-content .toolbar-background {\\n  background-color: #1ea44f;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9tbnQvZC9Xb3JrL0FuZ3VsYXIvTmV3IGZvbGRlciAoMikvRG9sY2VHcm9jZXJ5L3BhY2thZ2VzL21lcmNoYW50LXRhYmxldC1pb25pYy9zcmMvcGFnZXMvK2xhbmd1YWdlL2xhbmd1YWdlLnNjc3MiLCJzcmMvcGFnZXMvK2xhbmd1YWdlL2xhbmd1YWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDQyxrQkFBa0I7QUNDbkI7O0FERkE7RUFJRyxlQUFlO0FDRWxCOztBREdBO0VBRUUsa0JBQWtCO0VBQ2xCLFlBQVk7RUFDWixlQUFlO0FDRGpCOztBREhBO0VBUUUseUJBQXlCO0FDRDNCIiwiZmlsZSI6InNyYy9wYWdlcy8rbGFuZ3VhZ2UvbGFuZ3VhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5sYW5ndWFnZS1oZWFkZXIge1xuXHRwb3NpdGlvbjogcmVsYXRpdmU7XG5cdC5idXR0b24taWNvbiB7XG5cdFx0aW9uLWljb24ge1xuXHRcdFx0Zm9udC1zaXplOiAycmVtO1xuXHRcdH1cblx0fVxufVxuXG4ubGFuZ3VhZ2UtY29udGVudCB7XG5cdC50b29sYmFyLXRpdGxlLnRvb2xiYXItdGl0bGUtbWQge1xuXHRcdHRleHQtYWxpZ246IGNlbnRlcjtcblx0XHRjb2xvcjogd2hpdGU7XG5cdFx0Zm9udC1zaXplOiAxMDAlO1xuXHR9XG5cblx0LnRvb2xiYXItYmFja2dyb3VuZCB7XG5cdFx0YmFja2dyb3VuZC1jb2xvcjogIzFlYTQ0Zjtcblx0fVxufVxuIiwiLmxhbmd1YWdlLWhlYWRlciB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cblxuLmxhbmd1YWdlLWhlYWRlciAuYnV0dG9uLWljb24gaW9uLWljb24ge1xuICBmb250LXNpemU6IDJyZW07XG59XG5cbi5sYW5ndWFnZS1jb250ZW50IC50b29sYmFyLXRpdGxlLnRvb2xiYXItdGl0bGUtbWQge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgZm9udC1zaXplOiAxMDAlO1xufVxuXG4ubGFuZ3VhZ2UtY29udGVudCAudG9vbGJhci1iYWNrZ3JvdW5kIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzFlYTQ0Zjtcbn1cbiJdfQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { DeviceRouter } from '@modules/client.common.angular2/routers/device-router.service';\nimport { Store } from '../../services/store.service';\nimport ILanguage from '@modules/server.common/interfaces/ILanguage';\n\n@Component({\n\tselector: 'page-language',\n\ttemplateUrl: 'language.html',\n\tstyleUrls: ['./language.scss'],\n})\nexport class LanguagePage implements OnInit {\n\tlanguage: ILanguage;\n\n\tOK: string = 'OK';\n\tCANCEL: string = 'CANCEL';\n\tPREFIX: string = 'LANGUAGE_VIEW.';\n\tselected: string;\n\n\tconstructor(\n\t\tpublic translate: TranslateService,\n\t\tprivate _deviceRouter: DeviceRouter,\n\t\tprivate store: Store\n\t) {}\n\n\tngOnInit() {\n\t\tthis.selected = localStorage.getItem('_language');\n\t\tthis.language = localStorage.getItem('_language') as ILanguage;\n\t\t// TODO: use settings service to get list of supported languages\n\t\tthis.translate.addLangs(['en-US', 'bg-BG', 'he-IL', 'ru-RU', 'es-ES', 'it-IT', 'fr-FR']);\n\t}\n\n\tget buttonOK() {\n\t\treturn this._translate(this.PREFIX + this.OK);\n\t}\n\n\tget buttonCancel() {\n\t\treturn this._translate(this.PREFIX + this.CANCEL);\n\t}\n\n\tswitchLanguage(language: string) {\n\t\tthis._deviceRouter.updateLanguage(\n\t\t\tlocalStorage.getItem('_deviceId'),\n\t\t\tthis.language\n\t\t);\n\t\tthis.store.language = language;\n\t\tthis.translate.use(language);\n\t}\n\n\tprivate _translate(key: string): string {\n\t\tlet translationResult = '';\n\n\t\tthis.translate.get(key).subscribe((res) => {\n\t\t\ttranslationResult = res;\n\t\t});\n\n\t\treturn translationResult;\n\t}\n}\n"],"sourceRoot":"webpack:///"}