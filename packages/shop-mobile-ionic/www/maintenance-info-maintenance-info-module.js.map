{"version":3,"sources":["./src/app/maintenance-info/maintenance-info.page.html","./src/app/maintenance-info/maintenance-info.module.ts","./src/app/maintenance-info/maintenance-info.page.scss","./src/app/maintenance-info/maintenance-info.page.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,0L;;;;;;;;;;;;;;;;;;;;;;;;ACA0B;AACM;AACF;AACU;AACV;AACiB;AACoC;AACjB;AAEjF,IAAM,MAAM,GAAW;IACtB;QACC,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,0EAAmB;KAC9B;CACD,CAAC;AAaF;IAAA;IAAwC,CAAC;IAA5B,yBAAyB;QAXrC,8DAAQ,CAAC;YACT,OAAO,EAAE;gBACR,4DAAY;gBACZ,0DAAW;gBACX,0DAAW;gBACX,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;gBAC7B,8FAAW;aACX;YACD,SAAS,EAAE,CAAC,+GAAkB,CAAC;YAC/B,YAAY,EAAE,CAAC,0EAAmB,CAAC;SACnC,CAAC;OACW,yBAAyB,CAAG;IAAD,gCAAC;CAAA;AAAH;;;;;;;;;;;;;AC3BtC;AAAe,6GAA8C,mKAAmK,E;;;;;;;;;;;;;;;;;;;;;ACA9K;AACgD;AAC3C;AACJ;AACV;AAOzC;IAEC,6BACS,kBAAsC,EACtC,KAAY,EACZ,MAAc;QAFd,uBAAkB,GAAlB,kBAAkB,CAAoB;QACtC,UAAK,GAAL,KAAK,CAAO;QACZ,WAAM,GAAN,MAAM,CAAQ;QAEtB,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,IAAI,CAAC,SAAS,EAAE,CAAC;IAClB,CAAC;IAED,sCAAQ,GAAR,cAAY,CAAC;IAEP,wCAAU,GAAhB;;;;;;wBACC,SAAI;wBAAW,WAAM,IAAI,CAAC,kBAAkB,CAAC,UAAU,CACtD,IAAI,CAAC,KAAK,CAAC,eAAe,EAC1B,oEAAW,CAAC,8BAA8B,CAAC,CAC3C;;wBAHD,GAAK,OAAO,GAAG,SAGd,CAAC;;;;;KACF;IAEa,uCAAS,GAAvB;;;;;gBACO,QAAQ,GAAG,WAAW,CAAC;;;;oCACb,WAAM,IAAI,CAAC,kBAAkB,CAAC,SAAS,CACrD,oEAAW,CAAC,mBAAmB,CAAC,EAChC,oEAAW,CAAC,8BAA8B,CAAC,CAC3C;;gCAHK,MAAM,GAAG,SAGd;gCACD,OAAO,CAAC,IAAI,CACX,qBAAmB,IAAI,CAAC,KAAK,CAAC,eAAe,WAAM,MAAQ,CAC3D,CAAC;gCAEF,IAAI,CAAC,MAAM,EAAE;oCACZ,aAAa,CAAC,QAAQ,CAAC,CAAC;oCACxB,IAAI,CAAC,KAAK,CAAC,oBAAoB,EAAE,CAAC;oCAClC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;iCAC3B;;;;qBACD,EAAE,IAAI,CAAC,CAAC;;;;KACT;;gBAjC4B,+GAAkB;gBAC/B,gEAAK;gBACJ,sDAAM;;IALX,mBAAmB;QAL/B,+DAAS,CAAC;YACV,QAAQ,EAAE,uBAAuB;YACjC,sPAA2C;;SAE3C,CAAC;uFAI4B,+GAAkB;YAC/B,gEAAK;YACJ,sDAAM;OALX,mBAAmB,CAqC/B;IAAD,0BAAC;CAAA;AArC+B","file":"maintenance-info-maintenance-info-module.js","sourcesContent":["export default \"<div\\n\\t*ngIf=\\\"message\\\"\\n\\tclass=\\\"maintenance-message-container\\\"\\n\\t[innerHTML]=\\\"message | safe: 'html'\\\"\\n></div>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\nimport { MaintenanceInfoPage } from './maintenance-info.page';\nimport { MaintenanceService } from '@modules/client.common.angular2/services/maintenance.service';\nimport { PipesModule } from '@modules/client.common.angular2/pipes/pipes.module';\n\nconst routes: Routes = [\n\t{\n\t\tpath: '',\n\t\tcomponent: MaintenanceInfoPage,\n\t},\n];\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tFormsModule,\n\t\tIonicModule,\n\t\tRouterModule.forChild(routes),\n\t\tPipesModule,\n\t],\n\tproviders: [MaintenanceService],\n\tdeclarations: [MaintenanceInfoPage],\n})\nexport class MaintenanceInfoPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21haW50ZW5hbmNlLWluZm8vbWFpbnRlbmFuY2UtaW5mby5wYWdlLnNjc3MifQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { MaintenanceService } from '@modules/client.common.angular2/services/maintenance.service';\nimport { environment } from 'environments/environment';\nimport { Store } from 'app/services/store.service';\nimport { Router } from '@angular/router';\n\n@Component({\n\tselector: 'e-cu-maintenance-info',\n\ttemplateUrl: './maintenance-info.page.html',\n\tstyleUrls: ['./maintenance-info.page.scss'],\n})\nexport class MaintenanceInfoPage implements OnInit {\n\tpublic message;\n\tconstructor(\n\t\tprivate maintenanceService: MaintenanceService,\n\t\tprivate store: Store,\n\t\tprivate router: Router\n\t) {\n\t\tthis.getMessage();\n\t\tthis.getStatus();\n\t}\n\n\tngOnInit() {}\n\n\tasync getMessage() {\n\t\tthis.message = await this.maintenanceService.getMessage(\n\t\t\tthis.store.maintenanceMode,\n\t\t\tenvironment['SETTINGS_MAINTENANCE_API_URL']\n\t\t);\n\t}\n\n\tprivate async getStatus() {\n\t\tconst interval = setInterval(async () => {\n\t\t\tconst status = await this.maintenanceService.getStatus(\n\t\t\t\tenvironment['SETTINGS_APP_TYPE'],\n\t\t\t\tenvironment['SETTINGS_MAINTENANCE_API_URL']\n\t\t\t);\n\t\t\tconsole.warn(\n\t\t\t\t`Maintenance on '${this.store.maintenanceMode}': ${status}`\n\t\t\t);\n\n\t\t\tif (!status) {\n\t\t\t\tclearInterval(interval);\n\t\t\t\tthis.store.clearMaintenanceMode();\n\t\t\t\tthis.router.navigate(['']);\n\t\t\t}\n\t\t}, 5000);\n\t}\n}\n"],"sourceRoot":"webpack:///"}