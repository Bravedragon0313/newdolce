{"version":3,"sources":["/mnt/d/Work/Angular/New folder (2)/DolceGrocery/node_modules/@ionic/core/dist/esm-es5 lazy ^\\.\\/.*\\.entry\\.js$ include: \\.entry\\.js$ exclude: \\.system\\.entry\\.js$ namespace object","./src/app/app.component.html","./src/app/components/menu/menu.component.html","../common-angular/src/common.module.ts","../common-angular/src/lib/index.ts","../common-angular/src/lib/lib.module.ts","../common-angular/src/lib/router/ObservableRequest.ts","../common-angular/src/lib/router/ObservableResponseSubscriber.ts","../common-angular/src/lib/router/Request.ts","../common-angular/src/lib/router/index.ts","../common-angular/src/lib/router/router.factory.ts","../common-angular/src/lib/router/router.service.ts","../common-angular/src/lib/router/routers.service.ts","../common-angular/src/lib/socket.factory.ts","../common-angular/src/lib/socket.service.ts","../common-angular/src/locale/locale.module.ts","../common-angular/src/locale/product-locales.service.ts","../common-angular/src/mongoose-placeholder.ts","../common-angular/src/routers/carrier-orders-router.service.ts","../common-angular/src/routers/carrier-router.service.ts","../common-angular/src/routers/device-router.service.ts","../common-angular/src/routers/geo-location-orders-router.service.ts","../common-angular/src/routers/geo-location-products-router.service.ts","../common-angular/src/routers/geo-location-router.service.ts","../common-angular/src/routers/geo-location-warehouses-router.service.ts","../common-angular/src/routers/index.ts","../common-angular/src/routers/invite-request-router.service.ts","../common-angular/src/routers/invite-router.service.ts","../common-angular/src/routers/order-router.service.ts","../common-angular/src/routers/product-router.service.ts","../common-angular/src/routers/routers.module.ts","../common-angular/src/routers/user-auth-router.service.ts","../common-angular/src/routers/user-orders-router.service.ts","../common-angular/src/routers/user-products-router.service.ts","../common-angular/src/routers/user-router.service.ts","../common-angular/src/routers/warehouse-carriers-router.service.ts","../common-angular/src/routers/warehouse-orders-router.service.ts","../common-angular/src/routers/warehouse-products-router.service.ts","../common-angular/src/routers/warehouse-router.service.ts","../common-angular/src/services/googleMapsLoader.ts","../common-angular/src/services/maintenance.service.ts","../common-angular/src/services/server-connection.service.ts","../common-angular/src/typeorm-placeholder.ts","../common/src/@pyro/db/db-object.ts","../common/src/@pyro/db/index.ts","../common/src/@pyro/db/model.ts","../common/src/@pyro/db/schema.ts","../common/src/@pyro/db/types.ts","../common/src/data/abbreviation-to-country.ts","../common/src/entities/Carrier.ts","../common/src/entities/Device.ts","../common/src/entities/GeoLocation.ts","../common/src/entities/Invite.ts","../common/src/entities/InviteRequest.ts","../common/src/entities/Order.ts","../common/src/entities/OrderProduct.ts","../common/src/entities/PaymentGateway.ts","../common/src/entities/Product.ts","../common/src/entities/ProductInfo.ts","../common/src/entities/ProductsCategory.ts","../common/src/entities/User.ts","../common/src/entities/UserOrder.ts","../common/src/entities/Warehouse.ts","../common/src/entities/WarehouseProduct.ts","../common/src/enums/CarrierStatus.ts","../common/src/enums/DeliveryType.ts","../common/src/enums/OrderBarcodeTypes.ts","../common/src/enums/OrderCarrierStatus.ts","../common/src/enums/OrderStatus.ts","../common/src/enums/OrderWarehouseStatus.ts","../common/src/enums/PaymentGateways.ts","../common/src/enums/RegistrationSystem.ts","../common/src/utils.ts","./node_modules/tslib/tslib.es6.js","./src/$_lazy_route_resource lazy namespace object","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/components/menu/menu.component.scss","./src/app/components/menu/menu.component.ts","./src/app/components/menu/menu.module.ts","./src/app/maintenance-info/maintenance-info.module.guard.ts","./src/app/pages/pages.module.guard.ts","./src/app/services/server-settings.ts","./src/app/services/store.service.ts","./src/environments/environment.ts","./src/main.ts","ws (ignored)"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,qC;;;;;;;;;;;;AC3YA;AAAe,mL;;;;;;;;;;;;ACAf;AAAe,gOAAiK,iCAAiC,sZAAsZ,uGAAuG,+QAA+Q,4GAA4G,0LAA0L,4EAA4E,4LAA4L,uGAAuG,8OAA8O,oFAAoF,kBAAkB,iBAAiB,wOAAwO,+EAA+E,iUAAiU,uGAAuG,qKAAqK,2EAA2E,wUAAwU,6EAA6E,0JAA0J,sGAAsG,yRAAyR,kFAAkF,uKAAuK,6EAA6E,oUAAoU,mFAAmF,sRAAsR,yGAAyG,2I;;;;;;;;;;;;;;;;;;;;;ACAl3J;AACtB;AACE;AACH;AACe;AAStD;IAAA;IAOA,CAAC;qBAPY,YAAY;IACjB,oBAAO,GAAd,UAAe,OAA2B;QACzC,OAAO;YACN,QAAQ,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kCAAE;IACF,kCAAE;IACF,kCAAE;IACF,kCAAE;IACF,kCAAE;IACF,kCAAE;IACF,kCAAE;IACF,kCAAE;IACF,kCAAE;IACF,kCAAE;IACF,kCAAE;IACF,kCAAE;IACF,kCAAE;IACF,kCAAE;IACF,kCAAE;IACF,kCAAE;IACF,kCAAE;IACF,kCAAE;IACF,kCAAE;IACF,kCAAE;IACF,kCAAE;IACF,kCAAE;IACF,kCAAE;IACF,kCAAE;IACF,kCAAE;IACF,kCAAE;IACF,kCAAE;IACF,kCAAE;IACF,kCAAE;IACF,kCAAE;IACF,kCAAE;IACF,kCAAE;IACF,kCAAE;IACF,kCAAE;IACF,kCAAE;IACF,kCAAE;IACF,kCAAE;IACF,kCAAE;IACF,kCAAE;IACF,kCAAE;IACF,kCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,mCAAE;IACF,m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","file":"main.js","sourcesContent":["var map = {\n\t\"./ion-action-sheet-ios.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-action-sheet-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-action-sheet-ios-entry-js\"\n\t],\n\t\"./ion-action-sheet-md.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-action-sheet-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-action-sheet-md-entry-js\"\n\t],\n\t\"./ion-alert-ios.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-alert-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-alert-ios-entry-js\"\n\t],\n\t\"./ion-alert-md.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-alert-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-alert-md-entry-js\"\n\t],\n\t\"./ion-app_8-ios.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-app_8-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-app_8-ios-entry-js\"\n\t],\n\t\"./ion-app_8-md.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-app_8-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-app_8-md-entry-js\"\n\t],\n\t\"./ion-avatar_3-ios.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-avatar_3-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-avatar_3-ios-entry-js\"\n\t],\n\t\"./ion-avatar_3-md.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-avatar_3-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-avatar_3-md-entry-js\"\n\t],\n\t\"./ion-back-button-ios.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-back-button-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-back-button-ios-entry-js\"\n\t],\n\t\"./ion-back-button-md.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-back-button-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-back-button-md-entry-js\"\n\t],\n\t\"./ion-backdrop-ios.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-backdrop-ios.entry.js\",\n\t\t\"stencil-ion-backdrop-ios-entry-js\"\n\t],\n\t\"./ion-backdrop-md.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-backdrop-md.entry.js\",\n\t\t\"stencil-ion-backdrop-md-entry-js\"\n\t],\n\t\"./ion-button_2-ios.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-button_2-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-button_2-ios-entry-js\"\n\t],\n\t\"./ion-button_2-md.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-button_2-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-button_2-md-entry-js\"\n\t],\n\t\"./ion-card_5-ios.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-card_5-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-card_5-ios-entry-js\"\n\t],\n\t\"./ion-card_5-md.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-card_5-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-card_5-md-entry-js\"\n\t],\n\t\"./ion-checkbox-ios.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-checkbox-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-checkbox-ios-entry-js\"\n\t],\n\t\"./ion-checkbox-md.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-checkbox-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-checkbox-md-entry-js\"\n\t],\n\t\"./ion-chip-ios.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-chip-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-chip-ios-entry-js\"\n\t],\n\t\"./ion-chip-md.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-chip-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-chip-md-entry-js\"\n\t],\n\t\"./ion-col_3.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-col_3.entry.js\",\n\t\t\"stencil-ion-col_3-entry-js\"\n\t],\n\t\"./ion-datetime_3-ios.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-datetime_3-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-datetime_3-ios-entry-js\"\n\t],\n\t\"./ion-datetime_3-md.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-datetime_3-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-datetime_3-md-entry-js\"\n\t],\n\t\"./ion-fab_3-ios.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-fab_3-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-fab_3-ios-entry-js\"\n\t],\n\t\"./ion-fab_3-md.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-fab_3-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-fab_3-md-entry-js\"\n\t],\n\t\"./ion-img.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-img.entry.js\",\n\t\t\"stencil-ion-img-entry-js\"\n\t],\n\t\"./ion-infinite-scroll_2-ios.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-infinite-scroll_2-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-infinite-scroll_2-ios-entry-js\"\n\t],\n\t\"./ion-infinite-scroll_2-md.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-infinite-scroll_2-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-infinite-scroll_2-md-entry-js\"\n\t],\n\t\"./ion-input-ios.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-input-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-input-ios-entry-js\"\n\t],\n\t\"./ion-input-md.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-input-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-input-md-entry-js\"\n\t],\n\t\"./ion-item-option_3-ios.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-item-option_3-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-item-option_3-ios-entry-js\"\n\t],\n\t\"./ion-item-option_3-md.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-item-option_3-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-item-option_3-md-entry-js\"\n\t],\n\t\"./ion-item_8-ios.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-item_8-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-item_8-ios-entry-js\"\n\t],\n\t\"./ion-item_8-md.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-item_8-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-item_8-md-entry-js\"\n\t],\n\t\"./ion-loading-ios.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-loading-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-loading-ios-entry-js\"\n\t],\n\t\"./ion-loading-md.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-loading-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-loading-md-entry-js\"\n\t],\n\t\"./ion-menu_3-ios.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-menu_3-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-menu_3-ios-entry-js\"\n\t],\n\t\"./ion-menu_3-md.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-menu_3-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-menu_3-md-entry-js\"\n\t],\n\t\"./ion-modal-ios.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-modal-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-modal-ios-entry-js\"\n\t],\n\t\"./ion-modal-md.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-modal-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-modal-md-entry-js\"\n\t],\n\t\"./ion-nav_2.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-nav_2.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-nav_2-entry-js\"\n\t],\n\t\"./ion-popover-ios.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-popover-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-popover-ios-entry-js\"\n\t],\n\t\"./ion-popover-md.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-popover-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-popover-md-entry-js\"\n\t],\n\t\"./ion-progress-bar-ios.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-progress-bar-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-progress-bar-ios-entry-js\"\n\t],\n\t\"./ion-progress-bar-md.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-progress-bar-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-progress-bar-md-entry-js\"\n\t],\n\t\"./ion-radio_2-ios.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-radio_2-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-radio_2-ios-entry-js\"\n\t],\n\t\"./ion-radio_2-md.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-radio_2-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-radio_2-md-entry-js\"\n\t],\n\t\"./ion-range-ios.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-range-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-range-ios-entry-js\"\n\t],\n\t\"./ion-range-md.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-range-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-range-md-entry-js\"\n\t],\n\t\"./ion-refresher_2-ios.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-refresher_2-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-refresher_2-ios-entry-js\"\n\t],\n\t\"./ion-refresher_2-md.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-refresher_2-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-refresher_2-md-entry-js\"\n\t],\n\t\"./ion-reorder_2-ios.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-reorder_2-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-reorder_2-ios-entry-js\"\n\t],\n\t\"./ion-reorder_2-md.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-reorder_2-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-reorder_2-md-entry-js\"\n\t],\n\t\"./ion-ripple-effect.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-ripple-effect.entry.js\",\n\t\t\"stencil-ion-ripple-effect-entry-js\"\n\t],\n\t\"./ion-route_4.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-route_4.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-route_4-entry-js\"\n\t],\n\t\"./ion-searchbar-ios.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-searchbar-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-searchbar-ios-entry-js\"\n\t],\n\t\"./ion-searchbar-md.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-searchbar-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-searchbar-md-entry-js\"\n\t],\n\t\"./ion-segment_2-ios.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-segment_2-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-segment_2-ios-entry-js\"\n\t],\n\t\"./ion-segment_2-md.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-segment_2-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-segment_2-md-entry-js\"\n\t],\n\t\"./ion-select_3-ios.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-select_3-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-select_3-ios-entry-js\"\n\t],\n\t\"./ion-select_3-md.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-select_3-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-select_3-md-entry-js\"\n\t],\n\t\"./ion-slide_2-ios.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-slide_2-ios.entry.js\",\n\t\t\"stencil-ion-slide_2-ios-entry-js\"\n\t],\n\t\"./ion-slide_2-md.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-slide_2-md.entry.js\",\n\t\t\"stencil-ion-slide_2-md-entry-js\"\n\t],\n\t\"./ion-spinner.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-spinner.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-spinner-entry-js\"\n\t],\n\t\"./ion-split-pane-ios.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-split-pane-ios.entry.js\",\n\t\t\"stencil-ion-split-pane-ios-entry-js\"\n\t],\n\t\"./ion-split-pane-md.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-split-pane-md.entry.js\",\n\t\t\"stencil-ion-split-pane-md-entry-js\"\n\t],\n\t\"./ion-tab-bar_2-ios.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-tab-bar_2-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-tab-bar_2-ios-entry-js\"\n\t],\n\t\"./ion-tab-bar_2-md.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-tab-bar_2-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-tab-bar_2-md-entry-js\"\n\t],\n\t\"./ion-tab_2.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-tab_2.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-tab_2-entry-js\"\n\t],\n\t\"./ion-text.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-text.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-text-entry-js\"\n\t],\n\t\"./ion-textarea-ios.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-textarea-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-textarea-ios-entry-js\"\n\t],\n\t\"./ion-textarea-md.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-textarea-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-textarea-md-entry-js\"\n\t],\n\t\"./ion-toast-ios.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-toast-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-toast-ios-entry-js\"\n\t],\n\t\"./ion-toast-md.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-toast-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-toast-md-entry-js\"\n\t],\n\t\"./ion-toggle-ios.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-toggle-ios.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-toggle-ios-entry-js\"\n\t],\n\t\"./ion-toggle-md.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-toggle-md.entry.js\",\n\t\t\"common\",\n\t\t\"stencil-ion-toggle-md-entry-js\"\n\t],\n\t\"./ion-virtual-scroll.entry.js\": [\n\t\t\"../../node_modules/@ionic/core/dist/esm-es5/ion-virtual-scroll.entry.js\",\n\t\t\"stencil-ion-virtual-scroll-entry-js\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"../../node_modules/@ionic/core/dist/esm-es5 lazy recursive ^\\\\.\\\\/.*\\\\.entry\\\\.js$ include: \\\\.entry\\\\.js$ exclude: \\\\.system\\\\.entry\\\\.js$\";\nmodule.exports = webpackAsyncContext;","export default \"<ion-app>\\n\\t<e-cu-menu></e-cu-menu>\\n\\t<ion-router-outlet id=\\\"pageContainer\\\"></ion-router-outlet>\\n</ion-app>\\n\"","export default \"<ion-menu (ionWillOpen)=\\\"menuOpened()\\\" contentId=\\\"pageContainer\\\" side=\\\"start\\\">\\n\\t<ion-header>\\n\\t\\t<ion-toolbar color=\\\"secondary\\\">\\n\\t\\t\\t<ion-title>{{ 'SIDE_MENU.TITLE' | translate }}</ion-title>\\n\\t\\t</ion-toolbar>\\n\\t</ion-header>\\n\\n\\t<ion-content>\\n\\t\\t<ion-list>\\n\\t\\t\\t<ion-item-group>\\n\\t\\t\\t\\t<ion-menu-toggle [autoHide]=\\\"true\\\">\\n\\t\\t\\t\\t\\t<ion-item\\n\\t\\t\\t\\t\\t\\trouterLink=\\\"/products\\\"\\n\\t\\t\\t\\t\\t\\trouterDirection=\\\"root\\\"\\n\\t\\t\\t\\t\\t\\trouterLinkActive=\\\"activated\\\"\\n\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t<ion-icon ios=\\\"md-basket\\\" md=\\\"md-basket\\\"></ion-icon>\\n\\t\\t\\t\\t\\t\\t<ion-label>{{\\n\\t\\t\\t\\t\\t\\t\\t'SIDE_MENU.GROUPS.NO_TITLE.ITEMS.PRODUCTS'\\n\\t\\t\\t\\t\\t\\t\\t\\t| translate\\n\\t\\t\\t\\t\\t\\t}}</ion-label>\\n\\t\\t\\t\\t\\t</ion-item>\\n\\t\\t\\t\\t\\t<ion-item\\n\\t\\t\\t\\t\\t\\trouterLink=\\\"/orders-history\\\"\\n\\t\\t\\t\\t\\t\\trouterDirection=\\\"root\\\"\\n\\t\\t\\t\\t\\t\\trouterLinkActive=\\\"activated\\\"\\n\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t<ion-icon name=\\\"cart\\\"></ion-icon>\\n\\t\\t\\t\\t\\t\\t<ion-label>{{\\n\\t\\t\\t\\t\\t\\t\\t'SIDE_MENU.GROUPS.NO_TITLE.ITEMS.ORDER_HISTORY'\\n\\t\\t\\t\\t\\t\\t\\t\\t| translate\\n\\t\\t\\t\\t\\t\\t}}</ion-label>\\n\\t\\t\\t\\t\\t</ion-item>\\n\\t\\t\\t\\t</ion-menu-toggle>\\n\\t\\t\\t</ion-item-group>\\n\\n\\t\\t\\t<ion-item-group *ngIf=\\\"merchant\\\">\\n\\t\\t\\t\\t<ion-item-divider>\\n\\t\\t\\t\\t\\t<ion-label>{{\\n\\t\\t\\t\\t\\t\\t'SIDE_MENU.GROUPS.STORE.STORE_TITLE' | translate\\n\\t\\t\\t\\t\\t}}</ion-label>\\n\\t\\t\\t\\t</ion-item-divider>\\n\\n\\t\\t\\t\\t<ion-menu-toggle [autoHide]=\\\"true\\\">\\n\\t\\t\\t\\t\\t<ion-item>\\n\\t\\t\\t\\t\\t\\t<ion-icon name=\\\"hand\\\"></ion-icon>\\n\\t\\t\\t\\t\\t\\t<ion-label>{{\\n\\t\\t\\t\\t\\t\\t\\t'SIDE_MENU.GROUPS.STORE.ITEMS.CALL_WAITER'\\n\\t\\t\\t\\t\\t\\t\\t\\t| translate\\n\\t\\t\\t\\t\\t\\t}}</ion-label>\\n\\t\\t\\t\\t\\t</ion-item>\\n\\t\\t\\t\\t</ion-menu-toggle>\\n\\t\\t\\t\\t<ion-menu-toggle [autoHide]=\\\"true\\\">\\n\\t\\t\\t\\t\\t<ion-item>\\n\\t\\t\\t\\t\\t\\t<ion-icon name=\\\"information-circle\\\"></ion-icon>\\n\\t\\t\\t\\t\\t\\t<ion-label\\n\\t\\t\\t\\t\\t\\t\\t>{{\\n\\t\\t\\t\\t\\t\\t\\t\\t'SIDE_MENU.GROUPS.STORE.ITEMS.ABOUT' | translate\\n\\t\\t\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t\\t\\t{{ merchant.name }}</ion-label\\n\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t</ion-item>\\n\\t\\t\\t\\t</ion-menu-toggle>\\n\\t\\t\\t</ion-item-group>\\n\\n\\t\\t\\t<ion-item-group>\\n\\t\\t\\t\\t<ion-item-divider>\\n\\t\\t\\t\\t\\t<ion-icon name=\\\"settings\\\"></ion-icon>\\n\\t\\t\\t\\t\\t<ion-label>{{\\n\\t\\t\\t\\t\\t\\t'SIDE_MENU.GROUPS.SETTINGS.DIVER_TITLE' | translate\\n\\t\\t\\t\\t\\t}}</ion-label>\\n\\t\\t\\t\\t</ion-item-divider>\\n\\n\\t\\t\\t\\t<ion-menu-toggle [autoHide]=\\\"true\\\">\\n\\t\\t\\t\\t\\t<ion-item\\n\\t\\t\\t\\t\\t\\trouterLink=\\\"/language\\\"\\n\\t\\t\\t\\t\\t\\trouterDirection=\\\"root\\\"\\n\\t\\t\\t\\t\\t\\trouterLinkActive=\\\"activated\\\"\\n\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t<ion-icon name=\\\"globe\\\"></ion-icon>\\n\\t\\t\\t\\t\\t\\t<ion-label>{{\\n\\t\\t\\t\\t\\t\\t\\t'SIDE_MENU.GROUPS.SETTINGS.ITEMS.LANGUAGE'\\n\\t\\t\\t\\t\\t\\t\\t\\t| translate\\n\\t\\t\\t\\t\\t\\t}}</ion-label>\\n\\t\\t\\t\\t\\t</ion-item>\\n\\t\\t\\t\\t</ion-menu-toggle>\\n\\t\\t\\t</ion-item-group>\\n\\t\\t\\t<ion-item-group>\\n\\t\\t\\t\\t<ion-item-divider>\\n\\t\\t\\t\\t\\t<ion-label>{{\\n\\t\\t\\t\\t\\t\\t'SIDE_MENU.GROUPS.INFO.DIVER_TITLE' | translate\\n\\t\\t\\t\\t\\t}}</ion-label>\\n\\t\\t\\t\\t</ion-item-divider>\\n\\n\\t\\t\\t\\t<ion-menu-toggle [autoHide]=\\\"true\\\">\\n\\t\\t\\t\\t\\t<ion-item\\n\\t\\t\\t\\t\\t\\trouterLink=\\\"/info/help\\\"\\n\\t\\t\\t\\t\\t\\trouterDirection=\\\"root\\\"\\n\\t\\t\\t\\t\\t\\trouterLinkActive=\\\"activated\\\"\\n\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t<ion-icon name=\\\"help-circle\\\"></ion-icon>\\n\\t\\t\\t\\t\\t\\t<ion-label>{{\\n\\t\\t\\t\\t\\t\\t\\t'SIDE_MENU.GROUPS.INFO.ITEMS.FAQ' | translate\\n\\t\\t\\t\\t\\t\\t}}</ion-label>\\n\\t\\t\\t\\t\\t</ion-item>\\n\\t\\t\\t\\t\\t<ion-item (click)=\\\"callUs()\\\">\\n\\t\\t\\t\\t\\t\\t<ion-icon name=\\\"call\\\"></ion-icon>\\n\\t\\t\\t\\t\\t\\t<ion-label>{{\\n\\t\\t\\t\\t\\t\\t\\t'SIDE_MENU.GROUPS.NO_TITLE.ITEMS.CALL_US'\\n\\t\\t\\t\\t\\t\\t\\t\\t| translate\\n\\t\\t\\t\\t\\t\\t}}</ion-label>\\n\\t\\t\\t\\t\\t</ion-item>\\n\\t\\t\\t\\t\\t<ion-item\\n\\t\\t\\t\\t\\t\\trouterLink=\\\"/info/about\\\"\\n\\t\\t\\t\\t\\t\\trouterDirection=\\\"root\\\"\\n\\t\\t\\t\\t\\t\\trouterLinkActive=\\\"activated\\\"\\n\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t<ion-icon name=\\\"information-circle\\\"></ion-icon>\\n\\t\\t\\t\\t\\t\\t<ion-label>{{\\n\\t\\t\\t\\t\\t\\t\\t'SIDE_MENU.GROUPS.INFO.ITEMS.ABOUT_US' | translate\\n\\t\\t\\t\\t\\t\\t}}</ion-label>\\n\\t\\t\\t\\t\\t</ion-item>\\n\\t\\t\\t\\t</ion-menu-toggle>\\n\\t\\t\\t</ion-item-group>\\n\\n\\t\\t\\t<ion-item-group>\\n\\t\\t\\t\\t<ion-item-divider>\\n\\t\\t\\t\\t\\t<ion-label>{{\\n\\t\\t\\t\\t\\t\\t'SIDE_MENU.GROUPS.LEGALS.DIVER_TITLE' | translate\\n\\t\\t\\t\\t\\t}}</ion-label>\\n\\t\\t\\t\\t</ion-item-divider>\\n\\n\\t\\t\\t\\t<ion-menu-toggle [autoHide]=\\\"true\\\">\\n\\t\\t\\t\\t\\t<ion-item\\n\\t\\t\\t\\t\\t\\trouterLink=\\\"/info/privacy\\\"\\n\\t\\t\\t\\t\\t\\trouterDirection=\\\"root\\\"\\n\\t\\t\\t\\t\\t\\trouterLinkActive=\\\"activated\\\"\\n\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t<ion-icon name=\\\"lock\\\"></ion-icon>\\n\\t\\t\\t\\t\\t\\t<ion-label>{{\\n\\t\\t\\t\\t\\t\\t\\t'SIDE_MENU.GROUPS.LEGALS.ITEMS.PRIVACY' | translate\\n\\t\\t\\t\\t\\t\\t}}</ion-label>\\n\\t\\t\\t\\t\\t</ion-item>\\n\\t\\t\\t\\t\\t<ion-item\\n\\t\\t\\t\\t\\t\\trouterLink=\\\"/info/terms-of-use\\\"\\n\\t\\t\\t\\t\\t\\trouterDirection=\\\"root\\\"\\n\\t\\t\\t\\t\\t\\trouterLinkActive=\\\"activated\\\"\\n\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t<ion-icon name=\\\"list-box\\\"></ion-icon>\\n\\t\\t\\t\\t\\t\\t<ion-label>{{\\n\\t\\t\\t\\t\\t\\t\\t'SIDE_MENU.GROUPS.LEGALS.ITEMS.TERMS_OF_USE'\\n\\t\\t\\t\\t\\t\\t\\t\\t| translate\\n\\t\\t\\t\\t\\t\\t}}</ion-label>\\n\\t\\t\\t\\t\\t</ion-item>\\n\\t\\t\\t\\t</ion-menu-toggle>\\n\\t\\t\\t</ion-item-group>\\n\\t\\t</ion-list>\\n\\t</ion-content>\\n</ion-menu>\\n\"","import { ModuleWithProviders, NgModule } from '@angular/core';\nimport { CommonLibModule } from './lib';\nimport { RoutersModule } from './routers';\nimport { API_URL } from './lib/router';\nimport { LocaleModule } from './locale/locale.module';\n\ninterface CommonModuleConfig {\n\tapiUrl: string;\n}\n\n@NgModule({\n\timports: [CommonLibModule, RoutersModule, LocaleModule],\n})\nexport class CommonModule {\n\tstatic forRoot(options: CommonModuleConfig): ModuleWithProviders {\n\t\treturn {\n\t\t\tngModule: CommonModule,\n\t\t\tproviders: [{ provide: API_URL, useValue: options.apiUrl }],\n\t\t};\n\t}\n}\n","export { CommonLibModule } from './lib.module';\n","import { NgModule } from '@angular/core';\nimport { SOCKET_IO } from './socket.service';\nimport io from 'socket.io-client';\nimport { RouterFactory, RoutersService } from './router';\nimport { SocketFactory } from './socket.factory';\n\n@NgModule({\n\tproviders: [\n\t\t{ provide: SOCKET_IO, useValue: io },\n\t\tSocketFactory,\n\t\tRouterFactory,\n\t\tRoutersService,\n\t],\n\texports: [],\n})\nexport class CommonLibModule {}\n","import { Observable } from 'rxjs';\nimport { v4 as uuid } from 'uuid';\nimport { exhaustMap, first, switchMap } from 'rxjs/operators';\nimport { ObservableResponseSubscriber } from './ObservableResponseSubscriber';\nimport { Socket } from '../socket.service';\n\nexport class ObservableRequest<T> {\n\tprivate callId: string;\n\n\tconstructor(\n\t\tprivate readonly socket: Socket,\n\t\tprivate readonly event: string,\n\t\tprivate readonly args: any[]\n\t) {\n\t\tthis.callId = uuid();\n\t}\n\n\trun(): Observable<T> {\n\t\treturn this.socket.connection.pipe(\n\t\t\tfirst(),\n\t\t\tswitchMap(() => {\n\t\t\t\tthis.socket.emit(this.event, ...this.args, this.callId);\n\n\t\t\t\treturn this.socket.connection.pipe(\n\t\t\t\t\texhaustMap(() => {\n\t\t\t\t\t\tconst subscriber = new ObservableResponseSubscriber<T>(\n\t\t\t\t\t\t\tthis.socket,\n\t\t\t\t\t\t\tthis.callId\n\t\t\t\t\t\t);\n\t\t\t\t\t\treturn subscriber.getResponse();\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t})\n\t\t);\n\t}\n}\n","import { v4 as uuid } from 'uuid';\nimport { exhaustMap, merge, share, takeUntil } from 'rxjs/operators';\nimport { Socket } from '../socket.service';\nimport { Observable, throwError } from 'rxjs';\n\nexport class ObservableResponseSubscriber<T> {\n\tprivate readonly response: Observable<T>;\n\tprivate readonly subscriptionId: string;\n\n\tconstructor(\n\t\tprivate readonly socket: Socket,\n\t\tprivate readonly callId: string\n\t) {\n\t\tthis.subscriptionId = uuid();\n\t\tthis.response = this.createResponseObservable();\n\t}\n\n\tgetResponse(): Observable<T> {\n\t\treturn this.response;\n\t}\n\n\tprivate createResponseObservable(): Observable<T> {\n\t\treturn Observable.create(() => {\n\t\t\tthis.socket.emit(`${this.callId}_subscribe`, this.subscriptionId);\n\n\t\t\treturn () => {\n\t\t\t\tthis.socket.emit(`${this.subscriptionId}_unsubscribe`);\n\t\t\t};\n\t\t}).pipe(\n\t\t\tmerge(this.nexts(), this.errors()),\n\t\t\ttakeUntil(this.completes()),\n\t\t\tshare()\n\t\t);\n\t}\n\n\tprivate nexts() {\n\t\treturn this.socket.fromEvent<T>(`${this.subscriptionId}_next`);\n\t}\n\n\tprivate errors() {\n\t\treturn this.socket\n\t\t\t.fromEvent(`${this.subscriptionId}_error`)\n\t\t\t.pipe(\n\t\t\t\texhaustMap((error) => throwError(this.deserializeError(error)))\n\t\t\t);\n\t}\n\n\tprivate completes() {\n\t\treturn this.socket.fromEvent(`${this.subscriptionId}_complete`);\n\t}\n\n\tprivate deserializeError(error) {\n\t\tif (error.__isError__) {\n\t\t\tconst _error = new Error(error.message);\n\t\t\t_error.name = error.name;\n\t\t\treturn _error;\n\t\t} else {\n\t\t\treturn error;\n\t\t}\n\t}\n}\n","import { Socket } from '../socket.service';\n\nexport class Request<T> {\n\tconstructor(\n\t\tprivate readonly socket: Socket,\n\t\tprivate readonly event: string,\n\t\tprivate readonly args: any[]\n\t) {}\n\n\tasync run(): Promise<T> {\n\t\treturn new Promise<T>((resolve, reject) => {\n\t\t\tthis.socket.emit(this.event, ...this.args, (err, res) => {\n\t\t\t\tif (err != null) {\n\t\t\t\t\treject(this.deserializeError(err));\n\t\t\t\t} else {\n\t\t\t\t\tresolve(res);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\tprivate deserializeError(error) {\n\t\tif (error.__isError__) {\n\t\t\tconst _error = new Error(error.message);\n\t\t\t_error.name = error.name;\n\t\t\treturn _error;\n\t\t} else {\n\t\t\treturn error;\n\t\t}\n\t}\n}\n","export * from './router.factory';\nexport * from './router.service';\nexport * from './routers.service';\n","import { Inject, Injectable } from '@angular/core';\nimport { API_URL, Router } from './router.service';\nimport { RoutersService } from './routers.service';\nimport { SocketFactory } from '../socket.factory';\n\n@Injectable()\nexport class RouterFactory {\n\tconstructor(\n\t\tprivate readonly socketFactory: SocketFactory,\n\t\tprivate readonly routersService: RoutersService,\n\t\t@Inject(API_URL) private readonly apiUrl: string\n\t) {}\n\n\tcreate(name: string): Router {\n\t\treturn new Router(\n\t\t\tthis.socketFactory,\n\t\t\tthis.routersService,\n\t\t\tname,\n\t\t\tthis.apiUrl\n\t\t);\n\t}\n}\n","import { Socket } from '../socket.service';\nimport { Observable } from 'rxjs';\nimport { ObservableRequest } from './ObservableRequest';\nimport { Request } from './Request';\nimport { RoutersService } from './routers.service';\nimport { SocketFactory } from '../socket.factory';\nimport { InjectionToken } from '@angular/core';\n\nexport const API_URL = new InjectionToken<string>('api_url');\n\nexport class Router {\n\tprivate readonly socket: Socket;\n\n\tconstructor(\n\t\tsocketFactory: SocketFactory,\n\t\tprivate readonly routersService: RoutersService,\n\t\tprivate readonly name: string,\n\t\tprivate readonly apiUrl: string\n\t) {\n\t\tthis.socket = socketFactory.build(`${apiUrl}/${name}`);\n\t\tthis.routersService.sockets.next(this.socket);\n\n\t\tconsole.log(`Router named ${name} created!`);\n\t}\n\n\trunAndObserve<T>(methodName: string, ...args: any[]): Observable<T> {\n\t\tconst request = new ObservableRequest<T>(this.socket, methodName, args);\n\t\treturn request.run();\n\t}\n\n\trun<T>(methodName: string, ...args: any[]): Promise<T> {\n\t\tconst request = new Request<T>(this.socket, methodName, args);\n\t\treturn request.run();\n\t}\n}\n","import { Observable, combineLatest, of, ReplaySubject } from 'rxjs';\nimport { map, mergeAll, publishReplay, refCount, scan } from 'rxjs/operators';\nimport { ConnectionStatus, Socket } from '../socket.service';\n\nexport class RoutersService {\n\t/**\n\t * routers would register themselves here\n\t * Note: routers can be initialized later so we need observable here\n\t *\n\t * @type {ReplaySubject<Socket>}\n\t * @memberof RoutersService\n\t */\n\tpublic sockets: ReplaySubject<Socket> = new ReplaySubject<Socket>();\n\n\tpublic isConnectionProblem: Observable<boolean>;\n\n\tconstructor() {\n\t\t/**\n\t\t * Here We get observable of routers, then we map it to observable of connectionStatus observables,\n\t\t * Each time router registered we combineLatest it's isSpecificErrorObs observable with the isAnyErrorObs\n\t\t * observable which initializes with the value of Observable.of(false)\n\t\t * By checking if any of the observables next's true, the result of the combineLatest becomes the new isAnyErrorObs.\n\t\t * At the end we do mergeAll, and forget about the fact there is any dependency on the routers observable by that.\n\t\t * Then comes publishReplay and refCount which makes sure we won't have to run this whole crazy code\n\t\t * each time some one subscribes isConnectionProblem.\n\t\t */\n\t\tthis.isConnectionProblem = this.sockets.pipe(\n\t\t\tmap((socket) => {\n\t\t\t\treturn socket.connectionStatus.pipe(\n\t\t\t\t\tmap(\n\t\t\t\t\t\t(status) =>\n\t\t\t\t\t\t\tstatus === ConnectionStatus.Disconnected ||\n\t\t\t\t\t\t\tstatus === ConnectionStatus.ConnectError\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}),\n\t\t\tscan(\n\t\t\t\t(\n\t\t\t\t\tisAnyErrorObs: Observable<boolean>,\n\t\t\t\t\tisSpecificErrorObs: Observable<boolean>\n\t\t\t\t) => {\n\t\t\t\t\treturn combineLatest(\n\t\t\t\t\t\tisAnyErrorObs,\n\t\t\t\t\t\tisSpecificErrorObs\n\t\t\t\t\t).pipe(\n\t\t\t\t\t\tmap(\n\t\t\t\t\t\t\t([isAnyError, isSpecificError]) =>\n\t\t\t\t\t\t\t\tisAnyError || isSpecificError\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\tof(false)\n\t\t\t),\n\t\t\tmergeAll(),\n\t\t\tpublishReplay(1),\n\t\t\trefCount()\n\t\t);\n\t}\n}\n","import { Socket, SOCKET_IO } from './socket.service';\nimport { Inject } from '@angular/core';\nimport _io from 'socket.io-client';\n\nexport class SocketFactory {\n\tconstructor(@Inject(SOCKET_IO) private readonly io: typeof _io) {}\n\n\tbuild(socketUrl: string): Socket {\n\t\treturn new Socket(socketUrl, this.io);\n\t}\n}\n","import { InjectionToken } from '@angular/core';\nimport { Observable, of, fromEvent } from 'rxjs';\nimport {\n\tdelay,\n\tfilter,\n\tmap,\n\tmerge,\n\tpublishReplay,\n\trefCount,\n\tshare,\n} from 'rxjs/operators';\nimport 'rxjs/add/observable/fromEvent';\nimport _io from 'socket.io-client';\n\nexport enum ConnectionStatus {\n\tNotConnected,\n\tDisconnected,\n\tConnected,\n\tConnectError,\n}\n\nexport const SOCKET_IO = new InjectionToken('socket.io');\n\nexport class Socket {\n\tpublic subscribersCounter: number = 0;\n\tpublic ioSocket: SocketIOClient.Socket;\n\n\tpublic connectionStatus: Observable<ConnectionStatus> = of(\n\t\tConnectionStatus.NotConnected\n\t).pipe(\n\t\tmerge(\n\t\t\tthis.fromEvent('connect').pipe(\n\t\t\t\tmap(() => ConnectionStatus.Connected)\n\t\t\t),\n\t\t\tthis.fromEvent('disconnect').pipe(\n\t\t\t\tmap(() => ConnectionStatus.Disconnected)\n\t\t\t),\n\t\t\tthis.fromEvent('connect_error').pipe(\n\t\t\t\tmap(() => ConnectionStatus.ConnectError)\n\t\t\t)\n\t\t),\n\t\tpublishReplay(1),\n\t\trefCount()\n\t);\n\n\tpublic connection: Observable<\n\t\tConnectionStatus\n\t> = this.connectionStatus.pipe(\n\t\tfilter((status) => status === ConnectionStatus.Connected)\n\t);\n\n\tpublic disconnection: Observable<\n\t\tConnectionStatus\n\t> = this.connectionStatus.pipe(\n\t\tfilter((status) => status === ConnectionStatus.Disconnected)\n\t);\n\n\tpublic connectionErrors: Observable<\n\t\tConnectionStatus\n\t> = this.connectionStatus.pipe(\n\t\tfilter((status) => status === ConnectionStatus.ConnectError)\n\t);\n\n\tconstructor(\n\t\tprivate readonly socketUrl: string,\n\t\tprivate readonly io: typeof _io\n\t) {\n\t\tconsole.log(`Socket with url ${socketUrl} created!`);\n\n\t\tconst ioCallable = <any>this.io;\n\n\t\tthis.ioSocket = ioCallable(`${this.socketUrl}`, {\n\t\t\treconnection: false,\n\t\t});\n\n\t\tthis.connectionStatus\n\t\t\t.pipe(\n\t\t\t\tfilter(\n\t\t\t\t\t(status) =>\n\t\t\t\t\t\tstatus === ConnectionStatus.Disconnected ||\n\t\t\t\t\t\tstatus === ConnectionStatus.ConnectError\n\t\t\t\t),\n\t\t\t\tdelay(1000)\n\t\t\t)\n\t\t\t.subscribe(() => {\n\t\t\t\tthis.connect();\n\t\t\t});\n\t}\n\n\ton(eventName: string, callback: () => void) {\n\t\tthis.ioSocket.on(eventName, callback);\n\t}\n\n\tonce(eventName: string, callback: () => void) {\n\t\tthis.ioSocket.once(eventName, callback);\n\t}\n\n\tconnect() {\n\t\treturn this.ioSocket.connect();\n\t}\n\n\tdisconnect(close?: any) {\n\t\treturn this.ioSocket.disconnect.apply(this.ioSocket, <any>arguments);\n\t}\n\n\temit(eventName: string, ...args: any[]) {\n\t\treturn this.ioSocket.emit.apply(this.ioSocket, <any>arguments);\n\t}\n\n\tremoveListener(eventName: string, callback?: () => void) {\n\t\treturn this.ioSocket.removeListener.apply(\n\t\t\tthis.ioSocket,\n\t\t\t<any>arguments\n\t\t);\n\t}\n\n\tremoveAllListeners(eventName?: string) {\n\t\treturn this.ioSocket.removeAllListeners.apply(\n\t\t\tthis.ioSocket,\n\t\t\t<any>arguments\n\t\t);\n\t}\n\n\t/**\n\t * create an Observable from an event\n\t *\n\t * @template T\n\t * @param {string} eventName\n\t * @returns {Observable<T>}\n\t * @memberof Socket\n\t */\n\tfromEvent<T>(eventName: string): Observable<T> {\n\t\tthis.subscribersCounter++;\n\n\t\treturn Observable.create((observer: any) => {\n\t\t\tthis.ioSocket.on(eventName, (data: T) => {\n\t\t\t\tobserver.next(data);\n\t\t\t});\n\t\t\treturn () => {\n\t\t\t\tif (this.subscribersCounter === 1) {\n\t\t\t\t\tthis.ioSocket.removeListener(eventName);\n\t\t\t\t}\n\t\t\t};\n\t\t}).pipe(share());\n\t}\n}\n","import { NgModule } from '@angular/core';\nimport { ProductLocalesService } from './product-locales.service';\nimport {\n\tTranslateService,\n\tTranslateModule,\n\tTranslateLoader,\n\tTranslateFakeLoader,\n} from '@ngx-translate/core';\n\n@NgModule({\n\timports: [\n\t\tTranslateModule.forRoot({\n\t\t\tloader: { provide: TranslateLoader, useClass: TranslateFakeLoader },\n\t\t}),\n\t],\n\tproviders: [ProductLocalesService, TranslateService],\n})\nexport class LocaleModule {}\n","import { Injectable } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ILocaleMember } from '@modules/server.common/interfaces/ILocale';\n\nclass ProductTransientViewModel {\n\tpublic title: string;\n\tpublic description: string;\n\n\tconstructor() {\n\t\tthis.title = '';\n\t\tthis.description = '';\n\t}\n}\n\n@Injectable()\nexport class ProductLocalesService {\n\tprivate readonly _defaultLang: string = 'en-US';\n\tprivate readonly _defaultLocale: string = 'en-US';\n\tprivate _productTransientProperties = new ProductTransientViewModel();\n\n\tpublic currentLocale: string;\n\n\tconstructor(private readonly _translateService: TranslateService) {}\n\n\tpublic get isServiceStateValid() {\n\t\treturn (\n\t\t\tthis._productTransientProperties.title !== '' &&\n\t\t\tthis._productTransientProperties.description !== ''\n\t\t);\n\t}\n\n\t/**\n\t * Get current product member and returns the translation equivalent.\n\t * @param member  Current product member to pass.\n\t * @param langChoice  Optional language of choice\n\t * that function use to translate, if not specified just use the current context language.\n\t * @returns String value of the current member translation.\n\t */\n\tgetTranslate(member: ILocaleMember[], langChoice?: string): string {\n\t\tif (!member || member.length <= 0) {\n\t\t\treturn '';\n\t\t}\n\n\t\tconst productMember: ILocaleMember =\n\t\t\tmember.find((x) =>\n\t\t\t\tx.locale.startsWith(\n\t\t\t\t\tlangChoice || this._translateService.currentLang\n\t\t\t\t)\n\t\t\t) ||\n\t\t\t// Use default lang\n\t\t\tmember.find((x) => x.locale.startsWith(this._defaultLang)) ||\n\t\t\t// Or first\n\t\t\tmember[0];\n\t\t// this is for pictures, they support url instead of value\n\t\tconst value: string = productMember.value || productMember['url'];\n\n\t\treturn value;\n\t}\n\n\tgetMemberValue(productMember: ILocaleMember[]) {\n\t\tlet valueMember = this._getProductLocaleMember(productMember);\n\n\t\tif (valueMember === undefined) {\n\t\t\t// Use default\n\t\t\tconst useDefaultLocale = true;\n\t\t\tvalueMember = this._getProductLocaleMember(\n\t\t\t\tproductMember,\n\t\t\t\tuseDefaultLocale\n\t\t\t);\n\t\t}\n\n\t\tif (valueMember === undefined && productMember) {\n\t\t\t// Or use first\n\t\t\tvalueMember = productMember[0];\n\t\t}\n\n\t\t// When we create new product it has no members at all, because of that we use empty string for this case\n\t\treturn valueMember ? valueMember.value : '';\n\t}\n\n\tsetMemberValue(memberKey: string, memberValue: string) {\n\t\tthis._productTransientProperties[memberKey] = memberValue;\n\t}\n\n\tassignPropertyValue(member: ILocaleMember[], memberKey: string) {\n\t\tconst memberValue = member.find((m) => m.locale === this.currentLocale);\n\t\tconst memberValueToAssign = this._productTransientProperties[memberKey];\n\n\t\tif (memberValue !== undefined) {\n\t\t\tmemberValue.value = memberValueToAssign;\n\t\t} else {\n\t\t\tconst locale: ILocaleMember = {\n\t\t\t\tlocale: this.currentLocale,\n\t\t\t\tvalue: memberValueToAssign,\n\t\t\t};\n\t\t\tmember.push(locale);\n\t\t}\n\t}\n\n\ttakeSelectedLang(lang: string) {\n\t\tlet translateLang = this._defaultLocale;\n\t\tswitch (lang) {\n\t\t\tcase 'en-US':\n\t\t\t\ttranslateLang = 'en-US';\n\t\t\t\tbreak;\n\t\t\tcase 'he-IL':\n\t\t\t\ttranslateLang = 'he-IL';\n\t\t\t\tbreak;\n\t\t\tcase 'ru-RU':\n\t\t\t\ttranslateLang = 'ru-RU';\n\t\t\t\tbreak;\n\t\t\tcase 'bg-BG':\n\t\t\t\ttranslateLang = 'bg-BG';\n\t\t\tcase 'es-ES':\n\t\t\t\ttranslateLang = 'es-ES';\n\t\t\t\tbreak;\n\t\t}\n\t\treturn translateLang;\n\t}\n\n\tprivate _getProductLocaleMember(\n\t\tproductMember: ILocaleMember[],\n\t\tdefaultLocale?: boolean\n\t) {\n\t\tif (productMember) {\n\t\t\treturn productMember.find(\n\t\t\t\t(t) =>\n\t\t\t\t\tt.locale ===\n\t\t\t\t\t(defaultLocale ? this._defaultLocale : this.currentLocale)\n\t\t\t);\n\t\t}\n\t}\n}\n","export type SchemaDefinition = any;\n\nexport class Schema {\n\tconstructor(...args) {}\n\n\tindex(\n\t\tfields: any,\n\t\toptions?: {\n\t\t\texpires?: string;\n\t\t\t[other: string]: any;\n\t\t}\n\t) {\n\t\treturn this;\n\t}\n\n\tpre() {\n\t\treturn;\n\t}\n\n\tindexes(): any[] {\n\t\treturn [];\n\t}\n}\n\nexport const Types: any = {};\n\nexport default {\n\tSchema,\n\tTypes,\n};\n","import { map } from 'rxjs/operators';\nimport { Observable } from 'rxjs';\nimport _ from 'lodash';\nimport { Router, RouterFactory } from '../lib/router';\nimport { Injectable } from '@angular/core';\nimport ICarrierOrdersRouter, {\n\tICarrierOrdersRouterGetAvailableOptions,\n\tICarrierOrdersRouterGetOptions,\n} from '@modules/server.common/routers/ICarrierOrdersRouter';\nimport Order from '@modules/server.common/entities/Order';\nimport Carrier from '@modules/server.common/entities/Carrier';\nimport OrderCarrierStatus from '@modules/server.common/enums/OrderCarrierStatus';\nimport IOrder from '@modules/server.common/interfaces/IOrder';\nimport ICarrier from '@modules/server.common/interfaces/ICarrier';\n\n@Injectable()\nexport class CarrierOrdersRouter implements ICarrierOrdersRouter {\n\tprivate readonly router: Router;\n\n\tconstructor(routerFactory: RouterFactory) {\n\t\tthis.router = routerFactory.create('carrier-orders');\n\t}\n\n\tget(\n\t\tid: string,\n\t\toptions: ICarrierOrdersRouterGetOptions\n\t): Observable<Order[]> {\n\t\treturn this.router\n\t\t\t.runAndObserve<IOrder[]>('get', id, options)\n\t\t\t.pipe(\n\t\t\t\tmap((orders) =>\n\t\t\t\t\t_.map(orders, (order) => this._orderFactory(order))\n\t\t\t\t)\n\t\t\t);\n\t}\n\n\tgetAvailable(\n\t\tid: string,\n\t\toptions: ICarrierOrdersRouterGetAvailableOptions\n\t): Observable<Order[]> {\n\t\treturn this.router\n\t\t\t.runAndObserve<IOrder[]>('getAvailable', id, options)\n\t\t\t.pipe(\n\t\t\t\tmap((orders) =>\n\t\t\t\t\t_.map(orders, (order) => this._orderFactory(order))\n\t\t\t\t)\n\t\t\t);\n\t}\n\n\tasync selectedForDelivery(\n\t\tcarrierId: string,\n\t\torderIds: string[]\n\t): Promise<Carrier> {\n\t\tconst carrier = await this.router.run<ICarrier>(\n\t\t\t'selectedForDelivery',\n\t\t\tcarrierId,\n\t\t\torderIds\n\t\t);\n\t\treturn this._carrierFactory(carrier);\n\t}\n\n\tasync updateStatus(\n\t\tcarrierId: string,\n\t\tnewStatus: OrderCarrierStatus\n\t): Promise<Carrier> {\n\t\tconst carrier = await this.router.run<ICarrier>(\n\t\t\t'updateStatus',\n\t\t\tcarrierId,\n\t\t\tnewStatus\n\t\t);\n\t\treturn this._carrierFactory(carrier);\n\t}\n\n\tasync cancelDelivery(\n\t\tcarrierId: string,\n\t\torderIds: string[]\n\t): Promise<Carrier> {\n\t\tconst carrier = await this.router.run<ICarrier>(\n\t\t\t'cancelDelivery',\n\t\t\tcarrierId,\n\t\t\torderIds\n\t\t);\n\t\treturn this._carrierFactory(carrier);\n\t}\n\n\tgetCount(carrierId: string): Promise<number> {\n\t\treturn this.router.run<number>('getCount', carrierId);\n\t}\n\n\tasync skipOrders(carrierId: string, ordersIds: string[]): Promise<Carrier> {\n\t\tconst carrier = await this.router.run<ICarrier>(\n\t\t\t'skipOrders',\n\t\t\tcarrierId,\n\t\t\tordersIds\n\t\t);\n\t\treturn this._carrierFactory(carrier);\n\t}\n\n\tprotected _carrierFactory(carrier: ICarrier) {\n\t\treturn carrier == null ? null : new Carrier(carrier);\n\t}\n\n\tprotected _orderFactory(order: IOrder) {\n\t\treturn order == null ? null : new Order(order);\n\t}\n}\n","import _ from 'lodash';\nimport { map } from 'rxjs/operators';\nimport { Router, RouterFactory } from '../lib/router';\nimport { Observable } from 'rxjs';\nimport { Injectable } from '@angular/core';\nimport ICarrier from '@modules/server.common/interfaces/ICarrier';\nimport Carrier from '@modules/server.common/entities/Carrier';\nimport ICarrierRouter from '@modules/server.common/routers/ICarrierRouter';\nimport GeoLocation from '@modules/server.common/entities/GeoLocation';\nimport {\n\tICarrierLoginResponse,\n\tICarrierRegistrationInput,\n} from '@modules/server.common/routers/ICarrierRouter';\n\n@Injectable()\nexport class CarrierRouter implements ICarrierRouter {\n\tprivate readonly router: Router;\n\n\tconstructor(routerFactory: RouterFactory) {\n\t\tthis.router = routerFactory.create('carrier');\n\t}\n\n\tget(id: string): Observable<Carrier | null> {\n\t\treturn this.router\n\t\t\t.runAndObserve<ICarrier>('get', id)\n\t\t\t.pipe(map((carrier) => this._carrierFactory(carrier)));\n\t}\n\n\tgetAllActive(): Observable<Carrier[]> {\n\t\treturn this.router\n\t\t\t.runAndObserve<ICarrier[]>('getAllActive')\n\t\t\t.pipe(\n\t\t\t\tmap((carriers) =>\n\t\t\t\t\t_.map(carriers, (carrier) => this._carrierFactory(carrier))\n\t\t\t\t)\n\t\t\t);\n\t}\n\n\tasync updateStatus(carrierId: string, newStatus: number): Promise<Carrier> {\n\t\tconst carrier = await this.router.run<ICarrier>(\n\t\t\t'updateStatus',\n\t\t\tcarrierId,\n\t\t\tnewStatus\n\t\t);\n\t\treturn this._carrierFactory(carrier);\n\t}\n\n\tasync updateActivity(\n\t\tcarrierId: string,\n\t\tactivity: boolean\n\t): Promise<Carrier> {\n\t\tconst carrier = await this.router.run<ICarrier>(\n\t\t\t'updateActivity',\n\t\t\tcarrierId,\n\t\t\tactivity\n\t\t);\n\t\treturn this._carrierFactory(carrier);\n\t}\n\n\tasync updateGeoLocation(\n\t\tcarrierId: string,\n\t\tgeoLocation: GeoLocation\n\t): Promise<Carrier> {\n\t\tconst carrier = await this.router.run<ICarrier>(\n\t\t\t'updateGeoLocation',\n\t\t\tcarrierId,\n\t\t\tgeoLocation\n\t\t);\n\t\treturn this._carrierFactory(carrier);\n\t}\n\n\tasync updatePassword(\n\t\tid: string,\n\t\tpassword: { current?: string; new: string }\n\t): Promise<void> {\n\t\tawait this.router.run('updatePassword', id, password);\n\t}\n\n\tasync updateById(\n\t\tid: string,\n\t\tupdateObject: Partial<ICarrier>\n\t): Promise<Carrier> {\n\t\tconst c = await this.router.run<ICarrier>(\n\t\t\t'updateById',\n\t\t\tid,\n\t\t\tupdateObject\n\t\t);\n\t\treturn this._carrierFactory(c);\n\t}\n\n\tasync register(input: ICarrierRegistrationInput): Promise<Carrier> {\n\t\tconst warehouse = await this.router.run<ICarrier>('register', input);\n\t\treturn this._carrierFactory(warehouse);\n\t}\n\n\tasync login(\n\t\tusername: string,\n\t\tpassword: string\n\t): Promise<ICarrierLoginResponse | null> {\n\t\tconst res = await this.router.run<ICarrierLoginResponse | null>(\n\t\t\t'login',\n\t\t\tusername,\n\t\t\tpassword\n\t\t);\n\n\t\tif (res == null) {\n\t\t\treturn null;\n\t\t} else {\n\t\t\treturn {\n\t\t\t\ttoken: res.token,\n\t\t\t\tcarrier: this._carrierFactory(res.carrier),\n\t\t\t};\n\t\t}\n\t}\n\n\tprotected _carrierFactory(carrier: ICarrier) {\n\t\treturn carrier == null ? null : new Carrier(carrier);\n\t}\n}\n","import { map } from 'rxjs/operators';\nimport { Observable } from 'rxjs';\nimport { Router, RouterFactory } from '../lib/router';\nimport { Injectable } from '@angular/core';\nimport {\n\tIDeviceRawObject,\n\tIDeviceCreateObject,\n} from '@modules/server.common/interfaces/IDevice';\nimport Device from '@modules/server.common/entities/Device';\nimport IDeviceRouter from '@modules/server.common/routers/IDeviceRouter';\nimport ILanguage from '@modules/server.common/interfaces/ILanguage';\n\n@Injectable()\nexport class DeviceRouter implements IDeviceRouter {\n\tprivate readonly router: Router;\n\n\tconstructor(routerFactory: RouterFactory) {\n\t\tthis.router = routerFactory.create('device');\n\t}\n\n\tasync create(deviceCreateObject: IDeviceCreateObject): Promise<Device> {\n\t\treturn this._deviceFactory(\n\t\t\tawait this.router.run<IDeviceRawObject>(\n\t\t\t\t'create',\n\t\t\t\tdeviceCreateObject\n\t\t\t)\n\t\t);\n\t}\n\n\tget(id: string): Observable<Device> {\n\t\treturn this.router\n\t\t\t.runAndObserve<IDeviceRawObject>('get', id)\n\t\t\t.pipe(map((device) => this._deviceFactory(device)));\n\t}\n\n\t/*public getByUUIDAndPlatform(uuid: string, platform: IPlatform): Observable<Device> {\n\t return this.router.runAndObserve<IDeviceRawObject>('getByUUIDAndPlatform', uuid, platform)\n\t .map((device) => this._deviceFactory(device));\n\t }*/\n\n\tasync updateLanguage(\n\t\tdeviceId: string,\n\t\tlanguage: ILanguage\n\t): Promise<Device> {\n\t\treturn this._deviceFactory(\n\t\t\tawait this.router.run<IDeviceRawObject>(\n\t\t\t\t'updateLanguage',\n\t\t\t\tdeviceId,\n\t\t\t\tlanguage\n\t\t\t)\n\t\t);\n\t}\n\n\tprotected _deviceFactory(device: null): null;\n\tprotected _deviceFactory(device: IDeviceRawObject): Device;\n\tprotected _deviceFactory(device: IDeviceRawObject | null) {\n\t\treturn device == null ? null : new Device(device);\n\t}\n}\n","import { map } from 'rxjs/operators';\nimport { Router, RouterFactory } from '../lib/router';\nimport _ from 'lodash';\nimport { Observable } from 'rxjs';\nimport { Injectable } from '@angular/core';\nimport IGeoLocationOrdersRouter, {\n\tIGeoLocationOrdersRouterGetOptions,\n} from '@modules/server.common/routers/IGeoLocationOrdersRouter';\nimport IOrder from '@modules/server.common/interfaces/IOrder';\nimport Order from '@modules/server.common/entities/Order';\nimport GeoLocation from '@modules/server.common/entities/GeoLocation';\n\n@Injectable()\nexport class GeoLocationOrdersRouter implements IGeoLocationOrdersRouter {\n\tprivate readonly router: Router;\n\n\tconstructor(routerFactory: RouterFactory) {\n\t\tthis.router = routerFactory.create('geo-location-orders');\n\t}\n\n\tget(\n\t\tgeoLocation: GeoLocation,\n\t\toptions: IGeoLocationOrdersRouterGetOptions = {}\n\t): Observable<Order[]> {\n\t\treturn this.router\n\t\t\t.runAndObserve<IOrder[]>('get', geoLocation, options)\n\t\t\t.pipe(\n\t\t\t\tmap((orders) =>\n\t\t\t\t\t_.map(orders, (order) => this._orderFactory(order))\n\t\t\t\t)\n\t\t\t);\n\t}\n\n\tprotected _orderFactory(order: IOrder) {\n\t\treturn order == null ? null : new Order(order);\n\t}\n}\n","import _ from 'lodash';\nimport { map } from 'rxjs/operators';\nimport { Router, RouterFactory } from '../lib/router';\nimport { Observable } from 'rxjs';\nimport { Injectable } from '@angular/core';\nimport IGeoLocationProductsRouter from '@modules/server.common/routers/IGeoLocationProductsRouter';\nimport ProductInfo from '@modules/server.common/entities/ProductInfo';\nimport IProductInfo from '@modules/server.common/interfaces/IProductInfo';\nimport GeoLocation from '@modules/server.common/entities/GeoLocation';\n\n@Injectable()\nexport class GeoLocationProductsRouter implements IGeoLocationProductsRouter {\n\tprivate readonly router: Router;\n\n\tconstructor(routerFactory: RouterFactory) {\n\t\tthis.router = routerFactory.create('geo-location-products');\n\t}\n\n\tget(\n\t\tgeoLocation: GeoLocation,\n\t\toptions?: { isDeliveryRequired?: boolean; isTakeaway?: boolean }\n\t): Observable<ProductInfo[]> {\n\t\treturn this.router\n\t\t\t.runAndObserve<IProductInfo[]>('get', geoLocation, options)\n\t\t\t.pipe(\n\t\t\t\tmap((products) =>\n\t\t\t\t\t_.map(products, (productInfo) =>\n\t\t\t\t\t\tthis._productInfoFactory(productInfo)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t}\n\n\tprotected _productInfoFactory(productInfo: IProductInfo) {\n\t\treturn productInfo == null ? null : new ProductInfo(productInfo);\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { RouterFactory, Router } from '../lib/router';\nimport IGeoLocationsRouter from '@modules/server.common/routers/IGeoLocationsRouter';\n\n@Injectable()\nexport class GeoLocationRouter implements IGeoLocationsRouter {\n\tprivate readonly router: Router;\n\n\tconstructor(routerFactory: RouterFactory) {\n\t\tthis.router = routerFactory.create('geo-location');\n\t}\n\n\tgetAddressByCoordinatesUsingArcGIS(\n\t\tlat: number,\n\t\tlng: number\n\t): Promise<any | null> {\n\t\treturn this.router.run('getAddressByCoordinatesUsingArcGIS', lat, lng);\n\t}\n}\n","import _ from 'lodash';\nimport { map } from 'rxjs/operators';\nimport { RouterFactory, Router } from '../lib/router';\nimport { Observable } from 'rxjs';\nimport { Injectable } from '@angular/core';\nimport IWarehouse from '@modules/server.common/interfaces/IWarehouse';\nimport Warehouse from '@modules/server.common/entities/Warehouse';\nimport IGeoLocationWarehousesRouter, {\n\tIGeoLocationWarehousesRouterGetOptions,\n} from '@modules/server.common/routers/IGeoLocationWarehousesRouter';\nimport GeoLocation from '@modules/server.common/entities/GeoLocation';\n\n@Injectable()\nexport class GeoLocationWarehousesRouter\n\timplements IGeoLocationWarehousesRouter {\n\tprivate readonly router: Router;\n\n\tconstructor(routerFactory: RouterFactory) {\n\t\tthis.router = routerFactory.create('geo-location-warehouses');\n\t}\n\n\tget(\n\t\tgeoLocation: GeoLocation,\n\t\toptions?: IGeoLocationWarehousesRouterGetOptions\n\t): Observable<Warehouse[]> {\n\t\treturn this.router\n\t\t\t.runAndObserve<IWarehouse[]>('get', geoLocation, options)\n\t\t\t.pipe(\n\t\t\t\tmap((warehouses) =>\n\t\t\t\t\t_.map(warehouses, (warehouse) =>\n\t\t\t\t\t\tthis._warehouseFactory(warehouse)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t}\n\n\tprotected _warehouseFactory(warehouse: IWarehouse) {\n\t\treturn warehouse == null ? null : new Warehouse(warehouse);\n\t}\n}\n","export { RoutersModule } from './routers.module';\n","import { map } from 'rxjs/operators';\nimport { RouterFactory, Router } from '../lib/router';\nimport { Observable } from 'rxjs';\nimport { Injectable } from '@angular/core';\nimport IInviteRequestRouter from '@modules/server.common/routers/IInviteRequestRouter';\nimport {\n\tIInviteRequestCreateObject,\n\tIInviteRequestRawObject,\n} from '@modules/server.common/interfaces/IInviteRequest';\nimport InviteRequest from '@modules/server.common/entities/InviteRequest';\n\n@Injectable()\nexport class InviteRequestRouter implements IInviteRequestRouter {\n\tprivate readonly router: Router;\n\n\tconstructor(routerFactory: RouterFactory) {\n\t\tthis.router = routerFactory.create('invite-request');\n\t}\n\n\tget(id: string): Observable<InviteRequest> {\n\t\treturn this.router\n\t\t\t.runAndObserve<IInviteRequestRawObject>('get', id)\n\t\t\t.pipe(map((o) => this._inviteRequestFactory(o)));\n\t}\n\n\tasync create(\n\t\tinviteRequest: IInviteRequestCreateObject\n\t): Promise<InviteRequest> {\n\t\tconst o = await this.router.run<IInviteRequestRawObject>(\n\t\t\t'create',\n\t\t\tinviteRequest\n\t\t);\n\t\treturn this._inviteRequestFactory(o);\n\t}\n\n\tprotected _inviteRequestFactory(inviteRequest: IInviteRequestRawObject) {\n\t\treturn inviteRequest == null ? null : new InviteRequest(inviteRequest);\n\t}\n}\n","import { map } from 'rxjs/operators';\nimport { RouterFactory, Router } from '../lib/router';\nimport { Observable } from 'rxjs';\nimport { Injectable } from '@angular/core';\nimport IInviteRouter from '@modules/server.common/routers/IInviteRouter';\nimport IEnterByCode from '@modules/server.common/interfaces/IEnterByCode';\nimport IEnterByLocation from '@modules/server.common/interfaces/IEnterByLocation';\nimport Invite from '@modules/server.common/entities/Invite';\nimport IStreetLocation from '@modules/server.common/interfaces/IStreetLocation';\nimport IInvite, {\n\tIInviteCreateObject,\n} from '@modules/server.common/interfaces/IInvite';\n\n@Injectable()\nexport class InviteRouter implements IInviteRouter {\n\tprivate readonly router: Router;\n\n\tconstructor(routerFactory: RouterFactory) {\n\t\tthis.router = routerFactory.create('invite');\n\t}\n\n\tget(id: string): Observable<Invite> {\n\t\treturn this.router\n\t\t\t.runAndObserve<IInvite>('get', id)\n\t\t\t.pipe(map((invite) => this._inviteFactory(invite)));\n\t}\n\n\tgetInvitedStreetLocations(): Observable<IStreetLocation[]> {\n\t\treturn this.router.runAndObserve<IStreetLocation[]>(\n\t\t\t'getInvitedStreetLocations'\n\t\t);\n\t}\n\n\tgetByLocation(info: IEnterByLocation): Observable<Invite> {\n\t\treturn this.router\n\t\t\t.runAndObserve<IInvite>('getByLocation', info)\n\t\t\t.pipe(map((i) => this._inviteFactory(i)));\n\t}\n\n\tgetByCode(info: IEnterByCode): Observable<Invite> {\n\t\treturn this.router\n\t\t\t.runAndObserve<IInvite>('getByCode', info)\n\t\t\t.pipe(map((i) => this._inviteFactory(i)));\n\t}\n\n\tasync create(inviteCreateObject: IInviteCreateObject): Promise<Invite> {\n\t\tconst i = await this.router.run<IInvite>('create', inviteCreateObject);\n\t\treturn this._inviteFactory(i);\n\t}\n\n\tgetInvitesSettings(): Promise<{ isEnabled: boolean }> {\n\t\treturn this.router.run<{ isEnabled: boolean }>('getInvitesSettings');\n\t}\n\n\tprotected _inviteFactory(invite: IInvite) {\n\t\treturn invite == null ? null : new Invite(invite);\n\t}\n}\n","import { map } from 'rxjs/operators';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Router, RouterFactory } from '../lib/router';\nimport IOrderRouter, {\n\tIOrderRouterGetOptions,\n} from '@modules/server.common/routers/IOrderRouter';\nimport Order from '@modules/server.common/entities/Order';\nimport Warehouse from '@modules/server.common/entities/Warehouse';\nimport OrderCarrierStatus from '@modules/server.common/enums/OrderCarrierStatus';\nimport OrderWarehouseStatus from '@modules/server.common/enums/OrderWarehouseStatus';\nimport IOrder from '@modules/server.common/interfaces/IOrder';\n\n@Injectable()\nexport class OrderRouter implements IOrderRouter {\n\tprivate readonly router: Router;\n\n\tconstructor(routerFactory: RouterFactory) {\n\t\tthis.router = routerFactory.create('order');\n\t}\n\n\tget(id: string, options?: IOrderRouterGetOptions): Observable<Order> {\n\t\treturn this.router\n\t\t\t.runAndObserve<IOrder>('get', id, options)\n\t\t\t.pipe(map((order) => this._orderFactory(order)));\n\t}\n\n\tasync confirm(orderId: string): Promise<Order> {\n\t\tconst order = await this.router.run<IOrder>('confirm', orderId);\n\t\treturn this._orderFactory(order);\n\t}\n\n\tasync complete(orderId: string): Promise<Order> {\n\t\tconst order = await this.router.run<IOrder>('complete', orderId);\n\t\treturn this._orderFactory(order);\n\t}\n\n\tasync updateCarrierStatus(\n\t\torderId: string,\n\t\tstatus: OrderCarrierStatus\n\t): Promise<Order> {\n\t\tconst order = await this.router.run<IOrder>(\n\t\t\t'updateCarrierStatus',\n\t\t\torderId,\n\t\t\tstatus\n\t\t);\n\t\treturn this._orderFactory(order);\n\t}\n\n\tasync updateWarehouseStatus(\n\t\torderId: string,\n\t\tstatus: OrderWarehouseStatus\n\t): Promise<Order> {\n\t\tconst order = await this.router.run<IOrder>(\n\t\t\t'updateWarehouseStatus',\n\t\t\torderId,\n\t\t\tstatus\n\t\t);\n\t\treturn this._orderFactory(order);\n\t}\n\n\tasync payWithStripe(orderId: string, cardId: string): Promise<Order> {\n\t\tconst order = await this.router.run<IOrder>(\n\t\t\t'payWithStripe',\n\t\t\torderId,\n\t\t\tcardId\n\t\t);\n\t\treturn this._orderFactory(order);\n\t}\n\n\tasync refundWithStripe(orderId: string): Promise<Order> {\n\t\tconst order = await this.router.run<IOrder>(\n\t\t\t'refundWithStripe',\n\t\t\torderId\n\t\t);\n\t\treturn this._orderFactory(order);\n\t}\n\n\tasync addProducts(\n\t\torderId: Order['id'],\n\t\tproducts,\n\t\twarehouseId: Warehouse['id']\n\t): Promise<Order> {\n\t\tconst order = await this.router.run<IOrder>(\n\t\t\t'addProducts',\n\t\t\torderId,\n\t\t\tproducts,\n\t\t\twarehouseId\n\t\t);\n\t\treturn this._orderFactory(order);\n\t}\n\n\tasync decreaseOrderProducts(\n\t\torderId: Order['id'],\n\t\tproducts,\n\t\twarehouseId: Warehouse['id']\n\t): Promise<Order> {\n\t\tconst order = await this.router.run<IOrder>(\n\t\t\t'decreaseOrderProducts',\n\t\t\torderId,\n\t\t\tproducts,\n\t\t\twarehouseId\n\t\t);\n\t\treturn this._orderFactory(order);\n\t}\n\n\tasync removeProducts(\n\t\torderId: Order['id'],\n\t\tproductsIds: string[]\n\t): Promise<Order> {\n\t\tconst order = await this.router.run<IOrder>(\n\t\t\t'removeProducts',\n\t\t\torderId,\n\t\t\tproductsIds\n\t\t);\n\t\treturn this._orderFactory(order);\n\t}\n\n\tprotected _orderFactory(order: IOrder) {\n\t\treturn order == null ? null : new Order(order);\n\t}\n}\n","import { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { Router, RouterFactory } from '../lib/router';\nimport { Injectable } from '@angular/core';\nimport IProductRouter from '@modules/server.common/routers/IProductRouter';\nimport Product from '@modules/server.common/entities/Product';\nimport IProduct, {\n\tIProductCreateObject,\n} from '@modules/server.common/interfaces/IProduct';\n\n@Injectable()\nexport class ProductRouter implements IProductRouter {\n\tprivate readonly router: Router;\n\n\tconstructor(routerFactory: RouterFactory) {\n\t\tthis.router = routerFactory.create('product');\n\t}\n\n\tget(id: string): Observable<Product> {\n\t\treturn this.router\n\t\t\t.runAndObserve<IProduct>('get', id)\n\t\t\t.pipe(map((product) => new Product(product)));\n\t}\n\n\tasync create(p: IProductCreateObject): Promise<Product> {\n\t\tconst product = await this.router.run<IProduct>('create', p);\n\t\treturn new Product(product);\n\t}\n\n\tasync update(id: string, updateObject): Promise<Product> {\n\t\tconst product = await this.router.run<IProduct>(\n\t\t\t'update',\n\t\t\tid,\n\t\t\tupdateObject\n\t\t);\n\t\treturn new Product(product);\n\t}\n\n\tasync save(updatedProduct: IProduct): Promise<Product> {\n\t\tconst product = await this.router.run<IProduct>('save', updatedProduct);\n\t\treturn new Product(product);\n\t}\n}\n","import { NgModule } from '@angular/core';\nimport { CommonLibModule } from '../lib';\nimport { CarrierOrdersRouter } from './carrier-orders-router.service';\nimport { InviteRequestRouter } from './invite-request-router.service';\nimport { ProductRouter } from './product-router.service';\nimport { InviteRouter } from './invite-router.service';\nimport { GeoLocationWarehousesRouter } from './geo-location-warehouses-router.service';\nimport { GeoLocationProductsRouter } from './geo-location-products-router.service';\nimport { CarrierRouter } from './carrier-router.service';\nimport { DeviceRouter } from './device-router.service';\nimport { GeoLocationOrdersRouter } from './geo-location-orders-router.service';\nimport { OrderRouter } from './order-router.service';\nimport { UserRouter } from './user-router.service';\nimport { WarehouseCarriersRouter } from './warehouse-carriers-router.service';\nimport { WarehouseProductsRouter } from './warehouse-products-router.service';\nimport { WarehouseRouter } from './warehouse-router.service';\nimport { UserProductsRouter } from './user-products-router.service';\nimport { WarehouseOrdersRouter } from './warehouse-orders-router.service';\nimport { UserOrdersRouter } from './user-orders-router.service';\nimport { UserAuthRouter } from './user-auth-router.service';\nimport { GeoLocationRouter } from './geo-location-router.service';\n\n@NgModule({\n\timports: [CommonLibModule],\n\texports: [],\n\tdeclarations: [],\n\tproviders: [\n\t\tCarrierOrdersRouter,\n\t\tCarrierRouter,\n\t\tDeviceRouter,\n\t\tGeoLocationOrdersRouter,\n\t\tGeoLocationProductsRouter,\n\t\tGeoLocationWarehousesRouter,\n\t\tGeoLocationRouter,\n\t\tInviteRequestRouter,\n\t\tInviteRouter,\n\t\tOrderRouter,\n\t\tProductRouter,\n\t\tUserOrdersRouter,\n\t\tUserRouter,\n\t\tUserAuthRouter,\n\t\tWarehouseCarriersRouter,\n\t\tWarehouseRouter,\n\t\tWarehouseProductsRouter,\n\t\tWarehouseOrdersRouter,\n\t\tUserProductsRouter,\n\t],\n})\nexport class RoutersModule {}\n","import { Router, RouterFactory } from '../lib/router';\nimport { Injectable } from '@angular/core';\nimport IUserAuthRouter, {\n\tAddableRegistrationInfo,\n\tIUserRegistrationInput,\n\tIUserLoginResponse,\n} from '@modules/server.common/routers/IUserAuthRouter';\nimport User from '@modules/server.common/entities/User';\nimport IUser from '@modules/server.common/interfaces/IUser';\n\n@Injectable()\nexport class UserAuthRouter implements IUserAuthRouter {\n\tprivate readonly router: Router;\n\n\tconstructor(routerFactory: RouterFactory) {\n\t\tthis.router = routerFactory.create('user-auth');\n\t}\n\n\t/**\n\t * Register Customer\n\t * Note: if invites system is on - throws NotInvited if not invited\n\t *\n\t * @param {IUserRegistrationInput} input\n\t * @returns {Promise<User>}\n\t * @memberof UserAuthRouter\n\t */\n\tasync register(input: IUserRegistrationInput): Promise<User> {\n\t\tconst u = await this.router.run<IUser>('register', input);\n\t\treturn this._userFactory(u);\n\t}\n\n\tasync addRegistrationInfo(\n\t\tid: User['id'],\n\t\tinfo: AddableRegistrationInfo\n\t): Promise<void> {\n\t\tawait this.router.run('addRegistrationInfo', id, info);\n\t}\n\n\tasync login(\n\t\tusername: string,\n\t\tpassword: string\n\t): Promise<IUserLoginResponse | null> {\n\t\tconst res = await this.router.run<IUserLoginResponse>(\n\t\t\t'login',\n\t\t\tusername,\n\t\t\tpassword\n\t\t);\n\n\t\tif (res == null) {\n\t\t\treturn null;\n\t\t} else {\n\t\t\treturn {\n\t\t\t\ttoken: res.token,\n\t\t\t\tuser: this._userFactory(res.user),\n\t\t\t};\n\t\t}\n\t}\n\n\tasync updatePassword(\n\t\tid: string,\n\t\tpassword: { current: string; new: string }\n\t): Promise<void> {\n\t\tawait this.router.run('updatePassword', id, password);\n\t}\n\n\tprotected _userFactory(user: IUser) {\n\t\treturn user == null ? null : new User(user);\n\t}\n\n\tgetRegistrationsSettings(): Promise<{\n\t\tregistrationRequiredOnStart: boolean;\n\t}> {\n\t\treturn this.router.run<{ registrationRequiredOnStart: boolean }>(\n\t\t\t'getRegistrationsSettings'\n\t\t);\n\t}\n}\n","import { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { Router, RouterFactory } from '../lib/router';\nimport { Injectable } from '@angular/core';\nimport IUserOrdersRouter from '@modules/server.common/routers/IUserOrdersRouter';\nimport IOrder from '@modules/server.common/interfaces/IOrder';\nimport Order from '@modules/server.common/entities/Order';\nimport IOrderProductInfo from '@modules/server.common/interfaces/IOrderProductInfo';\nimport _ from 'lodash';\n\n@Injectable()\nexport class UserOrdersRouter implements IUserOrdersRouter {\n\tprivate readonly router: Router;\n\n\tconstructor(routerFactory: RouterFactory) {\n\t\tthis.router = routerFactory.create('user-orders');\n\t}\n\n\tget(userId: string): Observable<Order[]> {\n\t\treturn this.router\n\t\t\t.runAndObserve<IOrder[]>('get', userId)\n\t\t\t.pipe(\n\t\t\t\tmap((orders) =>\n\t\t\t\t\t_.map(orders, (order) => this._orderFactory(order))\n\t\t\t\t)\n\t\t\t);\n\t}\n\n\tgetOrderedProducts(userId: string): Observable<IOrderProductInfo[]> {\n\t\treturn this.router.runAndObserve<IOrderProductInfo[]>(\n\t\t\t'getOrderedProducts',\n\t\t\tuserId\n\t\t);\n\t}\n\n\tprotected _orderFactory(order: IOrder) {\n\t\treturn order == null ? null : new Order(order);\n\t}\n}\n","import { Observable } from 'rxjs';\nimport { Router, RouterFactory } from '../lib/router';\nimport { Injectable } from '@angular/core';\nimport IUserProductsRouter from '@modules/server.common/routers/IUserProductsRouter';\n\n@Injectable()\nexport class UserProductsRouter implements IUserProductsRouter {\n\tprivate readonly router: Router;\n\n\tconstructor(routerFactory: RouterFactory) {\n\t\tthis.router = routerFactory.create('user-products');\n\t}\n\n\tgetPlaceholder(userId: string, deviceId: string): Observable<string> {\n\t\treturn this.router.runAndObserve<string>(\n\t\t\t'getPlaceholder',\n\t\t\tuserId,\n\t\t\tdeviceId\n\t\t);\n\t}\n}\n","import { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { Router, RouterFactory } from '../lib/router';\nimport { Injectable } from '@angular/core';\nimport IUserRouter from '@modules/server.common/routers/IUserRouter';\nimport IUser, {\n\tIUserCreateObject,\n} from '@modules/server.common/interfaces/IUser';\nimport User from '@modules/server.common/entities/User';\nimport GeoLocation from '@modules/server.common/entities/GeoLocation';\nimport Stripe from 'stripe';\n\n@Injectable()\nexport class UserRouter implements IUserRouter {\n\tprivate readonly router: Router;\n\n\tconstructor(routerFactory: RouterFactory) {\n\t\tthis.router = routerFactory.create('user');\n\t}\n\n\tget(id: string): Observable<User> {\n\t\treturn this.router\n\t\t\t.runAndObserve<IUser>('get', id)\n\t\t\t.pipe(map((user) => this._userFactory(user)));\n\t}\n\n\tasync updateUser(\n\t\tid: string,\n\t\tuserCreateObject: IUserCreateObject\n\t): Promise<User | any> {\n\t\tconst user = await this.router.run<IUser>(\n\t\t\t'updateUser',\n\t\t\tid,\n\t\t\tuserCreateObject\n\t\t);\n\t\treturn this._userFactory(user);\n\t}\n\n\taddPaymentMethod(\n\t\tuserId: string,\n\t\ttokenId: string\n\t): Promise<string /*cardId*/> {\n\t\treturn this.router.run<string>('addPaymentMethod', userId, tokenId);\n\t}\n\n\tgetCards(userId: string): Promise<Stripe.cards.ICard[]> {\n\t\treturn this.router.run<Stripe.cards.ICard[]>('getCards', userId);\n\t}\n\n\tasync updateEmail(userId: string, email: string): Promise<User> {\n\t\tconst user = await this.router.run<IUser>('updateEmail', userId, email);\n\t\treturn this._userFactory(user);\n\t}\n\n\tasync updateGeoLocation(\n\t\tuserId: string,\n\t\tgeoLocation: GeoLocation\n\t): Promise<User> {\n\t\tconst user = await this.router.run<IUser>(userId, geoLocation);\n\t\treturn this._userFactory(user);\n\t}\n\n\tgetAboutUs(userId: string, deviceId: string): Observable<string> {\n\t\treturn this.router.runAndObserve<string>(\n\t\t\t'getAboutUs',\n\t\t\tuserId,\n\t\t\tdeviceId\n\t\t);\n\t}\n\n\tgetTermsOfUse(userId: string, deviceId: string): Observable<string> {\n\t\treturn this.router.runAndObserve<string>(\n\t\t\t'getTermsOfUse',\n\t\t\tuserId,\n\t\t\tdeviceId\n\t\t);\n\t}\n\n\tgetPrivacy(userId: string, deviceId: string): Observable<string> {\n\t\treturn this.router.runAndObserve<string>(\n\t\t\t'getPrivacy',\n\t\t\tuserId,\n\t\t\tdeviceId\n\t\t);\n\t}\n\n\tprotected _userFactory(user: IUser) {\n\t\treturn user == null ? null : new User(user);\n\t}\n}\n","import { Observable } from 'rxjs';\nimport { Router, RouterFactory } from '../lib/router';\nimport { map } from 'rxjs/operators';\nimport _ from 'lodash';\nimport { Injectable } from '@angular/core';\nimport IWarehouseCarriersRouter from '@modules/server.common/routers/IWarehouseCarriersRouter';\nimport Carrier from '@modules/server.common/entities/Carrier';\nimport ICarrier from '@modules/server.common/interfaces/ICarrier';\n\n@Injectable()\nexport class WarehouseCarriersRouter implements IWarehouseCarriersRouter {\n\tprivate readonly router: Router;\n\n\tconstructor(routerFactory: RouterFactory) {\n\t\tthis.router = routerFactory.create('warehouse-carriers');\n\t}\n\n\tget(warehouseId: string): Observable<Carrier[]> {\n\t\treturn this.router\n\t\t\t.runAndObserve<ICarrier[]>('get', warehouseId)\n\t\t\t.pipe(\n\t\t\t\tmap((carriers) =>\n\t\t\t\t\t_.map(carriers, (carrier) => this._carrierFactory(carrier))\n\t\t\t\t)\n\t\t\t);\n\t}\n\n\tasync updatePassword(id: string, password: string): Promise<void> {\n\t\tawait this.router.run('updatePassword', id, password);\n\t}\n\n\tprotected _carrierFactory(carrier: ICarrier) {\n\t\treturn carrier == null ? null : new Carrier(carrier);\n\t}\n}\n","import { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { Router, RouterFactory } from '../lib/router';\nimport _ from 'lodash';\nimport { Injectable } from '@angular/core';\nimport IOrder from '@modules/server.common/interfaces/IOrder';\nimport Order from '@modules/server.common/entities/Order';\nimport IWarehouseOrdersRouter, {\n\tIWarehouseOrdersRouterGetOptions,\n\tIOrderCreateInput,\n} from '@modules/server.common/routers/IWarehouseOrdersRouter';\nimport DeliveryType from '@modules/server.common/enums/DeliveryType';\n\n@Injectable()\nexport class WarehouseOrdersRouter implements IWarehouseOrdersRouter {\n\tprivate readonly router: Router;\n\n\tconstructor(routerFactory: RouterFactory) {\n\t\tthis.router = routerFactory.create('warehouse-orders');\n\t}\n\n\tget(\n\t\twarehouseId: string,\n\t\toptions: IWarehouseOrdersRouterGetOptions = {}\n\t): Observable<Order[]> {\n\t\treturn this.router\n\t\t\t.runAndObserve<IOrder[]>('get', warehouseId, options)\n\t\t\t.pipe(\n\t\t\t\tmap((orders) =>\n\t\t\t\t\t_.map(orders, (order) => this._orderFactory(order))\n\t\t\t\t)\n\t\t\t);\n\t}\n\n\tasync create(createInput: IOrderCreateInput): Promise<Order> {\n\t\tconst order = await this.router.run<IOrder>('create', createInput);\n\t\treturn this._orderFactory(order);\n\t}\n\n\tasync cancel(orderId: string): Promise<Order> {\n\t\tconst order = await this.router.run<IOrder>('cancel', orderId);\n\t\treturn this._orderFactory(order);\n\t}\n\n\tasync createByProductType(\n\t\tuserId: string,\n\t\twarehouseId: string,\n\t\tproductId: string,\n\t\torderType?: DeliveryType\n\t): Promise<Order> {\n\t\tconst order = await this.router.run<IOrder>(\n\t\t\t'createByProductType',\n\t\t\tuserId,\n\t\t\twarehouseId,\n\t\t\tproductId,\n\t\t\torderType\n\t\t);\n\t\treturn this._orderFactory(order);\n\t}\n\n\tprotected _orderFactory(order: IOrder) {\n\t\treturn order == null ? null : new Order(order);\n\t}\n}\n","import { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { Router, RouterFactory } from '../lib/router';\nimport _ from 'lodash';\nimport { Injectable } from '@angular/core';\nimport IWarehouseProduct, {\n\tIWarehouseProductCreateObject,\n} from '@modules/server.common/interfaces/IWarehouseProduct';\nimport WarehouseProduct from '@modules/server.common/entities/WarehouseProduct';\nimport IWarehouseProductsRouter from '@modules/server.common/routers/IWarehouseProductsRouter';\n\n@Injectable()\nexport class WarehouseProductsRouter implements IWarehouseProductsRouter {\n\tprivate readonly router: Router;\n\n\tconstructor(routerFactory: RouterFactory) {\n\t\tthis.router = routerFactory.create('warehouse-products');\n\t}\n\n\tget(id: string, fullProducts = true): Observable<WarehouseProduct[]> {\n\t\treturn this.router\n\t\t\t.runAndObserve<IWarehouseProduct[]>('get', id, fullProducts)\n\t\t\t.pipe(\n\t\t\t\tmap((warehouseProducts) =>\n\t\t\t\t\t_.map(warehouseProducts, (warehouseProduct) =>\n\t\t\t\t\t\tthis._warehouseProductFactory(warehouseProduct)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t}\n\n\tgetAvailable(warehouseId: string): Observable<WarehouseProduct[]> {\n\t\treturn this.router\n\t\t\t.runAndObserve<IWarehouseProduct[]>('getAvailable', warehouseId)\n\t\t\t.pipe(\n\t\t\t\tmap((warehouseProducts) =>\n\t\t\t\t\t_.map(warehouseProducts, (warehouseProduct) =>\n\t\t\t\t\t\tthis._warehouseProductFactory(warehouseProduct)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t}\n\n\tasync add(\n\t\twarehouseId: string,\n\t\tproducts: IWarehouseProductCreateObject[]\n\t): Promise<WarehouseProduct[]> {\n\t\tconst warehouseProducts = await this.router.run<IWarehouseProduct[]>(\n\t\t\t'add',\n\t\t\twarehouseId,\n\t\t\tproducts\n\t\t);\n\t\treturn _.map(warehouseProducts, (warehouseProduct) =>\n\t\t\tthis._warehouseProductFactory(warehouseProduct)\n\t\t);\n\t}\n\n\tasync saveUpdated(\n\t\twarehouseId: string,\n\t\tupdatedWarehouseProduct: IWarehouseProduct\n\t): Promise<WarehouseProduct> {\n\t\tconst warehouseProduct = await this.router.run<IWarehouseProduct>(\n\t\t\t'saveUpdated',\n\t\t\twarehouseId,\n\t\t\tupdatedWarehouseProduct\n\t\t);\n\t\treturn this._warehouseProductFactory(warehouseProduct);\n\t}\n\n\tasync changePrice(\n\t\twarehouseId: string,\n\t\tproductId: string,\n\t\tprice: number\n\t): Promise<WarehouseProduct> {\n\t\tconst warehouseProduct = await this.router.run<IWarehouseProduct>(\n\t\t\t'changePrice',\n\t\t\twarehouseId,\n\t\t\tproductId,\n\t\t\tprice\n\t\t);\n\t\treturn this._warehouseProductFactory(warehouseProduct);\n\t}\n\n\tasync decreaseCount(\n\t\twarehouseId: string,\n\t\tproductId: string,\n\t\tcount: number\n\t): Promise<WarehouseProduct> {\n\t\tconst warehouseProduct = await this.router.run<IWarehouseProduct>(\n\t\t\t'decreaseCount',\n\t\t\twarehouseId,\n\t\t\tproductId,\n\t\t\tcount\n\t\t);\n\t\treturn this._warehouseProductFactory(warehouseProduct);\n\t}\n\n\tasync increaseCount(\n\t\twarehouseId: string,\n\t\tproductId: string,\n\t\tcount: number\n\t): Promise<WarehouseProduct> {\n\t\tconst warehouseProduct = await this.router.run<IWarehouseProduct>(\n\t\t\t'increaseCount',\n\t\t\twarehouseId,\n\t\t\tproductId,\n\t\t\tcount\n\t\t);\n\t\treturn this._warehouseProductFactory(warehouseProduct);\n\t}\n\n\tasync increaseSoldCount(\n\t\twarehouseId: string,\n\t\tproductId: string,\n\t\tcount: number\n\t): Promise<WarehouseProduct> {\n\t\tconst warehouseProduct = await this.router.run<IWarehouseProduct>(\n\t\t\t'increaseSoldCount',\n\t\t\twarehouseId,\n\t\t\tproductId,\n\t\t\tcount\n\t\t);\n\t\treturn this._warehouseProductFactory(warehouseProduct);\n\t}\n\n\tasync decreaseSoldCount(\n\t\twarehouseId: string,\n\t\tproductId: string,\n\t\tcount: number\n\t): Promise<WarehouseProduct> {\n\t\tconst warehouseProduct = await this.router.run<IWarehouseProduct>(\n\t\t\t'decreaseSoldCount',\n\t\t\twarehouseId,\n\t\t\tproductId,\n\t\t\tcount\n\t\t);\n\t\treturn this._warehouseProductFactory(warehouseProduct);\n\t}\n\n\tgetTopProducts(\n\t\twarehouseId: string,\n\t\tquantity: number\n\t): Observable<WarehouseProduct[]> {\n\t\treturn this.router\n\t\t\t.runAndObserve<IWarehouseProduct[]>(\n\t\t\t\t'getTopProducts',\n\t\t\t\twarehouseId,\n\t\t\t\tquantity\n\t\t\t)\n\t\t\t.pipe(\n\t\t\t\tmap((warehouseProducts) =>\n\t\t\t\t\t_.map(warehouseProducts, (warehouseProduct) =>\n\t\t\t\t\t\tthis._warehouseProductFactory(warehouseProduct)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t}\n\n\tprotected _warehouseProductFactory(warehouseProduct: IWarehouseProduct) {\n\t\treturn warehouseProduct == null\n\t\t\t? null\n\t\t\t: new WarehouseProduct(warehouseProduct);\n\t}\n}\n","import { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { Router, RouterFactory } from '../lib/router';\nimport _ from 'lodash';\nimport { Injectable } from '@angular/core';\nimport IWarehouseRouter from '@modules/server.common/routers/IWarehouseRouter';\nimport Warehouse from '@modules/server.common/entities/Warehouse';\nimport IWarehouse from '@modules/server.common/interfaces/IWarehouse';\nimport { IGeoLocationCreateObject } from '@modules/server.common/interfaces/IGeoLocation';\nimport {\n\tIWarehouseLoginResponse,\n\tIWarehouseRegistrationInput,\n} from '@modules/server.common/routers/IWarehouseRouter';\n\n@Injectable()\nexport class WarehouseRouter implements IWarehouseRouter {\n\tprivate readonly router: Router;\n\n\tconstructor(routerFactory: RouterFactory) {\n\t\tthis.router = routerFactory.create('warehouse');\n\t}\n\n\tget(id: string, fullProducts: boolean = true): Observable<Warehouse> {\n\t\treturn this.router\n\t\t\t.runAndObserve<IWarehouse>('get', id, fullProducts)\n\t\t\t.pipe(map((warehouse) => this._warehouseFactory(warehouse)));\n\t}\n\n\tgetAllActive(fullProducts: boolean = false): Observable<Warehouse[]> {\n\t\treturn this.router\n\t\t\t.runAndObserve<IWarehouse[]>('getAllActive', fullProducts)\n\t\t\t.pipe(\n\t\t\t\tmap((warehouses) =>\n\t\t\t\t\t_.map(warehouses, (warehouse) =>\n\t\t\t\t\t\tthis._warehouseFactory(warehouse)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t}\n\n\tasync login(\n\t\tusername: string,\n\t\tpassword: string\n\t): Promise<IWarehouseLoginResponse | null> {\n\t\tconst res = await this.router.run<IWarehouseLoginResponse | null>(\n\t\t\t'login',\n\t\t\tusername,\n\t\t\tpassword\n\t\t);\n\n\t\tif (res == null) {\n\t\t\treturn null;\n\t\t} else {\n\t\t\treturn {\n\t\t\t\ttoken: res.token,\n\t\t\t\twarehouse: this._warehouseFactory(res.warehouse),\n\t\t\t};\n\t\t}\n\t}\n\n\tasync register(input: IWarehouseRegistrationInput): Promise<Warehouse> {\n\t\tconst warehouse = await this.router.run<IWarehouse>('register', input);\n\t\treturn this._warehouseFactory(warehouse);\n\t}\n\n\tasync updateGeoLocation(\n\t\twarehouseId: string,\n\t\tgeoLocation: IGeoLocationCreateObject\n\t): Promise<Warehouse> {\n\t\tconst warehouse = await this.router.run<IWarehouse>(\n\t\t\t'updateGeoLocation',\n\t\t\twarehouseId,\n\t\t\tgeoLocation\n\t\t);\n\t\treturn this._warehouseFactory(warehouse);\n\t}\n\n\tasync updatePassword(\n\t\tid: string,\n\t\tpassword: { current?: string; new: string }\n\t): Promise<void> {\n\t\tawait this.router.run('updatePassword', id, password);\n\t}\n\n\tasync updateAvailability(\n\t\twarehouseId: string,\n\t\tisAvailable: boolean\n\t): Promise<Warehouse> {\n\t\tconst warehouse = await this.router.run<IWarehouse>(\n\t\t\t'updateAvailability',\n\t\t\twarehouseId,\n\t\t\tisAvailable\n\t\t);\n\t\treturn this._warehouseFactory(warehouse);\n\t}\n\n\tasync save(w: Warehouse): Promise<Warehouse> {\n\t\tconst warehouse = await this.router.run<IWarehouse>('save', w);\n\t\treturn this._warehouseFactory(warehouse);\n\t}\n\n\tprotected _warehouseFactory(warehouse: IWarehouse) {\n\t\treturn warehouse == null ? null : new Warehouse(warehouse);\n\t}\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class GoogleMapsLoader {\n\tconstructor() {}\n\n\tload(googleMapsApiKey: string) {\n\t\tconst src = `https://maps.googleapis.com/maps/api/js?key=${googleMapsApiKey}&libraries=places,drawing&callback=__onGoogleLoaded`;\n\n\t\treturn new Promise(async (resolve, reject) => {\n\t\t\twindow['__onGoogleLoaded'] = (ev) => {\n\t\t\t\tresolve('google maps api loaded');\n\t\t\t};\n\t\t\tconst node = document.createElement('script');\n\t\t\tnode.src = src;\n\t\t\tnode.type = 'text/javascript';\n\t\t\tdocument.getElementsByTagName('head')[0].appendChild(node);\n\t\t});\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { first } from 'rxjs/operators';\n\nexport interface IMaintenanceInfo {\n\ttype: MaintenanceTypes | string;\n\tstatus: boolean;\n\tmessage: string;\n}\n\nexport enum MaintenanceTypes {\n\tShopMobile = 'shop-mobile',\n\tShopWeb = 'shop-web',\n\tCarrierMobile = 'carrier-mobile',\n\tMerchantTablet = 'merchant-tablet',\n\tAdmin = 'admin',\n\tApi = 'api',\n}\n\n@Injectable()\nexport class MaintenanceService {\n\tprivate headers: HttpHeaders = new HttpHeaders({\n\t\t'Content-Type': 'application/json',\n\t});\n\tconstructor(private http: HttpClient) {}\n\n\tasync getMaintenanceInfo(\n\t\tmaintenanceApiUrl: string\n\t): Promise<IMaintenanceInfo[]> {\n\t\tconst maintenanceInfo = await this.http\n\t\t\t.get(maintenanceApiUrl, {\n\t\t\t\theaders: this.headers,\n\t\t\t})\n\t\t\t.pipe(first())\n\t\t\t.toPromise();\n\t\treturn maintenanceInfo['maintenance'];\n\t}\n\n\tload(appTyle: string, maintenanceApiUrl: string) {\n\t\treturn new Promise(async (resolve, reject) => {\n\t\t\ttry {\n\t\t\t\tconst maintenanceInfo = await this.getMaintenanceInfo(\n\t\t\t\t\tmaintenanceApiUrl\n\t\t\t\t);\n\t\t\t\tconst apiInfo = await maintenanceInfo.find(\n\t\t\t\t\t(m: IMaintenanceInfo) =>\n\t\t\t\t\t\tm.type === MaintenanceTypes.Api && m.status\n\t\t\t\t);\n\t\t\t\tconst appInfo = maintenanceInfo.find(\n\t\t\t\t\t(m: IMaintenanceInfo) => m.type === appTyle && m.status\n\t\t\t\t);\n\t\t\t\tconst maintenanceMode: IMaintenanceInfo = apiInfo || appInfo;\n\t\t\t\tif (maintenanceMode) {\n\t\t\t\t\tlocalStorage.setItem(\n\t\t\t\t\t\t'maintenanceMode',\n\t\t\t\t\t\tmaintenanceMode.type\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tlocalStorage.removeItem('maintenanceMode');\n\t\t\t\t}\n\t\t\t\tresolve(true);\n\t\t\t} catch (error) {\n\t\t\t\tlocalStorage.removeItem('maintenanceMode');\n\t\t\t\tresolve(true);\n\t\t\t}\n\t\t});\n\t}\n\n\tasync getMessage(type: string, maintenanceApiUrl: string) {\n\t\ttry {\n\t\t\tconst maintenanceInfo = await this.getMaintenanceInfo(\n\t\t\t\tmaintenanceApiUrl\n\t\t\t);\n\t\t\treturn maintenanceInfo.find(\n\t\t\t\t(m: IMaintenanceInfo) => m.type === type\n\t\t\t).message;\n\t\t} catch (error) {}\n\t}\n\n\tasync getStatus(type: string, maintenanceApiUrl: string): Promise<boolean> {\n\t\ttry {\n\t\t\tconst maintenanceInfo = await this.getMaintenanceInfo(\n\t\t\t\tmaintenanceApiUrl\n\t\t\t);\n\t\t\tconst apiStatus = maintenanceInfo.find(\n\t\t\t\t(m: IMaintenanceInfo) => m.type === MaintenanceTypes.Api\n\t\t\t).status;\n\t\t\tconst appStatus = maintenanceInfo.find(\n\t\t\t\t(m: IMaintenanceInfo) => m.type === type\n\t\t\t).status;\n\t\t\treturn apiStatus && appStatus;\n\t\t} catch (error) {}\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { first } from 'rxjs/operators';\n\n@Injectable()\nexport class ServerConnectionService {\n\tconstructor(private readonly httpClient: HttpClient) {}\n\n\tload(endPoint: string, store: { serverConnection: string }) {\n\t\treturn new Promise(async (resolve, reject) => {\n\t\t\tawait this.checkServerConnection(endPoint, store);\n\n\t\t\tresolve(true);\n\t\t});\n\t}\n\n\tasync checkServerConnection(\n\t\tendPoint: string,\n\t\tstore: { serverConnection: string }\n\t) {\n\t\ttry {\n\t\t\tawait this.httpClient.get(endPoint).pipe(first()).toPromise();\n\t\t} catch (error) {\n\t\t\tstore.serverConnection = error.status;\n\t\t}\n\t}\n}\n","export function Entity(options?: any): Function {\n\treturn () => {};\n}\n\nexport function Column(options?: any): Function {\n\treturn () => {};\n}\n\nexport function PrimaryColumn(options?: any): Function {\n\treturn () => {};\n}\n","import { getPreSchema } from './schema';\nimport { DBRawObject } from './db-raw-object';\nimport { DBCreateObject } from './db-create-object';\nimport { PyroObjectId } from './object-id';\nimport mongoose from 'mongoose';\nimport { toDate } from '../../utils';\nimport _ from 'lodash';\nimport { Column, PrimaryColumn } from 'typeorm';\n\nexport interface DBObjectClass extends Function {\n\tmodelName?: string;\n}\n\nexport abstract class DBObject<\n\tRawObject extends CreateObject & DBRawObject,\n\tCreateObject extends DBCreateObject\n> implements DBRawObject {\n\t// to allow inferring the generic args types\n\treadonly CreateObjectTYPE: CreateObject;\n\n\t// to allow inferring the generic args types\n\treadonly RawObjectTYPE: RawObject;\n\n\tstatic modelName = '';\n\n\tconstructor(obj: RawObject) {\n\t\t_.assign(this, obj);\n\n\t\tif (\n\t\t\tmongoose != null &&\n\t\t\tmongoose.Types != null &&\n\t\t\tmongoose.Types.ObjectId != null\n\t\t) {\n\t\t\tif (obj && obj['_id']) {\n\t\t\t\tthis['_id'] = mongoose.Types.ObjectId.createFromHexString(\n\t\t\t\t\tobj['_id'].toString()\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\t@PrimaryColumn()\n\t_id: PyroObjectId;\n\n\t/**\n\t * Time when entity was created\n\t * Note: can be string too because send in socket io.\n\t *\n\t * @type {(Date | string)}\n\t * @memberof DBObject\n\t */\n\t@Column()\n\t_createdAt: Date | string;\n\n\t/**\n\t * Time when entity was updated last time\n\t *\n\t * @type {(Date | string)}\n\t * @memberof DBObject\n\t */\n\t@Column()\n\t_updatedAt: Date | string;\n\n\tget createdAt(): Date {\n\t\treturn this._createdAt != null ? toDate(this._createdAt) : null;\n\t}\n\n\tget updatedAt(): Date {\n\t\treturn this._updatedAt != null ? toDate(this._updatedAt) : null;\n\t}\n\n\tget id(): string {\n\t\treturn this._id.toString();\n\t}\n\n\tisEqual(p: this) {\n\t\tfor (const prop in getPreSchema(this.constructor as any)) {\n\t\t\tif (this[prop] !== p[prop]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n}\n","export { DBCreateObject } from './db-create-object';\nexport { DBObject } from './db-object';\nexport { DBRawObject } from './db-raw-object';\nexport { ModelName } from './model';\nexport { PyroObjectId } from './object-id';\nexport { Schema, getSchema, getPreSchema, Index } from './schema';\nexport { Types } from './types';\n","import { DBObjectClass } from './db-object';\n\nexport function ModelName(name: string): ClassDecorator {\n\treturn (target: DBObjectClass) => {\n\t\ttarget.modelName = name;\n\t};\n}\n","import { DBObject, DBObjectClass } from './db-object';\nimport 'reflect-metadata';\nimport * as _ from 'lodash';\nimport { Schema as MongooseSchema, SchemaDefinition } from 'mongoose';\n\nconst mongooseSchemasKey: string = 'mongooseSchemas';\nconst mongooseIndexesKey: string = 'mongooseIndexes';\n\nexport function Schema(schema: any): PropertyDecorator {\n\treturn (target: object, propertyKey: string | symbol) => {\n\t\tlet mongooseSchemas = Reflect.getMetadata(\n\t\t\tmongooseSchemasKey,\n\t\t\ttarget.constructor\n\t\t);\n\n\t\tif (typeof mongooseSchemas === 'undefined' || mongooseSchemas == null) {\n\t\t\tmongooseSchemas = {};\n\t\t}\n\n\t\tmongooseSchemas[propertyKey] = schema;\n\n\t\tReflect.defineMetadata(\n\t\t\tmongooseSchemasKey,\n\t\t\tmongooseSchemas,\n\t\t\ttarget.constructor\n\t\t);\n\t};\n}\n\nexport function Index(value: string | number): PropertyDecorator {\n\treturn (target: object, propertyKey: string | symbol) => {\n\t\tlet indexesObj = Reflect.getMetadata(\n\t\t\tmongooseIndexesKey,\n\t\t\ttarget.constructor\n\t\t);\n\n\t\tif (typeof indexesObj === 'undefined' || indexesObj == null) {\n\t\t\tindexesObj = {};\n\t\t}\n\n\t\tindexesObj[propertyKey] = value;\n\n\t\tReflect.defineMetadata(\n\t\t\tmongooseIndexesKey,\n\t\t\tindexesObj,\n\t\t\ttarget.constructor\n\t\t);\n\t};\n}\n\nexport function getPreSchema(DBObj: DBObjectClass): SchemaDefinition {\n\tconst mongooseSchemas = Reflect.getMetadata(mongooseSchemasKey, DBObj);\n\n\tif (mongooseSchemas != null) {\n\t\treturn mongooseSchemas;\n\t} else {\n\t\treturn {};\n\t}\n}\n\nexport function getSchema(DBObj: DBObjectClass): MongooseSchema {\n\tconst preSchema = getPreSchema(DBObj);\n\n\tconst schema = new MongooseSchema(preSchema, {\n\t\ttimestamps: {\n\t\t\tcreatedAt: '_createdAt',\n\t\t\tupdatedAt: '_updatedAt',\n\t\t},\n\t});\n\n\tconst mongooseIndexes = Reflect.getMetadata(mongooseIndexesKey, DBObj);\n\n\tif (mongooseIndexes != null) {\n\t\tschema.index(mongooseIndexes);\n\t}\n\n\t_.each(preSchema, (SubType: any, property) => {\n\t\tif (SubType.prototype instanceof DBObject) {\n\t\t\t// check if SubType extends DBObject\n\t\t\t_.each(getSchema(SubType).indexes(), (index: any) => {\n\t\t\t\t_.each(index, (indexValue: any, indexProperty: string) => {\n\t\t\t\t\tschema.index({\n\t\t\t\t\t\t[property + '.' + indexProperty]: indexValue,\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t});\n\n\treturn schema;\n}\n","import { Schema } from './schema';\n\nexport const Types = {\n\tString: (s?: string) => {\n\t\tif (s == null) {\n\t\t\treturn Schema({ type: String, required: true });\n\t\t} else {\n\t\t\treturn Schema({ type: String, default: s });\n\t\t}\n\t},\n\n\tNumber: (n?: number) => {\n\t\tif (n == null) {\n\t\t\treturn Schema({ type: Number, required: true });\n\t\t} else {\n\t\t\treturn Schema({ type: Number, default: n });\n\t\t}\n\t},\n\n\tBoolean: (b?: boolean) => {\n\t\tif (b == null) {\n\t\t\treturn Schema({ type: Boolean, required: true });\n\t\t} else {\n\t\t\treturn Schema({ type: Boolean, default: b });\n\t\t}\n\t},\n\n\tDate: (d?: number | ((n: number) => void)) => {\n\t\tif (d == null) {\n\t\t\treturn Schema({ type: Date, required: true });\n\t\t} else {\n\t\t\treturn Schema({ type: Date, default: d });\n\t\t}\n\t},\n\n\tRef(Type: any, options: any = {}): PropertyDecorator {\n\t\treturn (target: object, propertyKey: string | symbol) => {\n\t\t\tconst multi = Array.isArray(Type);\n\n\t\t\tconst op = { ...options };\n\t\t\top.type = String;\n\t\t\top.ref = (multi ? Type[0] : Type).modelName;\n\n\t\t\tSchema(multi ? [op] : op)(target, propertyKey);\n\t\t};\n\t},\n};\n","export const countries = {\n\tAD: 'Andorra',\n\tAE: 'United Arab Emirates',\n\tAF: 'Afghanistan',\n\tAG: 'Antigua and Barbuda',\n\tAI: 'Anguilla',\n\tAL: 'Albania',\n\tAM: 'Armenia',\n\tAO: 'Angola',\n\tAQ: 'Antarctica',\n\tAR: 'Argentina',\n\tAS: 'American Samoa',\n\tAT: 'Austria',\n\tAU: 'Australia',\n\tAW: 'Aruba',\n\tAX: 'Åland',\n\tAZ: 'Azerbaijan',\n\tBA: 'Bosnia and Herzegovina',\n\tBB: 'Barbados',\n\tBD: 'Bangladesh',\n\tBE: 'Belgium',\n\tBF: 'Burkina Faso',\n\tBG: 'Bulgaria',\n\tBH: 'Bahrain',\n\tBI: 'Burundi',\n\tBJ: 'Benin',\n\tBL: 'Saint Barthélemy',\n\tBM: 'Bermuda',\n\tBN: 'Brunei',\n\tBO: 'Bolivia',\n\tBQ: 'Bonaire',\n\tBR: 'Brazil',\n\tBS: 'Bahamas',\n\tBT: 'Bhutan',\n\tBV: 'Bouvet Island',\n\tBW: 'Botswana',\n\tBY: 'Belarus',\n\tBZ: 'Belize',\n\tCA: 'Canada',\n\tCC: 'Cocos [Keeling] Islands',\n\tCD: 'Democratic Republic of the Congo',\n\tCF: 'Central African Republic',\n\tCG: 'Republic of the Congo',\n\tCH: 'Switzerland',\n\tCI: 'Ivory Coast',\n\tCK: 'Cook Islands',\n\tCL: 'Chile',\n\tCM: 'Cameroon',\n\tCN: 'China',\n\tCO: 'Colombia',\n\tCR: 'Costa Rica',\n\tCU: 'Cuba',\n\tCV: 'Cape Verde',\n\tCW: 'Curacao',\n\tCX: 'Christmas Island',\n\tCY: 'Cyprus',\n\tCZ: 'Czech Republic',\n\tDE: 'Germany',\n\tDJ: 'Djibouti',\n\tDK: 'Denmark',\n\tDM: 'Dominica',\n\tDO: 'Dominican Republic',\n\tDZ: 'Algeria',\n\tEC: 'Ecuador',\n\tEE: 'Estonia',\n\tEG: 'Egypt',\n\tEH: 'Western Sahara',\n\tER: 'Eritrea',\n\tES: 'Spain',\n\tET: 'Ethiopia',\n\tFI: 'Finland',\n\tFJ: 'Fiji',\n\tFK: 'Falkland Islands',\n\tFM: 'Micronesia',\n\tFO: 'Faroe Islands',\n\tFR: 'France',\n\tGA: 'Gabon',\n\tGB: 'United Kingdom',\n\tGD: 'Grenada',\n\tGE: 'Georgia',\n\tGF: 'French Guiana',\n\tGG: 'Guernsey',\n\tGH: 'Ghana',\n\tGI: 'Gibraltar',\n\tGL: 'Greenland',\n\tGM: 'Gambia',\n\tGN: 'Guinea',\n\tGP: 'Guadeloupe',\n\tGQ: 'Equatorial Guinea',\n\tGR: 'Greece',\n\tGS: 'South Georgia and the South Sandwich Islands',\n\tGT: 'Guatemala',\n\tGU: 'Guam',\n\tGW: 'Guinea-Bissau',\n\tGY: 'Guyana',\n\tHK: 'Hong Kong',\n\tHM: 'Heard Island and McDonald Islands',\n\tHN: 'Honduras',\n\tHR: 'Croatia',\n\tHT: 'Haiti',\n\tHU: 'Hungary',\n\tID: 'Indonesia',\n\tIE: 'Ireland',\n\tIL: 'Israel',\n\tIM: 'Isle of Man',\n\tIN: 'India',\n\tIO: 'British Indian Ocean Territory',\n\tIQ: 'Iraq',\n\tIR: 'Iran',\n\tIS: 'Iceland',\n\tIT: 'Italy',\n\tJE: 'Jersey',\n\tJM: 'Jamaica',\n\tJO: 'Jordan',\n\tJP: 'Japan',\n\tKE: 'Kenya',\n\tKG: 'Kyrgyzstan',\n\tKH: 'Cambodia',\n\tKI: 'Kiribati',\n\tKM: 'Comoros',\n\tKN: 'Saint Kitts and Nevis',\n\tKP: 'North Korea',\n\tKR: 'South Korea',\n\tKW: 'Kuwait',\n\tKY: 'Cayman Islands',\n\tKZ: 'Kazakhstan',\n\tLA: 'Laos',\n\tLB: 'Lebanon',\n\tLC: 'Saint Lucia',\n\tLI: 'Liechtenstein',\n\tLK: 'Sri Lanka',\n\tLR: 'Liberia',\n\tLS: 'Lesotho',\n\tLT: 'Lithuania',\n\tLU: 'Luxembourg',\n\tLV: 'Latvia',\n\tLY: 'Libya',\n\tMA: 'Morocco',\n\tMC: 'Monaco',\n\tMD: 'Moldova',\n\tME: 'Montenegro',\n\tMF: 'Saint Martin',\n\tMG: 'Madagascar',\n\tMH: 'Marshall Islands',\n\tMK: 'Macedonia',\n\tML: 'Mali',\n\tMM: 'Myanmar [Burma]',\n\tMN: 'Mongolia',\n\tMO: 'Macao',\n\tMP: 'Northern Mariana Islands',\n\tMQ: 'Martinique',\n\tMR: 'Mauritania',\n\tMS: 'Montserrat',\n\tMT: 'Malta',\n\tMU: 'Mauritius',\n\tMV: 'Maldives',\n\tMW: 'Malawi',\n\tMX: 'Mexico',\n\tMY: 'Malaysia',\n\tMZ: 'Mozambique',\n\tNA: 'Namibia',\n\tNC: 'New Caledonia',\n\tNE: 'Niger',\n\tNF: 'Norfolk Island',\n\tNG: 'Nigeria',\n\tNI: 'Nicaragua',\n\tNL: 'Netherlands',\n\tNO: 'Norway',\n\tNP: 'Nepal',\n\tNR: 'Nauru',\n\tNU: 'Niue',\n\tNZ: 'New Zealand',\n\tOM: 'Oman',\n\tPA: 'Panama',\n\tPE: 'Peru',\n\tPF: 'French Polynesia',\n\tPG: 'Papua New Guinea',\n\tPH: 'Philippines',\n\tPK: 'Pakistan',\n\tPL: 'Poland',\n\tPM: 'Saint Pierre and Miquelon',\n\tPN: 'Pitcairn Islands',\n\tPR: 'Puerto Rico',\n\tPS: 'Palestine',\n\tPT: 'Portugal',\n\tPW: 'Palau',\n\tPY: 'Paraguay',\n\tQA: 'Qatar',\n\tRE: 'Réunion',\n\tRO: 'Romania',\n\tRS: 'Serbia',\n\tRU: 'Russia',\n\tRW: 'Rwanda',\n\tSA: 'Saudi Arabia',\n\tSB: 'Solomon Islands',\n\tSC: 'Seychelles',\n\tSD: 'Sudan',\n\tSE: 'Sweden',\n\tSG: 'Singapore',\n\tSH: 'Saint Helena',\n\tSI: 'Slovenia',\n\tSJ: 'Svalbard and Jan Mayen',\n\tSK: 'Slovakia',\n\tSL: 'Sierra Leone',\n\tSM: 'San Marino',\n\tSN: 'Senegal',\n\tSO: 'Somalia',\n\tSR: 'Suriname',\n\tSS: 'South Sudan',\n\tST: 'São Tomé and Príncipe',\n\tSV: 'El Salvador',\n\tSX: 'Sint Maarten',\n\tSY: 'Syria',\n\tSZ: 'Swaziland',\n\tTC: 'Turks and Caicos Islands',\n\tTD: 'Chad',\n\tTF: 'French Southern Territories',\n\tTG: 'Togo',\n\tTH: 'Thailand',\n\tTJ: 'Tajikistan',\n\tTK: 'Tokelau',\n\tTL: 'East Timor',\n\tTM: 'Turkmenistan',\n\tTN: 'Tunisia',\n\tTO: 'Tonga',\n\tTR: 'Turkey',\n\tTT: 'Trinidad and Tobago',\n\tTV: 'Tuvalu',\n\tTW: 'Taiwan',\n\tTZ: 'Tanzania',\n\tUA: 'Ukraine',\n\tUG: 'Uganda',\n\tUM: 'U.S. Minor Outlying Islands',\n\tUS: 'United States',\n\tUY: 'Uruguay',\n\tUZ: 'Uzbekistan',\n\tVA: 'Vatican City',\n\tVC: 'Saint Vincent and the Grenadines',\n\tVE: 'Venezuela',\n\tVG: 'British Virgin Islands',\n\tVI: 'U.S. Virgin Islands',\n\tVN: 'Vietnam',\n\tVU: 'Vanuatu',\n\tWF: 'Wallis and Futuna',\n\tWS: 'Samoa',\n\tXK: 'Kosovo',\n\tYE: 'Yemen',\n\tYT: 'Mayotte',\n\tZA: 'South Africa',\n\tZM: 'Zambia',\n\tZW: 'Zimbabwe',\n};\n","import CarrierStatus from '../enums/CarrierStatus';\nimport GeoLocation from './GeoLocation';\nimport { DBObject, getSchema, ModelName, Schema, Types } from '../@pyro/db';\nimport ICarrier, { ICarrierCreateObject } from '../interfaces/ICarrier';\nimport { Entity, Column } from 'typeorm';\n\n/**\n * Carriers (Drivers, people or organizations which deliver products to customers)\n *\n * @class Carrier\n * @extends {DBObject<ICarrier, ICarrierCreateObject>}\n * @implements {ICarrier}\n */\n@ModelName('Carrier')\n@Entity({ name: 'carriers' })\nclass Carrier extends DBObject<ICarrier, ICarrierCreateObject>\n\timplements ICarrier {\n\tconstructor(carrier: ICarrier) {\n\t\tsuper(carrier);\n\n\t\tif (carrier && carrier.geoLocation) {\n\t\t\tthis.geoLocation = new GeoLocation(carrier.geoLocation);\n\t\t}\n\t}\n\n\t/**\n\t * First Name (required)\n\t *\n\t * @type {string}\n\t * @memberof Carrier\n\t */\n\t@Schema({\n\t\ttype: String,\n\t\trequired: true,\n\t\tvalidate: new RegExp(`^[a-z ,.'-]+$`, 'i'),\n\t})\n\t@Column()\n\tfirstName: string;\n\n\t/**\n\t * Last Name (required)\n\t *\n\t * @type {string}\n\t * @memberof Carrier\n\t */\n\t@Schema({\n\t\ttype: String,\n\t\trequired: true,\n\t\tvalidate: new RegExp(`^[a-z ,.'-]+$`, 'i'),\n\t})\n\t@Column()\n\tlastName: string;\n\n\t/**\n\t * How many deliveries totally this carrier made\n\t *\n\t * @type {number}\n\t * @memberof Carrier\n\t */\n\t@Types.Number(0)\n\t@Column()\n\tnumberOfDeliveries: number;\n\n\t/**\n\t * Current location of the Carrier (updated periodically during carrier movements)\n\t *\n\t * @type {GeoLocation}\n\t * @memberof Carrier\n\t */\n\t@Schema(getSchema(GeoLocation))\n\tgeoLocation: GeoLocation;\n\n\t/**\n\t * Current Apartment (if carrier located in some appartment at the moment)\n\t *\n\t * @type {string}\n\t * @memberof Carrier\n\t */\n\t@Schema(String)\n\t@Column()\n\tapartment?: string;\n\n\t/**\n\t * Is Carrier Active at the moment in the system\n\t * Value 'True' means carrier enabled in system,\n\t * Value 'False' means carrier completely disabled in the system (e.g. was fired)\n\t * This setting is set by Admin,\n\t * not by carrier itself (he/she set 'status' field instead in the carrier mobile app)\n\t * @type {boolean}\n\t * @memberof Carrier\n\t */\n\t@Types.Boolean(true)\n\t@Column()\n\tisActive: boolean;\n\n\t/**\n\t * Is Carrier removed completely from the system\n\t *\n\t * @type {boolean}\n\t * @memberof Carrier\n\t */\n\t@Types.Boolean(false)\n\t@Column()\n\tisDeleted: boolean;\n\n\t/**\n\t * Current carrier status (set via his mobile app), e.g. Online or Offline\n\t *\n\t * @type {CarrierStatus}\n\t * @memberof Carrier\n\t */\n\t@Types.Number(CarrierStatus.Offline)\n\t@Column()\n\tstatus: CarrierStatus;\n\n\t/**\n\t * Unique Carrier username, which used for Authentication of the Carrier in the app\n\t *\n\t * @type {string}\n\t * @memberof Carrier\n\t */\n\t@Schema({ type: String, unique: true, required: true })\n\t@Column()\n\tusername: string;\n\n\t/**\n\t * Shows if carrier is shared or assigned to some store\n\t *\n\t * @type {boolean}\n\t * @memberof Carrier\n\t */\n\t@Schema({ type: Boolean, required: false })\n\t@Column()\n\tshared: boolean;\n\n\t/**\n\t * Hashed password\n\t *\n\t * @type {string}\n\t * @memberof Carrier\n\t */\n\t@Schema({ type: String, required: false, select: false })\n\t@Column()\n\thash?: string;\n\n\t/**\n\t * Carrier Phone number (usually mobile phone)\n\t *\n\t * @type {string}\n\t * @memberof Carrier\n\t */\n\t@Types.String()\n\t@Column()\n\tphone: string;\n\n\t/**\n\t * URL for Logo (brand image) or Avatar of the Carrier\n\t *\n\t * @type {string}\n\t * @memberof Carrier\n\t */\n\t@Schema({\n\t\ttype: String,\n\t\trequired: true,\n\t\tvalidate: new RegExp(\n\t\t\t`(http(s?):)s?:?(\\/\\/[^\"']*\\.(?:png|jpg|jpeg|gif|png|svg))`\n\t\t),\n\t})\n\t@Column()\n\tlogo: string;\n\n\t/**\n\t * Carrier email (optional)\n\t *\n\t * @type {string}\n\t * @memberof Carrier\n\t */\n\t@Schema({\n\t\ttype: String,\n\t\trequired: false,\n\t\tsparse: true,\n\t\tunique: true,\n\t})\n\t@Column()\n\temail: string;\n\n\t@Schema([String])\n\t@Column()\n\tskippedOrderIds: string[];\n\n\t/**\n\t * How many deliveries carrier made today\n\t * TODO: implement calculation, useful for stats\n\t *\n\t * @type {number}\n\t * @memberof Carrier\n\t */\n\t@Types.Number(0)\n\t@Column()\n\tdeliveriesCountToday: number;\n\n\t/**\n\t * How much km (or miles) Carrier made today during deliveries\n\t * TODO: implement calculation, useful for stats\n\t * @type {number}\n\t * @memberof Carrier\n\t */\n\t@Types.Number(0)\n\t@Column()\n\ttotalDistanceToday: number;\n\n\t/**\n\t * IDs of Carrier devices (mobiles)\n\t * Used to send Push Notifications to Carrier devices\n\t *\n\t *\n\t * @type {string[]}\n\t * @memberof Carrier\n\t */\n\t@Schema([String])\n\tdevicesIds: string[];\n\n\t/**\n\t * Is shared the carrier, i.e if not then only merchant which already has such carrier assigned\n\t * (inside \"carriersIds\" array on Merchant) can use such carrier and no one else\n\t *\n\t * @type {boolean}\n\t * @memberof Carrier\n\t */\n\t@Types.Boolean(false)\n\t@Column()\n\tisSharedCarrier: boolean;\n\n\t/**\n\t * Full name of the Carrier\n\t *\n\t * @readonly\n\t * @type {string}\n\t * @memberof Carrier\n\t * @returns full name of the carrier\n\t */\n\tget fullName(): string {\n\t\treturn `${this.firstName} ${this.lastName}`;\n\t}\n}\n\nexport default Carrier;\n","import { ModelName, DBObject, Schema, Types } from '../@pyro/db';\nimport { IDeviceRawObject, IDeviceCreateObject } from '../interfaces/IDevice';\nimport IPlatform from '../interfaces/IPlatform';\nimport ILanguage from '../interfaces/ILanguage';\nimport { Entity, Column } from 'typeorm';\n\n/**\n * Represent Device (e.g. Table or Browser, used by someone to access one of our apps)\n *\n * @class Device\n * @extends {DBObject<IDeviceRawObject, IDeviceCreateObject>}\n * @implements {IDeviceRawObject}\n */\n@ModelName('Device')\n@Entity({ name: 'devices' })\nclass Device extends DBObject<IDeviceRawObject, IDeviceCreateObject>\n\timplements IDeviceRawObject {\n\t/**\n\t * ChannelID used for push notifications\n\t *\n\t * @type {(string | null)}\n\t * @memberof Device\n\t */\n\t@Schema({ type: String, required: false })\n\t@Column()\n\tchannelId: string | null;\n\n\t/**\n\t * Platform of the device (broser, ios, android, etc)\n\t *\n\t * @type {IPlatform}\n\t * @memberof Device\n\t */\n\t@Types.String()\n\t@Column()\n\ttype: IPlatform;\n\n\t/**\n\t * Language setting on the device\n\t *\n\t * @type {ILanguage}\n\t * @memberof Device\n\t */\n\t@Types.String('en-US')\n\t@Column()\n\tlanguage: ILanguage;\n\n\t/**\n\t * Unique device Id\n\t *\n\t * @type {string}\n\t * @memberof Device\n\t */\n\t@Types.String()\n\t@Column()\n\tuuid: string;\n\n\t@Types.Boolean(false)\n\t@Column()\n\tisDeleted: boolean;\n}\n\nexport default Device;\n","import { DBObject, Index, ModelName, Schema } from '../@pyro/db';\nimport {\n\tdefault as IGeoLocation,\n\tIGeoLocationCreateObject,\n\tILocation,\n} from '../interfaces/IGeoLocation';\nimport _ from 'lodash';\nimport { countries } from '../data/abbreviation-to-country';\nimport { Column } from 'typeorm';\n\nexport const locationPreSchema = {\n\ttype: { type: String },\n\tcoordinates: [Number],\n};\n\n/**\n * Stores Geo Location (Address) of some physical entity (Customer, Warehouse, Carrier, etc)\n *\n * @class GeoLocation\n * @extends {DBObject<IGeoLocation, IGeoLocationCreateObject>}\n * @implements {IGeoLocation}\n */\n@ModelName('GeoLocation')\nclass GeoLocation extends DBObject<IGeoLocation, IGeoLocationCreateObject>\n\timplements IGeoLocation {\n\t@Schema({ type: Number, required: false })\n\t@Column()\n\tcountryId: Country | null;\n\n\t@Schema({ required: false, type: String })\n\t@Column()\n\tpostcode?: string | null;\n\n\t@Schema({ type: String, required: false })\n\t@Column()\n\tapartment?: string | null;\n\n\t@Schema({ type: String, required: false })\n\t@Column()\n\tcity: string | null;\n\n\t@Schema({ type: String, required: false })\n\t@Column()\n\tstreetAddress: string | null;\n\n\t@Schema({ type: String, required: false })\n\t@Column()\n\thouse: string | null;\n\n\t@Index('2dsphere')\n\t@Schema(locationPreSchema)\n\tloc: ILocation;\n\n\tget countryName(): CountryName {\n\t\treturn getCountryName(this.countryId);\n\t}\n\n\tget isLocValid(): any {\n\t\treturn (\n\t\t\tthis.loc.type === 'Point' &&\n\t\t\ttypeof _.isArray(this.loc.coordinates) &&\n\t\t\tthis.loc.coordinates.length === 2 &&\n\t\t\t_.every(this.loc.coordinates, (c) => _.isFinite(c))\n\t\t);\n\t}\n\n\tget isValid(): any {\n\t\tconst notEmptyString = (s: string) => _.isString(s) && !_.isEmpty(s);\n\t\treturn _.every(\n\t\t\t[this.city, this.streetAddress, this.house],\n\t\t\tnotEmptyString\n\t\t);\n\t}\n\n\tget coordinates(): { lng: number; lat: number } {\n\t\t// In \"MongoDB\" geojson standard coordinates list the longitude first and then latitude:\n\t\treturn {\n\t\t\tlng: this.loc.coordinates[0],\n\t\t\tlat: this.loc.coordinates[1],\n\t\t};\n\t}\n\n\tset coordinates(coords: { lng: number; lat: number }) {\n\t\tthis.loc.coordinates = [coords.lng, coords.lat];\n\t}\n}\n\nexport default GeoLocation;\n\nexport enum Country {\n\t// If you wonder what abbreviation must have to use for\n\t// specific country see \"ever\\shared\\core\\data\\abbreviation-to-country.json\"\n\tAD,\n\tAE,\n\tAF,\n\tAG,\n\tAI,\n\tAL,\n\tAM,\n\tAO,\n\tAQ,\n\tAR,\n\tAS,\n\tAT,\n\tAU,\n\tAW,\n\tAX,\n\tAZ,\n\tBA,\n\tBB,\n\tBD,\n\tBE,\n\tBF,\n\tBG,\n\tBH,\n\tBI,\n\tBJ,\n\tBL,\n\tBM,\n\tBN,\n\tBO,\n\tBQ,\n\tBR,\n\tBS,\n\tBT,\n\tBV,\n\tBW,\n\tBY,\n\tBZ,\n\tCA,\n\tCC,\n\tCD,\n\tCF,\n\tCG,\n\tCH,\n\tCI,\n\tCK,\n\tCL,\n\tCM,\n\tCN,\n\tCO,\n\tCR,\n\tCU,\n\tCV,\n\tCW,\n\tCX,\n\tCY,\n\tCZ,\n\tDE,\n\tDJ,\n\tDK,\n\tDM,\n\tDO,\n\tDZ,\n\tEC,\n\tEE,\n\tEG,\n\tEH,\n\tER,\n\tES,\n\tET,\n\tFI,\n\tFJ,\n\tFK,\n\tFM,\n\tFO,\n\tFR,\n\tGA,\n\tGB,\n\tGD,\n\tGE,\n\tGF,\n\tGG,\n\tGH,\n\tGI,\n\tGL,\n\tGM,\n\tGN,\n\tGP,\n\tGQ,\n\tGR,\n\tGS,\n\tGT,\n\tGU,\n\tGW,\n\tGY,\n\tHK,\n\tHM,\n\tHN,\n\tHR,\n\tHT,\n\tHU,\n\tID,\n\tIE,\n\tIL,\n\tIM,\n\tIN,\n\tIO,\n\tIQ,\n\tIR,\n\tIS,\n\tIT,\n\tJE,\n\tJM,\n\tJO,\n\tJP,\n\tKE,\n\tKG,\n\tKH,\n\tKI,\n\tKM,\n\tKN,\n\tKP,\n\tKR,\n\tKW,\n\tKY,\n\tKZ,\n\tLA,\n\tLB,\n\tLC,\n\tLI,\n\tLK,\n\tLR,\n\tLS,\n\tLT,\n\tLU,\n\tLV,\n\tLY,\n\tMA,\n\tMC,\n\tMD,\n\tME,\n\tMF,\n\tMG,\n\tMH,\n\tMK,\n\tML,\n\tMM,\n\tMN,\n\tMO,\n\tMP,\n\tMQ,\n\tMR,\n\tMS,\n\tMT,\n\tMU,\n\tMV,\n\tMW,\n\tMX,\n\tMY,\n\tMZ,\n\tNA,\n\tNC,\n\tNE,\n\tNF,\n\tNG,\n\tNI,\n\tNL,\n\tNO,\n\tNP,\n\tNR,\n\tNU,\n\tNZ,\n\tOM,\n\tPA,\n\tPE,\n\tPF,\n\tPG,\n\tPH,\n\tPK,\n\tPL,\n\tPM,\n\tPN,\n\tPR,\n\tPS,\n\tPT,\n\tPW,\n\tPY,\n\tQA,\n\tRE,\n\tRO,\n\tRS,\n\tRU,\n\tRW,\n\tSA,\n\tSB,\n\tSC,\n\tSD,\n\tSE,\n\tSG,\n\tSH,\n\tSI,\n\tSJ,\n\tSK,\n\tSL,\n\tSM,\n\tSN,\n\tSO,\n\tSR,\n\tSS,\n\tST,\n\tSV,\n\tSX,\n\tSY,\n\tSZ,\n\tTC,\n\tTD,\n\tTF,\n\tTG,\n\tTH,\n\tTJ,\n\tTK,\n\tTL,\n\tTM,\n\tTN,\n\tTO,\n\tTR,\n\tTT,\n\tTV,\n\tTW,\n\tTZ,\n\tUA,\n\tUG,\n\tUM,\n\tUS,\n\tUY,\n\tUZ,\n\tVA,\n\tVC,\n\tVE,\n\tVG,\n\tVI,\n\tVN,\n\tVU,\n\tWF,\n\tWS,\n\tXK,\n\tYE,\n\tYT,\n\tZA,\n\tZM,\n\tZW,\n}\n\nexport type CountryName =\n\t| 'Andorra'\n\t| 'United Arab Emirates'\n\t| 'Afghanistan'\n\t| 'Antigua and Barbuda'\n\t| 'Anguilla'\n\t| 'Albania'\n\t| 'Armenia'\n\t| 'Angola'\n\t| 'Antarctica'\n\t| 'Argentina'\n\t| 'American Samoa'\n\t| 'Austria'\n\t| 'Australia'\n\t| 'Aruba'\n\t| 'Åland'\n\t| 'Azerbaijan'\n\t| 'Bosnia and Herzegovina'\n\t| 'Barbados'\n\t| 'Bangladesh'\n\t| 'Belgium'\n\t| 'Burkina Faso'\n\t| 'Bulgaria'\n\t| 'Bahrain'\n\t| 'Burundi'\n\t| 'Benin'\n\t| 'Saint Barthélemy'\n\t| 'Bermuda'\n\t| 'Brunei'\n\t| 'Bolivia'\n\t| 'Bonaire'\n\t| 'Brazil'\n\t| 'Bahamas'\n\t| 'Bhutan'\n\t| 'Bouvet Island'\n\t| 'Botswana'\n\t| 'Belarus'\n\t| 'Belize'\n\t| 'Canada'\n\t| 'Cocos [Keeling] Islands'\n\t| 'Democratic Republic of the Congo'\n\t| 'Central African Republic'\n\t| 'Republic of the Congo'\n\t| 'Switzerland'\n\t| 'Ivory Coast'\n\t| 'Cook Islands'\n\t| 'Chile'\n\t| 'Cameroon'\n\t| 'China'\n\t| 'Colombia'\n\t| 'Costa Rica'\n\t| 'Cuba'\n\t| 'Cape Verde'\n\t| 'Curacao'\n\t| 'Christmas Island'\n\t| 'Cyprus'\n\t| 'Czech Republic'\n\t| 'Germany'\n\t| 'Djibouti'\n\t| 'Denmark'\n\t| 'Dominica'\n\t| 'Dominican Republic'\n\t| 'Algeria'\n\t| 'Ecuador'\n\t| 'Estonia'\n\t| 'Egypt'\n\t| 'Western Sahara'\n\t| 'Eritrea'\n\t| 'Spain'\n\t| 'Ethiopia'\n\t| 'Finland'\n\t| 'Fiji'\n\t| 'Falkland Islands'\n\t| 'Micronesia'\n\t| 'Faroe Islands'\n\t| 'France'\n\t| 'Gabon'\n\t| 'United Kingdom'\n\t| 'Grenada'\n\t| 'Georgia'\n\t| 'French Guiana'\n\t| 'Guernsey'\n\t| 'Ghana'\n\t| 'Gibraltar'\n\t| 'Greenland'\n\t| 'Gambia'\n\t| 'Guinea'\n\t| 'Guadeloupe'\n\t| 'Equatorial Guinea'\n\t| 'Greece'\n\t| 'South Georgia and the South Sandwich Islands'\n\t| 'Guatemala'\n\t| 'Guam'\n\t| 'Guinea-Bissau'\n\t| 'Guyana'\n\t| 'Hong Kong'\n\t| 'Heard Island and McDonald Islands'\n\t| 'Honduras'\n\t| 'Croatia'\n\t| 'Haiti'\n\t| 'Hungary'\n\t| 'Indonesia'\n\t| 'Ireland'\n\t| 'Israel'\n\t| 'Isle of Man'\n\t| 'India'\n\t| 'British Indian Ocean Territory'\n\t| 'Iraq'\n\t| 'Iran'\n\t| 'Iceland'\n\t| 'Italy'\n\t| 'Jersey'\n\t| 'Jamaica'\n\t| 'Jordan'\n\t| 'Japan'\n\t| 'Kenya'\n\t| 'Kyrgyzstan'\n\t| 'Cambodia'\n\t| 'Kiribati'\n\t| 'Comoros'\n\t| 'Saint Kitts and Nevis'\n\t| 'North Korea'\n\t| 'South Korea'\n\t| 'Kuwait'\n\t| 'Cayman Islands'\n\t| 'Kazakhstan'\n\t| 'Laos'\n\t| 'Lebanon'\n\t| 'Saint Lucia'\n\t| 'Liechtenstein'\n\t| 'Sri Lanka'\n\t| 'Liberia'\n\t| 'Lesotho'\n\t| 'Lithuania'\n\t| 'Luxembourg'\n\t| 'Latvia'\n\t| 'Libya'\n\t| 'Morocco'\n\t| 'Monaco'\n\t| 'Moldova'\n\t| 'Montenegro'\n\t| 'Saint Martin'\n\t| 'Madagascar'\n\t| 'Marshall Islands'\n\t| 'Macedonia'\n\t| 'Mali'\n\t| 'Myanmar [Burma]'\n\t| 'Mongolia'\n\t| 'Macao'\n\t| 'Northern Mariana Islands'\n\t| 'Martinique'\n\t| 'Mauritania'\n\t| 'Montserrat'\n\t| 'Malta'\n\t| 'Mauritius'\n\t| 'Maldives'\n\t| 'Malawi'\n\t| 'Mexico'\n\t| 'Malaysia'\n\t| 'Mozambique'\n\t| 'Namibia'\n\t| 'New Caledonia'\n\t| 'Niger'\n\t| 'Norfolk Island'\n\t| 'Nigeria'\n\t| 'Nicaragua'\n\t| 'Netherlands'\n\t| 'Norway'\n\t| 'Nepal'\n\t| 'Nauru'\n\t| 'Niue'\n\t| 'New Zealand'\n\t| 'Oman'\n\t| 'Panama'\n\t| 'Peru'\n\t| 'French Polynesia'\n\t| 'Papua New Guinea'\n\t| 'Philippines'\n\t| 'Pakistan'\n\t| 'Poland'\n\t| 'Saint Pierre and Miquelon'\n\t| 'Pitcairn Islands'\n\t| 'Puerto Rico'\n\t| 'Palestine'\n\t| 'Portugal'\n\t| 'Palau'\n\t| 'Paraguay'\n\t| 'Qatar'\n\t| 'Réunion'\n\t| 'Romania'\n\t| 'Serbia'\n\t| 'Russia'\n\t| 'Rwanda'\n\t| 'Saudi Arabia'\n\t| 'Solomon Islands'\n\t| 'Seychelles'\n\t| 'Sudan'\n\t| 'Sweden'\n\t| 'Singapore'\n\t| 'Saint Helena'\n\t| 'Slovenia'\n\t| 'Svalbard and Jan Mayen'\n\t| 'Slovakia'\n\t| 'Sierra Leone'\n\t| 'San Marino'\n\t| 'Senegal'\n\t| 'Somalia'\n\t| 'Suriname'\n\t| 'South Sudan'\n\t| 'São Tomé and Príncipe'\n\t| 'El Salvador'\n\t| 'Sint Maarten'\n\t| 'Syria'\n\t| 'Swaziland'\n\t| 'Turks and Caicos Islands'\n\t| 'Chad'\n\t| 'French Southern Territories'\n\t| 'Togo'\n\t| 'Thailand'\n\t| 'Tajikistan'\n\t| 'Tokelau'\n\t| 'East Timor'\n\t| 'Turkmenistan'\n\t| 'Tunisia'\n\t| 'Tonga'\n\t| 'Turkey'\n\t| 'Trinidad and Tobago'\n\t| 'Tuvalu'\n\t| 'Taiwan'\n\t| 'Tanzania'\n\t| 'Ukraine'\n\t| 'Uganda'\n\t| 'U.S. Minor Outlying Islands'\n\t| 'United States'\n\t| 'Uruguay'\n\t| 'Uzbekistan'\n\t| 'Vatican City'\n\t| 'Saint Vincent and the Grenadines'\n\t| 'Venezuela'\n\t| 'British Virgin Islands'\n\t| 'U.S. Virgin Islands'\n\t| 'Vietnam'\n\t| 'Vanuatu'\n\t| 'Wallis and Futuna'\n\t| 'Samoa'\n\t| 'Kosovo'\n\t| 'Yemen'\n\t| 'Mayotte'\n\t| 'South Africa'\n\t| 'Zambia'\n\t| 'Zimbabwe'\n\t| null;\n\nexport function getCountryName(country: null): null;\nexport function getCountryName(country: Country): CountryName;\nexport function getCountryName(country: Country | null): CountryName | null;\nexport function getCountryName(country: Country | null): CountryName | null {\n\treturn countries[Country[country]] || null;\n}\n\nexport const countriesIdsToNamesArray: Array<{\n\tid: Country;\n\tname: CountryName;\n}> = Object.keys(countries).map((abbr) => {\n\treturn { id: Country[abbr], name: getCountryName(+Country[abbr]) };\n});\n","import GeoLocation from './GeoLocation';\nimport { DBObject, Schema, ModelName, Types, getSchema } from '../@pyro/db';\nimport IInvite from '../interfaces/IInvite';\nimport { IInviteCreateObject } from '../interfaces/IInvite';\nimport { Entity, Column } from 'typeorm';\n\n/**\n * Invite for potential Customer\n * Created as result of aproval of the Invite Request\n *\n * @class Invite\n * @extends {DBObject<IInvite, IInviteCreateObject>}\n * @implements {IInvite}\n */\n@ModelName('Invite')\n@Entity({ name: 'invites' })\nclass Invite extends DBObject<IInvite, IInviteCreateObject> implements IInvite {\n\tconstructor(invite: IInvite) {\n\t\tsuper(invite);\n\n\t\tif (invite && invite.geoLocation) {\n\t\t\tthis.geoLocation = new GeoLocation(invite.geoLocation);\n\t\t}\n\t}\n\n\t/**\n\t * Invite code (usually just 4 digit number), which Customer can use to continue registration\n\t * Note: invite code works only within specific radius location around customer address!\n\t *\n\t * @type {string}\n\t * @memberof Invite\n\t */\n\t@Types.String()\n\t@Column()\n\tcode: string;\n\n\t/**\n\t * Apartment (optional) for which invite will work\n\t *\n\t * @type {string}\n\t * @memberof Invite\n\t */\n\t@Types.String()\n\t@Column()\n\tapartment: string;\n\n\t/**\n\t * Location (Address) of invited Customer\n\t *\n\t * @type {GeoLocation}\n\t * @memberof Invite\n\t */\n\t@Schema(getSchema(GeoLocation))\n\tgeoLocation: GeoLocation;\n\n\t@Types.Boolean(false)\n\t@Column()\n\tisDeleted: boolean;\n\n\ttoInviteRequestFindObject(): {\n\t\tgeoLocation: GeoLocation;\n\t\tapartment: string;\n\t} {\n\t\treturn {\n\t\t\tgeoLocation: this.geoLocation,\n\t\t\tapartment: this.apartment,\n\t\t};\n\t}\n}\n\nexport default Invite;\n","import { DBObject, Schema, ModelName, Types, getSchema } from '../@pyro/db';\nimport {\n\tIInviteRequestCreateObject,\n\tIInviteRequestRawObject,\n} from '../interfaces/IInviteRequest';\nimport { default as GeoLocation } from './GeoLocation';\nimport IEnterByLocation from '../interfaces/IEnterByLocation';\nimport { Entity, Column } from 'typeorm';\n\n/**\n * Requests for invite from potential Customers\n * Customers ask to be invited (optionally, if invites system enabled) for given location (address).\n * Later, Store owner decide if he wants to approve invite request (by generating invite record).\n *\n * @class InviteRequest\n * @extends {DBObject<IInviteRequestRawObject, IInviteRequestCreateObject>}\n * @implements {IInviteRequestRawObject}\n */\n@ModelName('InviteRequest')\n@Entity({ name: 'inviterequests' })\nclass InviteRequest\n\textends DBObject<IInviteRequestRawObject, IInviteRequestCreateObject>\n\timplements IInviteRequestRawObject {\n\tconstructor(inviteRequest: IInviteRequestRawObject) {\n\t\tsuper(inviteRequest);\n\n\t\tif (inviteRequest && inviteRequest.geoLocation) {\n\t\t\tthis.geoLocation = new GeoLocation(inviteRequest.geoLocation);\n\t\t}\n\t}\n\n\t/**\n\t * Current location (address) of person who request invite\n\t *\n\t * @type {GeoLocation}\n\t * @memberof InviteRequest\n\t */\n\t@Schema(getSchema(GeoLocation))\n\tgeoLocation: GeoLocation;\n\n\t/**\n\t * ID of potential customer device\n\t * Note: used to send push notification to customer when store owner decide to invite her/him\n\t *\n\t * @type {string}\n\t * @memberof InviteRequest\n\t */\n\t@Schema({ required: false, type: String })\n\t@Column()\n\tdeviceId?: string;\n\n\t/**\n\t * Apartment of potential Customer (optionally)\n\t *\n\t * @type {string}\n\t * @memberof InviteRequest\n\t */\n\t@Types.String()\n\t@Column()\n\tapartment: string;\n\n\t@Schema({ required: false, type: Boolean, default: false })\n\t@Column()\n\tisManual?: boolean;\n\n\t@Types.Boolean(false)\n\t@Column()\n\tisDeleted: boolean;\n\n\t/**\n\t * If this require invite approved, isInvited field set to true\n\t *\n\t * @type {boolean}\n\t * @memberof InviteRequest\n\t */\n\t@Types.Boolean(false)\n\t@Column()\n\tisInvited: boolean;\n\n\t/**\n\t * The date when invite was sent to the potential customer\n\t *\n\t * @type {Date}\n\t * @memberof InviteRequest\n\t */\n\t@Schema({ type: Date, required: false })\n\t@Column()\n\tinvitedDate: Date;\n\n\ttoAddressString(): string | null {\n\t\tif (!this.geoLocation) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet address = `${this.geoLocation.streetAddress} ${this.geoLocation.house}`;\n\n\t\tif (this.apartment) {\n\t\t\taddress += `/${this.apartment}`;\n\t\t}\n\n\t\taddress += `, ${this.geoLocation.city}`;\n\n\t\treturn address;\n\t}\n\n\ttoEnterByLocationToken(): IEnterByLocation {\n\t\tif (\n\t\t\tthis.geoLocation.house != null &&\n\t\t\tthis.geoLocation.streetAddress != null &&\n\t\t\tthis.geoLocation.city != null &&\n\t\t\tthis.geoLocation.countryId != null\n\t\t) {\n\t\t\treturn {\n\t\t\t\tapartment: this.apartment,\n\t\t\t\thouse: this.geoLocation.house,\n\t\t\t\tstreetAddress: this.geoLocation.streetAddress,\n\t\t\t\tcity: this.geoLocation.city,\n\t\t\t\tpostcode: this.geoLocation.postcode,\n\t\t\t\tcountryId: this.geoLocation.countryId,\n\t\t\t};\n\t\t} else {\n\t\t\tthrow new Error('GeoLocation is not full!');\n\t\t}\n\t}\n}\n\nexport default InviteRequest;\n","import UserOrder from './UserOrder';\nimport Warehouse from './Warehouse';\nimport OrderProduct from './OrderProduct';\nimport Carrier from './Carrier';\nimport {\n\tDBObject,\n\tSchema,\n\tIndex,\n\tModelName,\n\tTypes,\n\tgetSchema,\n} from '../@pyro/db';\nimport _ from 'lodash';\n\nimport OrderWarehouseStatus, {\n\twarehouseStatusToString,\n} from '../enums/OrderWarehouseStatus';\nimport OrderCarrierStatus, {\n\tcarrierStatusToString,\n} from '../enums/OrderCarrierStatus';\nimport IOrder, { IOrderCreateObject } from '../interfaces/IOrder';\nimport IWarehouse from '../interfaces/IWarehouse';\nimport ICarrier from '../interfaces/ICarrier';\nimport OrderStatus from '../enums/OrderStatus';\nimport ILanguage from '../interfaces/ILanguage';\nimport { Entity, Column } from 'typeorm';\nimport IOrderProduct from '../interfaces/IOrderProduct';\nimport DeliveryType from '../enums/DeliveryType';\n\n/**\n * Customer Order (for some products or services)\n *\n * @class Order\n * @extends {DBObject<IOrder, IOrderCreateObject>}\n * @implements {IOrder}\n */\n@ModelName('Order')\n@Entity({ name: 'orders' })\nclass Order extends DBObject<IOrder, IOrderCreateObject> implements IOrder {\n\tconstructor(order: IOrder) {\n\t\tsuper(order);\n\n\t\tif (order) {\n\t\t\tif (order.user) {\n\t\t\t\tthis.user = new UserOrder(order.user);\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\torder.warehouse &&\n\t\t\t\torder.warehouse != null &&\n\t\t\t\ttypeof order.warehouse !== 'string'\n\t\t\t) {\n\t\t\t\tthis.warehouse = new Warehouse(order.warehouse as IWarehouse);\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\torder.carrier &&\n\t\t\t\torder.carrier != null &&\n\t\t\t\ttypeof order.carrier !== 'string'\n\t\t\t) {\n\t\t\t\tthis.carrier = new Carrier(order.carrier as ICarrier);\n\t\t\t}\n\n\t\t\tif (order.products && order.products != null) {\n\t\t\t\tthis.products = _.map(\n\t\t\t\t\torder.products,\n\t\t\t\t\t(orderProduct: IOrderProduct) => {\n\t\t\t\t\t\treturn new OrderProduct(orderProduct);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * User who make order. Note: this is not a reference,\n\t * but info we put here in the moment when Order is creating.\n\t * This is needed because we want to not allow user to change\n\t * this data in his profile later so it effects his orders\n\t *\n\t * @type {UserOrder}\n\t * @memberof Order\n\t */\n\t@Index(1)\n\t@Schema(getSchema(UserOrder))\n\tuser: UserOrder;\n\n\t/**\n\t * Every order go to single merchant only.\n\t * Currently, it is not possible to include items in the order from different merchants!\n\t *\n\t * @type {(Warehouse | string)}\n\t * @memberof Order\n\t */\n\t@Index(1)\n\t@Types.Ref(Warehouse)\n\twarehouse: Warehouse | string;\n\n\tget warehouseId(): string {\n\t\tif (typeof this.warehouse === 'string') {\n\t\t\treturn this.warehouse;\n\t\t} else {\n\t\t\treturn this.warehouse.id;\n\t\t}\n\t}\n\n\t/**\n\t * Same as for customer, it's not a reference but copy of data about products\n\t *\n\t * @type {OrderProduct[]}\n\t * @memberof Order\n\t */\n\t@Schema([getSchema(OrderProduct)])\n\tproducts: OrderProduct[];\n\n\t/**\n\t * Client can confirm order or order can be auto-confirmed\n\t * For example, client make an order from mobile app (press button \"Buy\").\n\t * Next, when he pay by CC mobile app send another request to server and set this field to true (confirm order)\n\t * Alternative, could be to ask customer again like \"Please confirm your order\".\n\t * Some stores however, may want orders to be automatically confirmed, e.g. when user click \"Buy\" button.\n\t * They still will set separate request to set this field to \"true\" in such cases, but do not ask customer\n\t * to explicitly confirm order\n\t *\n\t * Note: this field have nothing to do with Warehouse \"ReadyForProcessing\"\n\t * which is set when warehouse Confirms an order, not when client (customer) confirms it\n\t *\n\t * @type {boolean}\n\t * @memberof Order\n\t */\n\t@Types.Boolean(false)\n\t@Column()\n\tisConfirmed: boolean;\n\n\t/**\n\t * Is Order Cancelled\n\t *\n\t * @type {boolean}\n\t * @memberof Order\n\t */\n\t@Types.Boolean(false)\n\t@Column()\n\tisCancelled: boolean;\n\n\t/**\n\t * Is Order Paid by Customer\n\t *\n\t * @type {boolean}\n\t * @memberof Order\n\t */\n\t@Types.Boolean(false)\n\t@Column()\n\tisPaid: boolean;\n\n\t/**\n\t * Completed may mean it's paid and customer get it\n\t * OR customer don't take order and it get back to warehouse. It's FINAL in the flow.\n\t *\n\t * @readonly\n\t * @type {boolean}\n\t * @memberof Order\n\t */\n\tget isCompleted(): boolean {\n\t\treturn (\n\t\t\t(this.isPaid && this.status === OrderStatus.Delivered) ||\n\t\t\tthis.isCancelled\n\t\t);\n\t}\n\n\t/**\n\t * Deliver time for order (DateTime when order was actually delivered to customer)\n\t *\n\t * @type {Date}\n\t * @memberof Order\n\t */\n\t@Schema({ type: Date, required: false })\n\t@Column()\n\tdeliveryTime?: Date;\n\n\t/**\n\t * Time when order processing is finished\n\t * i.e order become canceled from customer or get failed during Store preparing etc.\n\t *\n\t * @type {Date}\n\t * @memberof Order\n\t */\n\t@Schema({ type: Date, required: false })\n\t@Column()\n\tfinishedProcessingTime?: Date;\n\n\t/**\n\t * The time when some carrier start delivery the order\n\t *\n\t * @type {Date}\n\t * @memberof Order\n\t */\n\t@Schema({ type: Date, required: false })\n\t@Column()\n\tstartDeliveryTime?: Date;\n\n\t/**\n\t * How many seconds more it should take to delivery order to customer\n\t * (reset to 0 when order is delivered or when carrier is not deliver any order to the customer)\n\t *\n\t * @type {number}\n\t * @memberof Order\n\t */\n\t@Types.Number(0)\n\t@Column()\n\tdeliveryTimeEstimate: number;\n\n\t/**\n\t * Current Warehouse status of the order\n\t *\n\t * @type {OrderWarehouseStatus}\n\t * @memberof Order\n\t */\n\t@Types.Number(OrderWarehouseStatus.NoStatus)\n\t@Column()\n\twarehouseStatus: OrderWarehouseStatus;\n\n\t/**\n\t * Current Carrier status of the order\n\t *\n\t * @type {OrderCarrierStatus}\n\t * @memberof Order\n\t */\n\t@Types.Number(OrderCarrierStatus.NoCarrier)\n\t@Column()\n\tcarrierStatus: OrderCarrierStatus;\n\n\t/**\n\t * Some carrier which responsible to deliver order to the client\n\t * (can be empty if order is not planed for delivery yet)\n\t *\n\t * @type {(Carrier | string | null)}\n\t * @memberof Order\n\t */\n\t@Types.Ref(Carrier, { required: false })\n\tcarrier?: Carrier | string | null;\n\n\t@Types.Boolean(false)\n\t@Column()\n\tisDeleted: boolean;\n\n\t@Schema({ type: String, required: false })\n\t@Column()\n\tstripeChargeId?: string;\n\n\t/**\n\t * Human readable Order Number in the Store (short id of order, unique in the given store only)\n\t *\n\t * @type {number}\n\t * @memberof Order\n\t */\n\t@Types.Number()\n\t@Column()\n\torderNumber: number;\n\n\t/**\n\t * Type of the order: Delivery or Takeaway\n\t *\n\t * @type {DeliveryType}\n\t * @memberof Order\n\t */\n\t@Types.Number(DeliveryType.Delivery)\n\t@Column()\n\torderType: DeliveryType;\n\n\tget carrierId(): string | null {\n\t\tif (this.carrier == null) {\n\t\t\treturn null;\n\t\t} else if (typeof this.carrier === 'string') {\n\t\t\treturn this.carrier;\n\t\t} else {\n\t\t\treturn this.carrier.id;\n\t\t}\n\t}\n\n\tget warehouseStatusText(): string {\n\t\treturn warehouseStatusToString(this.warehouseStatus);\n\t}\n\n\tget carrierStatusText(): string {\n\t\treturn carrierStatusToString(this.carrierStatus);\n\t}\n\n\t/**\n\t * Get Total Price for an order\n\t *\n\t * @readonly\n\t * @type {number}\n\t * @memberof Order\n\t */\n\tget totalPrice(): number {\n\t\treturn _.sum(\n\t\t\t_.map(\n\t\t\t\tthis.products,\n\t\t\t\t(product: OrderProduct) => product.count * product.price\n\t\t\t)\n\t\t);\n\t}\n\n\t/**\n\t * TODO: we should refactor and add support for all locales\n\t *\n\t * @param {ILanguage} language\n\t * @returns {string}\n\t * @memberof Order\n\t */\n\tgetStatusText(language: ILanguage): string {\n\t\tswitch (language) {\n\t\t\tcase 'en-US':\n\t\t\t\treturn this._getStatusTextEnglish();\n\t\t\tcase 'he-IL':\n\t\t\t\treturn this._getStatusTextHebrew();\n\t\t\tcase 'ru-RU':\n\t\t\t\treturn this._getStatusTextRussian();\n\t\t\tcase 'bg-BG':\n\t\t\t\treturn this._getStatusTextBulgarian();\n\t\t\tcase 'es-ES':\n\t\t\t\treturn this._getStatusTextSpanish();\n\t\t\tcase 'it-IT':\n\t\t\t\treturn this._getStatusTextItalian();\n\t\t\tcase 'fr-FR':\n\t\t\t\treturn this._getStatusTextFrench();\n\t\t\tdefault:\n\t\t\t\treturn 'BAD_STATUS';\n\t\t}\n\t}\n\n\t/**\n\t * Order Status based on Warehouse and Carrier Statuses together\n\t *\n\t * @readonly\n\t * @type {OrderStatus}\n\t * @memberof Order\n\t */\n\tget status(): OrderStatus {\n\t\tif (\n\t\t\tthis.carrier == null ||\n\t\t\tthis.carrierStatus <= OrderCarrierStatus.CarrierPickedUpOrder\n\t\t) {\n\t\t\tif (this.warehouseStatus >= 200) {\n\t\t\t\treturn OrderStatus.WarehouseIssue;\n\t\t\t} else if (this.isCancelled) {\n\t\t\t\treturn OrderStatus.CanceledWhileWarehousePreparation;\n\t\t\t} else {\n\t\t\t\treturn OrderStatus.WarehousePreparation;\n\t\t\t}\n\t\t} else {\n\t\t\tif (this.carrierStatus >= 200) {\n\t\t\t\treturn OrderStatus.CarrierIssue;\n\t\t\t} else if (this.isCancelled) {\n\t\t\t\treturn OrderStatus.CanceledWhileInDelivery;\n\t\t\t} else if (\n\t\t\t\tthis.isPaid &&\n\t\t\t\tthis.carrierStatus === OrderCarrierStatus.DeliveryCompleted\n\t\t\t) {\n\t\t\t\treturn OrderStatus.Delivered;\n\t\t\t} else {\n\t\t\t\treturn OrderStatus.InDelivery;\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate _getStatusTextEnglish(): string {\n\t\tswitch (this.status) {\n\t\t\tcase OrderStatus.WarehousePreparation:\n\t\t\t\treturn 'Preparation';\n\t\t\tcase OrderStatus.InDelivery:\n\t\t\t\treturn 'In Delivery';\n\t\t\tcase OrderStatus.Delivered:\n\t\t\t\treturn 'Delivered';\n\t\t\tcase OrderStatus.CanceledWhileWarehousePreparation:\n\t\t\tcase OrderStatus.CanceledWhileInDelivery:\n\t\t\t\treturn 'Cancelled';\n\t\t\tcase OrderStatus.WarehouseIssue:\n\t\t\t\treturn 'Preparation Issue';\n\t\t\tcase OrderStatus.CarrierIssue:\n\t\t\t\treturn 'Delivery Issue';\n\t\t\tdefault:\n\t\t\t\treturn 'BAD_STATUS';\n\t\t}\n\t}\n\n\tprivate _getStatusTextBulgarian(): string {\n\t\tswitch (this.status) {\n\t\t\tcase OrderStatus.WarehousePreparation:\n\t\t\t\treturn 'Подготовка';\n\t\t\tcase OrderStatus.InDelivery:\n\t\t\t\treturn 'Доставя се';\n\t\t\tcase OrderStatus.Delivered:\n\t\t\t\treturn 'Доставено';\n\t\t\tcase OrderStatus.CanceledWhileWarehousePreparation:\n\t\t\tcase OrderStatus.CanceledWhileInDelivery:\n\t\t\t\treturn 'Отказана';\n\t\t\tcase OrderStatus.WarehouseIssue:\n\t\t\t\treturn 'Проблем при подготовката';\n\t\t\tcase OrderStatus.CarrierIssue:\n\t\t\t\treturn 'Проблем при доставката';\n\t\t\tdefault:\n\t\t\t\treturn 'Проблем с поръчката';\n\t\t}\n\t}\n\n\tprivate _getStatusTextHebrew(): string {\n\t\tswitch (this.status) {\n\t\t\tcase OrderStatus.WarehousePreparation:\n\t\t\t\treturn 'בהכנה';\n\t\t\tcase OrderStatus.InDelivery:\n\t\t\t\treturn 'במשלוח';\n\t\t\tcase OrderStatus.Delivered:\n\t\t\t\treturn 'הסתיים בצלחה';\n\t\t\tcase OrderStatus.CanceledWhileWarehousePreparation:\n\t\t\tcase OrderStatus.CanceledWhileInDelivery:\n\t\t\t\treturn 'התבטל';\n\t\t\tcase OrderStatus.WarehouseIssue:\n\t\t\t\treturn 'בעייה בהכנה';\n\t\t\tcase OrderStatus.CarrierIssue:\n\t\t\t\treturn 'בעייה במשלוח';\n\t\t\tdefault:\n\t\t\t\treturn 'BAD_STATUS';\n\t\t}\n\t}\n\n\tprivate _getStatusTextRussian(): string {\n\t\tswitch (this.status) {\n\t\t\tcase OrderStatus.WarehousePreparation:\n\t\t\t\treturn 'В подготовке';\n\t\t\tcase OrderStatus.InDelivery:\n\t\t\t\treturn 'В доставки';\n\t\t\tcase OrderStatus.Delivered:\n\t\t\t\treturn 'Доставлено';\n\t\t\tcase OrderStatus.CanceledWhileWarehousePreparation:\n\t\t\tcase OrderStatus.CanceledWhileInDelivery:\n\t\t\t\treturn 'Отменено';\n\t\t\tcase OrderStatus.WarehouseIssue:\n\t\t\t\treturn 'Проблема с подготовкой';\n\t\t\tcase OrderStatus.CarrierIssue:\n\t\t\t\treturn 'Проблема с доставкой';\n\t\t\tdefault:\n\t\t\t\treturn 'BAD_STATUS';\n\t\t}\n\t}\n\n\tprivate _getStatusTextSpanish() {\n\t\tswitch (this.status) {\n\t\t\tcase OrderStatus.WarehousePreparation:\n\t\t\t\treturn 'Preparación';\n\t\t\tcase OrderStatus.InDelivery:\n\t\t\t\treturn 'En la entrega';\n\t\t\tcase OrderStatus.Delivered:\n\t\t\t\treturn 'Entregado';\n\t\t\tcase OrderStatus.CanceledWhileWarehousePreparation:\n\t\t\tcase OrderStatus.CanceledWhileInDelivery:\n\t\t\t\treturn 'Cancelado';\n\t\t\tcase OrderStatus.WarehouseIssue:\n\t\t\t\treturn 'Problema de preparación';\n\t\t\tcase OrderStatus.CarrierIssue:\n\t\t\t\treturn 'Problema de envio';\n\t\t\tdefault:\n\t\t\t\treturn 'BAD_STATUS';\n\t\t}\n\t}\n\tprivate _getStatusTextItalian() {\n\t\tswitch (this.status) {\n\t\t\tcase OrderStatus.WarehousePreparation:\n\t\t\t\treturn 'Preparazione';\n\t\t\tcase OrderStatus.InDelivery:\n\t\t\t\treturn 'In consegna';\n\t\t\tcase OrderStatus.Delivered:\n\t\t\t\treturn 'consegnato';\n\t\t\tcase OrderStatus.CanceledWhileWarehousePreparation:\n\t\t\tcase OrderStatus.CanceledWhileInDelivery:\n\t\t\t\treturn 'Annullato';\n\t\t\tcase OrderStatus.WarehouseIssue:\n\t\t\t\treturn 'Problema di preparazione';\n\t\t\tcase OrderStatus.CarrierIssue:\n\t\t\t\treturn 'Problema di consegna';\n\t\t\tdefault:\n\t\t\t\treturn 'BAD_STATUS';\n\t\t}\n\t}\n\tprivate _getStatusTextFrench() {\n\t\tswitch (this.status) {\n\t\t\tcase OrderStatus.WarehousePreparation:\n\t\t\t\treturn 'Préparation';\n\t\t\tcase OrderStatus.InDelivery:\n\t\t\t\treturn 'En livraison';\n\t\t\tcase OrderStatus.Delivered:\n\t\t\t\treturn 'Livré';\n\t\t\tcase OrderStatus.CanceledWhileWarehousePreparation:\n\t\t\tcase OrderStatus.CanceledWhileInDelivery:\n\t\t\t\treturn 'Annulé';\n\t\t\tcase OrderStatus.WarehouseIssue:\n\t\t\t\treturn 'Problème de préparation';\n\t\t\tcase OrderStatus.CarrierIssue:\n\t\t\t\treturn 'Problème de livraison';\n\t\t\tdefault:\n\t\t\t\treturn 'BAD_STATUS';\n\t\t}\n\t}\n}\n\nexport default Order;\n","import Product from './Product';\nimport { Schema, DBObject, ModelName, getSchema, Types } from '../@pyro/db';\nimport IOrderProduct from '../interfaces/IOrderProduct';\nimport { IOrderProductCreateObject } from '../interfaces/IOrderProduct';\nimport { Column } from 'typeorm';\n\n/**\n * Store Product information inside Order (similar to OrderLineItem concept)\n *\n * @class OrderProduct\n * @extends {DBObject<IOrderProduct, IOrderProductCreateObject>}\n * @implements {IOrderProduct}\n */\n@ModelName('OrderProduct')\nclass OrderProduct extends DBObject<IOrderProduct, IOrderProductCreateObject>\n\timplements IOrderProduct {\n\tconstructor(orderProduct: IOrderProduct) {\n\t\tsuper(orderProduct);\n\n\t\tif (orderProduct && orderProduct.product) {\n\t\t\tthis.product = new Product(orderProduct.product);\n\t\t}\n\t}\n\n\t// current price of the Product (could be lower or higher compared to initial price)\n\t@Types.Number()\n\t@Column()\n\tprice: number;\n\n\t// initial price of the Product\n\t@Types.Number()\n\t@Column()\n\tinitialPrice: number;\n\n\t/**\n\t * Qty of purchased products\n\t *\n\t * @type {number}\n\t * @memberof OrderProduct\n\t */\n\t@Types.Number(0)\n\t@Column()\n\tcount: number;\n\n\t/**\n\t * Product (not ref)\n\t *\n\t * @type {Product}\n\t * @memberof OrderProduct\n\t */\n\t@Schema(getSchema(Product))\n\tproduct: Product;\n\n\t/**\n\t * Is product(s) require manufacturing\n\t *\n\t * @type {boolean}\n\t * @memberof OrderProduct\n\t */\n\t@Types.Boolean(true)\n\t@Column()\n\tisManufacturing: boolean;\n\n\t/**\n\t * Is product(s) becomes available for purchase only when carrier found\n\t *\n\t * @type {boolean}\n\t * @memberof OrderProduct\n\t */\n\t@Types.Boolean(true)\n\t@Column()\n\tisCarrierRequired: boolean;\n\n\t/**\n\t * Should product be delivered by carrier or it's pickup (takeaway)\n\t *\n\t * @type {boolean}\n\t * @memberof OrderProduct\n\t */\n\t@Types.Boolean(true)\n\t@Column()\n\tisDeliveryRequired: boolean;\n\n\t/**\n\t * Is it Takeaway order (including in-store purchase)\n\t *\n\t * @type {boolean}\n\t * @memberof OrderProduct\n\t */\n\t@Schema({ required: false, type: Boolean })\n\t@Column()\n\tisTakeaway?: boolean;\n\n\t/**\n\t * Min delivery time (in minutes)\n\t *\n\t * @type {number}\n\t * @memberof OrderProduct\n\t */\n\t@Schema({ required: false, type: Number })\n\t@Column()\n\tdeliveryTimeMin?: number;\n\n\t/**\n\t * Max delivery time (in minutes)\n\t *\n\t * @type {number}\n\t * @memberof OrderProduct\n\t */\n\t@Schema({ required: false, type: Number })\n\t@Column()\n\tdeliveryTimeMax?: number;\n}\n\nexport default OrderProduct;\n","import { ModelName, DBObject, Types, Schema } from '@pyro/db';\nimport IPaymentGatewayCreateObject, {\n\tIPaymentGateway,\n} from '../interfaces/IPaymentGateway';\nimport PaymentGateways from '../enums/PaymentGateways';\nimport { Column } from 'typeorm';\n\n/**\n * Stores type of payment gateway and configuration object for such payment gateway\n *\n * @class PaymentGateway\n * @extends {DBObject<IPaymentGateway, IPaymentGatewayCreateObject>}\n * @implements {IPaymentGateway}\n */\n@ModelName('PaymentGateway')\nclass PaymentGateway\n\textends DBObject<IPaymentGateway, IPaymentGatewayCreateObject>\n\timplements IPaymentGateway {\n\t/**\n\t * Type of the payment gateway\n\t *\n\t * @type {PaymentGateways}\n\t * @memberof PaymentGateway\n\t */\n\t@Types.Number()\n\t@Column()\n\tpaymentGateway: PaymentGateways;\n\n\t/**\n\t * Configuration object for such payment gateway.\n\t *\n\t * Note: this field has no concrete type, because different payment gateways\n\t * may have different fields in the configure object\n\t *\n\t * @type {any}\n\t * @memberof PaymentGateway\n\t */\n\t@Schema({ type: Object })\n\t@Column()\n\tconfigureObject: any;\n}\n\nexport default PaymentGateway;\n","import { DBObject, ModelName, Schema, Types } from '../@pyro/db';\nimport IProduct, {\n\tIProductCreateObject,\n\tIProductDescription,\n\tIProductDescriptionHTML,\n\tIProductDetails,\n\tIProductDetailsHTML,\n\tIProductImage,\n\tIProductTitle,\n} from '../interfaces/IProduct';\nimport ProductsCategory from './ProductsCategory';\nimport { IProductsCategory } from '../interfaces/IProductsCategory';\nimport { Entity, Column } from 'typeorm';\n\n/**\n * Product Information (organized as a global Products Catalog)\n *\n * Note: Products in specific warehouse are stored as a WarehouseProduct records instead\n * (in MongoDB as sub-documents of the Warehouse document)\n *\n * @class Product\n * @extends {DBObject<IProduct, IProductCreateObject>}\n * @implements {IProduct}\n */\n@ModelName('Product')\n@Entity({ name: 'products' })\nclass Product extends DBObject<IProduct, IProductCreateObject>\n\timplements IProduct {\n\t/**\n\t * Title of Product (normally short and display as a bold text)\n\t *\n\t * @type {IProductTitle[]}\n\t * @memberof Product\n\t */\n\t@Schema({ type: Array })\n\ttitle: IProductTitle[];\n\n\t/**\n\t * Short description of the product (normally longer than title)\n\t *\n\t * @type {IProductDescription[]}\n\t * @memberof Product\n\t */\n\t@Schema({ type: Array })\n\tdescription: IProductDescription[];\n\n\t/**\n\t * HTML content for Short description of the product (normally longer than title)\n\t *\n\t * @type {IProductDescriptionHTML[]}\n\t * @memberof Product\n\t */\n\t@Schema({ type: Array })\n\tdescriptionHTML: IProductDescriptionHTML[];\n\n\t/**\n\t * Long description of the product (normally longer than product description)\n\t *\n\t * @type {IProductDetails[]}\n\t * @memberof Product\n\t */\n\t@Schema({ type: Array })\n\tdetails: IProductDetails[];\n\n\t/**\n\t * HTML content for Long description of the product (normally longer than product description)\n\t *\n\t * @type {IProductDetailsHTML[]}\n\t * @memberof Product\n\t */\n\t@Schema({ type: Array })\n\tdetailsHTML: IProductDetailsHTML[];\n\n\t/**\n\t * Product Images\n\t *\n\t * @type {IProductImage[]}\n\t * @memberof Product\n\t */\n\t@Schema({ type: Array })\n\timages: IProductImage[];\n\n\t/**\n\t * Categories to which product belong\n\t *\n\t * @type {IProductsCategory[]}\n\t * @memberof Product\n\t */\n\t@Types.Ref([ProductsCategory])\n\tcategories: IProductsCategory[];\n\n\t@Types.Boolean(false)\n\t@Column()\n\tisDeleted: boolean;\n}\n\nexport default Product;\n","import _ from 'lodash';\nimport IProductInfo from '../interfaces/IProductInfo';\nimport Product from './Product';\nimport { IOrderProductCreateObject } from '../interfaces/IOrderProduct';\nimport WarehouseProduct from './WarehouseProduct';\n\n/**\n * Product Information\n * Note: That entity doesn't have schema, so its not stored in db\n *\n * @class ProductInfo\n * @implements {IProductInfo}\n */\nclass ProductInfo implements IProductInfo {\n\tconstructor(productInfo: IProductInfo) {\n\t\tif (productInfo) {\n\t\t\t_.assign(this, productInfo);\n\n\t\t\tif (productInfo.warehouseProduct) {\n\t\t\t\tthis.warehouseProduct = new WarehouseProduct(\n\t\t\t\t\tproductInfo.warehouseProduct\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Product field is populated inside this property\n\t *\n\t * @type {WarehouseProduct}\n\t * @memberof ProductInfo\n\t */\n\twarehouseProduct: WarehouseProduct;\n\n\t/**\n\t * Id of merchant/store/warehouse where product is available\n\t *\n\t * @type {string}\n\t * @memberof ProductInfo\n\t */\n\twarehouseId: string;\n\n\t/**\n\t * Url of image for merchant/store/warehouse\n\t *\n\t * @type {string}\n\t * @memberof ProductInfo\n\t */\n\twarehouseLogo: string;\n\n\tdistance: number;\n\n\tget product(): Product {\n\t\treturn this.warehouseProduct.product as Product;\n\t}\n\n\tgetOrderProductCreateObject(count: number): IOrderProductCreateObject {\n\t\treturn {\n\t\t\tinitialPrice: this.warehouseProduct.initialPrice,\n\t\t\tprice: this.warehouseProduct.price,\n\t\t\tdeliveryTimeMin: this.warehouseProduct.deliveryTimeMin,\n\t\t\tdeliveryTimeMax: this.warehouseProduct.deliveryTimeMax,\n\t\t\tcount,\n\t\t\tproduct: this.warehouseProduct.product as Product,\n\t\t};\n\t}\n}\n\nexport default ProductInfo;\n","import { DBObject, ModelName, Schema, Types } from '../@pyro/db';\nimport {\n\tIProductsCategory,\n\tIProductsCategoryCreateObject,\n\tIProductsCategoryName,\n} from '../interfaces/IProductsCategory';\nimport { Entity, Column } from 'typeorm';\n\n/**\n * Product Category\n *\n * @class ProductsCategory\n * @extends {DBObject<IProductsCategory, IProductsCategoryCreateObject>}\n * @implements {IProductsCategory}\n */\n@ModelName('ProductCategory')\n@Entity({ name: 'productcategories' })\nclass ProductsCategory\n\textends DBObject<IProductsCategory, IProductsCategoryCreateObject>\n\timplements IProductsCategory {\n\t/**\n\t * Product Category Name\n\t *\n\t * @type {IProductsCategoryName[]}\n\t * @memberof ProductsCategory\n\t */\n\t@Schema({ type: Array })\n\tname: IProductsCategoryName[];\n\n\t/**\n\t * Product Category Image URL (optional)\n\t *\n\t * @type {string}\n\t * @memberof ProductsCategory\n\t */\n\t@Schema({\n\t\ttype: String,\n\t\trequired: false,\n\t})\n\t@Column()\n\timage: string;\n\n\t@Types.Boolean(false)\n\t@Column()\n\tisDeleted: boolean;\n}\n\nexport default ProductsCategory;\n","import GeoLocation from './GeoLocation';\nimport { DBObject, getSchema, ModelName, Schema, Types } from '../@pyro/db';\nimport IUser, { IUserCreateObject } from '../interfaces/IUser';\nimport { Entity, Column } from 'typeorm';\n\n/**\n * Customer who make orders\n * TODO: historically called 'User', but we will rename to 'Customer'\n *\n * @class User\n * @extends {DBObject<IUser, IUserCreateObject>}\n * @implements {IUser}\n */\n@ModelName('User')\n@Entity({ name: 'users' })\nclass User extends DBObject<IUser, IUserCreateObject> implements IUser {\n\tconstructor(user: IUser) {\n\t\tsuper(user);\n\n\t\tif (user && user.geoLocation) {\n\t\t\tthis.geoLocation = new GeoLocation(user.geoLocation);\n\t\t}\n\t}\n\n\t/**\n\t * First Name\n\t *\n\t * @type {string}\n\t * @memberof User\n\t */\n\t@Schema({ type: String, required: false })\n\t@Column()\n\tfirstName?: string;\n\n\t/**\n\t * Last Name\n\t *\n\t * @type {string}\n\t * @memberof User\n\t */\n\t@Schema({ type: String, required: false })\n\t@Column()\n\tlastName?: string;\n\n\t/**\n\t * Customer Image (Photo/Avatar) URL\n\t * (optional)\n\t *\n\t * @type {string}\n\t * @memberof User\n\t */\n\t@Schema({ type: String, required: false })\n\t@Column()\n\timage: string;\n\n\t/**\n\t * Primary Email Address\n\t *\n\t * @type {string}\n\t * @memberof UserOrder\n\t */\n\t@Schema({\n\t\ttype: String,\n\t\trequired: false,\n\t\tsparse: true,\n\t\tunique: true,\n\t})\n\t@Column()\n\temail?: string;\n\n\t/**\n\t * Password hash\n\t *\n\t * @type {string}\n\t * @memberof User\n\t */\n\t@Schema({\n\t\ttype: String,\n\t\trequired: false,\n\t\tselect: false,\n\t})\n\t@Column()\n\thash?: string;\n\n\t/**\n\t * Current customer location (customer address, last known location of the customer)\n\t *\n\t * @type {GeoLocation}\n\t * @memberof User\n\t */\n\t@Schema(getSchema(GeoLocation))\n\tgeoLocation: GeoLocation;\n\n\t/**\n\t * Apartment (stored separately from geolocation/address for efficiency)\n\t *\n\t * @type {string}\n\t * @memberof User\n\t */\n\t@Schema(String)\n\t@Column()\n\tapartment: string;\n\n\t/**\n\t * CustomerId in the Stripe payment gateway (if customer added to Stripe, optional)\n\t *\n\t * @type {string}\n\t * @memberof User\n\t */\n\t@Schema({ type: String, required: false })\n\t@Column()\n\tstripeCustomerId?: string;\n\n\t/**\n\t * IDs of customer mobile devices / browser (see Device entity)\n\t *\n\t * @type {string[]}\n\t * @memberof User\n\t */\n\t@Schema([String])\n\tdevicesIds: string[];\n\n\t/**\n\t * IDs of customer in social networks / OAuth providers\n\t *\n\t * @type {string[]}\n\t * @memberof User\n\t */\n\t@Schema([String])\n\tsocialIds: string[];\n\n\t/**\n\t * Customer Primary Phone Number\n\t *\n\t * @type {string}\n\t * @memberof User\n\t */\n\t@Schema(String)\n\t@Column()\n\tphone?: string;\n\n\t/**\n\t * Is customer completed registration\n\t *\n\t * @type {boolean}\n\t * @memberof User\n\t */\n\t@Schema(Boolean)\n\t@Column()\n\tisRegistrationCompleted: boolean;\n\n\t/**\n\t * Is customer banned\n\t *\n\t * @type {boolean}\n\t * @memberof User\n\t */\n\t@Types.Boolean(false)\n\t@Column()\n\tisBanned: boolean;\n\n\t@Types.Boolean(false)\n\t@Column()\n\tisDeleted: boolean;\n\n\t/**\n\t * Get full address of customer (including apartment)\n\t * Note: does not include country\n\t *\n\t * @readonly\n\t * @memberof User\n\t */\n\tget fullAddress(): string {\n\t\treturn (\n\t\t\t`${this.geoLocation.city}, ${this.geoLocation.streetAddress} ` +\n\t\t\t`${this.apartment}/${this.geoLocation.house}`\n\t\t);\n\t}\n}\n\nexport default User;\n","import GeoLocation from './GeoLocation';\nimport { DBObject, getSchema, ModelName, Schema } from '../@pyro/db';\nimport IUserOrder, { IUserOrderCreateObject } from '../interfaces/IUserOrder';\nimport { Column } from 'typeorm';\n\n/**\n * Store information about Customer inside (embeded into) Order\n * The data is usually copied from the Customer record in DB right after order created\n * TODO: rename to CustomerOrder\n *\n * @class UserOrder\n * @extends {DBObject<IUserOrder, IUserOrderCreateObject>}\n * @implements {IUserOrder}\n */\n@ModelName('UserOrder')\nclass UserOrder extends DBObject<IUserOrder, IUserOrderCreateObject>\n\timplements IUserOrder {\n\tconstructor(userOrder: IUserOrder) {\n\t\tsuper(userOrder);\n\n\t\tif (userOrder && userOrder.geoLocation) {\n\t\t\tthis.geoLocation = new GeoLocation(userOrder.geoLocation);\n\t\t}\n\t}\n\n\t/**\n\t * First Name\n\t *\n\t * @type {string}\n\t * @memberof UserOrder\n\t */\n\t@Schema({ type: String, required: false })\n\t@Column()\n\tfirstName?: string;\n\n\t/**\n\t * Last Name\n\t *\n\t * @type {string}\n\t * @memberof UserOrder\n\t */\n\t@Schema({ type: String, required: false })\n\t@Column()\n\tlastName?: string;\n\n\t/**\n\t * Customer Image (Photo/Avatar) URL\n\t * (optional)\n\t *\n\t * @type {string}\n\t * @memberof UserOrder\n\t */\n\t@Schema({ type: String, required: false })\n\t@Column()\n\timage: string;\n\n\t/**\n\t * Primary Email Address\n\t *\n\t * @type {string}\n\t * @memberof UserOrder\n\t */\n\t@Schema({\n\t\ttype: String,\n\t\trequired: false,\n\t\tsparse: true,\n\t})\n\t@Column()\n\temail?: string;\n\n\t/**\n\t * Password Hash\n\t *\n\t * @type {string}\n\t * @memberof UserOrder\n\t */\n\t@Schema({ type: String, required: false, select: false })\n\t@Column()\n\thash?: string;\n\n\t/**\n\t * Current customer location (customer address, last known location of the customer)\n\t *\n\t * @type {GeoLocation}\n\t * @memberof UserOrder\n\t */\n\t@Schema(getSchema(GeoLocation))\n\tgeoLocation: GeoLocation;\n\n\t/**\n\t * Apartment (stored separately from geolocation/address for efficiency)\n\t *\n\t * @type {string}\n\t * @memberof UserOrder\n\t */\n\t@Schema(String)\n\t@Column()\n\tapartment: string;\n\n\t/**\n\t * CustomerId in the Stripe payment gateway (if customer added to Stripe, optional)\n\t *\n\t * @type {string}\n\t * @memberof UserOrder\n\t */\n\t@Schema({ type: String, required: false })\n\t@Column()\n\tstripeCustomerId?: string;\n\n\t/**\n\t * IDs of customer mobile devices / browser\n\t *\n\t * @type {string[]}\n\t * @memberof UserOrder\n\t */\n\t@Schema([String])\n\tdevicesIds: string[];\n\n\t/**\n\t * IDs of customer in social networks / OAuth providers\n\t *\n\t * @type {string[]}\n\t * @memberof UserOrder\n\t */\n\t@Schema([String])\n\tsocialIds: string[];\n\n\t/**\n\t * Customer Primary Phone Number\n\t *\n\t * @type {string}\n\t * @memberof UserOrder\n\t */\n\t@Schema(String)\n\t@Column()\n\tphone?: string;\n\n\t/**\n\t * Is customer completed registration\n\t *\n\t * @type {boolean}\n\t * @memberof UserOrder\n\t */\n\t@Schema(Boolean)\n\t@Column()\n\tisRegistrationCompleted: boolean;\n\n\t/**\n\t * Get full address of customer (including apartment)\n\t * Note: does not include country\n\t *\n\t * @readonly\n\t * @memberof UserOrder\n\t */\n\tget fullAddress(): string {\n\t\treturn (\n\t\t\t`${this.geoLocation.city}, ${this.geoLocation.streetAddress} ` +\n\t\t\t`${this.apartment}/${this.geoLocation.house}`\n\t\t);\n\t}\n}\n\nexport default UserOrder;\n","import _ from 'lodash';\nimport { DBObject, getSchema, ModelName, Schema, Types } from '../@pyro/db';\nimport GeoLocation from './GeoLocation';\nimport WarehouseProduct, { WithPopulatedProduct } from './WarehouseProduct';\nimport IWarehouse, { IWarehouseCreateObject } from '../interfaces/IWarehouse';\nimport ForwardOrdersMethod from '../enums/ForwardOrdersMethod';\nimport { Entity, Column } from 'typeorm';\nimport IWarehouseProduct from '../interfaces/IWarehouseProduct';\nimport OrderBarcodeTypes from '../enums/OrderBarcodeTypes';\nimport PaymentGateway from './PaymentGateway';\n\n/**\n * Warehouse / Merchant / Store\n * We are using all of above as synonyms today, however at some point we will have\n * multiple warehouses per each store OR multiple stores using same warehouse.\n * So, while we think Merchant and Store are interchangable,\n * in the future versions of Ever Platform, we will have Merchants and Warehouses as separated entities\n *\n * @class Warehouse\n * @extends {DBObject<IWarehouse, IWarehouseCreateObject>}\n * @implements {IWarehouse}\n */\n@ModelName('Warehouse')\n@Entity({ name: 'warehouses' })\nclass Warehouse extends DBObject<IWarehouse, IWarehouseCreateObject>\n\timplements IWarehouse {\n\tconstructor(warehouse: IWarehouse) {\n\t\tsuper(warehouse);\n\n\t\tif (warehouse) {\n\t\t\tif (warehouse.geoLocation) {\n\t\t\t\tthis.geoLocation = new GeoLocation(warehouse.geoLocation);\n\t\t\t}\n\n\t\t\tif (warehouse.products) {\n\t\t\t\tthis.products = _.map(\n\t\t\t\t\twarehouse.products,\n\t\t\t\t\t(warehouseProduct: IWarehouseProduct) => {\n\t\t\t\t\t\treturn new WarehouseProduct(warehouseProduct);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (!warehouse.barcodeData) {\n\t\t\t\tthis.barcodeData = warehouse._id.toString();\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Is Warehouse working right now\n\t *\n\t * @type {boolean}\n\t * @memberof Warehouse\n\t */\n\t@Types.Boolean(false)\n\t@Column()\n\tisActive: boolean;\n\n\t/**\n\t * Is online payment enabled?\n\t * If disabled, sales only possible using cash on delivery or takeaway and no online payments allowed\n\t *\n\t * @type {boolean}\n\t * @memberof Warehouse\n\t */\n\t@Types.Boolean(true)\n\t@Column()\n\tisPaymentEnabled: boolean;\n\n\t/**\n\t * Warehouse current location (address)\n\t * Note: we do support \"moving\" warehouses (e.g. car with products)\n\t *\n\t * @type {GeoLocation}\n\t * @memberof Warehouse\n\t */\n\t@Schema(getSchema(GeoLocation))\n\tgeoLocation: GeoLocation;\n\n\t/**\n\t * Warehouse delivery areas in GeoJSON format\n\t *\n\t * @type {Object}\n\t * @memberof Warehouse\n\t */\n\t@Schema({ type: Object })\n\tdeliveryAreas: object;\n\n\t/**\n\t * Products available at this warehouse for customer to purchase\n\t *\n\t * @type {WarehouseProduct[]}\n\t * @memberof Warehouse\n\t */\n\t@Schema([getSchema(WarehouseProduct)])\n\tproducts: WarehouseProduct[];\n\n\t/**\n\t * The name of Store/Merchant\n\t *\n\t * @type {string}\n\t * @memberof Warehouse\n\t */\n\t@Types.String()\n\t@Column()\n\tname: string;\n\n\t/**\n\t * The URL of store brand logo\n\t *\n\t * @type {string}\n\t * @memberof Warehouse\n\t */\n\t@Schema({ type: String, required: false })\n\t@Column()\n\tlogo: string;\n\n\t/**\n\t * Default administrator user for the store\n\t * (used for authentication during login into Merchant app together with hashed password)\n\t *\n\t * @type {string}\n\t * @memberof Warehouse\n\t */\n\t@Schema({ type: String, unique: true })\n\t@Column()\n\tusername: string;\n\n\t/**\n\t * Hashed password of default store administrator\n\t *\n\t * @type {string}\n\t * @memberof Warehouse\n\t */\n\t@Schema({ type: String, required: false, select: false })\n\t@Column()\n\thash?: string;\n\n\t/**\n\t * Primary contact email for the store\n\t *\n\t * @type {(string | null)}\n\t * @memberof Warehouse\n\t */\n\t@Schema({ type: String, required: false })\n\t@Column()\n\tcontactEmail: string | null;\n\n\t/**\n\t * Primary contact phone for the store\n\t *\n\t * @type {(string | null)}\n\t * @memberof Warehouse\n\t */\n\t@Schema({ type: String, required: false })\n\t@Column()\n\tcontactPhone: string | null;\n\n\t/**\n\t * Phone number, which should be used to accept orders by phone calls\n\t * If null, Store did not accept orders by phone calls\n\t *\n\t * @type {(string | null)}\n\t * @memberof Warehouse\n\t */\n\t@Schema({ type: String, required: false })\n\t@Column()\n\tordersPhone: string | null;\n\n\t/**\n\t * Email address, which should be used to accept orders by incoming emails\n\t * If null, Store did not accept orders by incoming emails\n\t *\n\t * @type {(string | null)}\n\t * @memberof Warehouse\n\t */\n\t@Schema({ type: String, required: false })\n\t@Column()\n\tordersEmail: string | null;\n\n\t/**\n\t * Preferable way to forward orders to the Store (email, phone, etc)\n\t *\n\t * @type {ForwardOrdersMethod}\n\t * @memberof Warehouse\n\t */\n\t@Schema([Number])\n\t@Column()\n\tforwardOrdersUsing: ForwardOrdersMethod[];\n\n\t/**\n\t * Is Warehouse products by default require manufacturing\n\t * (e.g. pizza requires manufacturing, but bottle of beer usually don't)\n\t *\n\t * @type {boolean}\n\t * @memberof Warehouse\n\t */\n\t@Types.Boolean(true)\n\t@Column()\n\tisManufacturing: boolean;\n\n\t/**\n\t * Is warehouse products by default become available only when carrier found\n\t * (Should we search for carrier before or after customer purchases product)\n\t *\n\t * @type {boolean}\n\t * @memberof Warehouse\n\t */\n\t@Types.Boolean(true)\n\t@Column()\n\tisCarrierRequired: boolean;\n\n\t/**\n\t * IDs of devices used to access Warehouse app (where app installed or running)\n\t * Note: used to send push notifications\n\t *\n\t * @type {string[]}\n\t * @memberof Warehouse\n\t */\n\t@Schema([String])\n\tdevicesIds: string[];\n\n\t/**\n\t * IDs of carriers which used by Store\n\t *\n\t * @type {string[]}\n\t * @memberof Warehouse\n\t */\n\t@Schema([String])\n\tusedCarriersIds: string[];\n\n\t/**\n\t * if true, has some carriers assigned to the Store\n\t *\n\t * @type {boolean}\n\t * @memberof Warehouse\n\t */\n\t@Types.Boolean(false)\n\t@Column()\n\thasRestrictedCarriers: boolean;\n\n\t/**\n\t * IDs of carriers which are \"connected\" (assigned) to the Store (\"own carriers\").\n\t *\n\t * @type {string[]}\n\t * @memberof Warehouse\n\t */\n\t@Schema([String])\n\tcarriersIds: string[];\n\n\t@Types.Boolean(false)\n\t@Column()\n\tisDeleted: boolean;\n\n\t/**\n\t * Is Store allows deliveries for purchases\n\t *\n\t * @type {boolean}\n\t * @memberof Warehouse\n\t */\n\t@Schema({ type: Boolean, required: false })\n\t@Column()\n\tproductsDelivery?: boolean;\n\n\t/**\n\t * Is Store allows takeaway purchases\n\t *\n\t * @type {boolean}\n\t * @memberof Warehouse\n\t */\n\t@Schema({ type: Boolean, required: false })\n\t@Column()\n\tproductsTakeaway?: boolean;\n\n\t/**\n\t * The type of order barcode\n\t *\n\t * @type {Number}\n\t * @memberof Warehouse\n\t */\n\t@Schema({ type: Number, required: false })\n\t@Column()\n\torderBarcodeType?: OrderBarcodeTypes;\n\n\t/**\n\t * Unique data for generate on barcode\n\t *\n\t * @type {string}\n\t * @memberof Warehouse\n\t */\n\t@Schema({ type: String, unique: true, sparse: true })\n\t@Column()\n\tbarcodeData: string;\n\n\t/**\n\t * Payment gateways\n\t *\n\t * @type {PaymentGateway[]}\n\t * @memberof Warehouse\n\t */\n\t@Schema([getSchema(PaymentGateway)])\n\tpaymentGateways?: PaymentGateway[];\n\n\t/**\n\t * if true, only assigned carriers (in carriersIds) can be used for delivery\n\t *\n\t * @type {boolean}\n\t * @memberof Warehouse\n\t */\n\t@Schema({ type: Boolean, required: false })\n\t@Column()\n\tuseOnlyRestrictedCarriersForDelivery?: boolean;\n\n\t/**\n\t * if true, assigned carriers (in carriersIds) will be prefer for delivery\n\t *\n\t * @type {boolean}\n\t * @memberof Warehouse\n\t */\n\t@Schema({ type: Boolean, required: false })\n\t@Column()\n\tpreferRestrictedCarriersForDelivery?: boolean;\n}\n\nexport type WithFullProducts = Warehouse & {\n\tproducts: WithPopulatedProduct[];\n};\n\nexport default Warehouse;\n","import Product from './Product';\nimport { DBObject, ModelName, Schema, Types } from '../@pyro/db';\nimport IWarehouseProduct, {\n\tIWarehouseProductCreateObject,\n} from '../interfaces/IWarehouseProduct';\nimport IProduct from '../interfaces/IProduct';\nimport { Column } from 'typeorm';\n\n/**\n * Represent Warehouse (Merchant) inventory item (some product / service) for sale\n * Each warehouse may have some qty of items of some product and price can change for all of\n * them only (i.e. say price decrease every 1 min for 1$ but for all 4 products in warehouse)\n * In MongoDB stored as sub-documents inside Warehouse document (not as a separate collection)\n *\n * @class WarehouseProduct\n * @extends {DBObject<IWarehouseProduct, IWarehouseProductCreateObject>}\n * @implements {IWarehouseProduct}\n */\n@ModelName('WarehouseProduct')\nclass WarehouseProduct\n\textends DBObject<IWarehouseProduct, IWarehouseProductCreateObject>\n\timplements IWarehouseProduct {\n\tconstructor(warehouseProduct: IWarehouseProduct) {\n\t\tsuper(warehouseProduct);\n\n\t\tif (typeof warehouseProduct.product !== 'string') {\n\t\t\tthis.product = new Product(warehouseProduct.product as IProduct);\n\t\t}\n\t}\n\n\t/**\n\t * Current Price of product (real-time)\n\t * Note: some warehouses may have different prices for the same product\n\t * compared to other warehouses.  It is especially true, when prices go down/up in some\n\t * warehouses more quickly compared to others etc\n\t *\n\t * @type {number}\n\t * @memberof WarehouseProduct\n\t */\n\t@Types.Number()\n\t@Column()\n\tprice: number;\n\n\t/**\n\t * Start price for product.\n\t * Initially equals to the value from price field, but over the time price can go down/up,\n\t * while initialPrice will always remain the same.\n\t * We calculate % of discount using price and initialPrice values\n\t *\n\t * @type {number}\n\t * @memberof WarehouseProduct\n\t */\n\t@Types.Number()\n\t@Column()\n\tinitialPrice: number;\n\n\t/**\n\t * How many products available currently for purchase\n\t *\n\t * @type {number}\n\t * @memberof WarehouseProduct\n\t */\n\t@Types.Number(0)\n\t@Column()\n\tcount: number;\n\n\t/**\n\t * How many products are sold\n\t *\n\t * @type {number}\n\t * @memberof WarehouseProduct\n\t */\n\t@Types.Number(0)\n\t@Column()\n\tsoldCount: number;\n\n\t/**\n\t * Ref to Product\n\t *\n\t * @type {(Product | string)}\n\t * @memberof WarehouseProduct\n\t */\n\t@Types.Ref(Product)\n\tproduct: Product | string;\n\n\t/**\n\t * Is product(s) require manufacturing\n\t *\n\t * @type {boolean}\n\t * @memberof WarehouseProduct\n\t */\n\t@Column()\n\t@Types.Boolean(true)\n\tisManufacturing: boolean;\n\n\t/**\n\t * Is product(s) become available only when carrier found\n\t *\n\t * @type {boolean}\n\t * @memberof WarehouseProduct\n\t */\n\t@Column()\n\t@Types.Boolean(true)\n\tisCarrierRequired: boolean;\n\n\t/**\n\t * Is product(s) require delivery to customer or available for pickup\n\t *\n\t * @type {boolean}\n\t * @memberof WarehouseProduct\n\t */\n\t@Column()\n\t@Types.Boolean(true)\n\tisDeliveryRequired: boolean;\n\n\t@Schema({ required: false, type: Boolean })\n\t@Column()\n\tisTakeaway?: boolean;\n\n\t/**\n\t * Min delivery time (in minutes)\n\t *\n\t * @type {number}\n\t * @memberof WarehouseProduct\n\t */\n\t@Schema({ required: false, type: Number })\n\t@Column()\n\tdeliveryTimeMin?: number;\n\n\t/**\n\t * Max delivery time (in minutes)\n\t *\n\t * @type {number}\n\t * @memberof WarehouseProduct\n\t */\n\t@Schema({ required: false, type: Number })\n\t@Column()\n\tdeliveryTimeMax?: number;\n\n\t/**\n\t * Get ProductId\n\t *\n\t * @readonly\n\t * @type {string}\n\t * @memberof WarehouseProduct\n\t */\n\tget productId(): string {\n\t\tif (typeof this.product === 'string') {\n\t\t\treturn this.product as string;\n\t\t} else {\n\t\t\treturn (this.product as Product).id;\n\t\t}\n\t}\n}\n\nexport type WithPopulatedProduct = WarehouseProduct & { product: Product };\n\nexport default WarehouseProduct;\n","/**\n * Current Carrier status\n * This status is set by carrier itself in his mobile app to indicate if he working now or can't work now\n *\n * @enum {number}\n */\nenum CarrierStatus {\n\t/**\n\t * Carrier online and ready to accept new jobs or already processing them\n\t * (check orders collection for carrier to know what jobs he processing if any)\n\t */\n\tOnline = 0,\n\n\t/**\n\t * Carrier offline and did not accept jobs right now (not working at the moment, e.g. sleep)\n\t */\n\tOffline = 1,\n\n\t/**\n\t * Carrier is blocked (temporary or permanently from work), e.g. banned from our platform\n\t */\n\tBlocked = 2,\n}\n\nexport default CarrierStatus;\n","/**\n * Supported Purchase types: Delivery or Takeaway\n * TODO: rename to something like \"PurchaseType\"\n *\n * @enum {number}\n */\nenum DeliveryType {\n\tDelivery = 0,\n\tTakeaway = 1,\n}\n\nexport default DeliveryType;\n","/**\n * Order Barcode Types\n *\n * @enum {number}\n */\nenum OrderBarcodeTypes {\n\tQR = 0,\n\tCODE128 = 1,\n\tCODE39 = 2,\n\tpharmacode = 3,\n\tMSI = 4,\n}\n\nexport function orderBarcodeTypesToString(status: OrderBarcodeTypes): string {\n\tswitch (status) {\n\t\tcase OrderBarcodeTypes.QR:\n\t\t\treturn 'QR code';\n\t\tcase OrderBarcodeTypes.CODE128:\n\t\t\treturn 'CODE128';\n\t\tcase OrderBarcodeTypes.CODE39:\n\t\t\treturn 'CODE39';\n\t\tcase OrderBarcodeTypes.pharmacode:\n\t\t\treturn 'pharmacode';\n\t\tcase OrderBarcodeTypes.MSI:\n\t\t\treturn 'MSI';\n\t\tdefault:\n\t\t\treturn 'BAD_STATUS';\n\t}\n}\n\nexport default OrderBarcodeTypes;\n","/**\n * Status of Carrier assigned to an Order\n *\n * @enum {number}\n */\nenum OrderCarrierStatus {\n\t/**\n\t * No Status\n\t * Shipping was not planed or started yet for this Order by any carrier, i.e. no carrier assigned to an order\n\t */\n\tNoCarrier = 0,\n\n\t/**\n\t * Some carrier decide to pick up this order and will start moving to warehouse soon.\n\t * Carrier change order status to this when see packaged order is waiting him in warehouse\n\t */\n\tCarrierSelectedOrder = 1,\n\n\t/**\n\t * Some carrier arrived to Warehouse and picked up an order products for delivery\n\t * (carrier change order status to this)\n\t */\n\tCarrierPickedUpOrder = 2,\n\n\t/**\n\t * Some carrier start delivery of order products to customer\n\t */\n\tCarrierStartDelivery = 3,\n\n\t/**\n\t * Some carrier arrived to customer location\n\t */\n\tCarrierArrivedToCustomer = 4,\n\n\t/**\n\t * Order is given to the client (delivery completed)\n\t */\n\tDeliveryCompleted = 5,\n\n\t/**\n\t * Carrier have issues during delivery (e.g. incident happens or carrier can't found address, etc)\n\t */\n\tIssuesDuringDelivery = 204,\n\n\t/**\n\t * Carrier arrives to customer location and client refuse to take order\n\t */\n\tClientRefuseTakingOrder = 205,\n}\n\n// TODO: this should be translated\nexport function carrierStatusToString(status: OrderCarrierStatus): string {\n\tswitch (status) {\n\t\tcase OrderCarrierStatus.NoCarrier:\n\t\t\treturn 'No Carrier';\n\n\t\tcase OrderCarrierStatus.CarrierSelectedOrder:\n\t\t\treturn 'Order Selected For Delivery';\n\n\t\tcase OrderCarrierStatus.CarrierPickedUpOrder:\n\t\t\treturn 'Order Picked Up';\n\n\t\tcase OrderCarrierStatus.CarrierStartDelivery:\n\t\t\treturn 'Order In Delivery';\n\n\t\tcase OrderCarrierStatus.CarrierArrivedToCustomer:\n\t\t\treturn 'Arrived To Client';\n\n\t\tcase OrderCarrierStatus.DeliveryCompleted:\n\t\t\treturn 'Delivered';\n\n\t\tcase OrderCarrierStatus.IssuesDuringDelivery:\n\t\t\treturn 'Delivery Issues';\n\n\t\tcase OrderCarrierStatus.ClientRefuseTakingOrder:\n\t\t\treturn 'Client Refuse to Take Order';\n\n\t\tdefault:\n\t\t\treturn 'BAD_STATUS';\n\t}\n}\n\nexport default OrderCarrierStatus;\n","/**\n * Status of Order\n * (used usually as combined value from Carrier status and Warehouse status)\n *\n * @enum {number}\n */\nenum OrderStatus {\n\tWarehousePreparation = 0,\n\tInDelivery = 1,\n\tDelivered = 2,\n\tCanceledWhileWarehousePreparation = 200,\n\tCanceledWhileInDelivery = 201,\n\tWarehouseIssue = 202,\n\tCarrierIssue = 203,\n}\n\nexport default OrderStatus;\n","/**\n * Warehouse Statuses\n *\n * @enum {number}\n */\nenum OrderWarehouseStatus {\n\t/**\n\t * No Status (order just created)\n\t */\n\tNoStatus = 0,\n\n\t/**\n\t * Order just received from client (OperationMode.Warehouse)\n\t * or initialized by warehouse (OperationMode.Order) and confirmed (\"ready\" for warehouse processing)\n\t * This field is useful to indicate that Warehouse Confirms an order\n\t * (e.g. to let client/customer know that Warehouse will ship/sell product)\n\t *\n\t * Note: some warehouses want to automatically confirm all orders,\n\t * but some want first to review them and confirm each one manually, one by one\n\t */\n\tReadyForProcessing = 1,\n\n\t// Warehouse start work on the order\n\t// E.g. take order to himself for OperationMode.Warehouse or just start working on order for OperationMode.Order\n\tWarehouseStartedProcessing = 2,\n\n\t// Products allocation started (warehouse)\n\tAllocationStarted = 3,\n\n\t// Warehouse finish allocation of products for packaging\n\t// (warehouse change order to this status)\n\tAllocationFinished = 4,\n\n\t// Products packaging started (warehouse)\n\tPackagingStarted = 5,\n\n\t// Products are packed for shipping by warehouse\n\t// Warehouse change order to this status and carriers see packaged orders in warehouses\n\t// and move to closest warehouse to pick order\n\tPackagingFinished = 6,\n\n\t// Order is given to some carrier for delivery\n\tGivenToCarrier = 7,\n\n\t// Order is given to customer\n\tGivenToCustomer = 8,\n\n\t// Fail to allocate products\n\t// (some products are missing in stock/warehouse)\n\tAllocationFailed = 200,\n\n\t// Fail to pack products\n\t// (something was wrong during packaging or maybe pack broken etc)\n\tPackagingFailed = 201,\n}\n\n// TODO: this should be translated\nexport function warehouseStatusToString(status: OrderWarehouseStatus): string {\n\tswitch (status) {\n\t\tcase OrderWarehouseStatus.NoStatus:\n\t\t\treturn 'Created';\n\n\t\tcase OrderWarehouseStatus.ReadyForProcessing:\n\t\t\treturn 'Confirmed';\n\n\t\tcase OrderWarehouseStatus.WarehouseStartedProcessing:\n\t\t\treturn 'Processing';\n\n\t\tcase OrderWarehouseStatus.AllocationStarted:\n\t\t\treturn 'Allocation Started';\n\n\t\tcase OrderWarehouseStatus.AllocationFinished:\n\t\t\treturn 'Allocation Finished';\n\n\t\tcase OrderWarehouseStatus.PackagingStarted:\n\t\t\treturn 'Packaging Started';\n\n\t\tcase OrderWarehouseStatus.PackagingFinished:\n\t\t\treturn 'Packaged';\n\n\t\tcase OrderWarehouseStatus.GivenToCarrier:\n\t\t\treturn 'Given to Carrier';\n\n\t\tcase OrderWarehouseStatus.GivenToCustomer:\n\t\t\treturn 'Given to Customer';\n\n\t\tcase OrderWarehouseStatus.AllocationFailed:\n\t\t\treturn 'Allocation Failed';\n\n\t\tcase OrderWarehouseStatus.PackagingFailed:\n\t\t\treturn 'Packaging Failed';\n\n\t\tdefault:\n\t\t\treturn 'BAD_STATUS';\n\t}\n}\n\nexport default OrderWarehouseStatus;\n","/**\n * Payment Gateways\n *\n * @enum {number}\n */\nenum PaymentGateways {\n\tStripe,\n\tPayPal,\n}\n\nexport function paymentGatewaysToString(\n\tpaymentGateway: PaymentGateways\n): string {\n\tswitch (paymentGateway) {\n\t\tcase PaymentGateways.Stripe:\n\t\t\treturn 'Stripe';\n\t\tcase PaymentGateways.PayPal:\n\t\t\treturn 'PayPal';\n\t\tdefault:\n\t\t\treturn 'BAD_PAYMENT_GATEWAY';\n\t}\n}\n\nexport function paymentGatewaysLogo(paymentGateway: PaymentGateways): string {\n\tswitch (paymentGateway) {\n\t\tcase PaymentGateways.Stripe:\n\t\t\treturn 'https://stripe.com/img/v3/home/twitter.png';\n\t\tcase PaymentGateways.PayPal:\n\t\t\treturn 'https://avatars1.githubusercontent.com/u/476675?s=200&v=4';\n\t\tdefault:\n\t\t\treturn 'BAD_PAYMENT_GATEWAY';\n\t}\n}\n\nexport default PaymentGateways;\n","enum RegistrationSystem {\n\tEnabled = 'enabled',\n\tDisabled = 'disabled',\n\tOnce = 'once',\n}\n\nexport default RegistrationSystem;\n","import GeoLocation from './entities/GeoLocation';\nimport { ILocation } from './interfaces/IGeoLocation';\nimport { sample } from 'lodash';\nimport Order from './entities/Order';\n\nnamespace Utils {\n\t/**\n\t * This function takes in latitude and longitude of two location and returns the distance\n\t * between them as the crow flies (in km)\n\t * You are not meant to understand this... :)\n\t * See https://stackoverflow.com/questions/18883601/function-to-calculate-distance-between-two-coordinates-shows-wrong\n\t *\n\t * @export\n\t * @param {number} lat1\n\t * @param {number} lon1\n\t * @param {number} lat2\n\t * @param {number} lon2\n\t * @returns {number}\n\t */\n\texport function calcCrow(\n\t\tlat1: number,\n\t\tlon1: number,\n\t\tlat2: number,\n\t\tlon2: number\n\t): number {\n\t\tconst R: number = 6371; // km\n\t\tconst dLat: number = Utils._toRad(lat2 - lat1);\n\t\tconst dLon: number = Utils._toRad(lon2 - lon1);\n\n\t\tlat1 = Utils._toRad(lat1);\n\t\tlat2 = Utils._toRad(lat2);\n\n\t\tconst a =\n\t\t\tMath.pow(Math.sin(dLat / 2), 2) +\n\t\t\tMath.pow(Math.sin(dLon / 2), 2) * Math.cos(lat1) * Math.cos(lat2);\n\n\t\tconst c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n\n\t\tconst d = R * c;\n\n\t\treturn d;\n\t}\n\n\t// tslint:disable-next-line:no-shadowed-variable\n\texport function getDistance(\n\t\tgeoLocation1: GeoLocation,\n\t\tgeoLocation2: GeoLocation\n\t): number {\n\t\treturn getLocDistance(geoLocation1.loc, geoLocation2.loc);\n\t}\n\n\texport function getLocDistance(loc1: ILocation, loc2: ILocation): number {\n\t\treturn calcCrow(\n\t\t\tloc1.coordinates[0],\n\t\t\tloc1.coordinates[1],\n\t\t\tloc2.coordinates[0],\n\t\t\tloc2.coordinates[1]\n\t\t);\n\t}\n\n\t/**\n\t * Converts numeric degrees to radians\n\t *\n\t * @export\n\t * @param {number} v\n\t * @returns {number}\n\t */\n\texport function _toRad(v: number): number {\n\t\treturn (v * Math.PI) / 180;\n\t}\n\n\t/**\n\t * Returns a random integer between min (included) and max (excluded)\n\t * Using Math.round() will give you a non-uniform distribution!\n\t *\n\t * @export\n\t * @param {*} min\n\t * @param {*} max\n\t * @returns {number}\n\t */\n\texport function getRandomInt(min, max): number {\n\t\treturn Math.floor(Math.random() * (max - min)) + min;\n\t}\n\n\t// tslint:disable-next-line:no-shadowed-variable\n\texport function toDate(date: string | Date) {\n\t\tif (date instanceof Date) {\n\t\t\treturn date;\n\t\t} else {\n\t\t\treturn new Date(date);\n\t\t}\n\t}\n\n\texport function generatedLogoColor() {\n\t\treturn sample(['#269aff', '#ffaf26', '#8b72ff', '#0ecc9D']).replace(\n\t\t\t'#',\n\t\t\t''\n\t\t);\n\t}\n}\n\nexport const getDistance = Utils.getDistance;\nexport const toDate = Utils.toDate;\nexport const getDummyImage = (\n\twidth: number,\n\theight: number,\n\tletter: string\n) => {\n\treturn `https://dummyimage.com/${width}x${height}/${Utils.generatedLogoColor()}/ffffff.jpg&text=${letter}`;\n};\n\nexport const getPlaceholditImgix = (\n\twidth: number,\n\theight: number,\n\tfontSize: number,\n\tname: string\n) => {\n\treturn `https://placeholdit.imgix.net/~text?txtsize=${fontSize}&txt=${name}&w=${width}&h=${height}`;\n};\n\nexport const getFakeImg = (\n\twidth: number,\n\theight: number,\n\tfontSize: number,\n\tname: string\n) => {\n\treturn `https://fakeimg.pl/${width}x${height}/FFD890%2C128/000/?text=${name}&font_size=${fontSize}`;\n};\n\nexport const generateObjectIdString = (\n\tm = Math,\n\td = Date,\n\th = 16,\n\ts = (x) => m.floor(x).toString(h)\n) => {\n\treturn (\n\t\ts(d.now() / 1000) + ' '.repeat(h).replace(/./g, () => s(m.random() * h))\n\t);\n};\n\nexport function getIdFromTheDate(order: Order): string {\n\tif (!order['createdAt'] || !order.orderNumber) {\n\t\tthrow `Can't use getIdFromTheDate function. Property ${\n\t\t\t!order['createdAt'] ? 'createdAt' : 'orderNumber'\n\t\t} is missing!`;\n\t}\n\tconst [day, month, year] = new Date(order['createdAt'])\n\t\t.toLocaleDateString()\n\t\t.split('/');\n\n\tlet d = ('0' + day).slice(-2);\n\td = d.substr(-2);\n\tlet m = ('0' + month).slice(-2);\n\tm = m.substr(-2);\n\n\treturn `${d}${m}${year}-${order.orderNumber}`;\n}\n\nexport default Utils;\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes, Router, ExtraOptions } from '@angular/router';\nimport { PagesModuleGuard } from './pages/pages.module.guard';\nimport { MaintenanceModuleGuard } from './maintenance-info/maintenance-info.module.guard';\nimport { Store } from './services/store.service';\n\nconst routes: Routes = [\n\t{\n\t\tpath: '',\n\t\tloadChildren: () =>\n\t\t\timport('./pages/pages.module').then((m) => m.PagesModule),\n\t\tcanActivate: [PagesModuleGuard],\n\t},\n\t{\n\t\tpath: 'maintenance-info',\n\t\tloadChildren: () =>\n\t\t\timport('./maintenance-info/maintenance-info.module').then(\n\t\t\t\t(m) => m.MaintenanceInfoPageModule\n\t\t\t),\n\t\tcanActivate: [MaintenanceModuleGuard],\n\t},\n\t{\n\t\tpath: 'server-down',\n\t\tloadChildren: () =>\n\t\t\timport('./+server-down/server-down.module').then(\n\t\t\t\t(m) => m.ServerDownPageModule\n\t\t\t),\n\t},\n\t{\n\t\tpath: '**',\n\t\tpathMatch: 'full',\n\t\tredirectTo: '',\n\t},\n];\n\nconst config: ExtraOptions = {\n\tuseHash: true,\n\tenableTracing: true,\n};\n\n@NgModule({\n\t// imports: [RouterModule.forRoot(routes, config)],\n\timports: [RouterModule.forRoot(routes)],\n\texports: [RouterModule],\n})\nexport class AppRoutingModule {\n\tconstructor(private store: Store, private router: Router) {\n\t\t// const serverConnection = Number(this.store.serverConnection);\n\t\t// if (serverConnection === 0) {\n\t\t//  \tthis.router.navigate(['server-down']);\n\t\t// }\n\t}\n}\n","import { Component } from '@angular/core';\nimport { Location } from '@angular/common';\nimport { Platform } from '@ionic/angular';\nimport { StatusBar } from '@ionic-native/status-bar/ngx';\nimport { SplashScreen } from '@ionic-native/splash-screen/ngx';\nimport { Network } from '@ionic-native/network/ngx';\nimport { TranslateService } from '@ngx-translate/core';\nimport { DeviceRouter } from '@modules/client.common.angular2/routers/device-router.service';\nimport ILanguage from '@modules/server.common/interfaces/ILanguage';\nimport IPlatform from '@modules/server.common/interfaces/IPlatform';\nimport { Device } from '@ionic-native/device/ngx';\nimport { Router } from '@angular/router';\nimport { Store } from './services/store.service';\nimport { environment } from 'environments/environment';\n\n@Component({\n\tselector: 'e-cu-root',\n\ttemplateUrl: 'app.component.html',\n})\nexport class AppComponent {\n\tdefaultLanguage = '';\n\n\tconstructor(\n\t\tpublic readonly platform: Platform,\n\t\tprivate readonly store: Store,\n\t\tprivate readonly router: Router,\n\t\tprivate readonly deviceRouter: DeviceRouter,\n\t\tprivate readonly _translateService: TranslateService,\n\t\tprivate readonly location: Location,\n\t\tprivate statusBar: StatusBar,\n\t\tprivate splashScreen: SplashScreen,\n\t\tprivate network: Network,\n\t\tprivate device: Device\n\t) {\n\t\tthis._initializeApp();\n\n\t\tthis.defaultLanguage = environment['DEFAULT_LANGUAGE'];\n\n\t\t_translateService.addLangs([\n\t\t\t'en-US',\n\t\t\t'bg-BG',\n\t\t\t'he-IL',\n\t\t\t'ru-RU',\n\t\t\t'es-ES',\n\t\t\t'it-IT',\n\t\t\t'fr-FR',\n\t\t]);\n\n\t\t_translateService.setDefaultLang('en-US');\n\n\t\tconst browserLang = _translateService.getBrowserLang();\n\n\t\tif (this.defaultLanguage) {\n\t\t\t_translateService.use(this.defaultLanguage);\n\t\t} else {\n\t\t\t_translateService.use(\n\t\t\t\tbrowserLang.match(/en-US|bg-BG|he-HE|ru-RU|es-ES|it-IT|fr-FR/)\n\t\t\t\t\t? browserLang\n\t\t\t\t\t: 'en-US'\n\t\t\t);\n\t\t}\n\t}\n\n\tasync getChannelId(): Promise<string | null> {\n\t\tconst urbanAirshipPlugin = (window as any).UrbanAirshipPlugin;\n\n\t\tif (urbanAirshipPlugin !== undefined) {\n\t\t\treturn new Promise<string>((resolve) =>\n\t\t\t\turbanAirshipPlugin.getChannelID((channelID) =>\n\t\t\t\t\tresolve(channelID)\n\t\t\t\t)\n\t\t\t);\n\t\t} else {\n\t\t\tif (this.platform.is('cordova')) {\n\t\t\t\tconsole.error(\n\t\t\t\t\t\"DeviceService can't getChannelId() because UrbanAirship plugin isn't installed!\"\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t}\n\n\tgetLanguage(): ILanguage {\n\t\treturn this.store.language;\n\t}\n\n\tgetPlatform(): IPlatform {\n\t\treturn this.platform.is('cordova')\n\t\t\t? (this.device.platform.toLowerCase() as IPlatform)\n\t\t\t: 'browser';\n\t}\n\n\tgetUUID(): string {\n\t\treturn this.platform.is('cordova')\n\t\t\t? this.device.uuid\n\t\t\t: environment.FAKE_UUID;\n\t}\n\n\tasync openPage(page) {\n\t\tawait this.router.navigate(page.url);\n\t}\n\n\tprivate _watchNetworkConnection() {\n\t\tthis.network.onDisconnect().subscribe(async () => {\n\t\t\tconsole.error('Network was disconnected!');\n\t\t\tawait this.router.navigate(['errors', 'connection-lost']);\n\t\t});\n\t\tthis.network.onConnect().subscribe(() => {\n\t\t\tconsole.warn('Network connected!');\n\t\t\tthis.location.back();\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (this.network.type === 'wifi') {\n\t\t\t\t\tconsole.log('Wifi connection detected!');\n\t\t\t\t}\n\t\t\t}, 3000);\n\t\t});\n\t}\n\n\tprivate async _initializeApp() {\n\t\tawait this.platform.ready();\n\n\t\tthis._watchNetworkConnection();\n\n\t\tthis.statusBar.styleBlackOpaque();\n\t\tthis.splashScreen.hide();\n\n\t\tif (!this.store.deviceId) {\n\t\t\tawait this._registerDeviceDevMode();\n\t\t}\n\n\t\t// await this._watchDeviceUpdates();\n\t}\n\n\tprivate async _registerDeviceDevMode() {\n\t\tconst device = await this.deviceRouter.create({\n\t\t\tchannelId: await this.getChannelId(),\n\t\t\tlanguage: this.getLanguage(),\n\t\t\ttype: this.getPlatform(),\n\t\t\tuuid: this.getUUID(),\n\t\t});\n\n\t\tthis.store.deviceId = device.id;\n\t}\n\n\t// private async _watchDeviceUpdates() {\n\t// \tthis._translateService.onLangChange.subscribe(async ({ lang }) => {\n\t// \t\tawait this.deviceRouter.updateLanguage(this.store.deviceId, lang);\n\t// \t});\n\t// }\n}\n","import { NgModule, APP_INITIALIZER } from '@angular/core';\nimport { HttpClient, HttpClientModule } from '@angular/common/http';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { InAppBrowser } from '@ionic-native/in-app-browser/ngx';\nimport { SplashScreen } from '@ionic-native/splash-screen/ngx';\nimport { StatusBar } from '@ionic-native/status-bar/ngx';\nimport { RouteReuseStrategy } from '@angular/router';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { IonicModule, IonicRouteStrategy } from '@ionic/angular';\nimport { IonicStorageModule } from '@ionic/storage';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\nimport { TranslateLoader, TranslateModule } from '@ngx-translate/core';\nimport { CommonModule } from '@modules/client.common.angular2/common.module';\nimport { MenuModule } from './components/menu/menu.module';\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\n// import { Logger } from 'angular2-logger/core';\nimport { environment } from 'environments/environment';\nimport { HttpLink, HttpLinkModule } from 'apollo-angular-link-http';\nimport { Apollo, ApolloModule } from 'apollo-angular';\nimport { InMemoryCache } from 'apollo-cache-inmemory';\nimport { WebSocketLink } from 'apollo-link-ws';\nimport { setContext } from 'apollo-link-context';\nimport { ApolloLink } from 'apollo-link';\nimport { getOperationAST } from 'graphql';\nimport { Store } from './services/store.service';\nimport { ServerSettings } from './services/server-settings';\nimport { GoogleMapsLoader } from '@modules/client.common.angular2/services/googleMapsLoader';\nimport { MaintenanceService } from '@modules/client.common.angular2/services/maintenance.service';\nimport { PagesModuleGuard } from './pages/pages.module.guard';\nimport { MaintenanceModuleGuard } from './maintenance-info/maintenance-info.module.guard';\nimport { ServiceWorkerModule } from '@angular/service-worker';\nimport { Network } from '@ionic-native/network/ngx';\nimport { Device } from '@ionic-native/device/ngx';\nimport { ServerConnectionService } from '@modules/client.common.angular2/services/server-connection.service';\n\n@NgModule({\n\tdeclarations: [AppComponent],\n\timports: [\n\t\tBrowserModule,\n\t\tAppRoutingModule,\n\t\tHttpClientModule,\n\t\tBrowserAnimationsModule,\n\t\tMenuModule,\n\t\tApolloModule,\n\t\tHttpLinkModule,\n\t\tIonicModule.forRoot(),\n\t\tIonicStorageModule.forRoot(),\n\t\tTranslateModule.forRoot({\n\t\t\tloader: {\n\t\t\t\tprovide: TranslateLoader,\n\t\t\t\tuseFactory: HttpLoaderFactory,\n\t\t\t\tdeps: [HttpClient],\n\t\t\t},\n\t\t}),\n\t\tCommonModule.forRoot({\n\t\t\tapiUrl: environment.SERVICES_ENDPOINT,\n\t\t}),\n\t\tServiceWorkerModule.register('ngsw-worker.js', {\n\t\t\tenabled: environment.production,\n\t\t}),\n\t],\n\tentryComponents: [AppComponent],\n\tproviders: [\n\t\tInAppBrowser,\n\t\tSplashScreen,\n\t\tStatusBar,\n\t\tNetwork,\n\t\tDevice,\n\t\tServerConnectionService,\n\t\t{\n\t\t\tprovide: APP_INITIALIZER,\n\t\t\tuseFactory: serverConnectionFactory,\n\t\t\tdeps: [ServerConnectionService, Store],\n\t\t\tmulti: true,\n\t\t},\n\t\tGoogleMapsLoader,\n\t\t{\n\t\t\tprovide: APP_INITIALIZER,\n\t\t\tuseFactory: googleMapsLoaderFactory,\n\t\t\tdeps: [GoogleMapsLoader],\n\t\t\tmulti: true,\n\t\t},\n\t\tMaintenanceService,\n\t\t{\n\t\t\tprovide: APP_INITIALIZER,\n\t\t\tuseFactory: maintenanceFactory,\n\t\t\tdeps: [MaintenanceService],\n\t\t\tmulti: true,\n\t\t},\n\t\tServerSettings,\n\t\t{\n\t\t\tprovide: APP_INITIALIZER,\n\t\t\tuseFactory: serverSettingsFactory,\n\t\t\tdeps: [ServerSettings],\n\t\t\tmulti: true,\n\t\t},\n\t\t{ provide: RouteReuseStrategy, useClass: IonicRouteStrategy },\n\t\t// Logger,\n\t\tPagesModuleGuard,\n\t\tMaintenanceModuleGuard,\n\t],\n\tbootstrap: [AppComponent],\n})\nexport class AppModule {\n\tconstructor(\n\t\tprivate readonly apollo: Apollo,\n\t\tprivate readonly httpLink: HttpLink,\n\t\tprivate readonly store: Store\n\t) {\n\t\tthis._setupApolloAngular();\n\t}\n\n\tprivate _setupApolloAngular() {\n\t\t// Create an http link\n\t\tconst http = this.httpLink.create({\n\t\t\turi: environment.GQL_ENDPOINT,\n\t\t});\n\n\t\t// Create a WebSocket link\n\t\tconst ws = new WebSocketLink({\n\t\t\turi: environment.GQL_SUBSCRIPTIONS_ENDPOINT,\n\t\t\toptions: {\n\t\t\t\treconnect: true,\n\t\t\t\tlazy: true,\n\t\t\t},\n\t\t});\n\n\t\tconst authLink = setContext((_, { headers }) => {\n\t\t\t// get the authentication token from local storage if it exists\n\t\t\tconst token = this.store.token;\n\t\t\t// return the headers to the context so httpLink can read them\n\t\t\treturn {\n\t\t\t\theaders: {\n\t\t\t\t\t...headers,\n\t\t\t\t\tauthorization: token ? `Bearer ${token}` : '',\n\t\t\t\t},\n\t\t\t};\n\t\t});\n\n\t\tthis.apollo.create({\n\t\t\tlink: authLink.concat(\n\t\t\t\tApolloLink.split(\n\t\t\t\t\t(operation) => {\n\t\t\t\t\t\tconst operationAST = getOperationAST(\n\t\t\t\t\t\t\toperation.query,\n\t\t\t\t\t\t\toperation.operationName\n\t\t\t\t\t\t);\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t!!operationAST &&\n\t\t\t\t\t\t\toperationAST.operation === 'subscription'\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t\tws,\n\t\t\t\t\thttp\n\t\t\t\t)\n\t\t\t),\n\t\t\tdefaultOptions: {\n\t\t\t\twatchQuery: {\n\t\t\t\t\tfetchPolicy: 'network-only',\n\t\t\t\t\terrorPolicy: 'ignore',\n\t\t\t\t},\n\t\t\t\tquery: {\n\t\t\t\t\tfetchPolicy: 'network-only',\n\t\t\t\t\terrorPolicy: 'all',\n\t\t\t\t},\n\t\t\t},\n\t\t\tcache: new InMemoryCache(),\n\t\t});\n\t}\n}\n\nexport function HttpLoaderFactory(http: HttpClient) {\n\treturn new TranslateHttpLoader(http, './assets/i18n/', '.json');\n}\n\n/*\nexport function serverSettingsFactory(\n\tserverSettings: ServerSettings,\n\tserverConnectionService: ServerConnectionService,\n\tstore: Store\n) {\n\treturn async () => {\n\t\tawait serverConnectionService.load(\n\t\t\tenvironment.SERVICES_ENDPOINT,\n\t\t\tstore\n\t\t);\n\t\tawait serverSettings.load();\n\t};\n}\n*/\n\nexport function serverSettingsFactory(provider: ServerSettings) {\n\treturn () => provider.load();\n}\n\nexport function maintenanceFactory(provider: MaintenanceService) {\n\treturn () =>\n\t\tprovider.load(\n\t\t\tenvironment['SETTINGS_APP_TYPE'],\n\t\t\tenvironment['SETTINGS_MAINTENANCE_API_URL']\n\t\t);\n}\n\nexport function googleMapsLoaderFactory(provider: GoogleMapsLoader) {\n\treturn () => provider.load(environment.GOOGLE_MAPS_API_KEY);\n}\n\nexport function serverConnectionFactory(\n\tprovider: ServerConnectionService,\n\tstore: Store\n) {\n\treturn () => provider.load(environment.SERVICES_ENDPOINT, store);\n}\n","export default \"ion-title {\\n  text-align: center;\\n}\\n\\nion-item-divider {\\n  visibility: visible;\\n}\\n\\nion-item-divider ion-icon {\\n  margin-right: 10px;\\n}\\n\\nion-item {\\n  visibility: visible;\\n}\\n\\nion-item ion-icon {\\n  margin-right: 15px;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9tbnQvZC9Xb3JrL0FuZ3VsYXIvTmV3IGZvbGRlciAoMikvRG9sY2VHcm9jZXJ5L3BhY2thZ2VzL3Nob3AtbW9iaWxlLWlvbmljL3NyYy9hcHAvY29tcG9uZW50cy9tZW51L21lbnUuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2NvbXBvbmVudHMvbWVudS9tZW51LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Msa0JBQWtCO0FDQ25COztBREVBO0VBQ0MsbUJBQW1CO0FDQ3BCOztBREZBO0VBR0Usa0JBQWtCO0FDR3BCOztBRENBO0VBQ0MsbUJBQW1CO0FDRXBCOztBREhBO0VBR0Usa0JBQWtCO0FDSXBCIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9tZW51L21lbnUuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tdGl0bGUge1xuXHR0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbmlvbi1pdGVtLWRpdmlkZXIge1xuXHR2aXNpYmlsaXR5OiB2aXNpYmxlO1xuXHRpb24taWNvbiB7XG5cdFx0bWFyZ2luLXJpZ2h0OiAxMHB4O1xuXHR9XG59XG5cbmlvbi1pdGVtIHtcblx0dmlzaWJpbGl0eTogdmlzaWJsZTtcblx0aW9uLWljb24ge1xuXHRcdG1hcmdpbi1yaWdodDogMTVweDtcblx0fVxufVxuIiwiaW9uLXRpdGxlIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG5pb24taXRlbS1kaXZpZGVyIHtcbiAgdmlzaWJpbGl0eTogdmlzaWJsZTtcbn1cblxuaW9uLWl0ZW0tZGl2aWRlciBpb24taWNvbiB7XG4gIG1hcmdpbi1yaWdodDogMTBweDtcbn1cblxuaW9uLWl0ZW0ge1xuICB2aXNpYmlsaXR5OiB2aXNpYmxlO1xufVxuXG5pb24taXRlbSBpb24taWNvbiB7XG4gIG1hcmdpbi1yaWdodDogMTVweDtcbn1cbiJdfQ== */\";","import { Component } from '@angular/core';\nimport { CallNumber } from '@ionic-native/call-number';\nimport { environment } from 'environments/environment';\nimport { Store } from 'app/services/store.service';\nimport { WarehouseRouter } from '@modules/client.common.angular2/routers/warehouse-router.service';\nimport { first } from 'rxjs/operators';\nimport Warehouse from '@modules/server.common/entities/Warehouse';\n\n@Component({\n\tselector: 'e-cu-menu',\n\ttemplateUrl: './menu.component.html',\n\tstyleUrls: ['./menu.component.scss'],\n})\nexport class MenuComponent {\n\tmerchant: Warehouse;\n\n\tprivate _ourSupportNumber = environment.SUPPORT_NUMBER;\n\n\tconstructor(\n\t\tprivate store: Store,\n\t\tprivate warehouseRouter: WarehouseRouter\n\t) {}\n\n\tget maintenanceMode() {\n\t\treturn this.store.maintenanceMode;\n\t}\n\n\tmenuOpened() {\n\t\tthis.loadMerchant();\n\t}\n\n\tasync callUs() {\n\t\ttry {\n\t\t\tawait CallNumber.callNumber(this._ourSupportNumber, true);\n\t\t} catch (err) {\n\t\t\t// TODO: implement popup notification\n\t\t\tconsole.error('Call Was Unsuccessful!');\n\t\t}\n\t}\n\n\tprivate async loadMerchant() {\n\t\tif (this.store.inStore) {\n\t\t\tthis.merchant = await this.warehouseRouter\n\t\t\t\t.get(this.store.inStore, false)\n\t\t\t\t.pipe(first())\n\t\t\t\t.toPromise();\n\t\t} else {\n\t\t\tthis.merchant = null;\n\t\t}\n\t}\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport { MenuComponent } from './menu.component';\nimport { RouterModule } from '@angular/router';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tRouterModule,\n\t\tIonicModule,\n\t\tTranslateModule.forChild(),\n\t],\n\texports: [MenuComponent],\n\tdeclarations: [MenuComponent],\n})\nexport class MenuModule {}\n","import { Injectable } from '@angular/core';\nimport {\n\tRouter,\n\tCanActivate,\n\tActivatedRouteSnapshot,\n\tRouterStateSnapshot,\n} from '@angular/router';\nimport { Store } from 'app/services/store.service';\n\n@Injectable()\nexport class MaintenanceModuleGuard implements CanActivate {\n\tconstructor(\n\t\tprivate readonly router: Router,\n\t\tprivate readonly store: Store\n\t) {}\n\n\tcanActivate(\n\t\troute: ActivatedRouteSnapshot,\n\t\tstate: RouterStateSnapshot\n\t): boolean {\n\t\tconst maintenanceMode = this.store.maintenanceMode;\n\t\tif (!maintenanceMode) {\n\t\t\tthis.router.navigate(['']);\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport {\n\tRouter,\n\tCanActivate,\n\tActivatedRouteSnapshot,\n\tRouterStateSnapshot,\n} from '@angular/router';\nimport { Store } from 'app/services/store.service';\n\n@Injectable()\nexport class PagesModuleGuard implements CanActivate {\n\tconstructor(\n\t\tprivate readonly router: Router,\n\t\tprivate readonly store: Store\n\t) {}\n\n\tcanActivate(\n\t\troute: ActivatedRouteSnapshot,\n\t\tstate: RouterStateSnapshot\n\t): boolean {\n\t\tconst maintenanceMode = this.store.maintenanceMode;\n\t\tif (maintenanceMode) {\n\t\t\tthis.router.navigate(['maintenance-info']);\n\t\t\treturn false;\n\t\t}\n\t\tconst serverConnection = Number(this.store.serverConnection);\n\t\tif (serverConnection === 0) {\n\t\t\tthis.router.navigate(['server-down']);\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { InviteRouter } from '@modules/client.common.angular2/routers/invite-router.service';\nimport { Store } from './store.service';\nimport { UserAuthRouter } from '@modules/client.common.angular2/routers/user-auth-router.service';\nimport RegistrationSystem from '@modules/server.common/enums/RegistrationSystem';\n\n@Injectable({\n\tprovidedIn: 'root',\n})\nexport class ServerSettings {\n\tconstructor(\n\t\tprivate readonly inviteRouter: InviteRouter,\n\t\tprivate readonly userAuthRouter: UserAuthRouter,\n\t\tprivate readonly store: Store\n\t) {}\n\n\tasync load() {\n\t\treturn new Promise(async (resolve, reject) => {\n\t\t\tif (\n\t\t\t\t!this.store.maintenanceMode &&\n\t\t\t\tNumber(this.store.serverConnection) !== 0\n\t\t\t) {\n\t\t\t\tconst inviteSystem = await this.inviteRouter.getInvitesSettings();\n\t\t\t\tconst registrationSystem = await this.userAuthRouter.getRegistrationsSettings();\n\n\t\t\t\tthis.store.inviteSystem = inviteSystem.isEnabled;\n\t\t\t\tthis.store.registrationSystem = registrationSystem.registrationRequiredOnStart\n\t\t\t\t\t? RegistrationSystem.Enabled\n\t\t\t\t\t: RegistrationSystem.Disabled;\n\t\t\t}\n\n\t\t\tresolve(true);\n\t\t});\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport ILanguage from '@modules/server.common/interfaces/ILanguage';\nimport Order from '@modules/server.common/entities/Order';\nimport Device from '@modules/server.common/entities/Device';\nimport User from '@modules/server.common/entities/User';\nimport InviteRequest from '@modules/server.common/entities/InviteRequest';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Globalization } from '@ionic-native/globalization';\nimport { Platform } from '@ionic/angular';\nimport { InviteRouter } from '@modules/client.common.angular2/routers/invite-router.service';\nimport { first } from 'rxjs/operators';\nimport { UserRouter } from '@modules/client.common.angular2/routers/user-router.service';\n\n// TODO use https://beta.ionicframework.com/docs/building/storage\n\n@Injectable({\n\tprovidedIn: 'root',\n})\nexport class Store {\n\tconstructor(\n\t\tprivate readonly _translateService: TranslateService,\n\t\tprivate readonly platform: Platform,\n\t\tprivate readonly inviteRouter: InviteRouter,\n\t\tprivate readonly userRouter: UserRouter\n\t) {\n\t\tthis._initLanguage();\n\t}\n\n\tget token(): string | null {\n\t\treturn localStorage.getItem('token') || null;\n\t}\n\n\tset token(token: string) {\n\t\tif (token == null) {\n\t\t\tlocalStorage.removeItem('token');\n\t\t} else {\n\t\t\tlocalStorage.setItem('token', token);\n\t\t}\n\t}\n\n\tget inviteRequestId(): InviteRequest['id'] | null {\n\t\treturn localStorage.getItem('_inviteRequestId') || null;\n\t}\n\n\tset inviteRequestId(id: InviteRequest['id'] | null) {\n\t\tif (id == null) {\n\t\t\tlocalStorage.removeItem('_inviteRequestId');\n\t\t} else {\n\t\t\tlocalStorage.setItem('_inviteRequestId', id);\n\t\t}\n\t}\n\n\tget userId(): User['id'] | null {\n\t\treturn localStorage.getItem('_userId') || null;\n\t}\n\n\tset userId(id: User['id'] | null) {\n\t\tif (id == null) {\n\t\t\tlocalStorage.removeItem('_userId');\n\t\t} else {\n\t\t\tlocalStorage.setItem('_userId', id);\n\t\t}\n\t}\n\n\tget deviceId(): string | null {\n\t\treturn localStorage.getItem('_deviceId') || null;\n\t}\n\n\tset deviceId(id: Device['id'] | null) {\n\t\tif (id == null) {\n\t\t\tlocalStorage.removeItem('_deviceId');\n\t\t} else {\n\t\t\tlocalStorage.setItem('_deviceId', id);\n\t\t}\n\t}\n\n\tget orderId(): Order['id'] | null {\n\t\treturn localStorage.getItem('_orderId') || null;\n\t}\n\n\tset orderId(id: Order['id'] | null) {\n\t\tif (id == null) {\n\t\t\tlocalStorage.removeItem('_orderId');\n\t\t} else {\n\t\t\tlocalStorage.setItem('_orderId', id);\n\t\t}\n\t}\n\n\tget language(): ILanguage {\n\t\treturn this._translateService.currentLang as ILanguage;\n\t}\n\n\tset language(l: ILanguage) {\n\t\tif (l == null) {\n\t\t\tlocalStorage.removeItem('_language');\n\t\t} else {\n\t\t\tlocalStorage.setItem('_language', l);\n\t\t}\n\n\t\tthis._translateService.use(l);\n\t}\n\n\tget orderWarehouseId(): Order['warehouseId'] | null {\n\t\treturn localStorage.getItem('_currOrderWarehouseId') || null;\n\t}\n\n\tset orderWarehouseId(id: Order['warehouseId'] | null) {\n\t\tif (id == null) {\n\t\t\tlocalStorage.removeItem('_currOrderWarehouseId');\n\t\t} else {\n\t\t\tlocalStorage.setItem('_currOrderWarehouseId', id);\n\t\t}\n\t}\n\n\tget inviteSystem(): boolean {\n\t\tconst isEnabled = localStorage.getItem('_inviteSystem') === 'enabled';\n\t\treturn isEnabled;\n\t}\n\n\tset inviteSystem(isEndabled: boolean) {\n\t\tconst inviteSystem = isEndabled ? 'enabled' : 'disabled';\n\t\tlocalStorage.setItem('_inviteSystem', inviteSystem);\n\t}\n\n\tget registrationSystem(): string {\n\t\treturn localStorage.getItem('_registrationSystem');\n\t}\n\n\tset registrationSystem(registrationRequiredOnStart: string) {\n\t\tlocalStorage.setItem(\n\t\t\t'_registrationSystem',\n\t\t\tregistrationRequiredOnStart\n\t\t);\n\t}\n\n\tget buyProduct(): string {\n\t\treturn localStorage.getItem('_buyProduct');\n\t}\n\n\tset buyProduct(warehouseProductId: string) {\n\t\tlocalStorage.setItem('_buyProduct', warehouseProductId);\n\t}\n\n\tget backToDetails(): string {\n\t\treturn localStorage.getItem('_backToDetails');\n\t}\n\n\tset backToDetails(warehouseProductId: string) {\n\t\tlocalStorage.setItem('_backToDetails', warehouseProductId);\n\t}\n\n\tget warehouseId(): string {\n\t\treturn localStorage.getItem('_warehouseId');\n\t}\n\n\tset warehouseId(warehouseId: string) {\n\t\tlocalStorage.setItem('_warehouseId', warehouseId);\n\t}\n\n\tget maintenanceMode(): string | null {\n\t\treturn localStorage.getItem('maintenanceMode') || null;\n\t}\n\n\tget deliveryType(): number {\n\t\treturn Number(localStorage.getItem('deliveryType'));\n\t}\n\n\tset deliveryType(deliveryType: number) {\n\t\tlocalStorage.setItem('deliveryType', deliveryType.toString());\n\t}\n\n\tget startOrderDate() {\n\t\treturn localStorage.getItem('startDate');\n\t}\n\n\tset startOrderDate(val: string) {\n\t\tlocalStorage.setItem('startDate', JSON.stringify(val));\n\t}\n\n\tget endOrderTime() {\n\t\treturn localStorage.getItem('endTime');\n\t}\n\n\tset endOrderTime(val: string) {\n\t\tlocalStorage.setItem('endTime', JSON.stringify(val));\n\t}\n\n\tget inviteAddress() {\n\t\treturn localStorage.getItem('inviteAddress');\n\t}\n\n\tset inviteAddress(val: string) {\n\t\tlocalStorage.setItem('inviteAddress', val);\n\t}\n\n\tget serverConnection() {\n\t\treturn localStorage.getItem('serverConnection');\n\t}\n\n\tset serverConnection(val: string) {\n\t\tlocalStorage.setItem('serverConnection', val);\n\t}\n\n\tget inStore() {\n\t\treturn localStorage.getItem('inStore');\n\t}\n\n\tset inStore(val: string) {\n\t\tlocalStorage.setItem('inStore', val);\n\t}\n\n\tclearInStore() {\n\t\tlocalStorage.removeItem('inStore');\n\t}\n\n\tclearMaintenanceMode() {\n\t\tlocalStorage.removeItem('maintenanceMode');\n\t}\n\n\tclear() {\n\t\tlocalStorage.clear();\n\t}\n\n\tasync isLogged() {\n\t\tconst userId = this.userId;\n\n\t\tif (userId) {\n\t\t\ttry {\n\t\t\t\tawait this.userRouter.get(userId).pipe(first()).toPromise();\n\t\t\t\treturn true;\n\t\t\t} catch (error) {\n\t\t\t\tthis.userId = null;\n\t\t\t}\n\t\t}\n\n\t\tconsole.warn(`User with id '${userId}' does not exists!\"`);\n\t\treturn false;\n\t}\n\n\tprivate async _initLanguage() {\n\t\tconst lang = (localStorage.getItem('_language') as ILanguage) || null;\n\t\tconst langs = { he: 'he-IL', ru: 'ru-RU', bg: 'bg-BG', en: 'en-US', it: 'it-IT', fr: 'fr-FR' };\n\t\t// This 4 lines is here because of bug => without this lines, lang translation doesn't work.\n\t\t// (The bug is unknown)\n\t\tthis._translateService.use(langs.he);\n\t\tthis._translateService.use(langs.ru);\n\t\tthis._translateService.use(langs.bg);\n\t\tthis._translateService.use(langs.en);\n\t\tthis._translateService.use(langs.it);\n\t\tthis._translateService.use(langs.fr);\n\t\tthis._translateService.resetLang(langs.en);\n\n\t\tif (lang) {\n\t\t\tthis._translateService.use(lang);\n\t\t} else {\n\t\t\tconst browserLang = this.platform.is('cordova')\n\t\t\t\t? (await Globalization.getPreferredLanguage()).value\n\t\t\t\t: this._translateService.getBrowserLang();\n\t\t\tif (langs[browserLang]) {\n\t\t\t\tthis._translateService.use(langs[browserLang]);\n\t\t\t} else {\n\t\t\t\tthis._translateService.use(langs.en);\n\t\t\t}\n\t\t}\n\t}\n}\n","// NOTE: Auto-generated file\n// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses 'environment.ts', but if you do\n// 'ng build --env=prod' then 'environment.prod.ts' will be used instead.\n// The list of which env maps to which file can be found in '.angular-cli.json'.\n\nimport { Environment } from './model';\n\nexport const environment: Environment = {\n  production: false,\n\n  VERSION: '1.0.0',\n\n  // 'slides' | 'list'\n  PRODUCTS_VIEW_TYPE: 'slides',\n\n  // 'popup' or 'page'\n  ORDER_INFO_TYPE: 'page',\n\n  API_FILE_UPLOAD_URL: 'https://api.cloudinary.com/v1_1/evereq/upload',\n\n  INVITE_BY_CODE_LOGO: 'assets/imgs/logo.png',\n  NO_INTERNET_LOGO: 'assets/imgs/logo.png',\n\n  COMPANY_NAME: 'Ever Co. LTD',\n\n  GOOGLE_MAPS_API_KEY: '',\n\n  GOOGLE_ANALYTICS_API_KEY: '',\n\n  FAKE_UUID: '554990bf-ab3d-4d54-9252-5cf8c4eee2d6',\n\n  // Not secret MixPanel Token\n  MIXPANEL_API_KEY: '',\n\n  DEFAULT_LANGUAGE: 'en-US',\n  DEFAULT_LOCALE: 'en-US',\n\n  DELIVERY_TIME_MIN: 30,\n  DELIVERY_TIME_MAX: 60,\n\n  SUPPORT_NUMBER: '0888888888',\n\n  STRIPE_PUBLISHABLE_KEY: '',\n\n  STRIPE_POP_UP_LOGO: 'https://bitbucket-assetroot.s3.amazonaws.com/c/photos/2016/Jan/30/1263967991-1-everbie-avatar.png',\n\n  MAP_MERCHANT_ICON_LINK: 'http://maps.google.com/mapfiles/kml/pal3/icon21.png',\n\n  MAP_USER_ICON_LINK: 'http://maps.google.com/mapfiles/kml/pal3/icon48.png',\n\n  MAP_CARRIER_ICON_LINK: 'http://maps.google.com/mapfiles/kml/pal4/icon54.png',\n\n  DEFAULT_LATITUDE: 42.6459136,\n  DEFAULT_LONGITUDE: 23.3332736,\n\n  GQL_ENDPOINT: 'http://localhost:5555/graphql',\n  GQL_SUBSCRIPTIONS_ENDPOINT: 'ws://localhost:5050/subscriptions',\n  SERVICES_ENDPOINT: 'http://localhost:5500',\n  HTTPS_SERVICES_ENDPOINT: 'https://localhost:5501',\n\n  FAKE_INVITE: {\n    ID: '1ae9d04f9010d834f8906881',\n\t  CITY: 'Sofia',\n\t  POSTCODE: '1700',\n\t  ADDRESS: 'Simeonovsko shose',\n\t  HOUSE: '104',\n\t  CREATED_AT: '2018-05-02T14:50:55.658Z',\n\t  UPDATED_AT: '2018-05-02T14:50:55.658Z',\n\t  APARTMENT: '3',\n\t  CODE: 8321,\n\t  COUNTRY_ID: 21\n  },\n\n  // For maintenance micro service\n  SETTINGS_APP_TYPE: 'shop-mobile',\n  SETTINGS_MAINTENANCE_API_URL: '',\n\n  // For \"single\" merchant (multiple branches)\n  MERCHANT_IDS: []\n};\n\n/*\n * In development mode, to ignore zone related error stack frames such as\n * 'zone.run', 'zoneDelegate.invokeTask' for easier debugging, you can\n * import the following file, but please comment it out in production mode\n * because it will have performance impact when throw error\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { AppModule } from 'app/app.module';\nimport { environment } from 'environments/environment';\n\nif (environment.production) {\n\tenableProdMode();\n}\n\nplatformBrowserDynamic()\n\t.bootstrapModule(AppModule)\n\t.catch((err) => {\n\t\t// TODO: we probably should also send error to Sentry here\n\t\tconsole.log(err);\n\t});\n","/* (ignored) */"],"sourceRoot":"webpack:///"}